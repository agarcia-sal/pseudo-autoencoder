CLASS Solution
    FUNCTION canWin(currentState)
        DECLARE cache AS an empty map

        FUNCTION can_win_helper(state)
            IF NOT (state NOT IN cache) THEN
                RETURN cache[state]
            END IF

            DECLARE iterator AS 0
            WHILE iterator <= LENGTH(state) - 2 DO
                IF (state[iterator] = '+') AND (state[iterator + 1] = '+') THEN
                    DECLARE before_segment AS SUBSTRING(state, 0, iterator)
                    DECLARE after_segment AS SUBSTRING(state, iterator + 2, LENGTH(state))
                    DECLARE candidate_state AS CONCATENATE(before_segment, '--', after_segment)

                    IF FALSE = can_win_helper(candidate_state) THEN
                        ASSIGN TRUE TO cache[state]
                        RETURN TRUE
                    END IF
                END IF
                ASSIGN iterator + 1 TO iterator
            END WHILE

            ASSIGN FALSE TO cache[state]
            RETURN FALSE
        END FUNCTION

        RETURN can_win_helper(currentState)
    END FUNCTION
END CLASS