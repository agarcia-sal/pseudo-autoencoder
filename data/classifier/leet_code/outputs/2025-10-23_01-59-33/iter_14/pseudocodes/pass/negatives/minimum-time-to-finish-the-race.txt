```
set inf = âˆž
for each (f,r) in tires:
  total = 0
  for i in 0..14:
    lap = f * r^i
    break if lap > changeTime + f
    total += lap
    min_times[i] = min(min_times[i], total)

dp[0] = 0; dp[1..numLaps] = inf
for i in 1..numLaps:
  for j in 0..min(i-1,14):
    dp[i] = min(dp[i], dp[i-j-1] + min_times[j] + changeTime)

return dp[numLaps] - changeTime
```