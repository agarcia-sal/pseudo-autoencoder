CLASS Solution  
    FUNCTION secondMinimum(n integer parameter edges list of list of integer parameter time integer parameter change integer) RETURNS integer  
        SET graph TO list consisting of empty lists with the LENGTH OF n PLUS one  
        FOR each element u comma v IN edges  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        SET queue TO a deque initialized with a tuple consisting of one integer zero integer zero  
        SET minTimes TO list consisting of two elements equal to infinity repeated for n PLUS one times  
        SET element at position one at zero of minTimes TO zero  
        WHILE queue is not empty holds  
            REMOVE the leftmost element of queue AND ASSIGN TO current comma currentTime comma count  
            IF current EQUALS n AND count EQUALS one THEN  
                RETURN currentTime  
            END IF  
            SET currentTime DIVIDED BY change TO temporary value  
            SET temporary value MODULO two TO remainder  
            IF remainder EQUALS zero THEN  
                SET nextTime TO currentTime PLUS time  
            ELSE  
                SET nextTime TO (temporary value PLUS one) MULTIPLIED BY change PLUS time  
            END IF  
            FOR each neighbor IN element at position current of graph  
                IF element at position neighbor at zero of minTimes GREATER THAN nextTime THEN  
                    SET element at position neighbor at one of minTimes TO element at position neighbor at zero of minTimes  
                    SET element at position neighbor at zero of minTimes TO nextTime  
                    APPEND a tuple consisting of neighbor comma nextTime comma zero TO queue  
                ELSE IF element at position neighbor at zero of minTimes LESS THAN nextTime AND nextTime LESS THAN element at position neighbor at one of minTimes THEN  
                    SET element at position neighbor at one of minTimes TO nextTime  
                    APPEND a tuple consisting of neighbor comma nextTime comma one TO queue  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS