CLASS Solution
    FUNCTION kthSmallestPrimeFraction(arr, k)
        SET m TO LENGTH(arr)
        SET heap TO EMPTY LIST
        SET x TO 0

        WHILE x < m - 1
            SET numerator_val TO arr[x]
            SET denominator_val TO arr[m - 1]
            SET fraction_val TO numerator_val / denominator_val
            APPEND (fraction_val, x, m - 1) TO heap
            SET x TO x + 1
        END WHILE

        SET count TO 0

        PROCEDURE processHeap()
            IF count >= k - 1 THEN
                RETURN
            END IF

            REMOVE min_element FROM heap ASSIGN TO (current_frac, a, b)

            IF b - 1 > a THEN
                SET new_frac TO arr[a] / arr[b - 1]
                ADD (new_frac, a, b - 1) TO heap
            END IF

            SET count TO count + 1
            CALL processHeap()
        END PROCEDURE

        CALL processHeap()

        REMOVE min_element FROM heap ASSIGN TO (final_frac, p, q)
        RETURN [arr[p], arr[q]]
    END FUNCTION
END CLASS