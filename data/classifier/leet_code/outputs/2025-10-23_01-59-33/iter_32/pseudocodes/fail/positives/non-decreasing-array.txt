CLASS Solution  
    FUNCTION checkPossibility(nums)  
        SET modified TO false  
        FOR i FROM one TO the LENGTH OF nums MINUS one  
            IF the element at position i of nums LESS THAN the element at position i MINUS one of nums  
                IF modified EQUALS true  
                    RETURN false  
                END IF  
                SET modified TO true  
                IF i LESS THAN two OR the element at position i of nums GREATER THAN OR EQUAL TO the element at position i MINUS two of nums  
                    SET the element at position i MINUS one of nums TO the element at position i of nums  
                ELSE  
                    SET the element at position i of nums TO the element at position i MINUS one of nums  
                END IF  
            END IF  
        END FOR  
        RETURN true  
    END FUNCTION  
END CLASS