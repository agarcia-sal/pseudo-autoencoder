CLASS Solution
    FUNCTION recoverArray(nums)
        ARRAY sortedNums ← nums
        CALL sortedNums.SORT_ASCENDING()

        INTEGER length ← CALL sortedNums.LENGTH()
        INTEGER base ← sortedNums[0]

        INTEGER idx ← 1
        WHILE idx < length
            INTEGER diffVal ← (sortedNums[idx] - base) / 2
            IF diffVal <= 0 OR base + 2 * diffVal ≠ sortedNums[idx]
                idx ← idx + 1
                CONTINUE
            END IF

            DICTIONARY frequencyMap ← EMPTY_DICTIONARY()
            FOR element IN sortedNums
                IF NOT frequencyMap.CONTAINS(element)
                    frequencyMap[element] ← 0
                END IF
                frequencyMap[element] ← frequencyMap[element] + 1
            END FOR

            ARRAY candidate ← EMPTY_ARRAY()
            INTEGER pos ← 0
            WHILE pos < length
                INTEGER current ← sortedNums[pos]
                IF frequencyMap[current] == 0
                    pos ← pos + 1
                    CONTINUE
                END IF
                INTEGER pairedKey ← current + 2 * diffVal
                IF frequencyMap.GET_OR_DEFAULT(pairedKey, 0) == 0
                    BREAK
                END IF

                CALL candidate.APPEND(current + diffVal)
                frequencyMap[current] ← frequencyMap[current] - 1
                frequencyMap[pairedKey] ← frequencyMap[pairedKey] - 1
                pos ← pos + 1
            END WHILE

            IF CALL candidate.LENGTH() == length / 2
                RETURN candidate
            END IF
            idx ← idx + 1
        END WHILE

        RETURN EMPTY_ARRAY()
    END FUNCTION
END CLASS