CLASS Solution
    FUNCTION minDifficulty(jobDifficulty, d)
        LET n BE LENGTH(jobDifficulty)
        
        IF n < d THEN
            OUTPUT -1
            EXIT FUNCTION
        END IF
        
        FUNCTION dp(i, d)
            IF d = 1 THEN
                LET max_val BE jobDifficulty[i]
                LET idx BE i + 1
                WHILE idx < n DO
                    IF jobDifficulty[idx] > max_val THEN
                        max_val ← jobDifficulty[idx]
                    END IF
                    idx ← idx + 1
                END WHILE
                OUTPUT max_val
                EXIT FUNCTION
            END IF
            
            LET lowest_difficulty BE +∞
            LET running_maximum BE 0
            LET position BE i
            
            WHILE position <= n - d DO
                IF running_maximum < jobDifficulty[position] THEN
                    running_maximum ← jobDifficulty[position]
                END IF
                
                LET temp_result BE running_maximum + dp(position + 1, d - 1)
                IF temp_result < lowest_difficulty THEN
                    lowest_difficulty ← temp_result
                END IF
                position ← position + 1
            END WHILE
            
            OUTPUT lowest_difficulty
            EXIT FUNCTION
        END FUNCTION
        
        OUTPUT dp(0, d)
    END FUNCTION
END CLASS