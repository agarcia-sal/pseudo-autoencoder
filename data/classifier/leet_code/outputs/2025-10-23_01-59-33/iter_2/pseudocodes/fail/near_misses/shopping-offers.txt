CLASS Solution  
    FUNCTION shoppingOffers(price list_of_integers special list_of_lists_of_integers needs list_of_integers) RETURNS integer  
        SET filtered_special TO an empty list  
        FOR each offer IN special  
            SET total_items_in_offer TO zero  
            FOR each item_index FROM the first position TO the position before the last position IN offer  
                INCREMENT total_items_in_offer BY element at position item_index of offer  
            END FOR  
            SET total_price_of_offer TO zero  
            FOR each item_index FROM the first position TO the position before the last position IN offer  
                SET offer_price TO element at position item_index of offer MULTIPLIED BY element at position item_index of price  
                INCREMENT total_price_of_offer BY offer_price  
            END FOR  
            IF total_items_in_offer GREATER THAN zero AND element at the last position of offer LESS THAN total_price_of_offer THEN  
                APPEND offer TO filtered_special  
            END IF  
        END FOR  
        SET special TO filtered_special  
        
        FUNCTION dfs(needs_tuple tuple_of_integers) RETURNS integer  
            SET min_cost TO zero  
            FOR each index FROM the first position TO the last position IN needs_tuple  
                SET cost_for_this_index TO element at position index of price MULTIPLIED BY element at position index of needs_tuple  
                INCREMENT min_cost BY cost_for_this_index  
            END FOR  
            
            FOR each offer IN special  
                SET new_needs TO an empty list  
                FOR each index FROM the first position TO the position before the last position IN offer  
                    SET updated_need TO element at position index of needs_tuple MINUS element at position index of offer  
                    APPEND updated_need TO new_needs  
                END FOR  
                
                SET can_use_offer TO True  
                FOR each need_value IN new_needs  
                    IF need_value LESS THAN zero THEN  
                        SET can_use_offer TO False  
                        BREAK  
                    END IF  
                END FOR  
                
                IF can_use_offer IS True THEN  
                    SET cost_with_offer TO element at the last position of offer PLUS dfs(tuple converted from new_needs)  
                    IF cost_with_offer LESS THAN min_cost THEN  
                        SET min_cost TO cost_with_offer  
                    END IF  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(tuple converted from needs)  
    END FUNCTION  
END CLASS