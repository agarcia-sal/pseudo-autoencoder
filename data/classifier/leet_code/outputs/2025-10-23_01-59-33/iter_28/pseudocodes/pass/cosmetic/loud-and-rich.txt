CLASS Solution
    FUNCTION loudAndRich(richer, quiet)
        graph ← default dictionary with list as default value
        iterator ← 0
        WHILE iterator < LENGTH(richer)
            pair ← richer[iterator]
            graph[pair[1]] APPEND pair[0]
            iterator ← iterator + 1
        END WHILE

        n ← LENGTH(quiet)
        answer ← new list of size n FILLED WITH -1

        FUNCTION dfs(person)
            IF NOT (answer[person] ≠ -1) THEN
                answer[person] ← person
                index ← 0
                WHILE index < LENGTH(graph[person])
                    neighbor ← graph[person][index]
                    candidate ← dfs(neighbor)
                    IF quiet[candidate] < quiet[answer[person]] THEN
                        answer[person] ← candidate
                    END IF
                    index ← index + 1
                END WHILE
            END IF
            RETURN answer[person]
        END FUNCTION

        counter ← 0
        WHILE counter < n
            dfs(counter)
            counter ← counter + 1
        END WHILE

        RETURN answer
    END FUNCTION
END CLASS