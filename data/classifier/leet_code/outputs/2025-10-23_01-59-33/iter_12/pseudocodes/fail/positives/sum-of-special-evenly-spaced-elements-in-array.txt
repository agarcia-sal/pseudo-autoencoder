CLASS Solution  
    FUNCTION solve(nums list OF integers queries list OF list OF integers) RETURNS list OF integers  
        SET MOD TO one billion PLUS seven  
        SET n TO the LENGTH OF nums  
        SET max_y TO the HIGHEST y VALUE FROM each pair IN queries  
        SET prefix_sums TO a list CONTAINING max_y PLUS one ELEMENTS each BEING a list OF n zeroes  
        
        FOR y FROM one TO max_y  
            FOR i FROM n MINUS one DOWN TO zero  
                IF i PLUS y LESS THAN n THEN  
                    SET element at position i of element at position y of prefix_sums TO element at position i of nums PLUS element at position i PLUS y of element at position y of prefix_sums  
                ELSE  
                    SET element at position i of element at position y of prefix_sums TO element at position i of nums  
                END IF  
            END FOR  
        END FOR  
        
        SET answer TO an empty list  
        FOR each pair x y IN queries  
            APPEND element at position x of element at position y of prefix_sums MODULO MOD TO answer  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS