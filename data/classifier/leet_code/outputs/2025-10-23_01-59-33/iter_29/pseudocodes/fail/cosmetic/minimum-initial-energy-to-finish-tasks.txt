CLASS Solution  
    FUNCTION minimumEffort(tasks)  
        SET sorted_tasks AS tasks SORTED BY (task -> (task[1] - task[0])) IN DESCENDING ORDER  
        SET energy_now TO 0  
        SET initial_energy_needed TO 0  
        SET index_counter TO 0  
        WHILE index_counter < LENGTH(sorted_tasks) DO  
            SET task_entry TO sorted_tasks[index_counter]  
            SET consumption TO task_entry[0]  
            SET threshold TO task_entry[1]  
            IF NOT (energy_now >= threshold) THEN  
                SET difference TO threshold - energy_now  
                SET initial_energy_needed TO initial_energy_needed + difference  
                SET energy_now TO threshold  
            END IF  
            SET energy_now TO energy_now - consumption  
            SET index_counter TO index_counter + 1  
        END WHILE  
        RETURN initial_energy_needed  
    END FUNCTION  
END CLASS