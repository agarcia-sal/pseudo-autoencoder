CLASS Solution
    FUNCTION dieSimulator(n, rollMax)
        SET MOD TO one billion PLUS seven

        SET dp TO a three dimensional list of zeros with dimensions of n PLUS one BY six BY maximum value in rollMax PLUS one

        FOR j FROM zero TO five
            SET element at position one of list at position j of list at position one of dp TO one
        END FOR

        FOR i FROM two TO n
            FOR j FROM zero TO five
                FOR k FROM one TO element at position j of rollMax
                    IF k GREATER THAN one
                        SET element at position k of list at position j of list at position i of dp TO element at position k MINUS one of list at position j of list at position i MINUS one of dp
                    ELSE
                        SET total_sum TO zero
                        FOR x FROM zero TO five
                            IF x NOT EQUALS j
                                FOR y FROM one TO element at position x of rollMax
                                    INCREMENT total_sum BY element at position y of list at position x of list at position i MINUS one of dp
                                END FOR
                            END IF
                        END FOR
                        SET element at position k of list at position j of list at position i of dp TO total_sum MODULO MOD
                    END IF
                END FOR
            END FOR
        END FOR

        SET result TO zero
        FOR j FROM zero TO five
            FOR k FROM one TO element at position j of rollMax
                INCREMENT result BY element at position k of list at position j of list at position n of dp
            END FOR
        END FOR

        RETURN result MODULO MOD
    END FUNCTION
END CLASS