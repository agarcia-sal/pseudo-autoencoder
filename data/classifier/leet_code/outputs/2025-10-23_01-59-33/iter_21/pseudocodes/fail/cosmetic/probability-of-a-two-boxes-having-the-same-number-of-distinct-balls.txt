CLASS Solution
    FUNCTION getProbability(balls)
        FUNCTION dfs(i, j, diff)
            IF i IS AT LEAST k THEN
                RETURN 1 IF j IS 0 AND diff IS 0 OTHERWISE 0
            END IF
            IF j IS LESS THAN 0 THEN
                RETURN 0
            END IF
            ASSIGN 0 TO result
            ASSIGN 0 TO idx
            WHILE idx <= balls[i] DO
                IF idx IS balls[i] THEN
                    ASSIGN 1 TO val
                ELSEIF idx IS 0 THEN
                    ASSIGN -1 TO val
                ELSE
                    ASSIGN 0 TO val
                END IF
                ASSIGN result + (dfs(i + 1, j - idx, diff + val) * (combination(balls[i], idx))) TO result
                INCREMENT idx BY 1
            END WHILE
            RETURN result
        END FUNCTION

        ASSIGN (SUM over element IN balls) / 2 TO half_total
        ASSIGN LENGTH(balls) TO k
        RETURN dfs(0, half_total, 0) / combination(half_total + half_total, half_total)
    END FUNCTION
END CLASS