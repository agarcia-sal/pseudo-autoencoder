CLASS Solution  
    FUNCTION checkPossibility(nums)  
        ASSIGN false TO flag  
        ASSIGN 1 TO index  
        WHILE index < (LENGTH(nums) - 1) DO  
            IF nums[index] < nums[index - 1] THEN  
                IF flag = true THEN  
                    RETURN false  
                END IF  
                ASSIGN true TO flag  
                IF (index < 2) OR (nums[index] >= nums[index - 2]) THEN  
                    nums[index - 1] := nums[index]  
                ELSE  
                    nums[index] := nums[index - 1]  
                END IF  
            END IF  
            ASSIGN index + 1 TO index  
        END WHILE  
        RETURN true  
    END FUNCTION  
END CLASS