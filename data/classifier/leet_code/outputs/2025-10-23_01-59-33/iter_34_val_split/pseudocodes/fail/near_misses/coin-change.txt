CLASS Solution  
    FUNCTION coinChange(coins, amount)  
        DEFINE dp AS map FROM integers TO integers  
        FOR index FROM 0 TO amount  
            ASSIGN dp[index] = amount + 1  
        END FOR  
        ASSIGN dp[0] = 0  

        PROCEDURE updateAmount(current)  
            IF current > amount THEN  
                RETURN  
            END IF  
            FOR EACH c IN coins  
                LET previous = current - c  
                IF previous >= 0 THEN  
                    LET candidate = dp[previous] + 1  
                    IF candidate < dp[current] THEN  
                        ASSIGN dp[current] = candidate  
                    END IF  
                END IF  
            END FOR  
            CALL updateAmount(current + 1)  
        END PROCEDURE  

        CALL updateAmount(1)  

        SWITCH dp[amount]  
            CASE amount + 1:  
                RETURN -1  
            DEFAULT:  
                RETURN dp[amount]  
        END SWITCH  
    END FUNCTION  
END CLASS