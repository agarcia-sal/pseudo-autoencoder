CLASS Solution  
    FUNCTION waysToPartition(nums parameter AS list OF integers, k parameter AS integer) RETURNS integer  
        SET total_sum TO the sum of all elements in nums  
        SET n TO the length of nums  
        
        ASSIGN left_diff TO a new dictionary with default integer zero  
        ASSIGN right_diff TO a new dictionary with default integer zero  
        
        SET current_sum TO zero  
        FOR each index i FROM zero TO n MINUS one  
            ADD the element at position i of nums TO current_sum  
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            INCREMENT the value for key diff in right_diff BY one  
        END FOR  
        
        SET max_ways TO the value for key zero in right_diff  
        
        SET current_sum TO zero  
        FOR each index i FROM zero TO n MINUS one  
            ADD the element at position i of nums TO current_sum  
            
            SET diff_change TO k MINUS the element at position i of nums  
            
            SET new_ways TO the sum of the value for key the negative of diff_change in left_diff AND the value for key diff_change in right_diff  
            IF new_ways GREATER THAN max_ways THEN  
                SET max_ways TO new_ways  
            END IF  
            
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            DECREMENT the value for key diff in right_diff BY one  
            INCREMENT the value for key diff in left_diff BY one  
        END FOR  
        
        RETURN max_ways  
    END FUNCTION  
END CLASS