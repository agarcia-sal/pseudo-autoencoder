CLASS Solution
    FUNCTION solve(nums, queries)
        SET MOD TO ten raised to the power of nine PLUS one
        SET n TO the LENGTH OF nums

        SET max_y TO the maximum y VALUE FROM each pair IN queries

        SET prefix_sums TO a list CONTAINING max_y PLUS one ELEMENTS EACH BEING a list OF zeroes OF LENGTH n

        FOR y FROM one TO max_y INCLUSIVE
            FOR i FROM n MINUS one DOWN TO zero INCLUSIVE
                IF i PLUS y LESS THAN n THEN
                    SET element at position i OF element at position y OF prefix_sums TO element at position i OF nums PLUS element at position i PLUS y OF element at position y OF prefix_sums
                ELSE
                    SET element at position i OF element at position y OF prefix_sums TO element at position i OF nums
                END IF
            END FOR
        END FOR

        SET answer TO an empty list

        FOR each pair x AND y IN queries
            APPEND the remainder AFTER DIVIDING element at position x OF element at position y OF prefix_sums BY MOD TO answer
        END FOR

        RETURN answer
    END FUNCTION
END CLASS