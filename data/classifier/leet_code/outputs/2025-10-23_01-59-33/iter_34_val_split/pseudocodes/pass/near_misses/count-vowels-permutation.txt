CLASS Solution
    FUNCTION countVowelPermutation(n)
        DEFINE CONSTANT MODULUS AS 1000000007
        FUNCTION recurse(position, counts_map)
            IF position EQUALS n + 1 THEN
                RETURN (counts_map['a'] + counts_map['e'] + counts_map['i'] + counts_map['o'] + counts_map['u']) MOD MODULUS
            END IF

            DEFINE new_counts AS MAP FROM STRING TO INTEGER
            SET new_counts['a'] TO (counts_map['e'] + counts_map['i'] + counts_map['u']) MOD MODULUS
            SET new_counts['e'] TO (counts_map['a'] + counts_map['i']) MOD MODULUS
            SET new_counts['i'] TO (counts_map['e'] + counts_map['o']) MOD MODULUS
            SET new_counts['o'] TO counts_map['i'] MOD MODULUS
            SET new_counts['u'] TO (counts_map['i'] + counts_map['o']) MOD MODULUS

            RETURN recurse(position + 1, new_counts)
        END FUNCTION

        DEFINE initial_counts AS MAP FROM STRING TO INTEGER WITH ENTRIES {'a':1, 'e':1, 'i':1, 'o':1, 'u':1}
        RETURN recurse(2, initial_counts)
    END FUNCTION
END CLASS