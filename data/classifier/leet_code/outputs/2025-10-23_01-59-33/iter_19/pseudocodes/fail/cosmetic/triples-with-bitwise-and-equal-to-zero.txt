CLASS Solution  
    FUNCTION countTriplets(nums)  
        INITIALIZE pairCountMap AS a default dictionary mapping integer keys to integers  
        SET indexA TO 0  
        WHILE indexA < LENGTH(nums)  
            SET elementA TO nums[indexA]  
            INITIALIZE indexB TO 0  
            WHILE indexB < LENGTH(nums)  
                SET elementB TO nums[indexB]  
                SET bitwiseKey TO elementB BITWISE_AND elementA  
                SET existingValue TO 0  
                IF pairCountMap CONTAINS bitwiseKey THEN  
                    existingValue ← pairCountMap[bitwiseKey]  
                END IF  
                pairCountMap[bitwiseKey] ← existingValue + 1  
                indexB ← indexB + 1  
            END WHILE  
            indexA ← indexA + 1  
        END WHILE  

        SET accumulatedTriplets TO 0  
        SET idxC TO 0  
        WHILE idxC < LENGTH(nums)  
            SET currentElement TO nums[idxC]  
            FOR pairKey WITH occurrence IN pairCountMap ITEMS  
                IF NOT ((pairKey BITWISE_AND currentElement) != 0) THEN  
                    accumulatedTriplets ← accumulatedTriplets + occurrence  
                END IF  
            END FOR  
            idxC ← idxC + 1  
        END WHILE  

        RETURN accumulatedTriplets  
    END FUNCTION  
END CLASS