CLASS Solution
    FUNCTION dieSimulator(n, rollMax)
        SET MOD TO 1000000007

        SET dp TO list of size (n + 1), EACH element a list of size 6, EACH element a list of zeros of size (max element in rollMax + 1)

        SET idx TO 0
        WHILE idx LESS_THAN 6
            SET temp_list TO dp[1][idx]
            temp_list[1] ← 1
            idx ← idx + 1
        END WHILE

        SET i TO 2
        WHILE i LESS_THAN_OR_EQUAL n
            SET j TO 0
            WHILE j LESS_THAN 6
                SET k TO 1
                WHILE k LESS_THAN_OR_EQUAL rollMax[j]
                    IF k LESS_THAN 2
                        SET acc TO 0
                        SET x TO 0
                        WHILE x LESS_THAN 6
                            IF x NOT_EQUALS j THEN
                                SET y TO 1
                                WHILE y LESS_THAN_OR_EQUAL rollMax[x]
                                    acc ← acc + dp[i - 1][x][y]
                                    y ← y + 1
                                END WHILE
                            END IF
                            x ← x + 1
                        END WHILE
                        dp[i][j][k] ← acc MOD MOD
                    ELSE
                        dp[i][j][k] ← dp[i - 1][j][k - 1]
                    END IF
                    k ← k + 1
                END WHILE
                j ← j + 1
            END WHILE
            i ← i + 1
        END WHILE

        SET final_result TO 0  
        FOR INDEX j FROM 0 TO 5
            SET subIdx TO 1
            WHILE subIdx LESS_THAN_OR_EQUAL rollMax[j]
                ADD dp[n][j][subIdx] TO final_result
                subIdx ← subIdx + 1
            END WHILE  
        END FOR

        RETURN final_result MOD MOD
    END FUNCTION
END CLASS