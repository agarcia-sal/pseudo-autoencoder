CLASS Solution  
    FUNCTION solve(nums, queries)  
        SET MOD TO ten raised to the power of nine PLUS one  
        SET n TO the LENGTH OF nums  

        SET max_y TO the maximum y value from each pair of first and y in queries  

        INITIALIZE prefix_sums AS a list of lists  
        FOR each y FROM one TO max_y INCLUSIVE  
            CREATE a list of zeros of length n AND APPEND to prefix_sums  
        END FOR  

        FOR each y FROM one TO max_y INCLUSIVE  
            FOR each i FROM n MINUS one DOWN TO zero  
                IF i PLUS y LESS THAN n THEN  
                    SET element at position i of prefix_sums at position y TO element at position i of nums PLUS element at position i PLUS y of prefix_sums at position y  
                ELSE  
                    SET element at position i of prefix_sums at position y TO element at position i of nums  
                END IF  
            END FOR  
        END FOR  

        INITIALIZE answer AS an empty list  
        FOR each pair of x and y IN queries  
            APPEND element at position x of prefix_sums at position y MODULO MOD TO answer  
        END FOR  

        RETURN answer  
    END FUNCTION  
END CLASS