```
n ← length of graph
color ← array of size n filled with 0
define dfs(node, c):
    color[node] ← c
    for neighbor in graph[node]:
        if color[neighbor] = c: return False
        if color[neighbor] = 0 and not dfs(neighbor, -c): return False
    return True

for i in 0 to n-1:
    if color[i] = 0 and not dfs(i, 1): return False

return True
```