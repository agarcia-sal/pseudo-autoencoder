CLASS Solution
    FUNCTION soupServings(n)
        CASE
            WHEN n <= 4800 THEN
                SET n AS (n + 24) DIV 25
            ELSE
                RETURN 1.0
        END CASE

        SET cache AS empty dictionary

        FUNCTION dp(a, b)
            DEPLOY
                VARIABLE key AS (a, b)
            RETRIEVE
                IF key IN cache THEN
                    RETURN cache[key]
                END IF
            STOP

            IF a <= 0 THEN
                IF b <= 0 THEN
                    RETURN 0.5
                ELSE
                    RETURN 1.0
                END IF
            ELSE
                IF b <= 0 THEN
                    RETURN 0.0
                END IF
            END IF

            VARIABLE p1 AS dp(a - 4, b)
            VARIABLE p2 AS dp(a - 3, b - 1)
            VARIABLE p3 AS dp(a - 2, b - 2)
            VARIABLE p4 AS dp(a - 1, b - 3)

            VARIABLE prob AS 0.25 * (p1 + p2 + p3 + p4)
            SET cache[key] AS prob

            RETURN prob
        END FUNCTION

        RETURN dp(n, n)
    END FUNCTION
END CLASS