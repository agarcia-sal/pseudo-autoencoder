CLASS Solution  
    FUNCTION isBipartite(graph)  
        ASSIGN size TO LENGTH(graph)  
        ASSIGN paint TO ARRAY OF size ELEMENTS FILLED WITH 0  
        
        FUNCTION dfs(vertex, shade)  
            paint[vertex] = shade  
            SET index TO 0  
            WHILE index < LENGTH(graph[vertex])  
                ASSIGN adj TO graph[vertex][index]  
                IF paint[adj] == shade THEN  
                    RETURN False  
                ELSE IF paint[adj] == 0 THEN  
                    IF dfs(adj, -shade) == False THEN  
                        RETURN False  
                    END IF  
                END IF  
                index = index + 1  
            END WHILE  
            RETURN True  
        END FUNCTION  
        
        SET counter TO 0  
        WHILE counter < size  
            IF paint[counter] == 0 THEN  
                IF dfs(counter, 1) == False THEN  
                    RETURN False  
                END IF  
            END IF  
            counter = counter + 1  
        END WHILE  
        
        RETURN True  
    END FUNCTION  
END CLASS