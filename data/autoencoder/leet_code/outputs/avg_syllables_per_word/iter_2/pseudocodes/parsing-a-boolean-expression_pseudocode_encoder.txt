CLASS Solution
    FUNCTION parseBoolExpr(expression)
        SET stk TO empty list
        FOR each character c IN expression
            IF c IN 'tf!&|'
                APPEND c TO stk
            ELSE IF c IS ')'
                SET t TO 0
                SET f TO 0
                WHILE last element of stk IN 'tf'
                    INCREMENT t BY (last element of stk IS 't')
                    INCREMENT f BY (last element of stk IS 'f')
                    REMOVE last element FROM stk
                END WHILE
                SET op TO last element removed FROM stk
                IF op IS '!'
                    SET c TO 't' IF f > 0 ELSE 'f'
                ELSE IF op IS '&'
                    SET c TO 'f' IF f > 0 ELSE 't'
                ELSE IF op IS '|'
                    SET c TO 't' IF t > 0 ELSE 'f'
                END IF
                APPEND c TO stk
            END IF
        END FOR
        RETURN (first element of stk IS 't')
    END FUNCTION
END CLASS