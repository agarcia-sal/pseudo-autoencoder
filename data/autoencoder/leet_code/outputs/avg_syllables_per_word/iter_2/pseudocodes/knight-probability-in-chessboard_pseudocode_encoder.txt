CLASS Solution
    FUNCTION knightProbability(n, k, row, column)
        SET moves TO [(-2, -1), (-2, 1), (-1, -2), (-1, 2), (1, -2), (1, 2), (2, -1), (2, 1)]

        SET dp TO two-dimensional list of size n by n filled with 0
        SET dp[row][column] TO 1

        FOR each move_index FROM 1 TO k
            SET new_dp TO two-dimensional list of size n by n filled with 0

            FOR r FROM 0 TO n-1
                FOR c FROM 0 TO n-1
                    IF dp[r][c] IS 0
                        CONTINUE
                    FOR each (dr, dc) IN moves
                        SET nr TO r + dr
                        SET nc TO c + dc
                        IF nr IS BETWEEN 0 AND n-1 AND nc IS BETWEEN 0 AND n-1
                            INCREMENT new_dp[nr][nc] BY dp[r][c] DIVIDED BY 8

            SET dp TO new_dp

        SET total_probability TO 0
        FOR each row IN dp
            INCREMENT total_probability BY sum of elements in row
        RETURN total_probability
    END FUNCTION
END CLASS