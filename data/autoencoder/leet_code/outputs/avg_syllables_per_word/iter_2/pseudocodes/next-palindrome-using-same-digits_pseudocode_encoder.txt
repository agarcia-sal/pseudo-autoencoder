CLASS Solution
    FUNCTION nextPalindrome(num)
        SET n TO LENGTH OF num
        SET half TO SUBSTRING OF num FROM START TO n DIVIDED BY 2

        SET half_list TO LIST OF CHARACTERS IN half
        SET k TO -1
        SET l TO -1

        FOR i FROM LENGTH OF half_list MINUS 2 DOWN TO 0
            IF half_list[i] < half_list[i + 1]
                SET k TO i
                BREAK
        IF k EQUALS -1
            RETURN EMPTY STRING

        FOR i FROM LENGTH OF half_list MINUS 1 DOWN TO k + 1
            IF half_list[i] > half_list[k]
                SET l TO i
                BREAK

        SWAP half_list[k] AND half_list[l]
        SET half_list TO CONCATENATION OF half_list UP TO k + 1 AND SORTED SUBLIST OF half_list FROM k + 1 TO END

        SET new_half TO STRING FORMED BY JOINING half_list

        IF n MODULO 2 EQUALS 0
            RETURN CONCATENATION OF new_half AND REVERSE OF new_half
        ELSE
            RETURN CONCATENATION OF new_half, CHARACTER AT POSITION n DIVIDED BY 2 IN num, AND REVERSE OF new_half
    END FUNCTION
END CLASS