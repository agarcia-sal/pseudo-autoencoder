CLASS ListNode
    FUNCTION __init__(self, val = 0, next = None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values)
    IF values IS EMPTY
        RETURN None
    SET head TO ListNode(values[0])
    SET p TO head
    FOR EACH val IN values FROM SECOND ELEMENT TO END
        SET node TO ListNode(val)
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 IS None AND p2 IS None
        RETURN True
    IF p1 IS None OR p2 IS None
        RETURN False
    RETURN p1.val EQUALS p2.val AND is_same_list(p1.next, p2.next)
END FUNCTION

CLASS Solution
    FUNCTION plusOne(head)
        FUNCTION reverseList(node)
            SET prev TO None
            WHILE node IS NOT None
                SET next_node TO node.next
                SET node.next TO prev
                SET prev TO node
                SET node TO next_node
            END WHILE
            RETURN prev
        END FUNCTION

        SET reversed_head TO reverseList(head)
        SET carry TO 1
        SET current TO reversed_head

        WHILE current IS NOT None AND carry IS NOT 0
            SET current.val TO current.val PLUS carry
            SET carry TO current.val DIVIDED BY 10
            SET current.val TO current.val MODULO 10

            IF current.next IS None AND carry IS NOT 0
                SET current.next TO ListNode(carry)
                SET carry TO 0
            END IF

            SET prev TO current
            SET current TO current.next
        END WHILE

        RETURN reverseList(reversed_head)
    END FUNCTION
END CLASS