CLASS Solution
    FUNCTION outerTrees(trees: List of List of integers) RETURNS List of List of integers
        FUNCTION cross(i, j, k)
            SET a TO trees[i]
            SET b TO trees[j]
            SET c TO trees[k]
            RETURN (b[0] MINUS a[0]) TIMES (c[1] MINUS b[1]) MINUS (b[1] MINUS a[1]) TIMES (c[0] MINUS b[0])
        END FUNCTION

        SET n TO LENGTH OF trees
        IF n LESS THAN 4 THEN
            RETURN trees
        END IF

        SORT trees IN ASCENDING ORDER
        SET vis TO LIST OF n ELEMENTS WITH VALUE False
        SET stk TO LIST CONTAINING 0

        FOR i FROM 1 TO n MINUS 1
            WHILE LENGTH OF stk GREATER THAN 1 AND cross(stk AT LENGTH OF stk MINUS 2, stk AT LENGTH OF stk MINUS 1, i) LESS THAN 0
                SET vis AT stk LAST ELEMENT TO False
                REMOVE LAST ELEMENT FROM stk
            END WHILE
            SET vis AT i TO True
            APPEND i TO stk
        END FOR

        SET m TO LENGTH OF stk

        FOR i FROM n MINUS 2 DOWN TO 0 STEP -1
            IF vis AT i IS True THEN
                CONTINUE TO NEXT ITERATION
            END IF
            WHILE LENGTH OF stk GREATER THAN m AND cross(stk AT LENGTH OF stk MINUS 2, stk AT LENGTH OF stk MINUS 1, i) LESS THAN 0
                REMOVE LAST ELEMENT FROM stk
            END WHILE
            APPEND i TO stk
        END FOR

        REMOVE LAST ELEMENT FROM stk

        RETURN LIST OF trees AT INDEXES IN stk
    END FUNCTION
END CLASS