```
CLASS Solution
    FUNCTION numberOfGoodSubsets(nums)
        SET count TO frequency count of elements in nums
        SET dp TO list of zeros with size 2 raised to 10
        SET dp[0] TO 1

        FOR each num IN count
            IF num EQUALS 1 THEN
                SET dp[0] TO dp[0] MULTIPLIED BY (2 RAISED TO count[1]) MODULO MOD
                CONTINUE to next iteration
            END IF
            IF num NOT IN prime_factors THEN
                CONTINUE to next iteration
            END IF

            SET factors TO prime_factors[num]
            SET mask TO 0
            FOR each prime IN factors
                SET mask TO mask BITWISE OR (1 LEFT SHIFTED BY (prime MINUS 1))
            END FOR

            FOR m FROM (2 RAISED TO 10 MINUS 1) DOWNTO 0
                IF bitwise AND of m and mask EQUALS 0 THEN
                    SET dp[m BITWISE OR mask] TO (dp[m BITWISE OR mask] PLUS dp[m] MULTIPLIED BY count[num]) MODULO MOD
                END IF
            END FOR
        END FOR

        SET result TO sum of dp from index 1 to end MODULO MOD
        RETURN result
    END FUNCTION
END CLASS
```