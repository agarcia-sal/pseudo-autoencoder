```
CLASS Solution
    FUNCTION sequenceReconstruction(nums, sequences)
        SET n TO LENGTH OF nums
        SET graph TO empty mapping of lists
        SET indegree TO list of zeros with length n + 1

        FOR each seq IN sequences
            FOR i FROM 0 TO LENGTH OF seq MINUS 2
                SET u TO seq AT i
                SET v TO seq AT i + 1
                APPEND v TO graph[u]
                INCREMENT indegree[v] BY 1

        SET queue TO empty deque
        FOR i FROM 1 TO n
            IF indegree[i] EQUALS 0
                APPEND i TO queue

        IF LENGTH OF queue NOT EQUAL TO 1
            RETURN False

        SET index TO 0
        WHILE queue IS NOT empty
            IF LENGTH OF queue NOT EQUAL TO 1
                RETURN False

            SET node TO REMOVE FIRST ELEMENT FROM queue
            IF node NOT EQUAL TO nums[index]
                RETURN False
            INCREMENT index BY 1

            FOR each neighbor IN graph[node]
                DECREMENT indegree[neighbor] BY 1
                IF indegree[neighbor] EQUALS 0
                    APPEND neighbor TO queue

        RETURN index EQUALS n
    END FUNCTION
END CLASS
```