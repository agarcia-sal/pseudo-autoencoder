CLASS Solution
    FUNCTION updateMatrix(mat: List of List of Integer) RETURNS List of List of Integer
        IF mat IS EMPTY OR mat[0] IS EMPTY
            RETURN mat
        END IF

        SET rows TO LENGTH OF mat
        SET cols TO LENGTH OF mat[0]
        SET dist TO 2D LIST OF SIZE rows BY cols FILLED WITH infinity
        INITIALIZE queue AS EMPTY QUEUE

        FOR r FROM 0 TO rows MINUS 1
            FOR c FROM 0 TO cols MINUS 1
                IF mat[r][c] EQUALS 0
                    SET dist[r][c] TO 0
                    APPEND (r, c) TO queue
                END IF
            END FOR
        END FOR

        SET directions TO LIST OF TUPLES [(-1, 0), (1, 0), (0, -1), (0, 1)]

        WHILE queue IS NOT EMPTY
            REMOVE FIRST ELEMENT FROM queue AND ASSIGN TO (r, c)
            FOR EACH (dr, dc) IN directions
                SET nr TO r PLUS dr
                SET nc TO c PLUS dc
                IF nr >= 0 AND nr < rows AND nc >= 0 AND nc < cols AND dist[nr][nc] > dist[r][c] PLUS 1
                    SET dist[nr][nc] TO dist[r][c] PLUS 1
                    APPEND (nr, nc) TO queue
                END IF
            END FOR
        END WHILE

        RETURN dist
    END FUNCTION
END CLASS