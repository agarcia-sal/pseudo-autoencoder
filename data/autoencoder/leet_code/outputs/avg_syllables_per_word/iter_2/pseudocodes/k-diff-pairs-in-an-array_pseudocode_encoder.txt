CLASS Solution
    FUNCTION findPairs(nums, k)
        IF k < 0 THEN
            RETURN 0
        END IF

        SET num_counts TO empty dictionary
        FOR each num IN nums
            IF num NOT IN num_counts THEN
                SET num_counts[num] TO 0
            END IF
            INCREMENT num_counts[num] BY 1
        END FOR

        SET unique_pairs TO 0
        FOR each num IN keys of num_counts
            IF k EQUALS 0 THEN
                IF num_counts[num] GREATER THAN 1 THEN
                    INCREMENT unique_pairs BY 1
                END IF
            ELSE
                IF num PLUS k IN keys of num_counts THEN
                    INCREMENT unique_pairs BY 1
                END IF
            END IF
        END FOR

        RETURN unique_pairs
    END FUNCTION
END CLASS