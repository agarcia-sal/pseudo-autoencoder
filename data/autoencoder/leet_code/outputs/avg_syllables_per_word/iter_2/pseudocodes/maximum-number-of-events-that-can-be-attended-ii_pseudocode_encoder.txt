CLASS Solution
    FUNCTION maxValue(events, k)
        SORT events BY event end day
        SET n TO LENGTH OF events
        SET dp TO 2D LIST OF SIZE (n + 1) BY (k + 1) INITIALIZED WITH 0

        FOR i FROM 1 TO n
            SET start, end, value TO events AT INDEX (i - 1)
            SET j TO INDEX OF LATEST EVENT ENDING BEFORE start USING BINARY SEARCH ON events BY event end day

            FOR l FROM 1 TO k
                SET dp[i][l] TO MAXIMUM OF dp[i - 1][l] AND dp[j][l - 1] PLUS value
            END FOR
        END FOR

        RETURN dp[n][k]
    END FUNCTION
END CLASS