```
CLASS Solution
    FUNCTION numberOfArithmeticSlices(nums)
        SET n TO LENGTH OF nums
        IF n < 3 THEN
            RETURN 0
        END IF

        SET dp TO LIST OF n DEFAULT DICTIONARIES MAPPING INTEGER TO INTEGER
        SET total_count TO 0

        FOR i FROM 0 TO n-1
            FOR j FROM 0 TO i-1
                SET d TO nums[i] MINUS nums[j]

                IF dp[j] CONTAINS KEY d THEN
                    INCREMENT dp[i][d] BY dp[j][d] PLUS 1
                    INCREMENT total_count BY dp[j][d]
                ELSE
                    INCREMENT dp[i][d] BY 1
                END IF
            END FOR
        END FOR

        RETURN total_count
    END FUNCTION
END CLASS
```