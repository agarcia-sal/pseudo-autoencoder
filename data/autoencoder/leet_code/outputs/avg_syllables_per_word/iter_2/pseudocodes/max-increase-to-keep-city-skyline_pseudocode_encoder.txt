CLASS Solution
    FUNCTION maxIncreaseKeepingSkyline(grid)
        SET n TO LENGTH OF grid
        SET row_maxes TO EMPTY LIST
        FOR each row IN grid
            APPEND MAXIMUM value IN row TO row_maxes
        SET col_maxes TO EMPTY LIST
        FOR each column IN TRANSPOSE OF grid
            APPEND MAXIMUM value IN column TO col_maxes
        
        SET total_increase TO 0
        FOR i FROM 0 TO n MINUS 1
            FOR j FROM 0 TO n MINUS 1
                SET max_height TO MINIMUM OF row_maxes[i] AND col_maxes[j]
                INCREMENT total_increase BY MAXIMUM OF 0 AND (max_height MINUS grid[i][j])
        
        RETURN total_increase
    END FUNCTION
END CLASS