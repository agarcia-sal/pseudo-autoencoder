```
CLASS Solution
    FUNCTION numSimilarGroups(strs)
        FUNCTION are_similar(s1, s2)
            SET diff TO list of indices WHERE characters at those indices in s1 and s2 differ
            RETURN (LENGTH OF diff EQUALS 0) OR (LENGTH OF diff EQUALS 2 AND characters at diff[0] and diff[1] are cross-matched)
        END FUNCTION

        FUNCTION dfs(node, visited)
            ADD node TO visited
            FOR each neighbor IN graph[node]
                IF neighbor NOT IN visited THEN
                    CALL dfs(neighbor, visited)
        END FUNCTION

        SET n TO LENGTH OF strs
        SET graph TO dictionary mapping each index from 0 to n-1 TO empty list

        FOR i FROM 0 TO n - 1
            FOR j FROM i + 1 TO n - 1
                IF are_similar(strs[i], strs[j]) THEN
                    APPEND j TO graph[i]
                    APPEND i TO graph[j]

        SET visited TO empty set
        SET num_groups TO 0

        FOR i FROM 0 TO n - 1
            IF i NOT IN visited THEN
                CALL dfs(i, visited)
                INCREMENT num_groups BY 1

        RETURN num_groups
    END FUNCTION
END CLASS
```