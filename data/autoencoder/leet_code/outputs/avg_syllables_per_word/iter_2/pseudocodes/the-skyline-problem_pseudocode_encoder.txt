CLASS Solution
    FUNCTION getSkyline(buildings: List OF List OF Integer) RETURNS List OF List OF Integer
        SET events TO empty list
        FOR each left, right, height IN buildings
            APPEND (left, NEGATIVE height, right) TO events
            APPEND (right, 0, 0) TO events
        SORT events BY x coordinate ascending, then by height ascending

        SET result TO list containing [0, 0]
        SET max_heap TO list containing (0, infinity)

        FOR each x, negH, r IN events
            WHILE max_heap[0]'s right edge LESS THAN OR EQUAL TO x
                REMOVE top element FROM max_heap
            IF negH NOT EQUAL TO 0
                ADD (negH, r) TO max_heap

            IF last height in result NOT EQUAL TO NEGATIVE max_heap[0]'s height
                APPEND [x, NEGATIVE max_heap[0]'s height] TO result

        IF result[0] EQUALS [0, 0]
            REMOVE first element FROM result

        RETURN result
    END FUNCTION
END CLASS