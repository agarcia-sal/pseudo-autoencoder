CLASS Solution
    FUNCTION rob(nums)
        FUNCTION rob_linear(houses)
            IF houses IS EMPTY
                RETURN 0
            IF LENGTH OF houses IS 1
                RETURN houses[0]
            SET dp TO LIST OF ZEROS WITH LENGTH OF houses
            SET dp[0] TO houses[0]
            SET dp[1] TO MAXIMUM OF houses[0] AND houses[1]
            FOR i FROM 2 TO LENGTH OF houses MINUS 1
                SET dp[i] TO MAXIMUM OF dp[i-1] AND dp[i-2] PLUS houses[i]
            RETURN dp LAST ELEMENT
        END FUNCTION

        IF nums IS EMPTY
            RETURN 0
        IF LENGTH OF nums IS 1
            RETURN nums[0]
        RETURN MAXIMUM OF rob_linear(nums FROM START TO SECOND LAST) AND rob_linear(nums FROM SECOND TO END)
    END FUNCTION
END CLASS