```
CLASS Solution
    FUNCTION advantageCount(nums1: List of Integer, nums2: List of Integer) RETURNS List of Integer
        SORT nums1 IN ASCENDING ORDER
        SET nums2_with_indices TO LIST OF (value, index) FOR EACH index, value IN ENUMERATE(nums2)
        SORT nums2_with_indices IN DESCENDING ORDER BY value

        SET result TO LIST OF ZEROES WITH LENGTH OF nums1

        SET left TO 0
        SET right TO LENGTH OF nums1 MINUS 1

        FOR EACH value, index IN nums2_with_indices
            IF nums1[right] GREATER THAN value THEN
                SET result[index] TO nums1[right]
                DECREMENT right BY 1
            ELSE
                SET result[index] TO nums1[left]
                INCREMENT left BY 1
        END FOR

        RETURN result
    END FUNCTION
END CLASS
```