CLASS Solution
    FUNCTION shoppingOffers(price, special, needs)
        SET special TO a list of offers WHERE
            sum of the offer quantities EXCLUDING the last element IS GREATER THAN 0
            AND the offer price (last element) IS LESS THAN the sum of price times quantity for corresponding items

        FUNCTION dfs(needs) WITH caching
            SET min_cost TO sum of price times quantity for corresponding items in needs

            FOR each offer IN special
                SET new_needs TO a list of differences between needs and offer quantities EXCLUDING the last element
                IF every item in new_needs IS GREATER THAN OR EQUAL TO 0
                    SET min_cost TO the minimum of min_cost and offer price plus dfs called on new_needs converted to tuple
            
            RETURN min_cost
        END FUNCTION

        RETURN dfs called on needs converted to tuple
    END FUNCTION
END CLASS