CLASS Solution
    FUNCTION wordBreak(s, wordDict)
        SET wordSet TO CONVERT wordDict TO SET
        SET memo TO EMPTY DICTIONARY

        FUNCTION backtrack(start)
            IF start IN memo THEN
                RETURN memo[start]
            END IF
            IF start EQUALS LENGTH OF s THEN
                RETURN LIST CONTAINING EMPTY STRING
            END IF

            SET res TO EMPTY LIST
            FOR end FROM start + 1 TO LENGTH OF s + 1
                SET word TO SUBSTRING OF s FROM start TO end
                IF word IN wordSet THEN
                    FOR sentence IN backtrack(end)
                        IF sentence IS NOT EMPTY THEN
                            APPEND word + " " + sentence TO res
                        ELSE
                            APPEND word TO res
                        END IF
                    END FOR
                END IF
            END FOR

            SET memo[start] TO res
            RETURN res
        END FUNCTION

        RETURN backtrack(0)
    END FUNCTION
END CLASS