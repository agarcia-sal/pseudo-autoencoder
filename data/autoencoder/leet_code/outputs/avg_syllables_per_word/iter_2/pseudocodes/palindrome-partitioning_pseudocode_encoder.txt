CLASS Solution
    FUNCTION partition(s)
        FUNCTION is_palindrome(sub)
            RETURN sub EQUALS reversed sub
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF start EQUALS LENGTH OF s THEN
                APPEND path TO result
                RETURN
            FOR end FROM start + 1 TO LENGTH OF s + 1
                IF is_palindrome(SUBSTRING s FROM start TO end) THEN
                    CALL backtrack WITH end AND path PLUS [SUBSTRING s FROM start TO end]
        END FUNCTION

        SET result TO empty list
        CALL backtrack WITH 0 AND empty list
        RETURN result
    END FUNCTION
END CLASS