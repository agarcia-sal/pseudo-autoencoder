CLASS Solution
    FUNCTION validIPAddress(queryIP)
        FUNCTION is_valid_ipv4_block(block)
            IF block IS composed of digits THEN
                SET num TO integer value of block
                RETURN (num IS LESS THAN OR EQUAL TO 255) AND (string form of num EQUALS block)
            ELSE
                RETURN False
            END IF
        END FUNCTION

        FUNCTION is_valid_ipv6_block(block)
            IF length of block IS BETWEEN 1 AND 4 THEN
                TRY
                    CONVERT block TO integer with base 16
                    RETURN True
                CATCH conversion error
                    RETURN False
                END TRY
            ELSE
                RETURN False
            END IF
        END FUNCTION

        SET parts_ipv4 TO queryIP split by '.'
        SET parts_ipv6 TO queryIP split by ':'

        IF length of parts_ipv4 EQUALS 4 AND all parts satisfy is_valid_ipv4_block THEN
            RETURN "IPv4"
        ELSE IF length of parts_ipv6 EQUALS 8 AND all parts satisfy is_valid_ipv6_block THEN
            RETURN "IPv6"
        ELSE
            RETURN "Neither"
        END IF
    END FUNCTION
END CLASS