CLASS Solution
    FUNCTION grayCode(n)
        IF n EQUALS 0 THEN
            RETURN list containing 0
        END IF
        SET prev_gray TO CALL grayCode WITH (n MINUS 1)
        SET mask TO 1 LEFT SHIFTED BY (n MINUS 1)
        SET reflected_list TO reversed prev_gray
        SET reflected_with_mask TO empty list
        FOR each num IN reflected_list
            APPEND (mask OR num) TO reflected_with_mask
        SET current_gray TO concatenation of prev_gray and reflected_with_mask
        RETURN current_gray
    END FUNCTION
END CLASS