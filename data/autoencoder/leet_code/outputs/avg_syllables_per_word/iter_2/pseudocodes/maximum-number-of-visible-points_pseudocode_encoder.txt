CLASS Solution
    FUNCTION visiblePoints(points, angle, location)
        SET angles TO empty list
        SET extra_points TO 0
        FOR each (x, y) IN points
            IF x EQUALS location[0] AND y EQUALS location[1]
                INCREMENT extra_points BY 1
                CONTINUE
            SET angle_rad TO ARCTANGENT OF (y MINUS location[1], x MINUS location[0])
            SET angle_deg TO CONVERT angle_rad TO DEGREES
            APPEND angle_deg TO angles
        SORT angles IN ASCENDING ORDER
        SET angles TO angles CONCATENATED WITH EACH angle IN angles PLUS 360
        SET max_visible TO 0
        SET left TO 0
        FOR right FROM 0 TO LENGTH OF angles MINUS 1
            WHILE angles[right] MINUS angles[left] GREATER THAN angle
                INCREMENT left BY 1
            SET max_visible TO MAXIMUM OF max_visible AND (right MINUS left PLUS 1)
        RETURN max_visible PLUS extra_points
    END FUNCTION
END CLASS