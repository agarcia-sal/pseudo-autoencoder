CLASS Solution
    FUNCTION countSubstrings(s)
        FUNCTION expand_around_center(left, right)
            SET count TO 0
            WHILE left >= 0 AND right < LENGTH OF s AND s[left] EQUALS s[right]
                INCREMENT count BY 1
                DECREMENT left BY 1
                INCREMENT right BY 1
            RETURN count
        END FUNCTION

        SET total_palindromes TO 0
        FOR i FROM 0 TO LENGTH OF s MINUS 1
            SET total_palindromes TO total_palindromes + expand_around_center(i, i)
            SET total_palindromes TO total_palindromes + expand_around_center(i, i + 1)
        RETURN total_palindromes
    END FUNCTION
END CLASS