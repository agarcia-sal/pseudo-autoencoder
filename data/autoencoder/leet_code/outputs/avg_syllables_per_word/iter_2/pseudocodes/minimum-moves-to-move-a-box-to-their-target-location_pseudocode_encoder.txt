```
CLASS Solution
    FUNCTION minPushBox(grid)
        SET directions TO list of tuples: [(-1, 0), (1, 0), (0, -1), (0, 1)]

        FOR i FROM 0 TO LENGTH OF grid MINUS 1
            FOR j FROM 0 TO LENGTH OF grid AT 0 MINUS 1
                IF grid AT i AND j EQUALS 'S'
                    SET player_start TO (i, j)
                ELSE IF grid AT i AND j EQUALS 'B'
                    SET box_start TO (i, j)
                ELSE IF grid AT i AND j EQUALS 'T'
                    SET target TO (i, j)

        SET queue TO deque containing (player_start, box_start, 0)
        SET visited TO set containing (player_start, box_start)

        WHILE queue IS NOT empty
            REMOVE first element of queue INTO player_pos, box_pos, push_count

            IF box_pos EQUALS target
                RETURN push_count

            FOR each (dx, dy) IN directions
                SET new_player_pos TO (player_pos[0] + dx, player_pos[1] + dy)

                IF self.is_valid_position(new_player_pos, grid)
                    IF new_player_pos EQUALS box_pos
                        SET new_box_pos TO (box_pos[0] + dx, box_pos[1] + dy)

                        IF self.is_valid_position(new_box_pos, grid) AND (new_player_pos, new_box_pos) NOT IN visited
                            ADD (new_player_pos, new_box_pos) TO visited
                            APPEND (new_player_pos, new_box_pos, push_count + 1) TO queue
                    ELSE
                        IF (new_player_pos, box_pos) NOT IN visited
                            ADD (new_player_pos, box_pos) TO visited
                            APPEND (new_player_pos, box_pos, push_count) TO queue

        RETURN -1
    END FUNCTION

    FUNCTION is_valid_position(position, grid)
        SET x TO position[0]
        SET y TO position[1]
        RETURN x GREATER OR EQUAL TO 0 AND x LESS THAN LENGTH OF grid AND y GREATER OR EQUAL TO 0 AND y LESS THAN LENGTH OF grid AT 0 AND grid AT x AND y NOT EQUAL TO '#'
    END FUNCTION
END CLASS
```