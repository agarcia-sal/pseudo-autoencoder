```
CLASS Solution
    FUNCTION sumOfFlooredPairs(nums: List of Integer) RETURNS Integer
        SET MOD TO 10^9 + 7
        SET max_num TO maximum value in nums
        SET count TO frequency map of elements in nums
        SET prefix_sum TO list of zeros with length max_num + 1

        FOR each num IN keys of count
            INCREMENT prefix_sum[num] BY count[num]

        FOR i FROM 1 TO max_num
            INCREMENT prefix_sum[i] BY prefix_sum[i - 1]

        SET result TO 0

        FOR each num IN keys of count
            FOR multiple FROM 1 TO max_num DIVIDED BY num
                SET start TO num * multiple
                SET end TO minimum of (num * (multiple + 1) - 1) AND max_num
                SET multiples_count TO prefix_sum[end] MINUS prefix_sum[start - 1]
                INCREMENT result BY multiples_count * multiple * count[num]
                SET result TO result MODULO MOD

        RETURN result
    END FUNCTION
END CLASS
```