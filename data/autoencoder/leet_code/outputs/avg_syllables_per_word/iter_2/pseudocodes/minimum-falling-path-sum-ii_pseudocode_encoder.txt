CLASS Solution
    FUNCTION minFallingPathSum(grid)
        IF grid IS EMPTY OR grid[0] IS EMPTY
            RETURN 0
        END IF

        SET n TO LENGTH OF grid

        IF n EQUALS 1
            RETURN MINIMUM VALUE IN grid[0]
        END IF

        SET dp TO COPY OF grid[0]

        FOR i FROM 1 TO n MINUS 1
            SET new_dp TO LIST OF SIZE n FILLED WITH 0
            SET min1 TO INFINITY
            SET min2 TO INFINITY
            SET min1_index TO -1

            FOR j FROM 0 TO n MINUS 1
                IF dp[j] LESS THAN min1
                    SET min2 TO min1
                    SET min1 TO dp[j]
                    SET min1_index TO j
                ELSE IF dp[j] LESS THAN min2
                    SET min2 TO dp[j]
                END IF
            END FOR

            FOR j FROM 0 TO n MINUS 1
                IF j EQUALS min1_index
                    SET new_dp[j] TO grid[i][j] PLUS min2
                ELSE
                    SET new_dp[j] TO grid[i][j] PLUS min1
                END IF
            END FOR

            SET dp TO COPY OF new_dp
        END FOR

        RETURN MINIMUM VALUE IN dp
    END FUNCTION
END CLASS