CLASS ListNode
    FUNCTION __init__(self, val = 0, next = None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values)
    IF values IS EMPTY
        RETURN None
    SET head TO ListNode(values[0])
    SET p TO head
    FOR val IN values FROM SECOND ELEMENT TO END
        SET node TO ListNode(val)
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 IS None AND p2 IS None
        RETURN True
    IF p1 IS None OR p2 IS None
        RETURN False
    RETURN p1.val EQUALS p2.val AND is_same_list(p1.next, p2.next)
END FUNCTION

CLASS Solution
    FUNCTION addTwoNumbers(l1, l2)
        SET dummy_head TO ListNode(0)
        SET current TO dummy_head
        SET carry TO 0

        WHILE l1 IS NOT None OR l2 IS NOT None OR carry IS NOT 0
            SET val1 TO l1.val IF l1 IS NOT None ELSE 0
            SET val2 TO l2.val IF l2 IS NOT None ELSE 0
            SET total TO val1 + val2 + carry
            SET carry TO total DIVIDED BY 10
            SET current.next TO ListNode(total MODULO 10)
            SET current TO current.next

            IF l1 IS NOT None
                SET l1 TO l1.next
            IF l2 IS NOT None
                SET l2 TO l2.next
        END WHILE

        RETURN dummy_head.next
    END FUNCTION
END CLASS