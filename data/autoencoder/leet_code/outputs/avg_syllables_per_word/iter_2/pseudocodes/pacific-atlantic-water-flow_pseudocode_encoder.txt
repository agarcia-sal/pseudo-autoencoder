```
CLASS Solution
    FUNCTION pacificAtlantic(heights)
        FUNCTION bfs(queue, visited)
            WHILE queue IS NOT EMPTY
                SET length TO LENGTH OF queue
                FOR index FROM 1 TO length
                    SET i, j TO REMOVE FIRST ELEMENT FROM queue
                    FOR each (a, b) IN [(0, -1), (0, 1), (1, 0), (-1, 0)]
                        SET x TO i + a
                        SET y TO j + b
                        IF x IS WITHIN 0 AND m - 1 AND y IS WITHIN 0 AND n - 1
                            AND (x, y) NOT IN visited
                            AND heights[x][y] IS GREATER THAN OR EQUAL TO heights[i][j]
                            ADD (x, y) TO visited
                            ADD (x, y) TO queue
        SET m TO NUMBER OF ROWS IN heights
        SET n TO NUMBER OF COLUMNS IN heights
        SET vis1 TO EMPTY SET
        SET vis2 TO EMPTY SET
        SET q1 TO EMPTY QUEUE
        SET q2 TO EMPTY QUEUE
        FOR i FROM 0 TO m - 1
            FOR j FROM 0 TO n - 1
                IF i IS 0 OR j IS 0
                    ADD (i, j) TO vis1
                    ADD (i, j) TO q1
                IF i IS m - 1 OR j IS n - 1
                    ADD (i, j) TO vis2
                    ADD (i, j) TO q2
        CALL bfs(q1, vis1)
        CALL bfs(q2, vis2)
        SET result TO EMPTY LIST
        FOR i FROM 0 TO m - 1
            FOR j FROM 0 TO n - 1
                IF (i, j) IN vis1 AND (i, j) IN vis2
                    APPEND (i, j) TO result
        RETURN result
    END FUNCTION
END CLASS
```