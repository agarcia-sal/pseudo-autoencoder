CLASS Solution
    FUNCTION findRotateSteps(ring, key)
        SET char_positions TO empty dictionary with default list
        
        FOR i FROM 0 TO LENGTH OF ring MINUS 1
            SET char TO ring AT i
            APPEND i TO char_positions[char]
        
        SET n TO LENGTH OF ring
        
        FUNCTION dp(i, prev_pos)
            IF i EQUALS LENGTH OF key THEN
                RETURN 0
            
            SET min_steps TO infinity
            FOR each pos IN char_positions[key AT i]
                SET clockwise TO (pos MINUS prev_pos) MODULO n
                SET anticlockwise TO (prev_pos MINUS pos) MODULO n
                SET steps TO MINIMUM OF clockwise AND anticlockwise PLUS 1 PLUS dp(i PLUS 1, pos)
                SET min_steps TO MINIMUM OF min_steps AND steps
            
            RETURN min_steps
        END FUNCTION
        
        RETURN dp(0, 0)
    END FUNCTION
END CLASS