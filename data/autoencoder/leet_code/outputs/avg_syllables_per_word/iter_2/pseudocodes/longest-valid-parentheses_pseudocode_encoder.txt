CLASS Solution
    FUNCTION longestValidParentheses(s)
        SET stack TO list containing -1
        SET max_length TO 0
        FOR each index i AND character char IN s
            IF char EQUALS '('
                APPEND i TO stack
            ELSE
                REMOVE last element FROM stack
                IF stack IS empty
                    APPEND i TO stack
                ELSE
                    SET max_length TO maximum of max_length AND (i MINUS last element in stack)
        RETURN max_length
    END FUNCTION
END CLASS