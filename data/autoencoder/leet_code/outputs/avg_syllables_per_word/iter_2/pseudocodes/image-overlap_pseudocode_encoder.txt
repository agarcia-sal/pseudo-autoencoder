CLASS Solution
    FUNCTION largestOverlap(img1, img2)
        SET n TO LENGTH OF img1
        SET points1 TO EMPTY LIST
        FOR i FROM 0 TO n - 1
            FOR j FROM 0 TO n - 1
                IF img1[i][j] EQUALS 1
                    APPEND (i, j) TO points1
        SET points2 TO EMPTY LIST
        FOR i FROM 0 TO n - 1
            FOR j FROM 0 TO n - 1
                IF img2[i][j] EQUALS 1
                    APPEND (i, j) TO points2

        SET overlap_count TO A DEFAULT DICTIONARY WITH DEFAULT VALUE 0

        FOR EACH (x1, y1) IN points1
            FOR EACH (x2, y2) IN points2
                SET dx TO x2 MINUS x1
                SET dy TO y2 MINUS y1
                INCREMENT overlap_count[(dx, dy)] BY 1

        RETURN THE MAXIMUM VALUE IN overlap_count, OR 0 IF overlap_count IS EMPTY
    END FUNCTION
END CLASS