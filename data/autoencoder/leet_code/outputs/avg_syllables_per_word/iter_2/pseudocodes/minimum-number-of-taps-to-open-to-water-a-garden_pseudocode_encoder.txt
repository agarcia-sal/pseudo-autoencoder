CLASS Solution
    FUNCTION minTaps(n, ranges)
        SET max_range TO array of zeros with length n + 1
        
        FOR i FROM 0 TO n
            IF ranges[i] > 0 THEN
                SET left TO maximum of 0 and (i minus ranges[i])
                SET right TO minimum of n and (i plus ranges[i])
                SET max_range[left] TO maximum of max_range[left] and right
            END IF
        END FOR
        
        SET taps TO 0
        SET current_end TO 0
        SET farthest TO 0
        
        FOR i FROM 0 TO n
            IF i greater than farthest THEN
                RETURN -1
            END IF
            IF i greater than current_end THEN
                INCREMENT taps BY 1
                SET current_end TO farthest
            END IF
            SET farthest TO maximum of farthest and max_range[i]
        END FOR
        
        RETURN taps
    END FUNCTION
END CLASS