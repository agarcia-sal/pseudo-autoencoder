CLASS Solution
    FUNCTION getProbability(balls: List of Integer) RETURNS Float
        DEFINE FUNCTION dfs(i: Integer, j: Integer, diff: Integer) RETURNS Float
            IF i IS GREATER THAN OR EQUAL TO k THEN
                IF j IS EQUAL TO 0 AND diff IS EQUAL TO 0 THEN
                    RETURN 1
                ELSE
                    RETURN 0
            END IF
            IF j IS LESS THAN 0 THEN
                RETURN 0
            END IF
            SET ans TO 0
            FOR x FROM 0 TO balls[i] INCLUSIVE
                IF x IS EQUAL TO balls[i] THEN
                    SET y TO 1
                ELSE IF x IS EQUAL TO 0 THEN
                    SET y TO -1
                ELSE
                    SET y TO 0
                END IF
                SET ans TO ans PLUS dfs(i + 1, j - x, diff + y) TIMES comb(balls[i], x)
            END FOR
            RETURN ans
        END FUNCTION

        SET n TO sum of balls DIVIDED BY 2
        SET k TO LENGTH OF balls
        RETURN dfs(0, n, 0) DIVIDED BY comb(n TIMES 2, n)
    END FUNCTION
END CLASS