CLASS Solution
    FUNCTION numOfWays(nums)
        SET MOD TO 1000000007
        
        FUNCTION count_ways(arr)
            IF LENGTH OF arr IS LESS THAN OR EQUAL TO 1
                RETURN 1
            END IF
            
            SET root TO FIRST ELEMENT OF arr
            SET left_subtree TO EMPTY LIST
            SET right_subtree TO EMPTY LIST
            
            FOR each x IN arr
                IF x IS LESS THAN root
                    APPEND x TO left_subtree
                ELSE IF x IS GREATER THAN root
                    APPEND x TO right_subtree
                END IF
            END FOR
            
            SET ways_left TO count_ways(left_subtree)
            SET ways_right TO count_ways(right_subtree)
            
            SET total_ways TO COMBINATION OF (LENGTH OF left_subtree + LENGTH OF right_subtree) CHOOSE LENGTH OF left_subtree
            
            RETURN (ways_left MULTIPLIED BY ways_right MULTIPLIED BY total_ways) MODULO MOD
        END FUNCTION
        
        RETURN (count_ways(nums) MINUS 1) MODULO MOD
    END FUNCTION
END CLASS