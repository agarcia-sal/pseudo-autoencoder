CLASS Solution
    FUNCTION maxProfit(prices: List of Integer) RETURNS Integer
        IF prices IS EMPTY THEN
            RETURN 0
        END IF
        
        SET n TO LENGTH OF prices
        IF n IS 1 THEN
            RETURN 0
        END IF
        
        SET hold TO negative infinity
        SET sold TO 0
        SET rest TO 0
        
        FOR each price IN prices DO
            SET new_hold TO MAXIMUM OF hold AND (rest MINUS price)
            SET new_sold TO hold PLUS price
            SET new_rest TO MAXIMUM OF rest AND sold
            
            SET hold TO new_hold
            SET sold TO new_sold
            SET rest TO new_rest
        END FOR
        
        RETURN MAXIMUM OF sold AND rest
    END FUNCTION
END CLASS