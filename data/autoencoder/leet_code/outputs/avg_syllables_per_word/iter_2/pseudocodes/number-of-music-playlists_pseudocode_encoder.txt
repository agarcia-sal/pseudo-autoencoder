CLASS Solution
    FUNCTION numMusicPlaylists(n, goal, k)
        SET MOD TO 10^9 + 7
        INITIALIZE dp AS a 2D list with dimensions (goal + 1) by (n + 1), all values set to 0
        SET dp[0][0] TO 1

        FOR i FROM 1 TO goal
            FOR j FROM 1 TO n
                INCREMENT dp[i][j] BY dp[i - 1][j - 1] MULTIPLIED BY (n - (j - 1))
                SET dp[i][j] TO dp[i][j] MODULO MOD

                IF j GREATER THAN k THEN
                    INCREMENT dp[i][j] BY dp[i - 1][j] MULTIPLIED BY (j - k)
                    SET dp[i][j] TO dp[i][j] MODULO MOD

        RETURN dp[goal][n]
    END FUNCTION
END CLASS