CLASS Solution
    FUNCTION kSimilarity(s1, s2)
        FUNCTION neighbors(s)
            SET i TO 0
            WHILE i LESS THAN LENGTH OF s AND s[i] EQUALS s2[i]
                INCREMENT i BY 1
            FOR j FROM i + 1 TO LENGTH OF s MINUS 1
                IF s[j] EQUALS s2[i] AND s[j] NOT EQUALS s2[j]
                    YIELD s WITH CHARACTERS AT POSITIONS i AND j SWAPPED
        END FUNCTION

        SET queue TO deque CONTAINING (s1, 0)
        SET visited TO SET CONTAINING s1

        WHILE queue IS NOT EMPTY
            POP LEFT (s, swaps) FROM queue
            IF s EQUALS s2
                RETURN swaps
            FOR each neighbor IN neighbors(s)
                IF neighbor NOT IN visited
                    ADD neighbor TO visited
                    APPEND (neighbor, swaps + 1) TO queue
        END WHILE
    END FUNCTION
END CLASS