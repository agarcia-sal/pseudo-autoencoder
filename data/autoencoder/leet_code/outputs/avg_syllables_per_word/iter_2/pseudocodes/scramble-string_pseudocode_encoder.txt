CLASS Solution
    FUNCTION isScramble(s1, s2)
        IF s1 EQUALS s2 THEN
            RETURN True
        END IF
        IF sorted characters of s1 NOT EQUAL TO sorted characters of s2 THEN
            RETURN False
        END IF
        SET n TO LENGTH OF s1
        FOR i FROM 1 TO n MINUS 1
            IF isScramble(SUBSTRING s1 FROM 0 TO i) AND isScramble(SUBSTRING s2 FROM 0 TO i) THEN
                RETURN True
            END IF
            IF isScramble(SUBSTRING s1 FROM 0 TO i) AND isScramble(SUBSTRING s2 FROM LAST i CHARACTERS) THEN
                RETURN True
            END IF
        END FOR
        RETURN False
    END FUNCTION
END CLASS