```
CLASS Solution
    FUNCTION deleteAndEarn(nums)
        SET count TO count of each number in nums
        SET unique_nums TO sorted list of keys in count

        SET dp TO list of zeros of length LENGTH OF unique_nums PLUS 1
        SET dp[1] TO unique_nums[0] MULTIPLIED BY count[unique_nums[0]]

        FOR i FROM 2 TO LENGTH OF unique_nums
            SET num TO unique_nums[i MINUS 1]
            IF num EQUALS unique_nums[i MINUS 2] PLUS 1 THEN
                SET dp[i] TO maximum of dp[i MINUS 1] AND dp[i MINUS 2] PLUS num MULTIPLIED BY count[num]
            ELSE
                SET dp[i] TO dp[i MINUS 1] PLUS num MULTIPLIED BY count[num]
        RETURN dp[LAST INDEX]
    END FUNCTION
END CLASS
```