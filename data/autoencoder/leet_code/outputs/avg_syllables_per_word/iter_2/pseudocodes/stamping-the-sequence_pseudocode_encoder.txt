CLASS Solution
    FUNCTION movesToStamp(stamp, target)
        SET m TO LENGTH OF stamp
        SET n TO LENGTH OF target
        SET indeg TO LIST OF m REPEATED (n - m + 1) TIMES
        INITIALIZE q AS EMPTY QUEUE
        SET g TO LIST OF EMPTY LISTS WITH SIZE n
        FOR i FROM 0 TO (n - m)
            FOR j, c IN EACH INDEX AND CHARACTER OF stamp
                IF target[i + j] EQUALS c THEN
                    DECREMENT indeg[i] BY 1
                    IF indeg[i] EQUALS 0 THEN
                        ENQUEUE i INTO q
                ELSE
                    APPEND i TO g[i + j]
        SET ans TO EMPTY LIST
        SET vis TO LIST OF False WITH SIZE n
        WHILE q IS NOT EMPTY
            SET i TO DEQUEUE FROM q
            APPEND i TO ans
            FOR j FROM 0 TO (m - 1)
                IF vis[i + j] IS False THEN
                    SET vis[i + j] TO True
                    FOR k IN g[i + j]
                        DECREMENT indeg[k] BY 1
                        IF indeg[k] EQUALS 0 THEN
                            ENQUEUE k INTO q
        IF ALL VALUES IN vis ARE True THEN
            RETURN ans IN REVERSE ORDER
        ELSE
            RETURN EMPTY LIST
    END FUNCTION
END CLASS