CLASS Solution
    FUNCTION validSquare(p1: List[int], p2: List[int], p3: List[int], p4: List[int]) RETURNS bool
        FUNCTION squared_distance(point1, point2)
            SET diff_x TO point1[0] MINUS point2[0]
            SET diff_y TO point1[1] MINUS point2[1]
            RETURN diff_x SQUARED PLUS diff_y SQUARED
        END FUNCTION

        SET points TO LIST containing p1, p2, p3, p4
        SET distances TO empty SET

        FOR i FROM 0 TO 3
            FOR j FROM i + 1 TO 3
                SET dist TO squared_distance(points[i], points[j])
                IF dist EQUALS 0 THEN
                    RETURN False
                END IF
                ADD dist TO distances
            END FOR
        END FOR

        RETURN LENGTH OF distances EQUALS 2
    END FUNCTION
END CLASS