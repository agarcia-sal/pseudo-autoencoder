CLASS Solution
    FUNCTION allPathsSourceTarget(graph)
        SET n TO LENGTH OF graph
        INITIALIZE q AS deque CONTAINING [0] PATH
        INITIALIZE ans AS empty list
        WHILE q IS NOT empty
            SET path TO REMOVE FIRST ELEMENT FROM q
            SET u TO LAST ELEMENT IN path
            IF u EQUALS n MINUS 1
                APPEND path TO ans
                CONTINUE TO NEXT ITERATION
            FOR each v IN graph[u]
                APPEND path EXTENDED BY v TO q
        RETURN ans
    END FUNCTION
END CLASS