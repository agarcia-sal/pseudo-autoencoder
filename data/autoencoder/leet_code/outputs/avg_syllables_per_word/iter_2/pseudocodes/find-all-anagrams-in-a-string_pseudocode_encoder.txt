CLASS Solution
    FUNCTION findAnagrams(s, p)
        SET len_s TO LENGTH OF s
        SET len_p TO LENGTH OF p
        
        IF len_p > len_s THEN
            RETURN EMPTY LIST
        END IF
        
        SET p_count TO COUNTER OF CHARACTERS IN p
        SET s_count TO COUNTER OF CHARACTERS IN FIRST len_p CHARACTERS OF s
        
        SET anagrams TO EMPTY LIST
        
        IF s_count EQUALS p_count THEN
            APPEND 0 TO anagrams
        END IF
        
        FOR i FROM len_p TO len_s MINUS 1
            INCREMENT s_count[s[i]] BY 1
            DECREMENT s_count[s[i MINUS len_p]] BY 1
            
            IF s_count[s[i MINUS len_p]] EQUALS 0 THEN
                REMOVE s[i MINUS len_p] FROM s_count
            END IF
            
            IF s_count EQUALS p_count THEN
                APPEND (i MINUS len_p PLUS 1) TO anagrams
            END IF
        END FOR
        
        RETURN anagrams
    END FUNCTION
END CLASS