CLASS Solution
    FUNCTION permuteUnique(nums)
        FUNCTION backtrack(path, used, res)
            IF LENGTH OF path EQUALS LENGTH OF nums THEN
                APPEND COPY OF path TO res
                RETURN
            END IF
            FOR i FROM 0 TO LENGTH OF nums MINUS 1
                IF used[i] IS TRUE OR (i GREATER THAN 0 AND nums[i] EQUALS nums[i - 1] AND used[i - 1] IS FALSE) THEN
                    CONTINUE TO NEXT i
                END IF
                SET used[i] TO TRUE
                APPEND nums[i] TO path
                CALL backtrack(path, used, res)
                REMOVE LAST ELEMENT FROM path
                SET used[i] TO FALSE
            END FOR
        END FUNCTION

        SORT nums IN ASCENDING ORDER
        SET res TO EMPTY LIST
        SET used TO LIST OF FALSE OF LENGTH OF nums
        CALL backtrack(EMPTY LIST, used, res)
        RETURN res
    END FUNCTION
END CLASS