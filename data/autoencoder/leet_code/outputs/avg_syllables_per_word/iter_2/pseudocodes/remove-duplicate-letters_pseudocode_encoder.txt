CLASS Solution
    FUNCTION removeDuplicateLetters(s)
        SET last_occurrence TO dictionary mapping each character in s TO its last index
        SET stack TO empty list
        SET in_stack TO empty set

        FOR each index idx AND character char IN s
            IF char IN in_stack THEN
                CONTINUE TO next iteration
            END IF

            WHILE stack is not empty AND char is less than last character in stack AND idx is less than last_occurrence of last character in stack
                SET removed_char TO last character popped from stack
                REMOVE removed_char FROM in_stack
            END WHILE

            APPEND char TO stack
            ADD char TO in_stack
        END FOR

        RETURN concatenation of characters in stack
    END FUNCTION
END CLASS