CLASS Solution
    FUNCTION longestPalindrome(word1, word2)
        SET s TO CONCATENATION OF word1 AND word2
        SET n TO LENGTH OF s
        SET dp TO 2D ARRAY OF SIZE n BY n FILLED WITH 0
        
        FOR i FROM 0 TO n - 1
            SET dp[i][i] TO 1
        
        SET max_len TO 0
        FOR length FROM 2 TO n
            FOR i FROM 0 TO n - length
                SET j TO i + length - 1
                IF s[i] EQUALS s[j] THEN
                    SET dp[i][j] TO dp[i + 1][j - 1] + 2
                    IF i LESS THAN LENGTH OF word1 AND j GREATER THAN OR EQUAL TO LENGTH OF word1 THEN
                        SET max_len TO MAXIMUM OF max_len AND dp[i][j]
                ELSE
                    SET dp[i][j] TO MAXIMUM OF dp[i + 1][j] AND dp[i][j - 1]
        
        RETURN max_len
    END FUNCTION
END CLASS