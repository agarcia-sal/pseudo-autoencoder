CLASS Solution
    FUNCTION scheduleCourse(courses: List of List of integers) RETURNS integer
        SORT courses BY their second element (end day)
        SET max_heap TO empty list
        SET current_end_day TO 0

        FOR EACH course IN courses
            SET duration TO course[0]
            SET last_day TO course[1]

            IF current_end_day + duration <= last_day THEN
                ADD negative duration TO max_heap
                INCREMENT current_end_day BY duration
            ELSE
                IF max_heap IS NOT empty AND negative of max_heap's first element > duration THEN
                    INCREMENT current_end_day BY duration + REMOVE top element FROM max_heap
                    ADD negative duration TO max_heap
                END IF
            END IF
        END FOR

        RETURN LENGTH OF max_heap
    END FUNCTION
END CLASS