CLASS Solution
    FUNCTION maximumCost(n, highways, k)
        IMPORT default dictionary
        
        SET graph TO default dictionary of empty lists
        FOR each city1, city2, toll IN highways
            APPEND (city2, toll) TO graph[city1]
            APPEND (city1, toll) TO graph[city2]
        
        SET max_cost TO -1
        
        FUNCTION dfs(city, visited, cost, highways_used)
            IF highways_used EQUALS k THEN
                SET max_cost TO MAXIMUM OF max_cost AND cost
                RETURN
            FOR each neighbor, toll IN graph[city]
                IF neighbor NOT IN visited THEN
                    ADD neighbor TO visited
                    CALL dfs(neighbor, visited, cost + toll, highways_used + 1)
                    REMOVE neighbor FROM visited
        
        FOR start_city FROM 0 TO n MINUS 1
            SET visited TO SET containing start_city
            CALL dfs(start_city, visited, 0, 0)
        
        RETURN max_cost
    END FUNCTION
END CLASS