CLASS Solution
    FUNCTION lengthOfLIS(nums)
        IF nums IS EMPTY
            RETURN 0
        END IF
        SET dp TO empty list
        FOR each num IN nums
            SET idx TO position found by binary search to insert num in dp preserving order
            IF idx IS EQUAL TO length of dp
                APPEND num TO dp
            ELSE
                SET dp at position idx TO num
            END IF
        END FOR
        RETURN length of dp
    END FUNCTION
END CLASS