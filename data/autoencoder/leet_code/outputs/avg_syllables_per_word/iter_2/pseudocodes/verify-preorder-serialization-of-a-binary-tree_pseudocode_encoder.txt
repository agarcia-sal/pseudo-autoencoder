CLASS Solution
    FUNCTION isValidSerialization(preorder)
        SET nodes TO SPLIT preorder BY comma
        SET slots TO 1
        FOR each node IN nodes
            IF slots EQUALS 0
                RETURN False
            DECREMENT slots BY 1
            IF node NOT EQUALS '#'
                INCREMENT slots BY 2
        RETURN slots EQUALS 0
    END FUNCTION
END CLASS