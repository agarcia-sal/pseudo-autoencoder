CLASS Solution
    FUNCTION leastInterval(tasks: List of String, n: Integer) RETURNS Integer
        SET task_counts TO count occurrences of each element in tasks
        SET max_heap TO list of negative values of task_counts
        CONVERT max_heap INTO a heap structure
        
        SET time TO 0
        SET queue TO empty list of (integer, integer)
        
        WHILE max_heap is not empty OR queue is not empty
            WHILE queue is not empty AND first element's first value EQUALS time
                SET _, count TO first element of queue
                REMOVE first element from queue
                IF count LESS THAN 0
                    ADD count to max_heap as a heap element
            
            IF max_heap is not empty
                REMOVE smallest element from max_heap and SET TO count
                INCREMENT count BY 1
                IF count LESS THAN 0
                    APPEND (time + n + 1, count) TO queue
            
            INCREMENT time BY 1
        
        RETURN time
    END FUNCTION
END CLASS