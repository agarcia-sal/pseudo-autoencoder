CLASS Solution
    FUNCTION largestRectangleArea(heights)
        SET stack TO list containing -1
        SET max_area TO 0
        APPEND 0 TO heights
        
        FOR each index i AND height h IN heights
            WHILE top of stack IS NOT -1 AND h IS LESS THAN heights AT top of stack
                SET height TO heights AT stack POPPED
                SET width TO i MINUS top of stack MINUS 1
                SET max_area TO GREATER OF max_area AND height MULTIPLIED BY width
            APPEND i TO stack
        
        RETURN max_area
    END FUNCTION
END CLASS