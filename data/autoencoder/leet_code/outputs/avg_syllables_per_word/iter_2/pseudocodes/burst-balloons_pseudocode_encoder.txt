CLASS Solution
    FUNCTION maxCoins(nums: List of Integer) RETURNS Integer
        SET nums TO list with 1 prepended and 1 appended to original nums
        SET n TO length of nums
        SET dp TO two-dimensional list of size n by n filled with 0
        
        FOR length FROM 2 TO n - 1
            FOR i FROM 0 TO n - length - 1
                SET j TO i + length
                FOR k FROM i + 1 TO j - 1
                    SET coins TO nums[i] multiplied by nums[k] multiplied by nums[j] plus dp[i][k] plus dp[k][j]
                    SET dp[i][j] TO maximum of dp[i][j] and coins
        
        RETURN dp[0][n - 1]
    END FUNCTION
END CLASS