CLASS Solution
    FUNCTION replaceWords(dictionary: List of strings, sentence: string) RETURNS string
        SORT dictionary BY length ascending
        SET words TO SPLIT sentence INTO list of words

        FUNCTION replace(word: string) RETURNS string
            FOR each root IN dictionary
                IF word STARTS WITH root THEN
                    RETURN root
            RETURN word
        END FUNCTION

        SET replaced_words TO EMPTY list
        FOR each word IN words
            APPEND replace(word) TO replaced_words

        SET result_sentence TO JOIN replaced_words WITH spaces
        RETURN result_sentence
    END FUNCTION
END CLASS