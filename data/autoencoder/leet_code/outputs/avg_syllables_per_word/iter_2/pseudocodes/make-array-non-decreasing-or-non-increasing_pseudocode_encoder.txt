CLASS Solution
    FUNCTION convertArray(nums)
        FUNCTION min_operations_to_non_decreasing(nums)
            SET max_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF max_heap is not empty AND negative of first element in max_heap GREATER THAN num
                    SET popped TO negative of removing first element from max_heap
                    INCREMENT operations BY popped MINUS num
                    ADD negative of num TO max_heap
                END IF
                ADD negative of num TO max_heap
            END FOR
            RETURN operations
        END FUNCTION

        FUNCTION min_operations_to_non_increasing(nums)
            SET min_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF min_heap is not empty AND first element in min_heap LESS THAN num
                    SET popped TO removing first element from min_heap
                    INCREMENT operations BY num MINUS popped
                    ADD num TO min_heap
                END IF
                ADD num TO min_heap
            END FOR
            RETURN operations
        END FUNCTION

        RETURN minimum OF min_operations_to_non_decreasing(nums) AND min_operations_to_non_increasing(nums)
    END FUNCTION
END CLASS