CLASS Solution
    FUNCTION pushDominoes(dominoes)
        SET n TO LENGTH OF dominoes
        SET forces TO LIST OF n ZEROS

        SET force TO 0
        FOR i FROM 0 TO n - 1
            IF dominoes[i] IS 'R'
                SET force TO n
            ELSE IF dominoes[i] IS 'L'
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF (force - 1) AND 0
            SET forces[i] TO forces[i] PLUS force

        SET force TO 0
        FOR i FROM n - 1 DOWN TO 0
            IF dominoes[i] IS 'L'
                SET force TO n
            ELSE IF dominoes[i] IS 'R'
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF (force - 1) AND 0
            SET forces[i] TO forces[i] MINUS force

        SET result TO EMPTY LIST
        FOR each f IN forces
            IF f GREATER THAN 0
                APPEND 'R' TO result
            ELSE IF f LESS THAN 0
                APPEND 'L' TO result
            ELSE
                APPEND '.' TO result

        RETURN CONCATENATION OF ELEMENTS IN result
    END FUNCTION
END CLASS