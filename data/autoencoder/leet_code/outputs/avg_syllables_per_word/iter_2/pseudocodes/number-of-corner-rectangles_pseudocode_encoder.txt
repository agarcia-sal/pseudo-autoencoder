CLASS Solution
    FUNCTION countCornerRectangles(grid)
        IF grid IS EMPTY OR grid[0] IS EMPTY
            RETURN 0
        SET m TO LENGTH OF grid
        SET n TO LENGTH OF grid[0]
        SET count TO 0
        FOR i FROM 0 TO m MINUS 1
            FOR j FROM i PLUS 1 TO m MINUS 1
                SET cols_with_ones TO 0
                FOR k FROM 0 TO n MINUS 1
                    IF grid[i][k] EQUALS 1 AND grid[j][k] EQUALS 1
                        INCREMENT cols_with_ones BY 1
                IF cols_with_ones GREATER OR EQUAL TO 2
                    INCREMENT count BY cols_with_ones TIMES (cols_with_ones MINUS 1) DIVIDED BY 2
        RETURN count
    END FUNCTION
END CLASS