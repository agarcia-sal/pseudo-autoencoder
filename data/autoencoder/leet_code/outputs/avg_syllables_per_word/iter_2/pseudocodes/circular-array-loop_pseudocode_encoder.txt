CLASS Solution
    FUNCTION circularArrayLoop(nums)
        FUNCTION sameDirection(val1, val2)
            RETURN (val1 > 0 AND val2 > 0) OR (val1 < 0 AND val2 < 0)
        END FUNCTION
        
        SET n TO LENGTH OF nums
        
        FOR i FROM 0 TO n - 1
            SET slow TO i
            SET fast TO i
            
            IF nums[i] EQUALS 0
                CONTINUE TO NEXT ITERATION
            
            WHILE TRUE
                SET slow TO (slow + nums[slow]) MODULO n
                IF slow LESS THAN 0
                    INCREMENT slow BY n
                
                SET fast TO (fast + nums[fast]) MODULO n
                IF fast LESS THAN 0
                    INCREMENT fast BY n
                SET fast TO (fast + nums[fast]) MODULO n
                IF fast LESS THAN 0
                    INCREMENT fast BY n
                
                IF NOT sameDirection(nums[slow], nums[i]) OR NOT sameDirection(nums[fast], nums[i])
                    BREAK WHILE LOOP
                
                IF slow EQUALS fast
                    IF slow EQUALS (slow + nums[slow]) MODULO n
                        BREAK WHILE LOOP
                    RETURN TRUE
        RETURN FALSE
END CLASS