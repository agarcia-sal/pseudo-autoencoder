CLASS ListNode
    FUNCTION __init__(val = 0, next = None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values)
    IF values IS EMPTY
        RETURN None
    SET head TO NEW ListNode WITH val = values[0]
    SET p TO head
    FOR each val IN values FROM SECOND ELEMENT TO END
        SET node TO NEW ListNode WITH val = val
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 IS None AND p2 IS None
        RETURN True
    IF p1 IS None OR p2 IS None
        RETURN False
    RETURN (p1.val EQUALS p2.val) AND is_same_list(p1.next, p2.next)
END FUNCTION

CLASS Solution
    FUNCTION reorderList(head)
        IF head IS None OR head.next IS None
            RETURN

        SET slow TO head
        SET fast TO head
        WHILE fast IS NOT None AND fast.next IS NOT None
            SET slow TO slow.next
            SET fast TO fast.next.next
        END WHILE

        SET prev TO None
        SET curr TO slow
        WHILE curr IS NOT None
            SET next_temp TO curr.next
            SET curr.next TO prev
            SET prev TO curr
            SET curr TO next_temp
        END WHILE

        SET first TO head
        SET second TO prev
        WHILE second.next IS NOT None
            SET temp1 TO first.next
            SET temp2 TO second.next
            SET first.next TO second
            SET second.next TO temp1
            SET first TO temp1
            SET second TO temp2
        END WHILE
    END FUNCTION
END CLASS