CLASS Solution
    FUNCTION areConnected(n, threshold, queries)
        IF threshold EQUALS 0 THEN
            RETURN list of True repeated LENGTH OF queries times
        END IF

        SET parent TO list of integers from 0 to n

        FUNCTION find(x)
            IF parent[x] NOT EQUALS x THEN
                SET parent[x] TO find(parent[x])
            END IF
            RETURN parent[x]
        END FUNCTION

        FUNCTION union(x, y)
            SET rootX TO find(x)
            SET rootY TO find(y)
            IF rootX NOT EQUALS rootY THEN
                SET parent[rootY] TO rootX
            END IF
        END FUNCTION

        FOR i FROM threshold + 1 TO n DO
            FOR j FROM 2 * i TO n STEP i DO
                CALL union(i, j)
            END FOR
        END FOR

        SET result TO empty list
        FOR each pair (a, b) IN queries DO
            APPEND (find(a) EQUALS find(b)) TO result
        END FOR

        RETURN result
    END FUNCTION
END CLASS