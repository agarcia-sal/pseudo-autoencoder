CLASS Solution
    FUNCTION calculate(s)
        FUNCTION helper(s)
            SET stack TO empty list
            SET sign TO '+'
            SET num TO 0
            
            WHILE LENGTH OF s > 0
                SET char TO REMOVE FIRST ELEMENT FROM s
                
                IF char IS DIGIT
                    SET num TO num MULTIPLIED BY 10 PLUS char AS INTEGER
                
                IF char IS '('
                    SET num TO helper(s)
                
                IF char IS NOT DIGIT AND char IS NOT WHITESPACE OR LENGTH OF s IS 0
                    IF sign IS '+'
                        APPEND num TO stack
                    ELSE IF sign IS '-'
                        APPEND NEGATIVE num TO stack
                    ELSE IF sign IS '*'
                        SET LAST ELEMENT OF stack TO LAST ELEMENT OF stack MULTIPLIED BY num
                    ELSE IF sign IS '/'
                        SET LAST ELEMENT OF stack TO INTEGER DIVISION OF LAST ELEMENT OF stack BY num
                    
                    SET sign TO char
                    SET num TO 0
                
                IF char IS ')'
                    BREAK
            
            RETURN SUM OF stack
        END FUNCTION
        
        RETURN helper(CONVERT s TO LIST)
    END FUNCTION
END CLASS