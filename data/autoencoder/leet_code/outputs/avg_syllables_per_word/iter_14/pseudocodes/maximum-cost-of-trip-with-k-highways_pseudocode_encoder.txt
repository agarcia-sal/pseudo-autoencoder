CLASS Solution  
    FUNCTION maximumCost(n, highways, k)  
        INITIALIZE graph AS a map FROM keys TO empty lists  
        FOR each highway_element IN highways  
            SET city1 TO the first element OF highway_element  
            SET city2 TO the second element OF highway_element  
            SET toll TO the third element OF highway_element  
            APPEND the pair consisting OF city2 AND toll TO the list ASSOCIATED WITH city1 IN graph  
            APPEND the pair consisting OF city1 AND toll TO the list ASSOCIATED WITH city2 IN graph  
        END FOR  
        
        SET max_cost TO minus one  
        
        FUNCTION dfs(city, visited, cost, highways_used)  
            IF highways_used EQUAL TO k THEN  
                IF cost GREATER THAN max_cost THEN  
                    SET max_cost TO cost  
                END IF  
                RETURN  
            END IF  
            
            FOR each neighbor_and_toll IN the list ASSOCIATED WITH city IN graph  
                SET neighbor TO the first element OF neighbor_and_toll  
                SET toll TO the second element OF neighbor_and_toll  
                IF neighbor NOT IN visited THEN  
                    ADD neighbor TO visited  
                    CALL dfs WITH neighbor, visited, cost PLUS toll, highways_used PLUS one  
                    REMOVE neighbor FROM visited  
                END IF  
            END FOR  
        END FUNCTION  
        
        FOR start_city FROM zero TO n MINUS one  
            INITIALIZE visited AS a set CONTAINING start_city  
            CALL dfs WITH start_city, visited, zero, zero  
        END FOR  
        
        RETURN max_cost  
    END FUNCTION  
END CLASS