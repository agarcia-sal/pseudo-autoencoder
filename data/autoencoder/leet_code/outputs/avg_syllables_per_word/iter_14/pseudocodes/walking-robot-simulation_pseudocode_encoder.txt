CLASS Solution  
    FUNCTION robotSim(commands, obstacles)  
        SET directions TO an ordered list of ordered pairs representing zero and one, one and zero, zero and negative one, negative one and zero representing direction vectors north east south and west respectively  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero representing the initial facing north  
        SET obstacles_set TO the set constructed by applying a transformation that converts each element of obstacles into an ordered pair  
        SET max_distance TO zero  
        
        FOR each command IN commands  
            IF command IS EQUAL TO negative two  
                SET dir_index TO dir_index MINUS one MODULO four  
            ELSE IF command IS EQUAL TO negative one  
                SET dir_index TO dir_index PLUS one MODULO four  
            ELSE  
                SET dx TO the first element of the element at position dir_index OF directions  
                SET dy TO the second element of the element at position dir_index OF directions  
                FOR count FROM one TO command  
                    SET next_x TO x PLUS dx  
                    SET next_y TO y PLUS dy  
                    IF the ordered pair next_x next_y IS IN obstacles_set  
                        BREAK the inner loop  
                    END IF  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET max_distance TO the greater of max_distance AND x MULTIPLIED BY x PLUS y MULTIPLIED BY y  
            END IF  
        END FOR  
        
        RETURN max_distance  
    END FUNCTION  
END CLASS