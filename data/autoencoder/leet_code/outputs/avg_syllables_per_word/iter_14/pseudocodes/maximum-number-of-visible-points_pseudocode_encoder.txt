CLASS Solution
    FUNCTION visiblePoints(points AS List OF List OF integer, angle AS integer, location AS List OF integer) RETURNS integer
        SET angles TO empty list
        SET extra_points TO zero
        
        FOR each point WITH components x and y IN points
            IF x IS EQUAL TO element at position zero OF location AND y IS EQUAL TO element at position one OF location
                INCREMENT extra_points BY one
                CONTINUE to next iteration
            END IF
            SET angle_rad TO the arctangent of (y MINUS element at position one OF location) DIVIDED BY (x MINUS element at position zero OF location)
            SET angle_deg TO the conversion of angle_rad TO degrees
            APPEND angle_deg TO angles
        END FOR
        
        SORT angles IN ascending order
        
        SET extended_angles TO concatenation of angles AND each element IN angles PLUS three hundred sixty
        
        SET max_visible TO zero
        SET left TO zero
        
        FOR right FROM zero TO LENGTH OF extended_angles MINUS one
            WHILE element at position right OF extended_angles MINUS element at position left OF extended_angles IS GREATER THAN angle
                INCREMENT left BY one
            END WHILE
            IF (right MINUS left PLUS one) IS GREATER THAN max_visible
                SET max_visible TO right MINUS left PLUS one
            END IF
        END FOR
        
        RETURN max_visible PLUS extra_points
    END FUNCTION
END CLASS