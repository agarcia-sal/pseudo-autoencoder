CLASS Solution  
    FUNCTION getSkyline WITH PARAMETER buildings AS List of List of integers  
        SET events TO empty list  
        
        FOR each building IN buildings  
            SET left TO element at position zero OF building  
            SET right TO element at position one OF building  
            SET height TO element at position two OF building  
            
            APPEND a tuple of left, negative height, right TO events  
            APPEND a tuple of right, zero, zero TO events  
        END FOR  
        
        SORT events BY the first element THEN BY the second element THEN BY the third element IN ascending order  
        
        SET result TO a list containing a list of zero and zero  
        SET max_heap TO a list containing a tuple of zero and positive infinity  
        
        FOR each event IN events  
            SET x TO element at position zero OF event  
            SET negH TO element at position one OF event  
            SET r TO element at position two OF event  
            
            WHILE the second element of the first tuple in max_heap IS LESS THAN OR EQUAL TO x  
                REMOVE the first element FROM max_heap using heap pop operation  
            END WHILE  
            
            IF negH IS NOT EQUAL TO zero  
                ADD a tuple of negH and r TO max_heap using heap push operation  
            END IF  
            
            IF the second element of the last list IN result IS NOT EQUAL TO negative value of the first element OF the first tuple IN max_heap  
                APPEND a list containing x and negative value of the first element OF the first tuple IN max_heap TO result  
            END IF  
        END FOR  
        
        IF the first list IN result IS EQUAL TO a list of zero and zero  
            REMOVE the first list FROM result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS