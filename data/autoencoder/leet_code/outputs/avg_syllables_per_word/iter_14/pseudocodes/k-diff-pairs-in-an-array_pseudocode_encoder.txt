CLASS Solution  
    FUNCTION findPairs(nums, k)  
        IF k LESS THAN zero  
            RETURN zero  
        END IF  
  
        SET num_counts TO auxiliary FUNCTION create_empty_mapping()  
        FOR each num IN nums  
            IF num IS NOT A KEY IN num_counts THEN  
                SET num_counts AT KEY num TO zero  
            END IF  
            INCREMENT num_counts AT KEY num BY one  
        END FOR  
  
        SET unique_pairs TO zero  
        FOR each num IN KEYS OF num_counts  
            IF k EQUAL TO zero  
                IF num_counts AT KEY num GREATER THAN one  
                    INCREMENT unique_pairs BY one  
                END IF  
            ELSE  
                SET target TO num PLUS k  
                IF target IS A KEY IN num_counts  
                    INCREMENT unique_pairs BY one  
                END IF  
            END IF  
        END FOR  
  
        RETURN unique_pairs  
    END FUNCTION  
END CLASS