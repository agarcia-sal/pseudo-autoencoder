CLASS Solution  
    FUNCTION validSquare WITH PARAMETERS p1 p2 p3 p4  
        FUNCTION squared_distance WITH PARAMETERS point1 point2  
            SET delta_x TO element at position zero OF point1 MINUS element at position zero OF point2  
            SET delta_y TO element at position one OF point1 MINUS element at position one OF point2  
            SET squared_dist TO delta_x MULTIPLIED BY delta_x PLUS delta_y MULTIPLIED BY delta_y  
            RETURN squared_dist  
        END FUNCTION  
        
        SET points TO collection OF p1 p2 p3 p4  
        SET distances TO empty collection of unique elements  
        
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET dist TO CALL squared_distance WITH element at position index_i OF points AND element at position index_j OF points  
                IF dist EQUAL TO zero THEN  
                    RETURN false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        
        IF the SIZE OF distances EQUAL TO two THEN  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS