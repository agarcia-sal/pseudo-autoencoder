CLASS Solution  
    FUNCTION nextGreaterElement WITH PARAMETER n  
        SET digits TO list of the characters of the string representation of n  
        SET length TO the number of elements in digits  
        
        SET i TO length MINUS two  
        WHILE i IS GREATER THAN OR EQUAL TO zero AND element at position i OF digits IS GREATER THAN OR EQUAL TO element at position i PLUS one OF digits  
            DECREMENT i BY one  
        END WHILE  
        
        IF i IS EQUAL TO negative one  
            RETURN negative one  
        END IF  
        
        SET j TO length MINUS one  
        WHILE element at position j OF digits IS LESS THAN OR EQUAL TO element at position i OF digits  
            DECREMENT j BY one  
        END WHILE  
        
        SET temporary TO element at position i OF digits  
        SET element at position i OF digits TO element at position j OF digits  
        SET element at position j OF digits TO temporary  
        
        SET prefix TO the elements of digits FROM position zero TO position i  
        SET suffix TO the elements of digits FROM position i PLUS one TO the last element OF digits  
        SET reversed_suffix TO suffix in reverse order  
        SET digits TO concatenation of prefix AND reversed_suffix  
        
        SET result_string TO the concatenation of all elements of digits into a single string  
        SET result TO the integer represented by result_string  
        
        IF result IS GREATER THAN two RAISED TO THE POWER OF thirty ONE MINUS one  
            RETURN negative one  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS