CLASS Solution  
    FUNCTION maxProfit(prices AS List OF integer, fee AS integer)  
        SET cash TO zero  
        SET hold TO negative infinity  
        FOR each price IN prices  
            IF cash IS GREATER THAN OR EQUAL TO hold PLUS price MINUS fee THEN  
                SET cash TO cash  
            ELSE  
                SET cash TO hold PLUS price MINUS fee  
            END IF  
            IF hold IS GREATER THAN OR EQUAL TO cash MINUS price THEN  
                SET hold TO hold  
            ELSE  
                SET hold TO cash MINUS price  
            END IF  
        END FOR  
        RETURN cash  
    END FUNCTION  
END CLASS