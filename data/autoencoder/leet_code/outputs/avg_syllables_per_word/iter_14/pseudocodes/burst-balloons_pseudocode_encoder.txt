CLASS Solution  
    FUNCTION maxCoins WITH PARAMETER nums  
        SET nums TO list WITH element one APPENDED BEFORE all elements OF nums AND element one APPENDED AFTER all elements OF nums  
        SET n TO the LENGTH OF nums  
        SET dp TO a two-dimensional list OF size n BY n FILLED WITH zeroes  
        FOR length FROM two TO n MINUS one  
            FOR i FROM zero TO n MINUS length MINUS one  
                SET j TO i PLUS length  
                FOR k FROM i PLUS one TO j MINUS one  
                    SET coins TO element at position i OF nums MULTIPLIED BY element at position k OF nums MULTIPLIED BY element at position j OF nums PLUS element at position i and k OF dp PLUS element at position k and j OF dp  
                    IF coins IS GREATER THAN element at position i and j OF dp  
                        SET element at position i and j OF dp TO coins  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN element at position zero and n MINUS one OF dp  
    END FUNCTION  
END CLASS