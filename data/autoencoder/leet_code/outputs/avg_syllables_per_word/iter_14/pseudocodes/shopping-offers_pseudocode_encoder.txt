CLASS Solution  
    FUNCTION shoppingOffers WITH PARAMETERS price AND special AND needs  
        SET special TO A NEW LIST CONTAINING each offer FROM special WHERE the SUM OF elements from the FIRST ELEMENT TO the SECOND LAST ELEMENT OF offer IS GREATER THAN zero AND the LAST ELEMENT OF offer IS LESS THAN the SUM OF the PRODUCTS OF CORRESPONDING elements FROM price AND offer EXCLUDING the LAST ELEMENT  
        
        FUNCTION dfs WITH PARAMETER needs  
            SET min_cost TO the SUM OF the PRODUCTS OF CORRESPONDING elements FROM price AND needs  
            
            FOR each offer IN special  
                SET new_needs TO A NEW LIST CONTAINING each n MINUS corresponding o FROM needs AND elements excluding the LAST ELEMENT OF offer  
                IF every element IN new_needs IS GREATER THAN OR EQUAL TO zero THEN  
                    SET min_cost TO THE MINIMUM OF min_cost AND the LAST ELEMENT OF offer PLUS dfs CALLED WITH new_needs CONVERTED TO A TUPLE  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs CALLED WITH needs CONVERTED TO A TUPLE  
    END FUNCTION  
END CLASS