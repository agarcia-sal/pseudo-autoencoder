CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO the LENGTH OF graph  
        SET q TO an EMPTY double-ended QUEUE CONTAINING A LIST WITH element zero  
        SET ans TO an EMPTY LIST  
        WHILE q IS NOT empty  
            SET path TO the FIRST element REMOVED FROM q  
            SET u TO the LAST element OF path  
            IF u EQUAL TO n MINUS one  
                APPEND path TO ans  
                CONTINUE TO the NEXT iteration of WHILE  
            END IF  
            FOR each v IN the element at position u OF graph  
                APPEND A NEW LIST CREATED BY CONCATENATING path WITH A LIST CONTAINING v TO q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS