CLASS Solution  
    FUNCTION largestRectangleArea(heights)  
        SET stack TO a list containing the value negative one  
        SET max_area TO zero  
        APPEND zero TO heights  
        FOR each index i AND each height h IN heights  
            WHILE the last element of stack IS NOT EQUAL TO negative one AND h IS LESS THAN the element at position equal to the last element of stack OF heights  
                SET height TO the element at position obtained by removing the last element of stack FROM heights  
                SET width TO i MINUS the last element of stack MINUS one  
                IF max_area IS LESS THAN height MULTIPLIED BY width  
                    SET max_area TO height MULTIPLIED BY width  
                END IF  
            END WHILE  
            APPEND i TO stack  
        END FOR  
        RETURN max_area  
    END FUNCTION  
END CLASS