CLASS Solution  
    FUNCTION findMinHeightTrees WITH PARAMETERS n AND edges  
        IF n IS EQUAL TO one  
            RETURN a list containing zero  
        END IF  
        
        SET graph TO a new default dictionary mapping to list  
        SET degree TO a list of length n filled with zero  
        
        FOR each pair of values u AND v IN edges  
            APPEND v TO the list associated with u IN graph  
            APPEND u TO the list associated with v IN graph  
            INCREMENT the element at position u OF degree BY one  
            INCREMENT the element at position v OF degree BY one  
        END FOR  
        
        SET leaves TO a new double-ended queue containing each index i FROM zero TO n MINUS one WHERE the element at position i OF degree IS EQUAL TO one  
        
        SET remaining_nodes TO n  
        WHILE remaining_nodes IS GREATER THAN two  
            SET leaves_count TO the LENGTH OF leaves  
            DECREMENT remaining_nodes BY leaves_count  
            FOR count FROM one TO leaves_count  
                REMOVE the element from the left end OF leaves AND ASSIGN it TO leaf  
                FOR each neighbor IN the list associated with leaf IN graph  
                    DECREMENT the element at position neighbor OF degree BY one  
                    IF the element at position neighbor OF degree IS EQUAL TO one  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  
        
        RETURN the list converted from leaves  
    END FUNCTION  
END CLASS