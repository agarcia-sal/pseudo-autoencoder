CLASS Solution  
    FUNCTION champagneTower WITH PARAMETERS poured query_row query_glass  
        SET current_row TO a new list containing only poured  
        FOR each row FROM one TO query_row  
            SET next_row TO a new list containing row PLUS one elements each set TO zero  
            FOR each index i FROM zero TO the LENGTH OF current_row MINUS one  
                IF element at position i OF current_row IS GREATER THAN one  
                    SET excess TO the element at position i OF current_row MINUS one DIVIDED BY two  
                    INCREMENT element at position i OF next_row BY excess  
                    INCREMENT element at position i PLUS one OF next_row BY excess  
                END IF  
            END FOR  
            SET current_row TO next_row  
        END FOR  
        IF element at position query_glass OF current_row IS LESS THAN one  
            RETURN element at position query_glass OF current_row  
        ELSE  
            RETURN one  
        END IF  
    END FUNCTION  
END CLASS