CLASS Solution  
    FUNCTION isValidSerialization(preorder)  
        SET nodes TO the result of splitting preorder BY the literal character comma  
        SET slots TO one  

        FOR each node IN nodes  
            IF slots IS EQUAL TO zero  
                RETURN false  
            END IF  

            DECREMENT slots BY one  

            IF node IS NOT EQUAL TO the literal single hash character  
                INCREMENT slots BY two  
            END IF  
        END FOR  

        RETURN slots IS EQUAL TO zero  
    END FUNCTION  
END CLASS