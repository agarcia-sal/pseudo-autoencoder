CLASS Solution  
    FUNCTION sequenceReconstruction(nums, sequences)  
        SET n TO the LENGTH OF nums  
        SET graph TO a new DEFAULTDICT of LIST  
        SET indegree TO a LIST of n PLUS one elements ALL INITIALIZED TO zero  
        
        FOR each seq IN sequences  
            FOR index FROM zero TO the LENGTH OF seq MINUS one MINUS one  
                SET u TO the element at position index OF seq  
                SET v TO the element at position index PLUS one OF seq  
                APPEND v TO the LIST at key u OF graph  
                INCREMENT the element at position v OF indegree BY one  
            END FOR  
        END FOR  
        
        SET queue TO a new DEQUE containing elements i WHERE i ranges FROM one TO n AND the element at position i OF indegree IS EQUAL TO zero  
        
        IF the LENGTH OF queue IS NOT EQUAL TO one  
            RETURN False  
        END IF  
        
        SET index TO zero  
        WHILE queue IS NOT EMPTY  
            IF the LENGTH OF queue IS NOT EQUAL TO one  
                RETURN False  
            END IF  
            
            SET node TO the element REMOVED FROM the LEFT OF queue  
            IF node IS NOT EQUAL TO the element at position index OF nums  
                RETURN False  
            END IF  
            INCREMENT index BY one  
            
            FOR each neighbor IN the LIST at key node OF graph  
                DECREMENT the element at position neighbor OF indegree BY one  
                IF the element at position neighbor OF indegree IS EQUAL TO zero  
                    APPEND neighbor TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN index IS EQUAL TO n  
    END FUNCTION  
END CLASS