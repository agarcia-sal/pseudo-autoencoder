CLASS Solution  
    FUNCTION numberOfGoodSubsets(nums)  
        SET count TO a mapping of each number in nums TO its frequency  
        SET dp TO a list of zeroes with the length of two raised TO the power of ten  
        SET the element at position zero OF dp TO one  
        
        FOR each num IN the keys of count  
            IF num IS EQUAL TO one  
                SET the element at position zero OF dp TO the element at position zero OF dp MULTIPLIED BY two raised TO the power of the value at position one IN count  
                APPLY modulo MOD TO the element at position zero OF dp  
                CONTINUE TO the next iteration  
            END IF  
            
            IF num IS NOT IN prime_factors  
                CONTINUE TO the next iteration  
            END IF  
            
            SET factors TO the list of prime factors associated WITH num IN prime_factors  
            SET mask TO zero  
            FOR each prime IN factors  
                SET mask TO mask OR two raised TO the power of prime MINUS one  
            END FOR  
            
            FOR m FROM two raised TO the power of ten MINUS one DOWNTO zero  
                IF the bitwise AND of m AND mask IS EQUAL TO zero  
                    SET the element at position m OR mask OF dp TO the sum of the element at position m OR mask OF dp PLUS the product of the element at position m OF dp AND the value at num IN count  
                    APPLY modulo MOD TO the element at position m OR mask OF dp  
                END IF  
            END FOR  
        END FOR  
        
        SET result TO the sum of the elements at all positions from one UP TO the last position IN dp  
        APPLY modulo MOD TO result  
        RETURN result  
    END FUNCTION  
END CLASS