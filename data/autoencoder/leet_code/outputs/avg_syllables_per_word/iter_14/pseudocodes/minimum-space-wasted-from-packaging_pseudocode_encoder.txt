CLASS Solution  
    FUNCTION minWastedSpace WITH PARAMETERS packages AND boxes  
        SET MOD TO ten TO THE POWER OF nine PLUS one  
        SORT packages IN NON-DECREASING ORDER  
        SET n TO the LENGTH OF packages  
        
        CALL calcPrefixSum WITH PARAMETERS packages AND n  
        ASSIGN THE RESULT TO prefix_sum  
        
        SET min_wasted_space TO positive infinity  
        
        FOR each box IN boxes  
            SORT box IN NON-DECREASING ORDER  
            
            IF the last element OF box IS LESS THAN the last element OF packages THEN  
                CONTINUE TO the next iteration OF the FOR LOOP  
            END IF  
            
            SET total_wasted TO zero  
            SET last_index TO zero  
            
            FOR each box_size IN box  
                SET index TO last_index  
                WHILE index IS LESS THAN n AND the element at position index OF packages IS LESS THAN OR EQUAL TO box_size  
                    INCREMENT index BY one  
                END WHILE  
                
                IF index IS GREATER THAN last_index THEN  
                    INCREMENT total_wasted BY the difference OF index MINUS last_index MULTIPLIED BY box_size MINUS the difference OF prefix_sum AT position index MINUS prefix_sum AT position last_index  
                    SET last_index TO index  
                END IF  
            END FOR  
            
            IF last_index IS EQUAL TO n THEN  
                SET min_wasted_space TO the minimum OF min_wasted_space AND total_wasted  
            END IF  
        END FOR  
        
        IF min_wasted_space IS NOT EQUAL TO positive infinity THEN  
            RETURN min_wasted_space MODULO MOD  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
    
    FUNCTION calcPrefixSum WITH PARAMETERS packages AND n  
        CREATE prefix_sum AS A LIST OF zeroes WITH LENGTH n PLUS one  
        FOR index FROM zero TO n MINUS one  
            SET the element at position index PLUS one OF prefix_sum TO the element at position index OF prefix_sum PLUS the element at position index OF packages  
        END FOR  
        RETURN prefix_sum  
    END FUNCTION  
END CLASS