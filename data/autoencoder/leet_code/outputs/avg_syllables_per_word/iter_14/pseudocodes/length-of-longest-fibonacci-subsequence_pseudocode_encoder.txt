CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO A NEW DICTIONARY MAPPING each element x TO its position i IN arr  
        SET dp TO A NEW EMPTY DICTIONARY  
        SET max_length TO zero  
        
        FOR k FROM zero TO the LENGTH OF arr MINUS one  
            FOR j FROM zero TO k MINUS one  
                SET i TO THE VALUE ASSOCIATED WITH the key arr AT POSITION k MINUS arr AT POSITION j IN index OR TO negative one IF NOT FOUND  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j  
                    SET dp AT KEY j COMMA k TO THE VALUE ASSOCIATED WITH KEY i COMMA j IN dp OR two IF NOT FOUND PLUS one  
                    IF dp AT KEY j COMMA k IS GREATER THAN max_length  
                        SET max_length TO dp AT KEY j COMMA k  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        IF max_length IS GREATER THAN OR EQUAL TO three  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS