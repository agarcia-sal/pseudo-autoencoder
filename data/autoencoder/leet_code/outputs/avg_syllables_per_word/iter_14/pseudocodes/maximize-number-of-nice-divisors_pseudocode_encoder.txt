CLASS Solution  
    FUNCTION maxNiceDivisors WITH PARAMETER primeFactors  
        SET MOD TO ten RAISED TO THE POWER OF nine PLUS seven  
        
        IF primeFactors IS LESS THAN OR EQUAL TO three  
            RETURN primeFactors  
        END IF  
        
        SET num_threes TO the INTEGER RESULT OF primeFactors DIVIDED BY three  
        SET remainder TO the REMAINDER OF primeFactors DIVIDED BY three  
        
        IF remainder IS EQUAL TO zero  
            RETURN the RESULT OF THREE RAISED TO THE POWER OF num_threes UNDER MODULO MOD  
        ELSE IF remainder IS EQUAL TO one  
            RETURN the PRODUCT OF THREE RAISED TO THE POWER OF num_threes MINUS one UNDER MODULO MOD AND four UNDER MODULO MOD  
        ELSE  
            RETURN the PRODUCT OF THREE RAISED TO THE POWER OF num_threes UNDER MODULO MOD AND two UNDER MODULO MOD  
        END IF  
    END FUNCTION  
END CLASS