CLASS Solution  
    FUNCTION countSubstrings WITH PARAMETER s  
        FUNCTION expand_around_center WITH PARAMETERS left AND right  
            SET count TO zero  
            WHILE left IS GREATER THAN OR EQUAL TO zero AND right IS LESS THAN LENGTH OF s AND ELEMENT AT POSITION left OF s IS EQUAL TO ELEMENT AT POSITION right OF s  
                INCREMENT count BY one  
                DECREMENT left BY one  
                INCREMENT right BY one  
            END WHILE  
            RETURN count  
        END FUNCTION  
        SET total_palindromes TO zero  
        FOR index FROM zero TO LENGTH OF s MINUS one  
            SET total_palindromes TO total_palindromes PLUS RESULT OF expand_around_center WITH PARAMETERS index AND index  
            SET total_palindromes TO total_palindromes PLUS RESULT OF expand_around_center WITH PARAMETERS index AND index PLUS one  
        END FOR  
        RETURN total_palindromes  
    END FUNCTION  
END CLASS