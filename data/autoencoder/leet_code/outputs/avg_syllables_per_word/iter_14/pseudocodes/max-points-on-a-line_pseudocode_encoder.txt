CLASS Solution  
    FUNCTION maxPoints WITH PARAMETER points  
        FUNCTION slope WITH PARAMETERS p1 AND p2  
            IF element at position zero OF p1 IS EQUAL TO element at position zero OF p2  
                RETURN infinite value  
            END IF  
            SET vertical_difference TO element at position one OF p1 MINUS element at position one OF p2  
            SET horizontal_difference TO element at position zero OF p1 MINUS element at position zero OF p2  
            SET slope_value TO vertical_difference DIVIDED BY horizontal_difference  
            RETURN slope_value  
        END FUNCTION  

        SET max_points TO zero  

        FOR index i FROM zero TO the LENGTH OF points MINUS one  
            SET slopes TO a new empty default mapping with integer default value  
            FOR index j FROM zero TO the LENGTH OF points MINUS one  
                IF i IS NOT EQUAL TO j  
                    SET s TO slope OF element at position i OF points AND element at position j OF points  
                    INCREMENT value at key s OF slopes BY one  
                    IF value at key s OF slopes IS GREATER THAN max_points  
                        SET max_points TO value at key s OF slopes  
                    END IF  
                END IF  
            END FOR  
        END FOR  

        IF the LENGTH OF points IS GREATER THAN zero  
            RETURN max_points PLUS one  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS