CLASS Solution  
    FUNCTION smallestGoodBase WITH PARAMETER n_as_string  
        SET n TO the integer value of n_as_string  
        SET max_length TO the integer part of the base two logarithm of n PLUS one  
        
        FOR m FROM max_length DOWN TO two  
            SET k TO the integer part of n RAISED TO the power of one DIVIDED BY the quantity m MINUS one  
            IF k LESS THAN two  
                CONTINUE to the next iteration of the FOR loop  
            END IF  
            
            SET numerator TO k RAISED TO the power of m MINUS one  
            SET denominator TO k MINUS one  
            SET num TO numerator DIVIDED BY denominator using integer division  
            
            IF num EQUAL TO n  
                RETURN the string representation of k  
            END IF  
        END FOR  
        
        RETURN the string representation of n MINUS one  
    END FUNCTION  
END CLASS