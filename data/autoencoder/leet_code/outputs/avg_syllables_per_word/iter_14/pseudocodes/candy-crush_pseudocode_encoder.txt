CLASS Solution  
    FUNCTION candyCrush(board)  
        SET R TO the LENGTH OF board  
        SET C TO the LENGTH OF the element at position zero OF board  
        SET stable TO false  
        
        WHILE stable IS NOT true  
            SET stable TO true  
            SET to_crush TO an empty set  
            
            FOR r FROM zero TO R MINUS one  
                FOR c FROM zero TO C MINUS three  
                    IF the ABSOLUTE VALUE OF the element at position r AT position c OF board IS EQUAL TO the ABSOLUTE VALUE OF the element at position r AT position c PLUS one OF board  
                    AND the ABSOLUTE VALUE OF the element at position r AT position c OF board IS EQUAL TO the ABSOLUTE VALUE OF the element at position r AT position c PLUS two OF board  
                    AND the ABSOLUTE VALUE OF the element at position r AT position c OF board IS NOT EQUAL TO zero  
                        SET stable TO false  
                        ADD the tuple of r AND c TO to_crush  
                        ADD the tuple of r AND c PLUS one TO to_crush  
                        ADD the tuple of r AND c PLUS two TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR r FROM zero TO R MINUS three  
                FOR c FROM zero TO C MINUS one  
                    IF the ABSOLUTE VALUE OF the element at position r AT position c OF board IS EQUAL TO the ABSOLUTE VALUE OF the element at position r PLUS one AT position c OF board  
                    AND the ABSOLUTE VALUE OF the element at position r AT position c OF board IS EQUAL TO the ABSOLUTE VALUE OF the element at position r PLUS two AT position c OF board  
                    AND the ABSOLUTE VALUE OF the element at position r AT position c OF board IS NOT EQUAL TO zero  
                        SET stable TO false  
                        ADD the tuple of r AND c TO to_crush  
                        ADD the tuple of r PLUS one AND c TO to_crush  
                        ADD the tuple of r PLUS two AND c TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR each tuple of r AND c IN to_crush  
                SET the element at position r AT position c OF board TO zero  
            END FOR  
            
            FOR c FROM zero TO C MINUS one  
                SET wr TO R MINUS one  
                FOR r FROM R MINUS one DOWN TO zero  
                    IF the element at position r AT position c OF board IS NOT EQUAL TO zero  
                        SET the element at position wr AT position c OF board TO the element at position r AT position c OF board  
                        DECREMENT wr BY one  
                    END IF  
                END FOR  
                FOR wr FROM wr DOWN TO zero  
                    SET the element at position wr AT position c OF board TO zero  
                END FOR  
            END FOR  
        END WHILE  
        
        RETURN board  
    END FUNCTION  
END CLASS