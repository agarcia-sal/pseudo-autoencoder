CLASS Solution  
    FUNCTION canWin WITH PARAMETER currentState  
        SET memo TO an empty mapping  
        
        FUNCTION can_win_helper WITH PARAMETER state  
            IF state IS PRESENT AS A KEY IN memo  
                RETURN element ASSOCIATED WITH state IN memo  
            END IF  
            
            FOR index FROM zero TO the LENGTH OF state MINUS one MINUS one  
                SET substring TO substring FROM position index TO index PLUS one OF state  
                IF substring IS EQUAL TO two PLUS symbols IN SEQUENCE  
                    SET new_state TO concatenation OF substring FROM beginning TO index OF state  
                    PLUS two MINUS symbols IN SEQUENCE  
                    PLUS substring FROM position index PLUS two TO end OF state  
                    
                    IF can_win_helper CALLED WITH new_state RETURNS FALSE  
                        SET element ASSOCIATED WITH state IN memo TO TRUE  
                        RETURN TRUE  
                    END IF  
                END IF  
            END FOR  
            
            SET element ASSOCIATED WITH state IN memo TO FALSE  
            RETURN FALSE  
        END FUNCTION  
        
        RETURN can_win_helper CALLED WITH currentState  
    END FUNCTION  
END CLASS