CLASS Solution  
    FUNCTION loudAndRich(richer AS list of list of integer, quiet AS list of integer)  
        SET graph TO an empty mapping from integer TO list of integer  
        FOR each pair a AND b IN richer  
            APPEND a TO the list AT graph AT key b  
        END FOR  
        
        SET n TO the LENGTH OF quiet  
        SET answer TO a list of length n FILLED WITH minus one  
        
        FUNCTION dfs(person AS integer)  
            IF the element at position person OF answer IS EQUAL TO minus one  
                SET the element at position person OF answer TO person  
                FOR each neighbor IN the list AT graph AT key person  
                    SET candidate TO dfs(neighbor)  
                    IF the element at position candidate OF quiet IS LESS THAN the element at position the element at position person OF answer OF quiet  
                        SET the element at position person OF answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN the element at position person OF answer  
        END FUNCTION  
        
        FOR i FROM zero TO n MINUS one  
            CALL dfs WITH argument i  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS