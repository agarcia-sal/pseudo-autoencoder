CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY the end day of each event  
        SET n TO the LENGTH OF events  
          
        INITIALIZE dp AS a list of lists with the size of n PLUS one by k PLUS one FILLED WITH zero  
          
        FOR i FROM one TO n  
            SET start TO the first element AT position zero OF the event at position i MINUS one IN events  
            SET end TO the second element AT position one OF the event at position i MINUS one IN events  
            SET value TO the third element AT position two OF the event at position i MINUS one IN events  
              
            SET j TO the result of finding the leftmost position to insert start INTO events BY comparing the end day OF each event  
              
            FOR l FROM one TO k  
                SET dp AT position i AND l TO the greater value BETWEEN dp AT position i MINUS one AND l AND the sum OF dp AT position j AND l MINUS one AND value  
            END FOR  
        END FOR  
          
        RETURN dp AT position n AND k  
    END FUNCTION  
END CLASS