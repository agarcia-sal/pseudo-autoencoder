CLASS Solution  
    FUNCTION solve(nums, queries)  
        SET MOD TO ten TO THE POWER OF nine PLUS one  
        SET n TO the LENGTH OF nums  
        
        SET max_y TO the MAXIMUM value OF element at position two OF each element IN queries  
        
        CREATE prefix_sums AS a list CONTAINING max_y PLUS one sublists EACH CONTAINING n ZEROES  
        
        FOR y FROM one TO max_y  
            FOR i FROM n MINUS one DOWN TO zero  
                IF i PLUS y LESS THAN n IS TRUE  
                    SET element at position i OF element at position y OF prefix_sums TO element at position i OF nums PLUS element at position i PLUS y OF element at position y OF prefix_sums  
                ELSE  
                    SET element at position i OF element at position y OF prefix_sums TO element at position i OF nums  
                END IF  
            END FOR  
        END FOR  
        
        CREATE answer AS an empty list  
        
        FOR each pair x AND y IN queries  
            APPEND the remainder of element at position x OF element at position y OF prefix_sums DIVIDED BY MOD TO answer  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS