CLASS Solution  
    FUNCTION candy WITH PARAMETER ratings  
        SET n TO the LENGTH OF ratings  
        SET candies TO a list OF size n WHERE each element IS one  
        FOR index i FROM one TO n MINUS one  
            IF element at position i OF ratings IS GREATER THAN element at position i MINUS one OF ratings  
                SET element at position i OF candies TO element at position i MINUS one OF candies PLUS one  
            END IF  
        END FOR  
        FOR index i FROM n MINUS two DOWN TO zero  
            IF element at position i OF ratings IS GREATER THAN element at position i PLUS one OF ratings  
                SET element at position i OF candies TO the GREATER OF element at position i OF candies AND element at position i PLUS one OF candies PLUS one  
            END IF  
        END FOR  
        RETURN the SUM OF elements OF candies  
    END FUNCTION  
END CLASS