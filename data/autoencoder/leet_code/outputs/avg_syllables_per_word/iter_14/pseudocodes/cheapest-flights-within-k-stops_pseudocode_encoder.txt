CLASS Solution  
    FUNCTION findCheapestPrice WITH PARAMETERS n flights src dst k  
        SET graph TO AN EMPTY MAPPING FROM EACH number FROM zero TO n MINUS one TO AN EMPTY LIST  
        FOR each flight IN flights  
            DECOMPOSE flight INTO u v w  
            APPEND THE PAIR OF v AND w TO THE LIST ASSOCIATED WITH u IN graph  
        END FOR  
        
        SET min_heap TO A LIST CONTAINING A TRIPLE OF zero ZERO MINUS ONE AND src  
        SET min_cost TO A MAPPING WITH key src AND value MINUS ONE  
        
        WHILE min_heap IS NOT EMPTY  
            REMOVE THE ELEMENT WITH SMALLEST FIRST VALUE FROM min_heap AND DECOMPOSE IT INTO cost stops city  
            
            IF city IS EQUAL TO dst  
                RETURN cost  
            END IF  
            
            IF stops IS GREATER THAN OR EQUAL TO k  
                CONTINUE TO THE NEXT ITERATION OF THE WHILE LOOP  
            END IF  
            
            FOR each pair neighbor price IN THE LIST ASSOCIATED WITH city IN graph  
                SET next_cost TO cost PLUS price  
                SET next_stops TO stops PLUS one  
                
                IF neighbor IS NOT IN min_cost OR next_stops IS LESS THAN THE VALUE ASSOCIATED WITH neighbor IN min_cost OR next_cost IS LESS THAN THE FIRST VALUE OF THE FIRST ELEMENT IN min_heap  
                    ASSIGN next_stops TO THE VALUE ASSOCIATED WITH neighbor IN min_cost  
                    ADD THE TRIPLE OF next_cost next_stops AND neighbor TO min_heap USING HEAP INSERTION  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN MINUS ONE  
    END FUNCTION  
END CLASS