CLASS Solution  
    FUNCTION getProbability(balls)  
        FUNCTION dfs(i, j, diff)  
            IF i IS GREATER THAN OR EQUAL TO k  
                IF j IS EQUAL TO zero AND diff IS EQUAL TO zero  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
            IF j IS LESS THAN zero  
                RETURN zero  
            END IF  
            SET ans TO zero  
            FOR x FROM zero TO the element at position i OF balls INCLUSIVE  
                IF x IS EQUAL TO the element at position i OF balls  
                    SET y TO one  
                ELSE IF x IS EQUAL TO zero  
                    SET y TO minus one  
                ELSE  
                    SET y TO zero  
                END IF  
                SET ans TO ans PLUS dfs(i PLUS one, j MINUS x, diff PLUS y) MULTIPLIED BY the number of combinations OF the element at position i OF balls TAKEN x AT A TIME  
            END FOR  
            RETURN ans  
        END FUNCTION  
        SET n TO the sum OF balls DIVIDED BY two  
        SET k TO the length OF balls  
        RETURN dfs(zero, n, zero) DIVIDED BY the number of combinations OF n PLUS n TAKEN n AT A TIME  
    END FUNCTION  
END CLASS