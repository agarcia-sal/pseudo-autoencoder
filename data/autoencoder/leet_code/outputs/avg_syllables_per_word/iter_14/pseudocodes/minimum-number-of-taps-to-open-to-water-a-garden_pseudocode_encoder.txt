CLASS Solution  
    FUNCTION minTaps WITH PARAMETERS n AND ranges  
        CREATE max_range AS A LIST OF zero ELEMENTS WITH LENGTH n PLUS one  
        FOR i FROM zero TO n  
            IF element at position i OF ranges IS GREATER THAN zero  
                SET left TO THE GREATER OF zero AND i MINUS element at position i OF ranges  
                SET right TO THE SMALLER OF n AND i PLUS element at position i OF ranges  
                SET element at position left OF max_range TO THE GREATER OF element at position left OF max_range AND right  
            END IF  
        END FOR  
        SET taps TO zero  
        SET current_end TO zero  
        SET farthest TO zero  
        FOR i FROM zero TO n  
            IF i IS GREATER THAN farthest  
                RETURN negative one  
            END IF  
            IF i IS GREATER THAN current_end  
                INCREMENT taps BY one  
                SET current_end TO farthest  
            END IF  
            SET farthest TO THE GREATER OF farthest AND element at position i OF max_range  
        END FOR  
        RETURN taps  
    END FUNCTION  
END CLASS