CLASS Solution  
    FUNCTION subarraySum(nums, k)  
        SET cumulative_sum_freq TO a new mapping with key zero ASSIGNED TO value one  
        SET current_sum TO zero  
        SET count TO zero  
        
        FOR each num IN nums  
            SET current_sum TO current_sum PLUS num  
            
            IF the mapping cumulative_sum_freq CONTAINS the key current_sum MINUS k  
                INCREMENT count BY the value associated with the key current_sum MINUS k IN cumulative_sum_freq  
            END IF  
            
            IF the mapping cumulative_sum_freq CONTAINS the key current_sum  
                INCREMENT the value associated with the key current_sum IN cumulative_sum_freq BY one  
            ELSE  
                ASSIGN the value one TO the key current_sum IN cumulative_sum_freq  
            END IF  
        END FOR  
        
        RETURN count  
    END FUNCTION  
END CLASS