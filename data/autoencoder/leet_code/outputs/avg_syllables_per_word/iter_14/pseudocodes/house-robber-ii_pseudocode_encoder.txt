CLASS Solution  
    FUNCTION rob(nums)  
        FUNCTION rob_linear(houses)  
            IF houses IS EMPTY  
                RETURN zero  
            END IF  
            
            IF the LENGTH OF houses IS equal to one  
                RETURN the element at position zero OF houses  
            END IF  
            
            SET dp TO a list OF zeros WITH the LENGTH OF houses  
            SET the element at position zero OF dp TO the element at position zero OF houses  
            SET the element at position one OF dp TO the GREATER OF the element at position zero OF houses AND the element at position one OF houses  
            
            FOR index FROM two TO the LENGTH OF houses MINUS one  
                SET the element at position index OF dp TO the GREATER OF the element at position index MINUS one OF dp AND the SUM OF the element at position index MINUS two OF dp PLUS the element at position index OF houses  
            END FOR  
            
            RETURN the element at the LAST position OF dp  
        END FUNCTION  
        
        IF nums IS EMPTY  
            RETURN zero  
        END IF  
        
        IF the LENGTH OF nums IS equal to one  
            RETURN the element at position zero OF nums  
        END IF  
        
        RETURN the GREATER OF rob_linear(the list OF elements FROM position zero TO the SECOND TO LAST position OF nums) AND rob_linear(the list OF elements FROM position one TO the LAST position OF nums)  
    END FUNCTION  
END CLASS