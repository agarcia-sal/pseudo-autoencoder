CLASS Solution  
    FUNCTION openLock(deadends, target)  
        SET deadends_set TO a SET containing all elements of deadends  
        
        IF the STRING zero zero zero zero IS IN deadends_set  
            RETURN minus one  
        END IF  
        
        IF target IS EQUAL TO the STRING zero zero zero zero  
            RETURN zero  
        END IF  
        
        SET queue TO a deque initialized with one element being a TUPLE of the STRING zero zero zero zero AND zero  
        SET visited TO a SET containing the STRING zero zero zero zero  
        
        FUNCTION neighbors(state)  
            SET result TO an empty LIST  
            FOR index FROM zero TO three  
                SET digit TO the INTEGER value of the CHARACTER at position index OF state  
                FOR each move IN the LIST minus one AND one  
                    SET new_digit TO the value of digit PLUS move MODULO ten  
                    SET new_state TO the SUBSTRING FROM start zero TO position index MINUS one OF state CONCATENATED WITH the STRING representation of new_digit CONCATENATED WITH the SUBSTRING FROM position index PLUS one TO the END OF state  
                    APPEND new_state TO result  
                END FOR  
            END FOR  
            RETURN result  
        END FUNCTION  
        
        WHILE the LENGTH OF queue IS GREATER THAN zero  
            REMOVE the FIRST element FROM queue AND ASSIGN TO current_state AND steps  
            
            FOR each neighbor IN neighbors(current_state)  
                IF neighbor IS NOT IN visited AND neighbor IS NOT IN deadends_set  
                    IF neighbor IS EQUAL TO target  
                        RETURN steps PLUS one  
                    END IF  
                    ADD neighbor TO visited  
                    APPEND a TUPLE of neighbor AND steps PLUS one TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN minus one  
    END FUNCTION  
END CLASS