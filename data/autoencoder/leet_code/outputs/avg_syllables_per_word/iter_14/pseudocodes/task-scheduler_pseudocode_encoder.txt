CLASS Solution  
    FUNCTION leastInterval(tasks, n)  
        SET task_counts TO the FREQUENCY COUNTER OF tasks  
        SET max_heap TO a LIST OF NEGATIVE OF each VALUE IN the VALUES OF task_counts  
        CALL heapify ON max_heap  
        SET time TO zero  
        SET queue TO an EMPTY LIST  
        
        WHILE max_heap IS NOT EMPTY OR queue IS NOT EMPTY  
            WHILE queue IS NOT EMPTY AND the FIRST ELEMENT AT POSITION zero OF queue AT POSITION zero IS EQUAL TO time  
                REMOVE the FIRST ELEMENT FROM queue AND ASSIGN TO ignored_time AND count  
                IF count IS LESS THAN zero  
                    PUSH count INTO max_heap USING heap push  
                END IF  
            END WHILE  
            
            IF max_heap IS NOT EMPTY  
                POP the SMALLEST ELEMENT FROM max_heap USING heap pop AND ASSIGN TO count  
                INCREMENT count BY one  
                IF count IS LESS THAN zero  
                    APPEND a TUPLE OF time PLUS n PLUS one AND count TO queue  
                END IF  
            END IF  
            
            INCREMENT time BY one  
        END WHILE  
        
        RETURN time  
    END FUNCTION  
END CLASS