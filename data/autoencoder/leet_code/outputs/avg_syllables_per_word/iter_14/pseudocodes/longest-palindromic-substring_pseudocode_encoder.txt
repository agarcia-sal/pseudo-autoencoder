CLASS Solution
    FUNCTION longestPalindrome WITH PARAMETER s
        SET n TO the LENGTH OF s
        SET f TO A two-dimensional structure OF size n BY n WHERE each element IS TRUE
        SET k TO zero
        SET mx TO one
        FOR i FROM n MINUS two DOWN TO zero
            FOR j FROM i PLUS one TO n MINUS one
                SET element at position i AND j OF f TO FALSE
                IF element at position i OF s EQUAL TO element at position j OF s
                    SET element at position i AND j OF f TO element at position i PLUS one AND j MINUS one OF f
                    IF element at position i AND j OF f IS TRUE AND mx IS LESS THAN j MINUS i PLUS one
                        SET k TO i
                        SET mx TO j MINUS i PLUS one
                    END IF
                END IF
            END FOR
        END FOR
        RETURN the SUBSTRING FROM position k TO position k PLUS mx OF s
    END FUNCTION
END CLASS