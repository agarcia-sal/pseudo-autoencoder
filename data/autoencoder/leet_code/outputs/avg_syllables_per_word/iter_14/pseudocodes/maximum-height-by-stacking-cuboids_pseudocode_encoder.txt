CLASS Solution  
    FUNCTION maxHeight WITH PARAMETER cuboids  
        FOR each cuboid IN cuboids  
            SORT the dimensions OF cuboid IN non-decreasing order  
        END FOR  
        
        SORT cuboids IN lexicographical order  
        
        SET n TO the LENGTH OF cuboids  
        INITIALIZE dp AS list OF zero WITH length n  
        
        FOR index i FROM zero TO n MINUS one  
            SET the element at position i OF dp TO the element at position two OF the cuboid at position i IN cuboids  
            
            FOR index j FROM zero TO i MINUS one  
                IF the element at position zero OF the cuboid at position j IN cuboids IS LESS THAN OR EQUAL TO the element at position zero OF the cuboid at position i IN cuboids  
                AND the element at position one OF the cuboid at position j IN cuboids IS LESS THAN OR EQUAL TO the element at position one OF the cuboid at position i IN cuboids  
                AND the element at position two OF the cuboid at position j IN cuboids IS LESS THAN OR EQUAL TO the element at position two OF the cuboid at position i IN cuboids  
                    IF the element at position i OF dp IS LESS THAN the element at position j OF dp PLUS the element at position two OF the cuboid at position i IN cuboids  
                        SET the element at position i OF dp TO the element at position j OF dp PLUS the element at position two OF the cuboid at position i IN cuboids  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        SET result TO the maximum value IN dp  
        RETURN result  
    END FUNCTION  
END CLASS