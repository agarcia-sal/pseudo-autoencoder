CLASS Solution  
    FUNCTION numFriendRequests WITH PARAMETER ages  
        FUNCTION request_will_be_sent WITH PARAMETERS age_x age_y  
            RETURN NOT (age_y LESS THAN OR EQUAL TO HALF OF age_x PLUS seven OR age_y GREATER THAN age_x OR age_y GREATER THAN one hundred AND age_x LESS THAN one hundred)  
        END FUNCTION  
        
        SET count TO list OF zero REPEATED one hundred AND twenty-one TIMES  
        FOR each age IN ages  
            INCREMENT element at position age OF count BY one  
        END FOR  
        
        SET total_requests TO zero  
        FOR age_x FROM one TO one hundred AND twenty  
            FOR age_y FROM one TO one hundred AND twenty  
                IF request_will_be_sent WITH age_x age_y RETURNS TRUE  
                    INCREMENT total_requests BY element at position age_x OF count MULTIPLIED BY element at position age_y OF count MINUS one IF age_x EQUAL TO age_y ELSE element at position age_y OF count  
                END IF  
            END FOR  
        END FOR  
        
        RETURN total_requests  
    END FUNCTION  
END CLASS