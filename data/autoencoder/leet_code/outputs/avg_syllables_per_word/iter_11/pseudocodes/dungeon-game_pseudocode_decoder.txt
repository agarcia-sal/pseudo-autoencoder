CLASS Solution  
    FUNCTION calculateMinimumHP(dungeon)  
        SET m TO the LENGTH OF dungeon  
        SET n TO the LENGTH OF element at position zero of dungeon  
        CALL createDPTable WITH parameters m PLUS one, n PLUS one AND SET TO dp  
        SET element at position m of dp at position n MINUS one TO one  
        SET element at position m MINUS one of dp at position n TO one  
        FOR i FROM m MINUS one DOWN TO zero  
            FOR j FROM n MINUS one DOWN TO zero  
                SET min_health TO THE MINIMUM OF element at position i PLUS one of dp at position j AND element at position i of dp at position j PLUS one MINUS element at position i of dungeon at position j  
                IF min_health LESS THAN one  
                    SET element at position i of dp at position j TO one  
                ELSE  
                    SET element at position i of dp at position j TO min_health  
                END IF  
            END FOR  
        END FOR  
        RETURN element at position zero of dp at position zero  
    END FUNCTION  

    FUNCTION createDPTable(rows, columns)  
        SET dp_table TO an empty list  
        FOR each index FROM zero TO rows MINUS one  
            SET row_list TO a list containing columns instances of infinity  
            APPEND row_list TO dp_table  
        END FOR  
        RETURN dp_table  
    END FUNCTION  
END CLASS