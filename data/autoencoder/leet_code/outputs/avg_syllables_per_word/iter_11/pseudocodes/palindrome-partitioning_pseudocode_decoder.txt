CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            IF sub EQUALS reverse of sub  
                RETURN true  
            ELSE  
                RETURN false  
            END IF  
        END FUNCTION  

        FUNCTION backtrack(start, path)  
            IF start EQUALS the LENGTH OF s  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s PLUS one  
                IF is_palindrome(element at position from start TO end MINUS one of s)  
                    CALL backtrack WITH end AND path PLUS list containing element at position from start TO end MINUS one of s  
                END IF  
            END FOR  
        END FUNCTION  

        SET result TO empty list  
        CALL backtrack WITH zero AND empty list  
        RETURN result  
    END FUNCTION  
END CLASS