CLASS Solution  
    FUNCTION subdomainVisits(cpdomains)  
        SET domain_count TO result of calling defaultdict with integer default  
          
        FOR each cpdomain IN cpdomains  
            SPLIT cpdomain INTO count_string AND domain by space  
            SET count TO integer value of count_string  
            SPLIT domain INTO subdomains by period  
              
            FOR index FROM zero TO LENGTH OF subdomains MINUS one  
                JOIN subelements from element at position index TO last element of subdomains by period INTO subdomain  
                INCREMENT value at key subdomain in domain_count BY count  
            END FOR  
        END FOR  
          
        SET result_list TO empty list  
        FOR each pair domain and count IN domain_count items  
            APPEND string formed by concatenating count, space, and domain TO result_list  
        END FOR  
          
        RETURN result_list  
    END FUNCTION  
END CLASS