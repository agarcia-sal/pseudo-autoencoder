CLASS Solution  
    FUNCTION numberOfPatterns(m, n)  
        SET jumps TO a mapping with the following pairs:  
            pair of one and three maps to two  
            pair of one and seven maps to four  
            pair of one and nine maps to five  
            pair of two and eight maps to five  
            pair of three and one maps to two  
            pair of three and seven maps to five  
            pair of three and nine maps to six  
            pair of four and six maps to five  
            pair of five and five maps to five  
            pair of six and four maps to five  
            pair of seven and one maps to four  
            pair of seven and three maps to five  
            pair of seven and nine maps to eight  
            pair of eight and two maps to five  
            pair of nine and one maps to five  
            pair of nine and three maps to six  
            pair of nine and seven maps to eight  

        FUNCTION countPatternsFromDot(current, visited, length)  
            IF length EQUALS n THEN  
                RETURN one  
            END IF  
            IF length GREATER THAN OR EQUAL TO m THEN  
                SET count TO one  
            ELSE  
                SET count TO zero  
            END IF  
            FOR next_dot FROM one TO nine  
                IF element at position next_dot of visited IS false THEN  
                    SET jump TO the value in jumps for the pair current and next_dot  
                    IF jump DOES NOT EXIST OR element at position jump of visited IS true THEN  
                        SET element at position next_dot of visited TO true  
                        INCREMENT count BY countPatternsFromDot(next_dot, visited, length PLUS one)  
                        SET element at position next_dot of visited TO false  
                    END IF  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  

        SET visited TO a list of ten elements all set to false  
        SET result TO zero  

        FOR i FROM one TO nine  
            SET element at position i of visited TO true  
            INCREMENT result BY countPatternsFromDot(i, visited, one)  
            SET element at position i of visited TO false  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS