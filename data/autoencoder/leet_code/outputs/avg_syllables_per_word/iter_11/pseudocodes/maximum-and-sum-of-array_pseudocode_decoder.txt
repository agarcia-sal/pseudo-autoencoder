CLASS Solution  
    FUNCTION maximumANDSum(nums, numSlots)  
        FUNCTION dp(index, slots)  
            IF index EQUALS the LENGTH OF nums  
                RETURN zero  
            END IF  
            
            SET max_and_sum TO zero  
            SET slots_list TO a list CONTAINING elements FROM slots  
            
            FOR i FROM zero TO numSlots MINUS one  
                IF the element at position i of slots_list LESS THAN two  
                    INCREMENT the element at position i of slots_list BY one  
                    SET and_sum TO the bitwise AND of the element at position index of nums AND (i PLUS one) PLUS the result of dp WITH parameters (index PLUS one, the tuple CONTAINING elements FROM slots_list)  
                    IF and_sum GREATER THAN max_and_sum  
                        SET max_and_sum TO and_sum  
                    END IF  
                    DECREMENT the element at position i of slots_list BY one  
                END IF  
            END FOR  
            
            RETURN max_and_sum  
        END FUNCTION  
        
        SET initial_slots TO a tuple CONTAINING zero REPEATED numSlots TIMES  
        RETURN the result of dp WITH parameters (zero, initial_slots)  
    END FUNCTION  
END CLASS