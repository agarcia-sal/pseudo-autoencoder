CLASS Solution  
    FUNCTION totalNQueens(n)  
        FUNCTION is_not_under_attack(row, col)  
            RETURN NOT (element at position col of cols PLUS element at position row MINUS col of hills PLUS element at position row PLUS col of dales)  
        END FUNCTION  

        FUNCTION place_queen(row, col)  
            SET element at position col of cols TO one  
            SET element at position row MINUS col of hills TO one  
            SET element at position row PLUS col of dales TO one  
        END FUNCTION  

        FUNCTION remove_queen(row, col)  
            SET element at position col of cols TO zero  
            SET element at position row MINUS col of hills TO zero  
            SET element at position row PLUS col of dales TO zero  
        END FUNCTION  

        FUNCTION backtrack(row, count)  
            IF row IS NOT GIVEN  
                SET row TO zero  
            END IF  
            IF count IS NOT GIVEN  
                SET count TO zero  
            END IF  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack(row, col)  
                    CALL place_queen(row, col)  
                    IF row PLUS one EQUALS n  
                        INCREMENT count BY one  
                    ELSE  
                        SET count TO CALL backtrack(row PLUS one, count)  
                    END IF  
                    CALL remove_queen(row, col)  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  

        SET cols TO list of n zeros  
        SET hills TO list of 2 MULTIPLIED BY n MINUS one zeros  
        SET dales TO list of 2 MULTIPLIED BY n MINUS one zeros  

        RETURN CALL backtrack()  
    END FUNCTION  
END CLASS