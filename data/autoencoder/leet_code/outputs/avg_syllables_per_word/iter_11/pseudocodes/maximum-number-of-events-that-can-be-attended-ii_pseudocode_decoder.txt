CLASS Solution  
    FUNCTION maxValue(events, k)  
        CALL events SORTED BY the second element of each event  
        SET n TO the LENGTH OF events  
        CALL dp INITIALIZED AS a two dimensional list of zeros with n PLUS one rows and k PLUS one columns  
        FOR i FROM one TO n  
            SET start TO the first element of the event at position i MINUS one of events  
            SET end TO the second element of the event at position i MINUS one of events  
            SET value TO the third element of the event at position i MINUS one of events  
            SET j TO the position FOUND BY bisect_left in events with target start and key as the second element of each event  
            FOR l FROM one TO k  
                SET dp at position i and l TO the maximum BETWEEN the value at dp position i MINUS one and l AND the sum of dp at position j and l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN the value at dp position n and k  
    END FUNCTION  
END CLASS