CLASS Solution  
    FUNCTION subarraysWithKDistinct(nums, k)  
        FUNCTION atMostKDistinct(t)  
            SET count TO a new mapping with default zero for each key  
            SET left TO zero  
            SET result TO zero  
            FOR right FROM zero TO the LENGTH OF nums MINUS one  
                INCREMENT the value at key element at position right of nums IN count BY one  
                WHILE the NUMBER OF keys in count GREATER THAN t  
                    DECREMENT the value at key element at position left of nums IN count BY one  
                    IF the value at key element at position left of nums IN count EQUALS zero  
                        REMOVE the key element at position left of nums FROM count  
                    END IF  
                    INCREMENT left BY one  
                END WHILE  
                INCREMENT result BY right MINUS left PLUS one  
            END FOR  
            RETURN result  
        END FUNCTION  
        RETURN the CALL to atMostKDistinct with k MINUS the CALL to atMostKDistinct with k MINUS one  
    END FUNCTION  
END CLASS