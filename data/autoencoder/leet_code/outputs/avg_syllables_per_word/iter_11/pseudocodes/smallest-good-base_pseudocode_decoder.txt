CLASS Solution  
    FUNCTION smallestGoodBase(n)  
        SET n TO the integer value of n  
        SET max_length TO the integer value of the base two logarithm of n PLUS one  
        FOR m FROM max_length DOWN TO two  
            SET k TO the integer value of n RAISED TO the power of one DIVIDED BY (m MINUS one)  
            IF k LESS THAN two  
                CONTINUE to the next iteration of the loop  
            END IF  
            SET num TO the integer value of k RAISED TO the power of m MINUS one DIVIDED BY k MINUS one  
            IF num EQUALS n  
                RETURN the string value of k  
            END IF  
        END FOR  
        RETURN the string value of n MINUS one  
    END FUNCTION  
END CLASS