CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j  
                RETURN zero  
            END IF  
            IF the TUPLE of i and j IS IN memo  
                RETURN the VALUE of memo AT the TUPLE of i and j  
            END IF  
            SET result TO the VALUE of dp WITH PARAMETERS i, j MINUS one, memo PLUS one  
            FOR k FROM i TO j MINUS one  
                IF the ELEMENT at position k OF s EQUALS the ELEMENT at position j OF s  
                    SET candidate TO the VALUE of dp WITH PARAMETERS i, k MINUS one, memo PLUS the VALUE of dp WITH PARAMETERS k, j MINUS one, memo  
                    IF candidate LESS THAN result  
                        SET result TO candidate  
                    END IF  
                END IF  
            END FOR  
            SET the VALUE of memo AT the TUPLE of i and j TO result  
            RETURN result  
        END FUNCTION  
        RETURN dp WITH PARAMETERS zero, the LENGTH OF s MINUS one, EMPTY MAP  
    END FUNCTION  
END CLASS