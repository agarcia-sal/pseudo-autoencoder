CLASS Solution  
    FUNCTION findMinHeightTrees(n, edges)  
        IF n EQUALS one  
            RETURN list containing zero  
        END IF  
        
        SET graph TO an empty mapping from nodes to list of neighbors  
        SET degree TO list of zeros of length n  
        
        FOR each pair u, v IN edges  
            APPEND v TO list of neighbors for node u in graph  
            APPEND u TO list of neighbors for node v in graph  
            INCREMENT degree of node u BY one  
            INCREMENT degree of node v BY one  
        END FOR  
        
        SET leaves TO a double-ended queue containing each index i FROM zero TO n MINUS one WHERE degree at i EQUALS one  
        
        SET remaining_nodes TO n  
        WHILE remaining_nodes GREATER THAN two  
            SET leaves_count TO LENGTH OF leaves  
            DECREMENT remaining_nodes BY leaves_count  
            FOR index FROM one TO leaves_count  
                SET leaf TO remove first element FROM leaves  
                FOR each neighbor IN list of neighbors for leaf in graph  
                    DECREMENT degree at neighbor BY one  
                    IF degree at neighbor EQUALS one  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  
        
        RETURN list converted from leaves  
    END FUNCTION  
END CLASS