CLASS Solution  
    FUNCTION numMusicPlaylists(n, goal, k)  
        SET MOD TO one billion PLUS seven  
        
        FUNCTION initialize_dp(goal, n)  
            CREATE a two-dimensional list named dp with goal PLUS one rows and n PLUS one columns  
            EACH element in dp IS initialized TO zero  
            RETURN dp  
        END FUNCTION  
        
        SET dp TO initialize_dp(goal, n)  
        SET element at position zero, zero OF dp TO one  
        
        FOR index i FROM one TO goal  
            FOR index j FROM one TO n  
                SET element at position i, j OF dp TO element at position i, j OF dp PLUS (element at position i MINUS one, j MINUS one OF dp MULTIPLIED BY (n MINUS (j MINUS one)))  
                SET element at position i, j OF dp TO element at position i, j OF dp MODULO MOD  
                
                IF j GREATER THAN k  
                    SET element at position i, j OF dp TO element at position i, j OF dp PLUS (element at position i MINUS one, j OF dp MULTIPLIED BY (j MINUS k))  
                    SET element at position i, j OF dp TO element at position i, j OF dp MODULO MOD  
                END IF  
            END FOR  
        END FOR  
        
        RETURN element at position goal, n OF dp  
    END FUNCTION  
END CLASS