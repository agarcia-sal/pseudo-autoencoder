CLASS Solution  
    FUNCTION stoneGame(piles)  
        FUNCTION dfs(i, j)  
            IF i GREATER THAN j  
                RETURN zero  
            END IF  
            SET value_from_left TO element at position i of piles MINUS dfs(i PLUS one, j)  
            SET value_from_right TO element at position j of piles MINUS dfs(i, j MINUS one)  
            IF value_from_left GREATER THAN value_from_right  
                RETURN value_from_left  
            ELSE  
                RETURN value_from_right  
            END IF  
        END FUNCTION  
        SET result TO dfs(zero, LENGTH OF piles MINUS one) GREATER THAN zero  
        RETURN result  
    END FUNCTION  
END CLASS