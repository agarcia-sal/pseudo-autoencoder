CLASS Solution  
    FUNCTION replaceWords(dictionary, sentence)  
        SORT dictionary BY LENGTH OF each element  
        SET words TO the result of SPLITTING sentence INTO separate words  
        
        FUNCTION replace(word)  
            FOR each root IN dictionary  
                IF word STARTS WITH root  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
        
        SET replaced_words TO an empty list  
        FOR each word IN words  
            APPEND the result of replace(word) TO replaced_words  
        END FOR  
        
        SET replaced_sentence TO the result of JOINING replaced_words INTO a single string separated by spaces  
        RETURN replaced_sentence  
    END FUNCTION  
END CLASS