CLASS Solution  
    FUNCTION nearestPalindromic(n)  
        SET length TO the LENGTH OF n  
        IF length EQUALS one  
            RETURN the STRING REPRESENTATION OF the INTEGER VALUE OF n MINUS one  
        END IF  
        
        SET candidates TO an EMPTY SET  
        
        APPEND ten RAISED TO THE POWER OF length PLUS one TO candidates  
        APPEND ten RAISED TO THE POWER OF length MINUS one MINUS one TO candidates  
        
        SET prefix TO the INTEGER VALUE OF the SUBSTRING of n FROM the BEGINNING TO the INTEGER VALUE OF length PLUS one DIVIDED BY two  
        
        FOR i FROM negative one TO two MINUS one  
            SET new_prefix TO the STRING REPRESENTATION OF prefix PLUS i  
            IF length MODULO two EQUALS zero  
                SET candidate TO new_prefix CONCATENATED WITH the REVERSE OF new_prefix  
            ELSE  
                SET candidate TO new_prefix CONCATENATED WITH the REVERSE OF new_prefix FROM the SECOND TO LAST ELEMENT TO the FIRST ELEMENT  
            END IF  
            APPEND the INTEGER VALUE OF candidate TO candidates  
        END FOR  
        
        SET original_number TO the INTEGER VALUE OF n  
        REMOVE original_number FROM candidates IF PRESENT  
        
        SET closest TO the ELEMENT OF candidates THAT MINIMIZES FIRST THE ABSOLUTE VALUE OF THE DIFFERENCE BETWEEN ELEMENT AND original_number THEN THE ELEMENT VALUE ITSELF  
        
        RETURN the STRING REPRESENTATION OF closest  
    END FUNCTION  
END CLASS