CLASS Solution  
    FUNCTION numOfWays(nums)  
        SET MOD TO one billion PLUS seven  
        
        FUNCTION count_ways(arr)  
            IF the LENGTH OF arr LESS THAN OR EQUAL TO one  
                RETURN one  
            END IF  
            
            SET root TO element at position zero of arr  
            SET left_subtree TO empty list  
            SET right_subtree TO empty list  
            
            FOR each x IN arr  
                IF x LESS THAN root  
                    APPEND x TO left_subtree  
                ELSE IF x GREATER THAN root  
                    APPEND x TO right_subtree  
                END IF  
            END FOR  
            
            SET ways_left TO count_ways(left_subtree)  
            SET ways_right TO count_ways(right_subtree)  
            
            SET total_ways TO the number of combinations choosing the LENGTH OF left_subtree FROM the sum of LENGTH OF left_subtree AND LENGTH OF right_subtree  
            
            RETURN the remainder after dividing the product of ways_left, ways_right, AND total_ways BY MOD  
        END FUNCTION  
        
        SET result TO the remainder after dividing the difference of count_ways(nums) AND one BY MOD  
        RETURN result  
    END FUNCTION  
END CLASS