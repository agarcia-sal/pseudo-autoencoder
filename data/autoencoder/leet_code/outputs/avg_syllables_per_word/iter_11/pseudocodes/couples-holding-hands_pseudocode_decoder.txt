CLASS Solution
    FUNCTION minSwapsCouples(row)
        SET position TO an empty dictionary
        FOR index FROM zero TO the LENGTH OF row MINUS one
            SET person TO element at position index of row
            SET position at key person TO index
        END FOR
        SET swaps TO zero

        FOR i FROM zero TO the LENGTH OF row MINUS one STEP by two
            SET correct_pair TO element at position i of row EXCLUSIVE OR with one

            IF element at position i PLUS one of row NOT EQUALS correct_pair
                SET swap_idx TO position at key correct_pair

                SET temporary TO element at position i PLUS one of row
                SET element at position i PLUS one of row TO element at position swap_idx of row
                SET element at position swap_idx of row TO temporary

                SET position at key element at position swap_idx of row TO swap_idx
                SET position at key element at position i PLUS one of row TO i PLUS one

                INCREMENT swaps BY one
            END IF
        END FOR

        RETURN swaps
    END FUNCTION
END CLASS