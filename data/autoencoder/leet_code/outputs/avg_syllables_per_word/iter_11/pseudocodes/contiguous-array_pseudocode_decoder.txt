CLASS Solution  
    FUNCTION findMaxLength(nums)  
        SET prefix_sum_index TO a dictionary mapping zero TO negative one  
        SET max_length TO zero  
        SET count TO zero  
        
        FOR index FROM zero TO the LENGTH OF nums MINUS one  
            SET num TO element at position index of nums
            
            IF num EQUALS one  
                INCREMENT count BY one  
            ELSE  
                DECREMENT count BY one  
            END IF
            
            IF count IS a key in prefix_sum_index  
                SET max_length TO the GREATER OF max_length AND index MINUS the value for key count in prefix_sum_index  
            ELSE  
                SET the value for key count in prefix_sum_index TO index  
            END IF  
        END FOR  
        
        RETURN max_length  
    END FUNCTION  
END CLASS