CLASS Solution  
    FUNCTION palindromePartition(s, k)  
        FUNCTION min_changes_to_palindrome(sub)  
            SET i TO zero  
            SET j TO the LENGTH OF sub MINUS one  
            SET changes TO zero  
            WHILE i LESS THAN j  
                IF the element at position i of sub NOT EQUALS the element at position j of sub  
                    INCREMENT changes BY one  
                END IF  
                INCREMENT i BY one  
                DECREMENT j BY one  
            END WHILE  
            RETURN changes  
        END FUNCTION

        SET n TO the LENGTH OF s  
        CALL an auxiliary FUNCTION to INITIALIZE dp AS a two-dimensional list of size (n PLUS one) BY (k PLUS one) FILLED WITH positive infinity  
        SET the element at position zero zero of dp TO zero

        FOR i FROM one TO n  
            FOR j FROM one TO the MINIMUM OF k AND i  
                FOR start FROM zero TO i MINUS one  
                    SET changes TO the RESULT OF calling min_changes_to_palindrome WITH the substring of s FROM start TO i  
                    SET dp at position i j TO the MINIMUM OF the current dp at position i j AND dp at position start j MINUS one PLUS changes  
                END FOR  
            END FOR  
        END FOR

        RETURN the element at position n k of dp  
    END FUNCTION  
END CLASS