CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO the LENGTH OF graph  
        SET q TO a new deque containing a list of zero  
        SET ans TO an empty list  
        WHILE q is not empty  
            SET path TO the first element removed FROM q  
            SET u TO the last element in path  
            IF u EQUALS n MINUS one  
                APPEND path TO ans  
                CONTINUE to next iteration  
            END IF  
            FOR each v IN element at position u of graph  
                APPEND path concatenated with list of v TO q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS