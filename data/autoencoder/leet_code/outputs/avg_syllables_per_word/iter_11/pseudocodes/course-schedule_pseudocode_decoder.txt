CLASS Solution  
    FUNCTION canFinish(numCourses, prerequisites)  
        IMPORT collections DEFAULTDICT AND DEQUE FROM collections  
        
        SET graph TO DEFAULTDICT of lists  
        SET indegree TO list of zeros with length numCourses  
        
        FOR each pair course AND prereq IN prerequisites  
            APPEND course TO list at key prereq IN graph  
            INCREMENT element at position course IN indegree BY one  
        END FOR  
        
        SET queue TO DEQUE containing courses FROM zero TO numCourses MINUS one WHERE element at position course IN indegree EQUALS zero  
        
        WHILE queue is not empty  
            SET current_course TO REMOVE first element FROM queue  
            DECREMENT numCourses BY one  
            
            FOR each next_course IN list at key current_course IN graph  
                DECREMENT element at position next_course IN indegree BY one  
                IF element at position next_course IN indegree EQUALS zero  
                    APPEND next_course TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN numCourses EQUALS zero  
    END FUNCTION  
END CLASS