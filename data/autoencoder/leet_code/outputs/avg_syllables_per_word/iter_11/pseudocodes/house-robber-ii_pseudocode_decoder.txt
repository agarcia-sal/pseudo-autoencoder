CLASS Solution  
    FUNCTION rob(nums)  
        FUNCTION rob_linear(houses)  
            IF houses EQUALS empty  
                RETURN zero  
            END IF  
            IF LENGTH OF houses EQUALS one  
                RETURN element at position zero of houses  
            END IF  
            SET dp TO list of zeros WITH LENGTH EQUAL TO LENGTH OF houses  
            SET element at position zero of dp TO element at position zero of houses  
            SET element at position one of dp TO greater value BETWEEN element at position zero of houses AND element at position one of houses  
            FOR index FROM two TO LENGTH OF houses MINUS one  
                SET element at position index of dp TO greater value BETWEEN element at position index MINUS one of dp AND element at position index MINUS two of dp PLUS element at position index of houses  
            END FOR  
            RETURN element at last position of dp  
        END FUNCTION  
        IF nums EQUALS empty  
            RETURN zero  
        END IF  
        IF LENGTH OF nums EQUALS one  
            RETURN element at position zero of nums  
        END IF  
        RETURN greater value BETWEEN rob_linear(list containing all elements of nums EXCEPT last one) AND rob_linear(list containing all elements of nums EXCEPT first one)  
    END FUNCTION  
END CLASS