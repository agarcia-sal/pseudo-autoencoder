CLASS Solution  
    FUNCTION isEscapePossible(blocked, source, target)  
        IF blocked IS empty  
            RETURN True  
        END IF  
        
        SET blocked_set TO the set of the conversion of each element block IN blocked TO a tuple  
        SET n TO the LENGTH OF blocked  
        SET max_steps TO n MULTIPLIED BY (n MINUS one) DIVIDED BY two  
        
        FUNCTION bfs(start, end)  
            SET queue TO a double-ended queue initialized with the tuple conversion of start  
            SET visited TO the set initialized with the contents of queue  
            
            WHILE queue IS NOT empty  
                SET x TO the first element of the first tuple IN queue  
                SET y TO the second element of the first tuple IN queue  
                REMOVE first element FROM queue  
                
                IF the LENGTH OF visited IS GREATER THAN max_steps OR (x EQUALS the first element of end AND y EQUALS the second element of end)  
                    RETURN True  
                END IF  
                
                FOR each pair dx, dy IN the collection of pairs (zero, one), (zero, MINUS one), (one, zero), (MINUS one, zero)  
                    SET nx TO x PLUS dx  
                    SET ny TO y PLUS dy  
                    IF zero LESS THAN OR EQUAL TO nx AND nx LESS THAN ten TO THE POWER OF six AND zero LESS THAN OR EQUAL TO ny AND ny LESS THAN ten TO THE POWER OF six AND the tuple (nx, ny) IS NOT IN blocked_set AND the tuple (nx, ny) IS NOT IN visited  
                        ADD the tuple (nx, ny) TO visited  
                        APPEND the tuple (nx, ny) TO queue  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN False  
        END FUNCTION  
        
        RETURN the result of bfs with parameters source and target AND the result of bfs with parameters target and source  
    END FUNCTION  
END CLASS