CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO empty list  
        FOR each offer IN special original input  
            IF sum of elements from start to second last element of offer GREATER THAN zero AND last element of offer LESS THAN sum of product of corresponding elements from price and offer excluding last element  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO sum of product of corresponding elements from price and needs  
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR index FROM zero TO length of needs MINUS one  
                    APPEND element at position index of needs MINUS element at position index of offer excluding last element TO new_needs  
                END FOR  
                IF all elements in new_needs GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO minimum of min_cost AND sum of last element of offer PLUS dfs(tuple version of new_needs)  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(tuple version of needs)  
END CLASS