CLASS Solution  
    FUNCTION maximumSwap(num)  
        SET digits TO list of string representations of num converted to list of characters  
        SET last TO empty dictionary mapping from digit to its last position  
        FOR each index i AND character d IN enumeration of digits  
            SET digit_value TO character d converted to integer  
            ASSIGN last at key digit_value TO i  
        END FOR  
        FOR each index i AND character d IN enumeration of digits  
            SET current_digit TO character d converted to integer  
            FOR digit_candidate FROM nine DOWN TO current_digit PLUS one DECREMENT BY one  
                IF last at key digit_candidate exists AND last at key digit_candidate GREATER THAN i THEN  
                    SET temporary TO element at position i of digits  
                    SET element at position i of digits TO element at position last at key digit_candidate of digits  
                    SET element at position last at key digit_candidate of digits TO temporary  
                    SET joined_string TO concatenation of all characters in digits  
                    SET result TO joined_string converted to integer  
                    RETURN result  
                END IF  
            END FOR  
        END FOR  
        RETURN num  
    END FUNCTION  
END CLASS