CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO an empty default dictionary with list as default value  
        FOR each element u COMMA v IN edges  
            APPEND the pair of element at position v of scores AND v TO the list at key u of graph  
            APPEND the pair of element at position u of scores AND u TO the list at key v of graph  
        END FOR  
        FOR each node IN graph  
            SET the list at key node of graph TO the three elements with highest first component from the current list at key node of graph  
        END FOR  
        SET max_score TO negative one  
        FOR each element u COMMA v IN edges  
            FOR each element score1 COMMA x IN the list at key u of graph  
                FOR each element score2 COMMA y IN the list at key v of graph  
                    IF the size of the set containing x AND y AND u AND v EQUALS four  
                        SET max_score TO the greater of max_score AND score1 PLUS score2 PLUS element at position u of scores PLUS element at position v of scores  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN max_score  
    END FUNCTION  
END CLASS