CLASS Solution  
    FUNCTION solve(nums AS list of integers, queries AS list of list of integers) RETURNS list of integers  
        SET MOD TO ten raised to the power of nine PLUS one  
        SET n TO the LENGTH OF nums  
        
        SET max_y TO the MAXIMUM y VALUE IN queries  
        SET prefix_sums TO a list of (max_y PLUS one) lists each containing n zeros  
        
        FOR y FROM one TO max_y  
            FOR i FROM n MINUS one DOWN TO zero BY decrement of one  
                IF i PLUS y LESS THAN n  
                    SET element at position i of prefix_sums at position y TO element at position i of nums PLUS element at position i PLUS y of prefix_sums at position y  
                ELSE  
                    SET element at position i of prefix_sums at position y TO element at position i of nums  
                END IF  
            END FOR  
        END FOR  
        
        SET answer TO an empty list  
        FOR each pair of x and y IN queries  
            APPEND to answer the element at position x of prefix_sums at position y MODULO MOD  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS