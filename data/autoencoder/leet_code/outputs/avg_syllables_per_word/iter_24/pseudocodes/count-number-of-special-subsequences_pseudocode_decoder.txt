CLASS Solution  
    FUNCTION countSpecialSubsequences(nums)  
        SET MOD TO the number one billion PLUS seven  
        SET dp TO a list containing three elements each set to zero  

        FOR each num IN nums  
            IF num EQUALS zero  
                SET element at position zero of dp TO the value of two MULTIPLIED BY element at position zero of dp PLUS one  
                SET element at position zero of dp TO the remainder when element at position zero of dp is DIVIDED BY MOD  
            ELSE IF num EQUALS one  
                SET element at position one of dp TO the value of two MULTIPLIED BY element at position one of dp PLUS element at position zero of dp  
                SET element at position one of dp TO the remainder when element at position one of dp is DIVIDED BY MOD  
            ELSE IF num EQUALS two  
                SET element at position two of dp TO the value of two MULTIPLIED BY element at position two of dp PLUS element at position one of dp  
                SET element at position two of dp TO the remainder when element at position two of dp is DIVIDED BY MOD  
            END IF  
        END FOR  

        RETURN element at position two of dp  
    END FUNCTION  
END CLASS