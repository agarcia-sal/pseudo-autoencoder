CLASS Solution  
    FUNCTION maxHeight WITH PARAMETER cuboids  
        FOR each cuboid IN cuboids  
            SORT the dimensions of cuboid in non-decreasing order  
        END FOR  
        SORT cuboids in lexicographical order  
        SET n TO the LENGTH OF cuboids  
        SET dp TO a new list of length n filled with zeroes  
        FOR i FROM zero TO n MINUS one  
            SET dp at position i TO the element at position three of the cuboid at position i  
            FOR j FROM zero TO i MINUS one  
                IF the element at position one of the cuboid at position j LESS THAN OR EQUAL TO the element at position one of the cuboid at position i AND the element at position two of the cuboid at position j LESS THAN OR EQUAL TO the element at position two of the cuboid at position i AND the element at position three of the cuboid at position j LESS THAN OR EQUAL TO the element at position three of the cuboid at position i  
                    IF the element at position j of dp PLUS the element at position three of the cuboid at position i GREATER THAN dp at position i  
                        SET dp at position i TO the element at position j of dp PLUS the element at position three of the cuboid at position i  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        RETURN the maximum value in dp  
    END FUNCTION  
END CLASS