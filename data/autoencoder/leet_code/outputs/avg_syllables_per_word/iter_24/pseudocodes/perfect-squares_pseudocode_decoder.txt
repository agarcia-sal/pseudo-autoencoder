CLASS Solution  
    FUNCTION numSquares(n)  
        SET dp TO a list where each element is infinite repeated the length of n PLUS one times  
        SET the element at position zero of dp TO zero  
        SET squares TO an empty list  
        SET i TO one  
        WHILE i MULTIPLIED BY i IS LESS THAN OR EQUAL TO n  
            APPEND i MULTIPLIED BY i TO squares  
            INCREMENT i BY one  
        END WHILE  
        FOR i FROM one TO n  
            FOR each square IN squares  
                IF i IS LESS THAN square  
                    BREAK out of the inner loop  
                END IF  
                SET the element at position i of dp TO the lesser value BETWEEN the element at position i of dp AND the sum of the element at position i MINUS square of dp PLUS one  
            END FOR  
        END FOR  
        RETURN the element at position n of dp  
    END FUNCTION  
END CLASS