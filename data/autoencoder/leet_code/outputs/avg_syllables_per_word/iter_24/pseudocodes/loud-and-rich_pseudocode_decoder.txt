CLASS Solution  
    FUNCTION loudAndRich(richer PARAMETER, quiet PARAMETER)  
        ASSIGN reference TO an empty mapping from elements to list of elements called graph  
        FOR each pair of elements a and b IN richer  
            APPEND element a TO the list at the element b in graph  
        END FOR  
        SET n TO the LENGTH OF quiet  
        SET answer TO a list of size n where each element is SET TO negative one  
        FUNCTION dfs(person PARAMETER)  
            IF the element at position person of answer EQUALS negative one THEN  
                SET the element at position person of answer TO person  
                FOR each element neighbor IN the list at element person in graph  
                    SET candidate TO the result of calling dfs with neighbor  
                    IF the element at position candidate of quiet LESS THAN the element at position element at position person of answer of quiet THEN  
                        SET the element at position person of answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN the element at position person of answer  
        END FUNCTION  
        FOR each element i FROM zero TO n MINUS one  
            CALL dfs with i  
        END FOR  
        RETURN answer  
    END FUNCTION  
END CLASS