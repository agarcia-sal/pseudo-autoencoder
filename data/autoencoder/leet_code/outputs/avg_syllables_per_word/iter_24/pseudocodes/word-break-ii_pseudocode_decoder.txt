CLASS Solution  
    FUNCTION wordBreak(s, wordDict)  
        SET wordSet TO a new empty set  
        FOR each element IN wordDict  
            ADD element TO wordSet  
        END FOR  
      
        SET memo TO a new empty dictionary  
      
        FUNCTION backtrack(start)  
            IF start IS A KEY IN memo THEN  
                RETURN the element at key start in memo  
            END IF  
          
            IF start EQUALS the LENGTH OF s THEN  
                RETURN a list containing an empty string  
            END IF  
          
            SET res TO a new empty list  
            FOR end FROM start PLUS one TO the LENGTH OF s PLUS one  
                SET word TO the substring of s from position start TO position end MINUS one  
                IF word IS AN ELEMENT OF wordSet THEN  
                    FOR each sentence IN backtrack(end)  
                        IF sentence IS an empty string THEN  
                            APPEND word TO res  
                        ELSE  
                            APPEND the concatenation of word PLUS a space PLUS sentence TO res  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
          
            ASSIGN the reference TO res TO memo at key start  
            RETURN res  
        END FUNCTION  
      
        RETURN backtrack with argument zero  
    END FUNCTION  
END CLASS