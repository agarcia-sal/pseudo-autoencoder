CLASS Solution  
    FUNCTION findAnagrams(s string_parameter p string_parameter) RETURNS list_of_integers  
        SET length_of_s TO the LENGTH OF s  
        SET length_of_p TO the LENGTH OF p  
        IF length_of_p GREATER THAN length_of_s  
            RETURN an empty list  
        END IF  
        SET p_count TO a mapping of characters to their frequencies in p  
        SET s_count TO a mapping of characters to their frequencies in the substring of s from position one TO position length_of_p  
        SET anagrams TO an empty list  
        IF s_count EQUALS p_count  
            APPEND zero TO anagrams  
        END IF  
        FOR index FROM length_of_p PLUS one TO length_of_s  
            SET new_character TO element at position index of s  
            INCREMENT the frequency of new_character in s_count BY one  
            SET old_character TO element at position index MINUS length_of_p of s  
            DECREMENT the frequency of old_character in s_count BY one  
            IF the frequency of old_character in s_count EQUALS zero  
                REMOVE old_character FROM s_count  
            END IF  
            IF s_count EQUALS p_count  
                APPEND index MINUS length_of_p PLUS one TO anagrams  
            END IF  
        END FOR  
        RETURN anagrams  
    END FUNCTION  
END CLASS