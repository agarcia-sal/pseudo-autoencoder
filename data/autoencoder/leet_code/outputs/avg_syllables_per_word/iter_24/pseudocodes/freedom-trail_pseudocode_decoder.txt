CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        CREATE dictionary char_positions mapping characters TO empty list  
        FOR index FROM zero TO the LENGTH OF ring MINUS one  
            SET character TO element at position index of ring  
            APPEND index TO the list at key character in char_positions  
        END FOR  
        
        SET n TO the LENGTH OF ring  
        
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            
            SET min_steps TO positive infinity  
            FOR each position IN the list at key character at position i of key in char_positions  
                SET clockwise TO position MINUS prev_pos MODULO n  
                SET anticlockwise TO prev_pos MINUS position MODULO n  
                SET steps TO the MINIMUM OF clockwise AND anticlockwise PLUS one PLUS dp(i PLUS one, position)  
                SET min_steps TO the MINIMUM OF min_steps AND steps  
            END FOR  
            
            RETURN min_steps  
        END FUNCTION  
        
        RETURN dp(zero, zero)  
    END FUNCTION  
END CLASS