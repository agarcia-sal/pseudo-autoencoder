CLASS Solution  
    FUNCTION isBipartite(graph)  
        SET n TO the LENGTH OF graph  
        SET color TO a LIST OF size n FILLED WITH zero  

        FUNCTION dfs(node, c)  
            SET the element at position node of color TO c  
            FOR each neighbor IN the element at position node of graph  
                IF the element at position neighbor of color EQUALS c THEN  
                    RETURN False  
                END IF  
                IF the element at position neighbor of color EQUALS zero THEN  
                    IF dfs(neighbor, the NEGATION of c) EQUALS False THEN  
                        RETURN False  
                    END IF  
                END IF  
            END FOR  
            RETURN True  
        END FUNCTION  

        FOR i FROM zero TO n MINUS one  
            IF the element at position i of color EQUALS zero THEN  
                IF dfs(i, one) EQUALS False THEN  
                    RETURN False  
                END IF  
            END IF  
        END FOR  

        RETURN True  
    END FUNCTION  
END CLASS