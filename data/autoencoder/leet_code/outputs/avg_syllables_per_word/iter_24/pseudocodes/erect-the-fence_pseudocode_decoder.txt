CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i of trees  
            SET b TO element at position j of trees  
            SET c TO element at position k of trees  
            RETURN the result of  
                (the first element of b MINUS the first element of a) MULTIPLIED BY (the second element of c MINUS the second element of b)  
                MINUS  
                (the second element of b MINUS the second element of a) MULTIPLIED BY (the first element of c MINUS the first element of b)  
        END FUNCTION  

        SET n TO the LENGTH OF trees  
        IF n LESS THAN four THEN  
            RETURN trees  
        END IF  

        SORT trees IN place in ascending order  
        SET vis TO a list of n elements each set to False  
        SET stk TO a list containing the single element zero  

        FOR i FROM one TO n MINUS one  
            WHILE the LENGTH OF stk GREATER THAN one AND the result of cross with the elements at the second last element of stk the last element of stk and i LESS THAN zero holds  
                SET the element at position stk's last element TO False in vis  
                REMOVE the last element FROM stk  
            END WHILE  
            SET the element at position i TO True in vis  
            APPEND i TO stk  
        END FOR  

        SET m TO the LENGTH OF stk  

        FOR i FROM n MINUS two TO zero STEP negative one  
            IF the element at position i IN vis EQUALS True THEN  
                CONTINUE to the next iteration  
            END IF  
            WHILE the LENGTH OF stk GREATER THAN m AND the result of cross with the elements at the second last element of stk the last element of stk and i LESS THAN zero holds  
                REMOVE the last element FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  

        REMOVE the last element FROM stk  

        RETURN a list constructed by selecting the elements at the positions given by each element in stk from trees  
    END FUNCTION  
END CLASS