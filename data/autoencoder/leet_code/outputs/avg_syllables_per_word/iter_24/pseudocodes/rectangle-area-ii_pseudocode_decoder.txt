CLASS Solution  
    FUNCTION rectangleArea(rectangles)  
        SET MOD TO one billion PLUS seven  
        SET y_coords TO an empty set  
        FOR each element unpacked as x1 y1 x2 y2 IN rectangles  
            ADD y1 TO y_coords  
            ADD y2 TO y_coords  
        END FOR  
        SET y_coords TO the sorted list of elements in y_coords  
        SET y_index TO an empty dictionary  
        FOR each element unpacked as i y IN enumeration of y_coords  
            SET reference of y_index at key y TO i  
        END FOR  
        SET count TO a list of zeros with the length equal to the length of y_coords  
        SET events TO an empty list  
        FOR each element unpacked as x1 y1 x2 y2 IN rectangles  
            APPEND the tuple consisting of x1 one y1 y2 TO events  
            APPEND the tuple consisting of x2 negative one y1 y2 TO events  
        END FOR  
        SORT events by the first element of the tuple in ascending order  
        SET prev_x TO zero  
        SET area TO zero  
        FOR each element unpacked as x eventType y1 y2 IN events  
            SET current_length TO zero  
            FOR index FROM one TO the length of count MINUS one  
                IF the element at position index MINUS one of count GREATER THAN zero THEN  
                    INCREMENT current_length BY the element at position index of y_coords MINUS the element at position index MINUS one of y_coords  
                END IF  
            END FOR  
            INCREMENT area BY current_length MULTIPLIED BY the difference between x and prev_x  
            SET area TO the remainder of area DIVIDED BY MOD  
            IF eventType EQUALS one THEN  
                FOR index FROM the value at key y1 of y_index TO the value at key y2 of y_index MINUS one  
                    INCREMENT the element at position index of count BY one  
                END FOR  
            ELSE  
                FOR index FROM the value at key y1 of y_index TO the value at key y2 of y_index MINUS one  
                    DECREMENT the element at position index of count BY one  
                END FOR  
            END IF  
            SET prev_x TO x  
        END FOR  
        RETURN area  
    END FUNCTION  
END CLASS