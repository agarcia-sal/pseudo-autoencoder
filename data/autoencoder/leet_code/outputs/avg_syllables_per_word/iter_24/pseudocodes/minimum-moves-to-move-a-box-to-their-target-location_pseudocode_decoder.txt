CLASS Solution  
    FUNCTION minPushBox(grid)  
        SET directions TO list containing elements representing moving one step up moving one step down moving one step left moving one step right  
        
        FOR index i FROM zero TO the LENGTH OF grid MINUS one  
            FOR index j FROM zero TO the LENGTH OF element at position i of grid MINUS one  
                IF element at position i of grid at position j EQUALS the player start symbol  
                    SET player_start TO tuple consisting of i and j  
                ELSE IF element at position i of grid at position j EQUALS the box symbol  
                    SET box_start TO tuple consisting of i and j  
                ELSE IF element at position i of grid at position j EQUALS the target symbol  
                    SET target TO tuple consisting of i and j  
                END IF  
            END FOR  
        END FOR  
        
        SET queue TO a double-ended queue initialized with a tuple of player_start box_start and zero representing push count  
        SET visited TO an empty set  
        ADD tuple of player_start and box_start TO visited  
        
        WHILE queue is not empty  
            REMOVE and RETURN the first element of queue INTO player_pos box_pos and push_count  
            
            IF box_pos EQUALS target  
                RETURN push_count  
            END IF  
            
            FOR each pair dx dy IN directions  
                SET new_player_pos TO tuple consisting of first element of player_pos PLUS dx and second element of player_pos PLUS dy  
                
                IF calling is_valid_position with new_player_pos and grid RETURNS true  
                    IF new_player_pos EQUALS box_pos  
                        SET new_box_pos TO tuple consisting of first element of box_pos PLUS dx and second element of box_pos PLUS dy  
                        
                        IF calling is_valid_position with new_box_pos and grid RETURNS true AND tuple of new_player_pos and new_box_pos is NOT IN visited  
                            ADD tuple of new_player_pos and new_box_pos TO visited  
                            APPEND tuple of new_player_pos new_box_pos and push_count PLUS one TO queue  
                        END IF  
                    ELSE  
                        IF tuple of new_player_pos and box_pos is NOT IN visited  
                            ADD tuple of new_player_pos and box_pos TO visited  
                            APPEND tuple of new_player_pos box_pos and push_count TO queue  
                        END IF  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
    
    FUNCTION is_valid_position(position grid)  
        SET x TO first element of position  
        SET y TO second element of position  
        RETURN logical expression that x is greater than or equal to zero AND x is less than the LENGTH OF grid AND y is greater than or equal to zero AND y is less than the LENGTH OF element at position zero of grid AND element at position x of grid at position y is NOT EQUALS to the wall symbol  
    END FUNCTION  
END CLASS