CLASS Solution  
    FUNCTION lastRemaining(n)  
        SET remaining TO n  
        SET step TO one  
        SET left_to_right TO true  
        SET head TO one  
        WHILE remaining GREATER THAN one  
            IF left_to_right EQUALS true OR the remainder of remaining DIVIDED BY two EQUALS one  
                INCREMENT head BY step  
            END IF  
            SET step TO step MULTIPLIED BY two  
            SET remaining TO the integer division of remaining BY two  
            SET left_to_right TO the negation of left_to_right  
        END WHILE  
        RETURN head  
    END FUNCTION  
END CLASS