CLASS Solution  
    FUNCTION minimumWeight(n edges src1 src2 dest)  
        FUNCTION dijkstra(graph start)  
            SET distances TO a list of length n where each element EQUALS infinity  
            SET element at position start of distances TO zero  
            SET heap TO a list containing a pair of zero and start  
            
            WHILE heap holds  
                SET current_distance AND current_node TO the result of removing the smallest element from heap  
                
                IF current_distance GREATER THAN element at position current_node of distances  
                    CONTINUE to the next iteration  
                END IF  
                
                FOR each pair neighbor weight IN element at position current_node of graph  
                    SET distance TO current_distance PLUS weight  
                    
                    IF distance LESS THAN element at position neighbor of distances  
                        SET element at position neighbor of distances TO distance  
                        ADD a pair of distance and neighbor TO heap  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN distances  
        END FUNCTION  
        
        SET graph TO a list of length n where each element EQUALS an empty list  
        SET reverse_graph TO a list of length n where each element EQUALS an empty list  
        
        FOR each triple u v w IN edges  
            ADD pair of v AND w TO element at position u of graph  
            ADD pair of u AND w TO element at position v of reverse_graph  
        END FOR  
        
        SET dist_from_src1 TO the result of calling dijkstra with graph AND src1  
        SET dist_from_src2 TO the result of calling dijkstra with graph AND src2  
        SET dist_to_dest TO the result of calling dijkstra with reverse_graph AND dest  
        
        SET min_weight TO infinity  
        
        FOR index i FROM zero TO n MINUS one  
            IF element at position i of dist_from_src1 NOT EQUALS infinity AND element at position i of dist_from_src2 NOT EQUALS infinity AND element at position i of dist_to_dest NOT EQUALS infinity  
                SET min_weight TO the smaller value BETWEEN min_weight AND the sum of element at position i of dist_from_src1 PLUS element at position i of dist_from_src2 PLUS element at position i of dist_to_dest  
            END IF  
        END FOR  
        
        IF min_weight NOT EQUALS infinity  
            RETURN min_weight  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
END CLASS