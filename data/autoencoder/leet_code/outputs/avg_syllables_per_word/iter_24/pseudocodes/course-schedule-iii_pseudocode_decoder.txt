CLASS Solution  
    FUNCTION scheduleCourse with parameter courses  
        SORT courses by the second element of each course in ascending order  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each course IN courses  
            SET duration TO the first element of course  
            SET last_day TO the second element of course  
            IF current_end_day PLUS duration LESS THAN OR EQUAL TO last_day THEN  
                PUSH the negative of duration INTO max_heap  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap is not empty AND the negative of the element at position zero of max_heap GREATER THAN duration THEN  
                INCREMENT current_end_day BY duration PLUS the element popped from max_heap  
                PUSH the negative of duration INTO max_heap  
            END IF  
        END FOR  
        RETURN the length of max_heap  
    END FUNCTION  
END CLASS