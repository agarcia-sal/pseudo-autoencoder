CLASS Solution  
    FUNCTION maxRunTime(n parameter, batteries parameter)  
        FUNCTION canRunFor(time parameter)  
            SET total TO zero  
            FOR each battery IN batteries parameter  
                INCREMENT total BY the smaller value BETWEEN battery AND time parameter  
            END FOR  
            RETURN total GREATER THAN OR EQUAL TO time parameter MULTIPLIED BY n parameter  
        END FUNCTION  

        SET left TO zero  
        SET right TO the sum of batteries parameter DIVIDED BY n parameter  
        WHILE left LESS THAN right  
            SET mid TO the integer result of left PLUS right PLUS one DIVIDED BY two  
            IF canRunFor(mid)  
                SET left TO mid  
            ELSE  
                SET right TO mid MINUS one  
            END IF  
        END WHILE  
        RETURN left  
    END FUNCTION  
END CLASS