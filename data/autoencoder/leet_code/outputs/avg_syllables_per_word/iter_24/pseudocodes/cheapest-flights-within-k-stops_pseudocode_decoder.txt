CLASS Solution  
    FUNCTION findCheapestPrice WITH PARAMETERS n flights src dst k  
        SET graph TO a mapping from each integer index from zero TO n MINUS one TO an empty list  
        FOR each flight IN flights  
            LET u BE element at position zero of flight  
            LET v BE element at position one of flight  
            LET w BE element at position two of flight  
            APPEND a pair of v AND w TO the list corresponding to u in graph  
        END FOR  
        
        SET min_heap TO a list containing a triple of zero MINUS one AND src  
        SET min_cost TO a mapping of src TO minus one  
        
        WHILE min_heap is not empty  
            EXTRACT the element with the smallest cost FROM min_heap INTO cost stops city  
            
            IF city EQUALS dst  
                RETURN cost  
            END IF  
            
            IF stops GREATER THAN OR EQUAL TO k  
                CONTINUE to the next iteration of the WHILE loop  
            END IF  
            
            FOR each pair neighbor price IN the list corresponding to city in graph  
                SET next_cost TO cost PLUS price  
                SET next_stops TO stops PLUS one  
                
                IF neighbor NOT IN min_cost OR next_stops LESS THAN min_cost at neighbor OR next_cost LESS THAN the first element of the top element of min_heap  
                    SET min_cost at neighbor TO next_stops  
                    INSERT the triple of next_cost next_stops neighbor INTO min_heap maintaining heap order  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN minus one  
    END FUNCTION  
END CLASS