CLASS Solution  
    FUNCTION secondMinimum(n parameter edges parameter time parameter change parameter) RETURNS integer  
        SET graph TO an empty collection of lists with one more than n positions  
        FOR each pair u v IN edges  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        
        SET queue TO a double ended queue containing a single tuple of one zero zero  
        SET minTimes TO a collection of two element lists each containing positive infinity repeated with one more than n elements  
        SET the first element of the first list in minTimes TO zero  
        
        WHILE queue has elements  
            REMOVE and RETURN the leftmost element of queue INTO current currentTime count  
            
            IF current EQUALS n AND count EQUALS one  
                RETURN currentTime  
            END IF  
            
            IF the integer division of currentTime by change MODULO two EQUALS zero  
                SET nextTime TO currentTime PLUS time  
            ELSE  
                SET nextTime TO the integer division of currentTime by change PLUS one MULTIPLIED BY change PLUS time  
            END IF  
            
            FOR each neighbor IN element at position current of graph  
                IF element at position zero of minTimes at position neighbor GREATER THAN nextTime  
                    SET element at position one of minTimes at position neighbor TO element at position zero of minTimes at position neighbor  
                    SET element at position zero of minTimes at position neighbor TO nextTime  
                    ADD the tuple of neighbor nextTime zero TO the right end of queue  
                ELSE IF element at position zero of minTimes at position neighbor LESS THAN nextTime AND nextTime LESS THAN element at position one of minTimes at position neighbor  
                    SET element at position one of minTimes at position neighbor TO nextTime  
                    ADD the tuple of neighbor nextTime one TO the right end of queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS