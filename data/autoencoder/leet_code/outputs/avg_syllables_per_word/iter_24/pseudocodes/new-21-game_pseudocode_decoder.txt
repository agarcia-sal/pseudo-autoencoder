CLASS Solution  
    FUNCTION new21Game WITH PARAMETERS n k maxPts  
        FUNCTION dfs WITH PARAMETER i  
            IF i GREATER THAN OR EQUAL TO k  
                IF i LESS THAN OR EQUAL TO n  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
            IF i EQUALS k MINUS one  
                SET probability TO the MINIMUM OF the expression n MINUS k PLUS one AND maxPts  
                SET probability TO probability DIVIDED BY maxPts  
                RETURN probability  
            END IF  
            SET value_next TO dfs EVALUATED AT i PLUS one  
            SET value_further TO dfs EVALUATED AT i PLUS maxPts PLUS one  
            SET result TO value_next PLUS the expression value_next MINUS value_further DIVIDED BY maxPts  
            RETURN result  
        END FUNCTION  
        RETURN dfs EVALUATED AT zero  
    END FUNCTION  
END CLASS