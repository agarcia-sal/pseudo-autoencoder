CLASS Solution  
    FUNCTION longestLine(mat)  
        IF the input matrix mat is empty OR the first element of mat is empty THEN  
            RETURN zero  
        END IF  
        
        SET m TO the LENGTH OF the input matrix mat  
        SET n TO the LENGTH OF the first element of mat  
        SET directions TO a list containing  
            the pair representing zero and one  
            the pair representing one and zero  
            the pair representing one and one  
            the pair representing one and minus one  
        SET max_length TO zero  
        
        FUNCTION check(x, y, dx, dy)  
            SET length TO zero  
            WHILE x is greater than or equal to zero AND x is less than m  
            AND y is greater than or equal to zero AND y is less than n  
            AND the element at position x of mat at position y EQUALS one DO  
                INCREMENT length BY one  
                INCREMENT x BY dx  
                INCREMENT y BY dy  
            END WHILE  
            RETURN length  
        END FUNCTION  
        
        FOR i FROM zero TO m minus one  
            FOR j FROM zero TO n minus one  
                IF the element at position i of mat at position j EQUALS one THEN  
                    FOR each pair dx and dy IN directions  
                        IF (i MINUS dx is less than zero) OR (j MINUS dy is less than zero)  
                        OR (j MINUS dy is greater than or equal to n)  
                        OR the element at position i MINUS dx of mat at position j MINUS dy EQUALS zero THEN  
                            SET max_length TO the greater value between max_length AND the result of check with parameters i j dx dy  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
        END FOR  
        
        RETURN max_length  
    END FUNCTION  
END CLASS