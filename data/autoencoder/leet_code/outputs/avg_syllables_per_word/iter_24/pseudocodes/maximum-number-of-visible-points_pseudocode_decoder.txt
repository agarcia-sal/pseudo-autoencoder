CLASS Solution  
    FUNCTION visiblePoints(points, angle, location)  
        SET angles TO empty list  
        SET extra_points TO zero  
        FOR each point IN points  
            SET x TO first element of point  
            SET y TO second element of point  
            IF x EQUALS element at position zero of location AND y EQUALS element at position one of location  
                INCREMENT extra_points BY one  
                CONTINUE to next iteration  
            END IF  
            SET difference_in_y TO y MINUS element at position one of location  
            SET difference_in_x TO x MINUS element at position zero of location  
            SET angle_rad TO arctangent of difference_in_y divided by difference_in_x  
            SET angle_deg TO angle_rad converted to degrees  
            APPEND angle_deg TO angles  
        END FOR  
        SORT angles in ascending order  
        SET extended_angles TO concatenation of angles AND each element of angles INCREMENTED BY three hundred sixty  
        SET max_visible TO zero  
        SET left TO zero  
        FOR right FROM zero TO the length of extended_angles MINUS one  
            WHILE element at position right of extended_angles MINUS element at position left of extended_angles GREATER THAN angle  
                INCREMENT left BY one  
            END WHILE  
            SET current_visible TO right MINUS left PLUS one  
            IF current_visible GREATER THAN max_visible  
                SET max_visible TO current_visible  
            END IF  
        END FOR  
        RETURN max_visible PLUS extra_points  
    END FUNCTION  
END CLASS