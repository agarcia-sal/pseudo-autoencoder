CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each building IN buildings  
            SET left TO the first element of building  
            SET right TO the second element of building  
            SET height TO the third element of building  
            APPEND an event composed of left position WITH negative height AND right position TO events  
            APPEND an event composed of right position WITH zero height AND zero right position TO events  
        END FOR  
        
        SORT events in order of increasing position THEN increasing height  
        
        SET result TO a list containing a single key point starting at zero position WITH zero height  
        SET max_heap TO a list containing a pair of zero negative height AND infinitely large right edge  
        
        FOR each event IN events  
            SET x TO the first element of event  
            SET negative_height TO the second element of event  
            SET right_edge TO the third element of event  
            
            WHILE the right edge of the first element in max_heap is less than or equal to x DO  
                REMOVE the first element from max_heap  
            END WHILE  
            
            IF negative_height does not equal zero THEN  
                ADD a pair of negative_height AND right_edge TO max_heap  
            END IF  
            
            IF the height of the last element in result does not equal the negation of the negative_height of the first element in max_heap THEN  
                APPEND a key point composed of x position AND the negation of the negative_height of the first element in max_heap TO result  
            END IF  
        END FOR  
        
        IF the first element in result equals a key point with zero position AND zero height THEN  
            REMOVE the first element from result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS