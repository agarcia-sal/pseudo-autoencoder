CLASS Solution  
    FUNCTION leastInterval(tasks, n)  
        SET task_counts TO a mapping of each unique element in tasks to the number of its occurrences  
        SET max_heap TO an empty list  
        FOR each count IN the collection of the values from task_counts  
            APPEND the negative of count TO max_heap  
        END FOR  
        PERFORM heapify operation on max_heap to maintain the heap property  
        
        SET time TO zero  
        SET queue TO an empty list representing pairs of time and task count  
        
        WHILE the LENGTH OF max_heap is greater than zero OR the LENGTH OF queue is greater than zero  
            WHILE the LENGTH OF queue is greater than zero AND the first element at position zero of the first pair of queue EQUALS time  
                REMOVE the first element FROM queue and ASSIGN the removed pair to a temporary variable unnamed "_", count  
                IF count LESS THAN zero  
                    PERFORM heappush operation to insert count into max_heap  
                END IF  
            END WHILE  
            
            IF the LENGTH OF max_heap is greater than zero  
                PERFORM heappop operation to remove and ASSIGN the smallest element of max_heap to variable count  
                INCREMENT count BY one  
                IF count LESS THAN zero  
                    APPEND the pair consisting of time PLUS n PLUS one and count TO queue  
                END IF  
            END IF  
            
            INCREMENT time BY one  
        END WHILE  
        
        RETURN time  
    END FUNCTION  
END CLASS