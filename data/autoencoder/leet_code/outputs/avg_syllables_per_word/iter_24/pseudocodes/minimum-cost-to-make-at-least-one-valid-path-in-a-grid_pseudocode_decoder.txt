CLASS Solution  
    FUNCTION minCost(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET directions TO a list of pairs consisting of zero PLUS one, zero MINUS one, one PLUS zero, and MINUS one PLUS zero  
        SET costs TO a two-dimensional list with dimensions m by n where each element is set TO positive infinity  
        SET element at position zero of element at position zero of costs TO zero  
        SET pq TO a list containing a triple consisting of zero zero zero  
        SET visited TO an empty collection of unique elements  
        
        WHILE pq is not empty  
            REMOVE the element with the smallest first value FROM pq and ASSIGN the first value TO cost ASSIGN the second value TO i ASSIGN the third value TO j  
            
            IF the pair consisting of i and j is contained IN visited  
                CONTINUE to the next iteration of the loop  
            END IF  
            
            ADD the pair consisting of i and j TO visited  
            
            IF i EQUALS m MINUS one AND j EQUALS n MINUS one  
                RETURN cost  
            END IF  
            
            FOR each index k and pair (di dj) IN directions  
                SET ni TO i PLUS di  
                SET nj TO j PLUS dj  
                
                IF ni IS GREATER THAN OR EQUAL TO zero AND ni IS LESS THAN m AND nj IS GREATER THAN OR EQUAL TO zero AND nj IS LESS THAN n  
                    SET new_cost TO cost PLUS if k PLUS one NOT EQUALS element at position i of grid at position j THEN one ELSE zero  
                    
                    IF new_cost IS LESS THAN element at position ni of costs at position nj  
                        SET element at position ni of costs at position nj TO new_cost  
                        ADD the triple consisting of new_cost ni nj TO pq maintaining the priority queue property  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN MINUS one  
    END FUNCTION  
END CLASS