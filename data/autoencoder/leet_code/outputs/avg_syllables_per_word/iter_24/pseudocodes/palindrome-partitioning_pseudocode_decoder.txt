CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            RETURN sub EQUALS reverse of sub  
        END FUNCTION  

        FUNCTION backtrack(start, path)  
            IF start EQUALS length of s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO length of s  
                IF is_palindrome(substring from position start TO position end MINUS one of s) THEN  
                    CALL backtrack WITH end AND path PLUS list containing substring from position start TO position end MINUS one of s  
                END IF  
            END FOR  
        END FUNCTION  

        SET result TO empty list  
        CALL backtrack WITH zero AND empty list  
        RETURN result  
    END FUNCTION  
END CLASS