CLASS Solution
    FUNCTION getLengthOfOptimalCompression(s AS string, k AS integer) RETURNS integer
        FUNCTION dp(i AS integer, k AS integer, prev_char AS string, prev_count AS integer) RETURNS integer
            IF k LESS THAN zero THEN
                RETURN infinity value
            END IF
            
            IF i EQUALS the length of s THEN
                RETURN zero
            END IF
            
            IF element at position i of s EQUALS prev_char THEN
                IF prev_count EQUALS one OR prev_count EQUALS nine OR prev_count EQUALS ninety nine THEN
                    SET increment TO one
                ELSE
                    SET increment TO zero
                END IF
                RETURN increment PLUS dp(i PLUS one, k, prev_char, prev_count PLUS one)
            ELSE
                SET keep TO one PLUS dp(i PLUS one, k, element at position i of s, one)
                SET delete TO dp(i PLUS one, k MINUS one, prev_char, prev_count)
                RETURN the minimum value between keep AND delete
            END IF
        END FUNCTION
        RETURN dp(zero, k, empty string, zero)
    END FUNCTION
END CLASS