CLASS Solution  
    FUNCTION numDupDigitsAtMostN WITH PARAMETER n  
        FUNCTION count_unique_digits WITH PARAMETER x  
            SET s TO the string representation of x  
            SET length TO the number of characters in s  
            SET count TO zero  
            FOR i FROM one TO length MINUS one  
                SET count TO count PLUS nine MULTIPLIED BY perm WITH ARGUMENTS nine MINUS one AND i MINUS one  
            END FOR  
            SET seen TO an empty collection of unique elements  
            FOR i FROM zero TO length MINUS one  
                SET digit TO element at position i of s converted to a number  
                FOR d FROM zero TO digit MINUS one  
                    IF i EQUALS zero THEN  
                        SET start_value TO one  
                    ELSE  
                        SET start_value TO zero  
                    END IF  
                    IF d GREATER THAN OR EQUAL TO start_value THEN  
                        IF d NOT IN seen THEN  
                            SET count TO count PLUS perm WITH ARGUMENTS nine MINUS i AND length MINUS i MINUS one  
                        END IF  
                    END IF  
                END FOR  
                IF digit IN seen THEN  
                    BREAK the current loop  
                END IF  
                ADD digit TO seen  
            END FOR  
            IF loop was not broken prematurely THEN  
                INCREMENT count BY one  
            END IF  
            RETURN count  
        END FUNCTION  
        SET result TO n MINUS count_unique_digits WITH ARGUMENT n  
        RETURN result  
    END FUNCTION  

    FUNCTION perm WITH PARAMETERS m AND n  
        IF n EQUALS zero THEN  
            RETURN one  
        END IF  
        SET result TO one  
        FOR i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY m MINUS i  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS