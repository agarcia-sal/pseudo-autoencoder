CLASS Solution  
    FUNCTION convertArray(nums)  
        FUNCTION min_operations_to_non_decreasing(nums)  
            SET max_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF max_heap is not empty AND the NEGATION of the element at position zero of max_heap IS GREATER THAN num  
                    INCREMENT operations BY the NEGATION of the element popped from max_heap MINUS num  
                    PUSH the NEGATION of num INTO max_heap  
                END IF  
                PUSH the NEGATION of num INTO max_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  

        FUNCTION min_operations_to_non_increasing(nums)  
            SET min_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF min_heap is not empty AND the element at position zero of min_heap IS LESS THAN num  
                    INCREMENT operations BY num MINUS the element popped from min_heap  
                    PUSH num INTO min_heap  
                END IF  
                PUSH num INTO min_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  

        RETURN the MINIMUM OF min_operations_to_non_decreasing of nums AND min_operations_to_non_increasing of nums  
    END FUNCTION  
END CLASS