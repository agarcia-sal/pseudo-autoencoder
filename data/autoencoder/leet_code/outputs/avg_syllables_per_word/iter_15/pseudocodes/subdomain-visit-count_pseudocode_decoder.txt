CLASS Solution  
    FUNCTION subdomainVisits(cpdomains)  
        SET domain_count TO a new mapping from text to integer with default zero  
        FOR each cpdomain IN cpdomains  
            SET count_and_domain TO the list formed by splitting cpdomain at the first space  
            SET count TO the integer value converted from the element at position zero of count_and_domain  
            SET domain TO the element at position one of count_and_domain  
            SET subdomains TO the list formed by splitting domain by the period word  
            FOR index FROM zero TO the length of subdomains MINUS one  
                SET subdomain_elements TO the elements of subdomains from position index TO the last element  
                SET subdomain TO the string formed by joining subdomain_elements separated by the period word  
                INCREMENT the value at key subdomain in domain_count BY count  
            END FOR  
        END FOR  
        SET result_list TO an empty list  
        FOR each pair of domain and count IN domain_count items  
            SET formatted_string TO the text formed by concatenating the string form of count, the space word, and domain  
            APPEND formatted_string TO result_list  
        END FOR  
        RETURN result_list  
    END FUNCTION  
END CLASS