CLASS Solution  
    FUNCTION isPossible(nums)  
        SET num_count TO a COUNTER representing the frequency of each number in nums  
        SET end_with TO a COUNTER representing the number of subsequences ending with each number  
        
        FOR each num IN nums  
            IF the frequency of num in num_count EQUALS zero  
                CONTINUE to the next iteration  
            END IF  
            
            IF the number of subsequences ending with num MINUS one IS GREATER THAN zero  
                DECREMENT the number of subsequences ending with num MINUS one BY one  
                INCREMENT the number of subsequences ending with num BY one  
            ELSE IF the frequency of num PLUS one in num_count IS GREATER THAN zero AND the frequency of num PLUS two in num_count IS GREATER THAN zero  
                DECREMENT the frequency of num PLUS one in num_count BY one  
                DECREMENT the frequency of num PLUS two in num_count BY one  
                INCREMENT the number of subsequences ending with num PLUS two BY one  
            ELSE  
                RETURN false  
            END IF  
            
            DECREMENT the frequency of num in num_count BY one  
        END FOR  
        
        RETURN true  
    END FUNCTION  
END CLASS