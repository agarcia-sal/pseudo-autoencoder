CLASS Solution  
    FUNCTION validSquare(p1 AS List of Integer, p2 AS List of Integer, p3 AS List of Integer, p4 AS List of Integer) RETURNS Boolean  
        FUNCTION squared_distance(first_point AS List of Integer, second_point AS List of Integer) RETURNS Integer  
            SET difference_in_first_coordinate TO element at position zero of first_point MINUS element at position zero of second_point  
            SET difference_in_second_coordinate TO element at position one of first_point MINUS element at position one of second_point  
            RETURN difference_in_first_coordinate MULTIPLIED BY difference_in_first_coordinate PLUS difference_in_second_coordinate MULTIPLIED BY difference_in_second_coordinate  
        END FUNCTION  
  
        SET points TO list containing p1 and p2 and p3 and p4  
  
        SET distances TO empty set  
  
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET dist TO result of calling squared_distance WITH element at position index_i of points AND element at position index_j of points  
                IF dist EQUALS zero THEN  
                    RETURN false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
  
        IF the SIZE OF distances EQUALS two THEN  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS