CLASS Solution  
    FUNCTION pacificAtlantic(heights)  
        FUNCTION bfs(queue_parameter, visited_parameter)  
            WHILE the LENGTH OF queue_parameter IS GREATER THAN zero  
                FOR each index FROM zero TO the LENGTH OF queue_parameter MINUS one  
                    ASSIGN position_i TO the FIRST element of the element at position zero of queue_parameter  
                    ASSIGN position_j TO the SECOND element of the element at position zero of queue_parameter  
                    REMOVE element from the LEFT of queue_parameter  
                    FOR each pair of integers a and b IN the list of pairs consisting of zero and negative one zero and positive one one and zero negative one and zero  
                        SET coordinate_x TO position_i PLUS a  
                        SET coordinate_y TO position_j PLUS b  
                        IF coordinate_x IS GREATER THAN OR EQUAL TO zero AND coordinate_x IS LESS THAN m AND coordinate_y IS GREATER THAN OR EQUAL TO zero AND coordinate_y IS LESS THAN n AND the pair of coordinate_x and coordinate_y IS NOT IN visited_parameter AND the element at position coordinate_x of heights AT position coordinate_y IS GREATER THAN OR EQUAL TO the element at position position_i of heights AT position position_j THEN  
                            ADD the pair of coordinate_x and coordinate_y TO visited_parameter  
                            APPEND the pair of coordinate_x and coordinate_y TO the RIGHT of queue_parameter  
                        END IF  
                    END FOR  
                END FOR  
            END WHILE  
        END FUNCTION  

        SET m TO the LENGTH OF heights  
        SET n TO the LENGTH OF the element at position zero of heights  
        INITIALIZE visited_set_one as an empty set  
        INITIALIZE visited_set_two as an empty set  
        INITIALIZE queue_one as an empty double-ended queue  
        INITIALIZE queue_two as an empty double-ended queue  
        FOR each index_i FROM zero TO m MINUS one  
            FOR each index_j FROM zero TO n MINUS one  
                IF index_i EQUALS zero OR index_j EQUALS zero THEN  
                    ADD the pair of index_i and index_j TO visited_set_one  
                    APPEND the pair of index_i and index_j TO the RIGHT of queue_one  
                END IF  
                IF index_i EQUALS m MINUS one OR index_j EQUALS n MINUS one THEN  
                    ADD the pair of index_i and index_j TO visited_set_two  
                    APPEND the pair of index_i and index_j TO the RIGHT of queue_two  
                END IF  
            END FOR  
        END FOR  
        CALL bfs WITH queue_one AND visited_set_one  
        CALL bfs WITH queue_two AND visited_set_two  
        INITIALIZE result_list as an empty list  
        FOR each index_i FROM zero TO m MINUS one  
            FOR each index_j FROM zero TO n MINUS one  
                IF the pair of index_i and index_j IS IN visited_set_one AND the pair of index_i and index_j IS IN visited_set_two THEN  
                    APPEND the pair of index_i and index_j TO result_list  
                END IF  
            END FOR  
        END FOR  
        RETURN result_list  
    END FUNCTION  
END CLASS