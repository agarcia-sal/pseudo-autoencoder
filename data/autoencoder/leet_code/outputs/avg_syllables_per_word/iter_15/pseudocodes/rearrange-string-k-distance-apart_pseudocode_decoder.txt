CLASS Solution  
    FUNCTION rearrangeString WITH PARAMETERS s AND k  
        IF k IS LESS THAN OR EQUAL TO one  
            RETURN s  
        END IF  
        
        SET freq TO the COUNTER OF characters IN s  
        
        SET max_heap TO the LIST CONTAINING TUPLES OF NEGATIVE count AND character FOR EACH character AND count IN freq ITEMS  
        CALL heapify ON max_heap  
        
        SET wait_queue TO an EMPTY LIST  
        
        SET result TO an EMPTY LIST  
        
        WHILE max_heap IS NOT EMPTY  
            REMOVE the TUPLE WITH the HIGHEST priority FROM max_heap AND ASSIGN TO count AND char  
            APPEND char TO result  
            
            APPEND the TUPLE OF count PLUS one AND char TO wait_queue  
            
            IF the LENGTH OF wait_queue EQUALS k  
                REMOVE the FIRST ELEMENT FROM wait_queue AND ASSIGN TO count AND char  
                IF count IS LESS THAN zero  
                    PUSH the TUPLE OF count AND char INTO max_heap  
                END IF  
            END IF  
        END WHILE  
        
        IF the LENGTH OF result IS NOT EQUAL TO the LENGTH OF s  
            RETURN an EMPTY STRING  
        END IF  
        
        RETURN the CONCATENATION OF all ELEMENTS IN result  
    END FUNCTION  
END CLASS