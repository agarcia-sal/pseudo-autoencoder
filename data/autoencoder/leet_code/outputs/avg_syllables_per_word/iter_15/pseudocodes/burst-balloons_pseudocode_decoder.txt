CLASS Solution  
    FUNCTION maxCoins(nums as List of integers) RETURNS integer  
        SET nums TO the list obtained by prepending one to nums AND appending one to nums  
        SET n TO the LENGTH OF nums  
        SET dp TO a two dimensional list of size n by n where each element IS zero  
        FOR length FROM two TO n MINUS one  
            FOR i FROM zero TO n MINUS length MINUS one  
                SET j TO i PLUS length  
                FOR k FROM i PLUS one TO j MINUS one  
                    SET coins TO the element at position i of nums MULTIPLIED BY the element at position k of nums MULTIPLIED BY the element at position j of nums PLUS the element at position i position k of dp PLUS the element at position k position j of dp  
                    SET element at position i position j of dp TO the maximum of the element at position i position j of dp AND coins  
                END FOR  
            END FOR  
        END FOR  
        RETURN the element at position zero position n MINUS one of dp  
    END FUNCTION  
END CLASS