CLASS Solution  
    FUNCTION replaceNonCoprimes(nums)  
        SET stack TO empty list  
        FOR each number IN nums  
            WHILE the LENGTH OF stack IS GREATER THAN zero  
                SET greatest_common_divisor TO gcd(element at position the last index of stack, number)  
                IF greatest_common_divisor EQUALS one  
                    BREAK the loop  
                END IF  
                SET number TO element at position the last index of stack MULTIPLIED BY number DIVIDED BY greatest_common_divisor  
                REMOVE the element at position the last index FROM stack  
            END WHILE  
            APPEND number TO stack  
        END FOR  
        RETURN stack  
    END FUNCTION  
END CLASS