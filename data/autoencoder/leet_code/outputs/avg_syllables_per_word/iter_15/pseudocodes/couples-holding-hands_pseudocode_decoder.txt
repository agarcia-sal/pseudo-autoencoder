CLASS Solution  
    FUNCTION minSwapsCouples(row)  
        SET position TO an empty dictionary mapping each person to their index in row  
        SET swaps TO zero  
        FOR index FROM zero TO the LENGTH OF row MINUS one IN STEPS OF two  
            SET current_person TO element at position index of row  
            SET correct_pair TO current_person XOR one to find the matching partner  
            IF element at position index plus one of row IS NOT EQUAL TO correct_pair  
                SET swap_idx TO the index of correct_pair in position dictionary  
                SET element at position index plus one of row AND element at position swap_idx of row TO element at position swap_idx of row AND element at position index plus one of row swapped  
                SET position of element at position swap_idx of row TO swap_idx  
                SET position of element at position index plus one of row TO index plus one  
                INCREMENT swaps BY one  
            END IF  
        END FOR  
        RETURN swaps  
    END FUNCTION  
END CLASS