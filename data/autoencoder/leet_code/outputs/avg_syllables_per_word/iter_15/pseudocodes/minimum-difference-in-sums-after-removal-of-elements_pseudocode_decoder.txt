CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO the LENGTH OF nums DIVIDED BY three  
  
        SET min_heap TO an empty list  
        SET min_sums TO a list of zeros with LENGTH two TIMES n PLUS one  
  
        FOR i FROM zero TO two TIMES n MINUS one  
            PERFORM the operation of pushing negative of element at position i of nums INTO min_heap as a heap  
            IF the LENGTH OF min_heap GREATER THAN n  
                PERFORM the operation of popping the smallest element FROM min_heap as a heap  
            END IF  
            IF the LENGTH OF min_heap EQUALS n  
                SET element at position i of min_sums TO the NEGATIVE of the SUM of all elements in min_heap  
            END IF  
        END FOR  
  
        SET max_heap TO an empty list  
        SET max_sums TO a list of zeros with LENGTH two TIMES n PLUS one  
  
        FOR i FROM three TIMES n MINUS one DOWN TO n  
            PERFORM the operation of pushing element at position i of nums INTO max_heap as a heap  
            IF the LENGTH OF max_heap GREATER THAN n  
                PERFORM the operation of popping the smallest element FROM max_heap as a heap  
            END IF  
            IF the LENGTH OF max_heap EQUALS n  
                SET element at position i of max_sums TO the SUM of all elements in max_heap  
            END IF  
        END FOR  
  
        SET min_diff TO positive infinity  
  
        FOR i FROM n MINUS one TO two TIMES n MINUS one  
            SET min_diff TO the SMALLER of min_diff AND element at position i of min_sums MINUS element at position i PLUS one of max_sums  
        END FOR  
  
        RETURN min_diff  
    END FUNCTION  
END CLASS