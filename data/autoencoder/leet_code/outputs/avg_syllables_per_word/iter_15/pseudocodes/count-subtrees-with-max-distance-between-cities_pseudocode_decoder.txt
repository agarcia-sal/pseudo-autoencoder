CLASS Solution  
    FUNCTION countSubgraphsForEachDiameter(n INTEGER, edges LIST OF LIST OF INTEGER) RETURNS LIST OF INTEGER  
        SET graph TO a new empty mapping from integer to list of integers for each integer from one TO n inclusive  
        FOR each pair u AND v IN edges  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        
        FUNCTION bfs(subtree SET OF INTEGER) RETURNS INTEGER  
            CREATE a queue of nodes WHERE the initial element IS an arbitrary element from subtree  
            CREATE a set visited CONTAINING the initial element  
            SET distance TO zero  
            SET farthest_node TO the initial element  
            
            WHILE the queue IS NOT empty  
                REMOVE the first element FROM the queue AND CALL it node  
                FOR each neighbor IN element at position node of graph  
                    IF neighbor IS an element of subtree AND neighbor IS NOT an element of visited  
                        ADD neighbor TO visited  
                        ADD neighbor TO the end of queue  
                        SET farthest_node TO neighbor  
                    END IF  
                END FOR  
            END WHILE  
            
            SET queue TO a new queue CONTAINING farthest_node AS the initial element  
            SET visited TO a set CONTAINING farthest_node  
            SET max_distance TO zero  
            
            WHILE the queue IS NOT empty  
                SET size TO the number of elements in queue  
                FOR index FROM one TO size  
                    REMOVE the first element FROM the queue AND CALL it node  
                    FOR each neighbor IN element at position node of graph  
                        IF neighbor IS an element of subtree AND neighbor IS NOT an element of visited  
                            ADD neighbor TO visited  
                            ADD neighbor TO the end of queue  
                        END IF  
                    END FOR  
                END FOR  
                IF the queue IS NOT empty  
                    INCREMENT max_distance BY one  
                END IF  
            END WHILE  
            
            RETURN max_distance  
        END FUNCTION  
        
        SET result TO a list OF zeros WITH length equal TO n MINUS one  
        
        FOR size FROM two TO n inclusive  
            FOR each subset IN all combinations of integers from one TO n inclusive TAKEN size AT A TIME  
                SET visited TO an empty set  
                SET stack TO a list CONTAINING the first element of subset  
                WHILE stack IS NOT empty  
                    REMOVE the last element FROM stack AND CALL it node  
                    IF node IS NOT an element of visited  
                        ADD node TO visited  
                        FOR each neighbor IN element at position node of graph  
                            IF neighbor IS an element of subset AND neighbor IS NOT an element of visited  
                                ADD neighbor TO stack  
                            END IF  
                        END FOR  
                    END IF  
                END WHILE  
                
                IF visited IS EQUAL TO the set version of subset  
                    SET diameter TO the result of calling bfs WITH the set of elements in subset  
                    IF diameter IS GREATER THAN zero  
                        INCREMENT element at position diameter MINUS one of result BY one  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS