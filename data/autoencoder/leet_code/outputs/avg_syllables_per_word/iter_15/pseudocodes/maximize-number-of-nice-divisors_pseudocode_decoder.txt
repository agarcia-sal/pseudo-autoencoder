CLASS Solution  
    FUNCTION maxNiceDivisors WITH PARAMETER primeFactors  
        SET MOD TO one billion PLUS seven  
        IF primeFactors IS LESS THAN OR EQUAL TO three  
            RETURN primeFactors  
        END IF  
        SET num_threes TO the INTEGER DIVISION OF primeFactors BY three  
        SET remainder TO the MODULO OF primeFactors BY three  
        IF remainder EQUALS zero  
            RETURN the result of raising three TO the power of num_threes AND TAKING THE MODULO OF MOD  
        ELSE IF remainder EQUALS one  
            RETURN the product of raising three TO the power of num_threes MINUS one AND TAKING THE MODULO OF MOD MULTIPLIED BY four AND THEN TAKING THE MODULO OF MOD  
        ELSE  
            RETURN the product of raising three TO the power of num_threes AND TAKING THE MODULO OF MOD MULTIPLIED BY two AND THEN TAKING THE MODULO OF MOD  
        END IF  
    END FUNCTION  
END CLASS