CLASS Solution  
    FUNCTION stoneGameVIII WITH parameter stones  
        SET prefix_sum TO a list of zero elements with length equal to the LENGTH OF stones  
        SET element at position zero of prefix_sum TO element at position zero of stones  
        FOR index FROM one TO the LENGTH OF stones MINUS one  
            SET element at position index of prefix_sum TO element at position index MINUS one of prefix_sum PLUS element at position index of stones  
        END FOR  
        SET dp TO element at the LAST position of prefix_sum  
        FOR index FROM the LENGTH OF stones MINUS two DOWN TO one  
            SET dp TO the GREATER VALUE BETWEEN dp AND element at position index of prefix_sum MINUS dp  
        END FOR  
        RETURN dp  
    END FUNCTION  
END CLASS