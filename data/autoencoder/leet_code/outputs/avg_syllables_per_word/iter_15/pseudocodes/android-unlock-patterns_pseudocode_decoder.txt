CLASS Solution  
    FUNCTION numberOfPatterns(m, n)  
        SET jumps TO a mapping FROM pairs of dot positions TO the dot position that must be visited when jumping over it  
            ASSIGN pair from one TO three TO two  
            ASSIGN pair from one TO seven TO four  
            ASSIGN pair from one TO nine TO five  
            ASSIGN pair from two TO eight TO five  
            ASSIGN pair from three TO one TO two  
            ASSIGN pair from three TO seven TO five  
            ASSIGN pair from three TO nine TO six  
            ASSIGN pair from four TO six TO five  
            ASSIGN pair from five TO five TO five  
            ASSIGN pair from six TO four TO five  
            ASSIGN pair from seven TO one TO four  
            ASSIGN pair from seven TO three TO five  
            ASSIGN pair from seven TO nine TO eight  
            ASSIGN pair from eight TO two TO five  
            ASSIGN pair from nine TO one TO five  
            ASSIGN pair from nine TO three TO six  
            ASSIGN pair from nine TO seven TO eight  

        FUNCTION countPatternsFromDot(current, visited, length)  
            IF length EQUALS n THEN  
                RETURN one  
            END IF  
            SET count TO one IF length GREATER THAN OR EQUAL TO m OTHERWISE zero  
            FOR each next_dot FROM one TO nine  
                IF element at position next_dot of visited EQUALS False THEN  
                    SET jump TO the value in jumps mapped FROM pair current AND next_dot IF present OTHERWISE zero  
                    IF jump EQUALS zero OR element at position jump of visited EQUALS True THEN  
                        SET element at position next_dot of visited TO True  
                        INCREMENT count BY countPatternsFromDot(next_dot, visited, length PLUS one)  
                        SET element at position next_dot of visited TO False  
                    END IF  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  

        SET visited TO a list of ten elements each set to False  
        SET result TO zero  
        FOR i FROM one TO nine  
            SET element at position i of visited TO True  
            INCREMENT result BY countPatternsFromDot(i, visited, one)  
            SET element at position i of visited TO False  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS