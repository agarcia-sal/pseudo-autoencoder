CLASS Solution  
    FUNCTION partition WITH parameter s  
        FUNCTION is_palindrome WITH parameter sub  
            RETURN sub EQUALS sub REVERSED IN NATURAL ORDER  
        END FUNCTION  

        FUNCTION backtrack WITH parameters start AND path  
            IF start EQUALS the LENGTH OF s  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s  
                IF is_palindrome APPLIED TO the SUBSTRING FROM position start TO position end MINUS one OF s  
                    CALL backtrack WITH end AND path CONCATENATED WITH a LIST CONTAINING the SUBSTRING FROM position start TO position end MINUS one OF s  
                END IF  
            END FOR  
        END FUNCTION  

        SET result TO an empty list  
        CALL backtrack WITH zero AND an empty list  
        RETURN result  
    END FUNCTION  
END CLASS