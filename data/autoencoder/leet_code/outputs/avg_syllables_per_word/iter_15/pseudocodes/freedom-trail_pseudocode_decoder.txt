CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        CREATE dictionary char_positions that DEFAULTS TO list  
        FOR each index FROM zero TO the LENGTH OF ring MINUS one  
            APPEND element at position index of ring TO the list AT key element char_positions  
        END FOR  
        SET n TO the LENGTH OF ring  
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            SET min_steps TO INFINITY  
            FOR each position IN the list AT element at position i of key in char_positions  
                SET distance_clockwise TO the remainder of the difference BETWEEN position MINUS prev_pos AND n  
                SET distance_anticlockwise TO the remainder of the difference BETWEEN prev_pos MINUS position AND n  
                SET steps TO the MINIMUM of distance_clockwise AND distance_anticlockwise PLUS one PLUS the result of FUNCTION dp WITH parameters the sum of i PLUS one AND position  
                SET min_steps TO the MINIMUM of min_steps AND steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  
        RETURN the result of FUNCTION dp WITH parameters zero AND zero  
    END FUNCTION  
END CLASS