CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO an empty dictionary mapping each element in arr to its position  
        SET dp TO an empty dictionary for tracking lengths of Fibonacci-like subsequences  
        SET max_length TO zero  
        
        FOR k FROM zero TO the length of arr MINUS one  
            FOR j FROM zero TO k MINUS one  
                SET difference TO element at position k of arr MINUS element at position j of arr  
                SET i TO the value from index for difference or negative one if not found  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j  
                    SET previous_length TO the value from dp for the pair of i and j or two if not found  
                    SET dp at pair j and k TO previous_length PLUS one  
                    IF dp at pair j and k IS GREATER THAN max_length  
                        SET max_length TO dp at pair j and k  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        IF max_length IS GREATER THAN OR EQUAL TO three  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS