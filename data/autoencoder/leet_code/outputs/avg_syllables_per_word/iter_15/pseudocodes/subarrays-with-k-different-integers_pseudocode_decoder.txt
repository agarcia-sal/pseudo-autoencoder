CLASS Solution  
    FUNCTION subarraysWithKDistinct(nums parameter, k parameter)  
        FUNCTION atMostKDistinct(t parameter)  
            SET count TO a new mapping from items to integer zero by default  
            SET left TO zero  
            SET result TO zero  
            FOR each right_index FROM zero TO the LENGTH OF nums MINUS one  
                INCREMENT the element at position nums at right_index in count BY one  
                WHILE the NUMBER OF KEYS IN count IS GREATER THAN t  
                    DECREMENT the element at position nums at left in count BY one  
                    IF the element at position nums at left in count EQUALS zero  
                        REMOVE the element at position nums at left FROM count  
                    END IF  
                    INCREMENT left BY one  
                END WHILE  
                INCREMENT result BY right_index MINUS left PLUS one  
            END FOR  
            RETURN result  
        END FUNCTION  
        RETURN the VALUE OF atMostKDistinct with argument k MINUS the VALUE OF atMostKDistinct with argument k MINUS one  
    END FUNCTION  
END CLASS