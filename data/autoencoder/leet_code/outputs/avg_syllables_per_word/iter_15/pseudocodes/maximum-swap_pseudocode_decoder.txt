CLASS Solution  
    FUNCTION maximumSwap WITH PARAMETERS num  
        SET digits TO list of characters derived from string representation of num  
        SET last TO a dictionary mapping each digit converted to number TO its last position in digits  
        FOR each position i AND digit d IN digits enumerated  
            FOR each digit2 FROM nine DOWN TO digit converted to number PLUS one  
                IF the last position of digit2 in last EXISTS AND IS GREATER THAN i THEN  
                    SET temporary variable TO element at position i of digits  
                    SET element at position i of digits TO element at position last of digit2 in digits  
                    SET element at position last of digit2 in digits TO temporary variable  
                    SET result_string TO concatenation of all elements in digits in sequence  
                    SET result_number TO numerical value of result_string  
                    RETURN result_number  
                END IF  
            END FOR  
        END FOR  
        RETURN num  
    END FUNCTION  
END CLASS