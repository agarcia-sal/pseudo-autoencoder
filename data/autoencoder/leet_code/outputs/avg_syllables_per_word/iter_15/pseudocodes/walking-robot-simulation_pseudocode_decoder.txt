CLASS Solution  
    FUNCTION robotSim(commands AS List OF Integer, obstacles AS List OF List OF Integer) RETURNS Integer  
        SET directions TO list of coordinate pairs representing zero and one in four orientations namely zero and one, one and zero, zero and negative one, negative one and zero  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero  
        SET obstacles_set TO CONVERT list obstacles TO a set of tuples representing each obstacle coordinate pair  
        SET max_distance TO zero  
        FOR each command IN commands  
            IF command EQUALS negative two  
                SET dir_index TO the remainder of the difference between dir_index and one divided by four  
            ELSE IF command EQUALS negative one  
                SET dir_index TO the remainder of the sum of dir_index and one divided by four  
            ELSE  
                SET dx AND dy TO the elements at position dir_index of directions representing current direction coordinates  
                FOR count FROM one TO command  
                    SET next_x TO the sum of x and dx  
                    SET next_y TO the sum of y and dy  
                    IF the tuple of next_x and next_y is an element of obstacles_set  
                        BREAK the inner FOR loop  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET squared_distance TO the sum of x MULTIPLIED BY x and y MULTIPLIED BY y  
                IF squared_distance GREATER THAN max_distance  
                    SET max_distance TO squared_distance  
                END IF  
            END IF  
        END FOR  
        RETURN max_distance  
    END FUNCTION  
END CLASS