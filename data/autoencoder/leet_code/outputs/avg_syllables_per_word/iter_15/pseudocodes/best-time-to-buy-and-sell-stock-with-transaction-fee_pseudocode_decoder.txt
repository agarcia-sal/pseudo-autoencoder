CLASS Solution  
    FUNCTION maxProfit(prices LIST OF INTEGER, fee INTEGER) RETURNS INTEGER  
        SET cash TO zero  
        SET hold TO negative infinity  
        FOR each price IN prices  
            SET possible_cash_profit TO hold PLUS price MINUS fee  
            IF possible_cash_profit GREATER THAN cash  
                SET cash TO possible_cash_profit  
            END IF  
            SET possible_hold_profit TO cash MINUS price  
            IF possible_hold_profit GREATER THAN hold  
                SET hold TO possible_hold_profit  
            END IF  
        END FOR  
        RETURN cash  
    END FUNCTION  
END CLASS