CLASS Solution  
    FUNCTION numberOfGoodSubsets(nums)  
        SET count TO the frequency count of each number in nums  
        INITIALIZE dp TO a list of zeroes with length two EXPONENTIATED BY ten  
        SET the element at position zero of dp TO one  

        FOR each number IN the keys of count  
            IF the number EQUALS one THEN  
                SET the element at position zero of dp TO the element at position zero of dp MULTIPLIED BY two EXPONENTIATED BY the element at position one in count  
                SET the element at position zero of dp TO the remainder of the previous value DIVIDED BY the constant MODULO  
                CONTINUE to the next number  
            END IF  
            IF the number NOT IN the predefined prime factorization mapping THEN  
                CONTINUE to the next number  
            END IF  

            SET factors TO the list of prime factors associated with the number in the prime factorization mapping  
            SET mask TO zero  
            FOR each prime IN factors  
                SET mask TO the bitwise OR of mask WITH one LEFT SHIFTED BY the prime MINUS one  
            END FOR  

            FOR m FROM the maximum value of bitmask DOWN TO zero DO  
                IF the bitwise AND of m AND mask EQUALS zero THEN  
                    SET the element at position the bitwise OR of m AND mask of dp TO the remainder of the sum of the element at position the bitwise OR of m AND mask of dp PLUS the element at position m of dp MULTIPLIED BY the count associated with number DIVIDED BY MODULO  
                END IF  
            END FOR  
        END FOR  

        SET result TO the remainder of the sum of elements in dp from position one TO the end DIVIDED BY MODULO  
        RETURN result  
    END FUNCTION  
END CLASS