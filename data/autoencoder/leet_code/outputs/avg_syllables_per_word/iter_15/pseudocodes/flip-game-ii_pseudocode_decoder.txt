CLASS Solution  
    FUNCTION canWin(currentState)  
        SET memo TO empty mapping from states to boolean values  
        
        FUNCTION can_win_helper(state)  
            IF state IS A KEY IN memo  
                RETURN value ASSOCIATED WITH state IN memo  
            END IF  
            
            SET length_of_state TO the LENGTH OF state  
            FOR index FROM zero TO length_of_state MINUS one MINUS one  
                SET substring_at_index TO the substring from position index TO index PLUS one of state  
                IF substring_at_index EQUALS two PLUS signs  
                    SET new_state TO the concatenation of substring from position zero TO index of state PLUS two MINUS signs PLUS substring from position index PLUS two TO end of state  
                    SET opponent_can_win TO can_win_helper(new_state)  
                    IF opponent_can_win IS FALSE  
                        SET value ASSOCIATED WITH state IN memo TO true  
                        RETURN true  
                    END IF  
                END IF  
            END FOR  
            
            SET value ASSOCIATED WITH state IN memo TO false  
            RETURN false  
        END FUNCTION  
        
        RETURN can_win_helper(currentState)  
    END FUNCTION  
END CLASS