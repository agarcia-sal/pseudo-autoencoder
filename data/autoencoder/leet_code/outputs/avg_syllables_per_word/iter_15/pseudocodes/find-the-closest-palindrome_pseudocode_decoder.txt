CLASS Solution  
    FUNCTION nearestPalindromic(n)  
        SET length TO the LENGTH OF n  
        IF length EQUALS one  
            RETURN the STRING REPRESENTATION OF the VALUE OF n CONVERTED TO INTEGER MINUS one  
        END IF  
        
        INITIALIZE candidates AS an EMPTY SET  
        
        ADD the VALUE OF TEN RAISED TO THE POWER OF length PLUS one TO candidates  
        ADD the VALUE OF TEN RAISED TO THE POWER OF length MINUS one MINUS one TO candidates  
        
        SET prefix TO the VALUE OF the SUBSTRING FROM POSITION zero TO POSITION the INTEGER DIVISION OF the SUM OF length AND one BY two OF n CONVERTED TO INTEGER  
        FOR each i IN the SEQUENCE from negative one TO positive one INCLUSIVE  
            SET new_prefix TO the STRING REPRESENTATION OF prefix PLUS i  
            IF length MODULO two EQUALS zero  
                SET candidate TO the CONCATENATION OF new_prefix AND the REVERSE OF new_prefix  
            ELSE  
                SET candidate TO the CONCATENATION OF new_prefix AND new_prefix FROM POSITION the LENGTH OF new_prefix MINUS two DOWN TO zero IN REVERSE ORDER  
            END IF  
            ADD the VALUE OF candidate CONVERTED TO INTEGER TO candidates  
        END FOR  
        
        SET original_number TO the VALUE OF n CONVERTED TO INTEGER  
        REMOVE original_number FROM candidates IF IT IS PRESENT  
        
        SET closest TO the ELEMENT OF candidates THAT MINIMIZES the TUPLE OF the ABSOLUTE VALUE OF element MINUS original_number AND element ITSELF  
        
        RETURN the STRING REPRESENTATION OF closest  
    END FUNCTION  
END CLASS