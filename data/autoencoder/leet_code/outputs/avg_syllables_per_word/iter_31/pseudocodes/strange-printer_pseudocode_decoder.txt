CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j  
                RETURN zero  
            END IF  
            IF tuple of i and j EXISTS IN memo  
                RETURN element at tuple of i and j OF memo  
            END IF  
            SET result TO dp(i, j MINUS one, memo) PLUS one  
            FOR k FROM i TO j MINUS one  
                IF element at position k OF s EQUALS element at position j OF s  
                    SET candidate TO dp(i, k MINUS one, memo) PLUS dp(k, j MINUS one, memo)  
                    IF candidate LESS THAN result  
                        SET result TO candidate  
                    END IF  
                END IF  
            END FOR  
            SET element at tuple of i and j OF memo TO result  
            RETURN result  
        END FUNCTION  
        RETURN dp(zero, length of s MINUS one, empty dictionary)  
    END FUNCTION  
END CLASS