CLASS Solution  
    FUNCTION maxValue(events parameter LIST OF LIST OF INTEGER k parameter INTEGER) RETURNS INTEGER  
        CALL events SORTED BY the end day of each event  
        SET n TO the LENGTH OF events  
        SET dp TO a new list with n PLUS one elements where each element is a list of k PLUS one zeros  
        
        FOR i FROM one TO n  
            SET start TO the first element of element at position i MINUS one of events  
            SET end TO the second element of element at position i MINUS one of events  
            SET value TO the third element of element at position i MINUS one of events  
            
            SET j TO the POSITION WHERE start can be inserted in events based on the end days to maintain sorted order  
            
            FOR l FROM one TO k  
                SET dp at position i and l TO the MAXIMUM BETWEEN dp at position i MINUS one and l AND dp at position j and l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN dp at position n and k  
    END FUNCTION  
END CLASS