CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO empty collection that returns empty list for any new key  
        
        FOR each element u AND element v IN edges  
            APPEND pair of element at position v of scores AND element v TO list at position u of graph  
            APPEND pair of element at position u of scores AND element u TO list at position v of graph  
        END FOR  
        
        FOR each element node IN graph  
            SET list at position node of graph TO list of three pairs with the highest first elements from list at position node of graph  
        END FOR  
        
        SET max_score TO negative one  
        
        FOR each element u AND element v IN edges  
            FOR each pair of score1 AND x IN list at position u of graph  
                FOR each pair of score2 AND y IN list at position v of graph  
                    IF the number of distinct elements in the set containing x AND y AND u AND v EQUALS four  
                        IF max_score LESS THAN score1 PLUS score2 PLUS element at position u of scores PLUS element at position v of scores  
                            SET max_score TO score1 PLUS score2 PLUS element at position u of scores PLUS element at position v of scores  
                        END IF  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        
        RETURN max_score  
    END FUNCTION  
END CLASS