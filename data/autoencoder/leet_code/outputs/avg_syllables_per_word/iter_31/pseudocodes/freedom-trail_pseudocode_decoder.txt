CLASS Solution  
    FUNCTION findRotateSteps(ring key) RETURNS integer  
        SET char_positions TO an empty dictionary where each key maps to an empty list  
        SET index TO zero  
        FOR each character IN ring  
            APPEND index TO the list of positions for the character in char_positions  
            INCREMENT index BY one  
        END FOR  
        
        SET n TO the LENGTH OF ring  
        
        FUNCTION dp(i prev_pos) RETURNS integer  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            
            SET min_steps TO a very large number representing infinity  
            FOR each position IN the list of positions for the character at position i of key in char_positions  
                SET clockwise TO position MINUS prev_pos MODULO n  
                SET anticlockwise TO prev_pos MINUS position MODULO n  
                SET step_count TO the smaller of clockwise AND anticlockwise PLUS one PLUS dp(i PLUS one position)  
                SET min_steps TO the smaller of min_steps AND step_count  
            END FOR  
            
            RETURN min_steps  
        END FUNCTION  
        
        RETURN dp(zero zero)  
    END FUNCTION  
END CLASS