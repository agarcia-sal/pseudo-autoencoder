CLASS Solution  
    FUNCTION replaceWords(dictionary WITH TYPE List of strings, sentence WITH TYPE string) RETURNS string  
        CALL sort dictionary BY the LENGTH OF each element  
        SET words TO the list of elements obtained by splitting sentence into words  
        
        FUNCTION replace(word) RETURNS string  
            FOR each root IN dictionary  
                IF the word starts with root  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
        
        SET replaced_words TO an empty list  
        FOR each word IN words  
            APPEND the result of replace called with word TO replaced_words  
        END FOR  
        
        SET joined_sentence TO a single string formed by joining all elements in replaced_words separated by a space  
        RETURN joined_sentence  
    END FUNCTION  
END CLASS