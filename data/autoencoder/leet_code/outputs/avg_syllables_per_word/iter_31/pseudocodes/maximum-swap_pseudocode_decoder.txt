CLASS Solution  
    FUNCTION maximumSwap(num)  
        SET digits TO list of characters representing the decimal digits of num converted to string  
        SET last TO empty dictionary mapping digits to positions  
        FOR each index i AND character d IN digits with their positions  
            SET digit_value TO integer value of character d  
            SET last at key digit_value TO i  
        END FOR  
        FOR each index i AND character d IN digits with their positions  
            SET digit_value TO integer value of character d  
            FOR d2 FROM nine TO digit_value PLUS one DECREMENTING BY one  
                IF last at key d2 EXISTS AND the value there IS GREATER THAN i THEN  
                    SET position_to_swap TO last at key d2  
                    SWAP element at position i of digits WITH element at position position_to_swap of digits  
                    SET result_string TO concatenation of all characters in digits in order  
                    SET result_number TO integer value represented by result_string  
                    RETURN result_number  
                END IF  
            END FOR  
        END FOR  
        RETURN num  
    END FUNCTION  
END CLASS