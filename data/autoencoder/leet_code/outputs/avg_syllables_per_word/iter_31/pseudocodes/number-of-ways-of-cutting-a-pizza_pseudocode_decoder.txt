CLASS Solution  
    FUNCTION ways(pizza k)  
        FUNCTION dfs(i j k)  
            IF k EQUALS zero  
                RETURN the number of apple items in the region from position i to position m and from position j to position n is greater than zero converted to integer  
            END IF  
            SET ans TO zero  
            FOR x FROM i PLUS one TO m MINUS one  
                IF the number of apple items in the region from position x to position m and from position j to position n is greater than zero  
                    INCREMENT ans BY dfs called with parameters x j k MINUS one  
                END IF  
            END FOR  
            FOR y FROM j PLUS one TO n MINUS one  
                IF the number of apple items in the region from position i to position m and from position y to position n is greater than zero  
                    INCREMENT ans BY dfs called with parameters i y k MINUS one  
                END IF  
            END FOR  
            RETURN ans MODULO mod  
        END FUNCTION  

        SET mod TO one billion PLUS seven  
        SET m TO the length of pizza  
        SET n TO the length of element at position zero of pizza  
        SET s TO a two-dimensional list of zeros of size m PLUS one by n PLUS one  
        FOR i FROM one TO m  
            FOR j FROM one TO n  
                SET element at position i j of s TO element at position i MINUS one j of s PLUS element at position i j MINUS one of s MINUS element at position i MINUS one j MINUS one of s PLUS one if element at position i MINUS one and j MINUS one of pizza equals apple otherwise zero  
            END FOR  
        END FOR  
        RETURN dfs called with parameters zero zero k MINUS one  
    END FUNCTION  
END CLASS