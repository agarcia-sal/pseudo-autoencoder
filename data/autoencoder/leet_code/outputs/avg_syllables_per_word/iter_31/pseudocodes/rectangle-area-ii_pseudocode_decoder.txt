CLASS Solution  
    FUNCTION rectangleArea(rectangles)  
        SET MOD TO ten POWERED BY nine PLUS one  
        SET y_coords TO empty set  
        FOR each rectangle IN rectangles  
            SET x1 TO first element of rectangle  
            SET y1 TO second element of rectangle  
            SET x2 TO third element of rectangle  
            SET y2 TO fourth element of rectangle  
            ADD y1 TO y_coords  
            ADD y2 TO y_coords  
        END FOR  
        SET y_coords TO sorted list of elements in y_coords  
        SET y_index TO empty dictionary  
        FOR each index FROM zero TO length of y_coords MINUS one  
            SET element at position index of y_coords TO y  
            ASSIGN y_index at key y TO index  
        END FOR  
        SET count TO list of zeros with length equal to length of y_coords MINUS one  
        SET events TO empty list  
        FOR each rectangle IN rectangles  
            SET x1 TO first element of rectangle  
            SET y1 TO second element of rectangle  
            SET x2 TO third element of rectangle  
            SET y2 TO fourth element of rectangle  
            APPEND list with elements x1, one, y1, y2 TO events  
            APPEND list with elements x2, minus one, y1, y2 TO events  
        END FOR  
        SORT events by first element of each event  
        SET prev_x TO zero  
        SET area TO zero  
        FOR each event IN events  
            SET x TO first element of event  
            SET eventType TO second element of event  
            SET y1 TO third element of event  
            SET y2 TO fourth element of event  
            SET current_length TO zero  
            FOR each i FROM one TO length of count  
                IF element at position i MINUS one of count GREATER THAN zero  
                    INCREMENT current_length BY element at position i of y_coords MINUS element at position i MINUS one of y_coords  
                END IF  
            END FOR  
            INCREMENT area BY current_length MULTIPLIED BY difference between x and prev_x  
            SET area TO remainder of area DIVIDED BY MOD  
            IF eventType EQUALS one  
                FOR each i FROM y_index at y1 TO y_index at y2 MINUS one  
                    INCREMENT element at position i of count BY one  
                END FOR  
            ELSE  
                FOR each i FROM y_index at y1 TO y_index at y2 MINUS one  
                    DECREMENT element at position i of count BY one  
                END FOR  
            END IF  
            SET prev_x TO x  
        END FOR  
        RETURN area  
    END FUNCTION  
END CLASS