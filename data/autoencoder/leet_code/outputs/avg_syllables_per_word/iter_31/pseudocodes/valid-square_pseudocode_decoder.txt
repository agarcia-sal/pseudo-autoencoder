CLASS Solution  
    FUNCTION validSquare(p1 WITH TYPE List OF integers, p2 WITH TYPE List OF integers, p3 WITH TYPE List OF integers, p4 WITH TYPE List OF integers) RETURNS boolean  
        FUNCTION squared_distance(point_one, point_two)  
            SET difference_in_first_coordinate TO element at position zero of point_one MINUS element at position zero of point_two  
            SET difference_in_second_coordinate TO element at position one of point_one MINUS element at position one of point_two  
            SET square_of_first_difference TO difference_in_first_coordinate MULTIPLIED BY difference_in_first_coordinate  
            SET square_of_second_difference TO difference_in_second_coordinate MULTIPLIED BY difference_in_second_coordinate  
            SET sum_of_squares TO square_of_first_difference PLUS square_of_second_difference  
            RETURN sum_of_squares  
        END FUNCTION  
        
        SET points TO list containing p1 AND p2 AND p3 AND p4  
        SET distances TO empty set  
        
        FOR index i FROM zero TO three  
            FOR index j FROM i PLUS one TO three  
                SET dist TO result of squared_distance applied to element at position i of points AND element at position j of points  
                IF dist EQUALS zero  
                    RETURN false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        
        IF size of distances EQUALS two  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS