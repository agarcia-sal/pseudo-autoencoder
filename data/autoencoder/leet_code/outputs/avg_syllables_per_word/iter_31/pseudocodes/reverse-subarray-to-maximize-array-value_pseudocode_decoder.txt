CLASS Solution  
    FUNCTION maxValueAfterReverse(nums)  
        SET n TO the LENGTH OF nums  
        IF n EQUALS two  
            RETURN the ABSOLUTE VALUE OF element at position zero of nums MINUS element at position one of nums  
        END IF  

        SET initial_value TO zero  
        FOR i FROM one TO n MINUS one  
            INCREMENT initial_value BY the ABSOLUTE VALUE OF element at position i of nums MINUS element at position i MINUS one of nums  
        END FOR  

        SET max_edge_gain TO zero  
        FOR i FROM one TO n MINUS one  
            SET candidate_gain TO the ABSOLUTE VALUE OF element at position zero of nums MINUS element at position i of nums MINUS the ABSOLUTE VALUE OF element at position i of nums MINUS element at position i MINUS one of nums  
            IF candidate_gain GREATER THAN max_edge_gain  
                SET max_edge_gain TO candidate_gain  
            END IF  
        END FOR  

        FOR i FROM zero TO n MINUS two  
            SET candidate_gain TO the ABSOLUTE VALUE OF element at position n MINUS one of nums MINUS element at position i of nums MINUS the ABSOLUTE VALUE OF element at position i PLUS one of nums MINUS element at position i of nums  
            IF candidate_gain GREATER THAN max_edge_gain  
                SET max_edge_gain TO candidate_gain  
            END IF  
        END FOR  

        SET min_pair TO the MINIMUM value among the MAXIMUM values between element at position i of nums and element at position i PLUS one of nums for each i FROM zero TO n MINUS two  
        SET max_pair TO the MAXIMUM value among the MINIMUM values between element at position i of nums and element at position i PLUS one of nums for each i FROM zero TO n MINUS two  

        SET general_gain TO the MAXIMUM value between zero AND two MULTIPLIED BY max_pair MINUS min_pair  

        RETURN initial_value PLUS the MAXIMUM value between max_edge_gain AND general_gain  
    END FUNCTION  
END CLASS