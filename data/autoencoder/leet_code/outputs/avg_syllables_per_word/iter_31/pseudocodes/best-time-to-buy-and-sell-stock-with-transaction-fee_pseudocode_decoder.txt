CLASS Solution  
    FUNCTION maxProfit(prices WITH TYPE List OF integers fee WITH TYPE integer) RETURNS integer  
        SET cash TO zero  
        SET hold TO the smallest possible number representing negative infinity  
        FOR each price IN prices  
            IF cash GREATER THAN OR EQUAL TO hold PLUS price MINUS fee  
                SET cash TO cash  
            ELSE  
                SET cash TO hold PLUS price MINUS fee  
            END IF  
            IF hold GREATER THAN OR EQUAL TO cash MINUS price  
                SET hold TO hold  
            ELSE  
                SET hold TO cash MINUS price  
            END IF  
        END FOR  
        RETURN cash  
    END FUNCTION  
END CLASS