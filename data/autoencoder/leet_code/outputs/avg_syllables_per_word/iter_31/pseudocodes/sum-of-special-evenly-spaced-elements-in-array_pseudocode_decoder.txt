CLASS Solution  
    FUNCTION solve(nums list of integer queries list of list of integer) RETURNS list of integer  
        SET MOD TO one billion PLUS seven  
        SET n TO the LENGTH OF nums  
        SET max_y TO the MAXIMUM y value FROM each pair ignoring first element IN queries  
        SET prefix_sums TO a new list WITH max_y PLUS one elements EACH BEING a list of zero of length n  
        
        FOR y FROM one TO max_y  
            FOR i FROM n MINUS one DOWNTO zero  
                IF the SUM of i PLUS y IS LESS THAN the LENGTH OF nums  
                    SET the element at position i of the element at position y of prefix_sums TO the element at position i of nums PLUS the element at position the SUM of i PLUS y of the element at position y of prefix_sums  
                ELSE  
                    SET the element at position i of the element at position y of prefix_sums TO the element at position i of nums  
                END IF  
            END FOR  
        END FOR  
        
        SET answer TO an empty list  
        FOR each pair consisting of x and y IN queries  
            APPEND the element at position x of the element at position y of prefix_sums MODULO MOD TO answer  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS