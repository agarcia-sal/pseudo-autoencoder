CLASS Solution
    FUNCTION wordBreak(s, wordDict)
        SET wordSet TO SET OF wordDict
        SET memo TO EMPTY DICTIONARY
        
        FUNCTION backtrack(start)
            IF start IS IN memo
                RETURN memo[start]
            IF start IS EQUAL TO LENGTH OF s
                RETURN LIST CONTAINING EMPTY STRING
            
            SET res TO EMPTY LIST
            FOR end FROM start + 1 TO LENGTH OF s + 1
                SET word TO SUBSTRING OF s FROM start TO end
                IF word IS IN wordSet
                    FOR sentence IN backtrack(end)
                        IF sentence IS NOT EMPTY
                            APPEND CONCATENATION OF word, SPACE, AND sentence TO res
                        ELSE
                            APPEND word TO res
            
            SET memo[start] TO res
            RETURN res
        END FUNCTION
        
        RETURN backtrack(0)
    END FUNCTION
END CLASS