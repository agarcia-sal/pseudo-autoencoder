```
CLASS Solution
    FUNCTION maximumScore(scores: List OF Integer, edges: List OF List OF Integer)
        SET graph TO a default dictionary of lists
        FOR each pair (u, v) IN edges
            APPEND (scores[v], v) TO graph[u]
            APPEND (scores[u], u) TO graph[v]

        FOR each node IN graph
            SET graph[node] TO the three largest elements in graph[node] by score

        SET max_score TO -1

        FOR each pair (u, v) IN edges
            FOR each (score1, x) IN graph[u]
                FOR each (score2, y) IN graph[v]
                    IF the set {x, y, u, v} has size 4
                        SET max_score TO the maximum of max_score and (score1 + score2 + scores[u] + scores[v])

        RETURN max_score
    END FUNCTION
END CLASS
```