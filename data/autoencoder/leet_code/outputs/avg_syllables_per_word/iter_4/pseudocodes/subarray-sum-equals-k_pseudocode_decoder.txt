CLASS Solution
    FUNCTION subarraySum(nums, k)
        SET cumulative_sum_freq TO dictionary WITH KEY 0 AND VALUE 1
        SET current_sum TO 0
        SET count TO 0

        FOR each num IN nums
            INCREMENT current_sum BY num
            IF current_sum MINUS k EXISTS IN cumulative_sum_freq
                INCREMENT count BY VALUE OF cumulative_sum_freq AT KEY (current_sum MINUS k)
            END IF
            IF current_sum EXISTS IN cumulative_sum_freq
                INCREMENT VALUE OF cumulative_sum_freq AT KEY current_sum BY 1
            ELSE
                SET VALUE OF cumulative_sum_freq AT KEY current_sum TO 1
            END IF
        END FOR

        RETURN count
    END FUNCTION
END CLASS