CLASS Solution
    FUNCTION solve(nums, queries)
        SET MOD TO 10 TO THE POWER 9 PLUS 7
        SET n TO LENGTH OF nums
        SET max_y TO MAXIMUM y VALUE FROM queries
        INITIALIZE prefix_sums AS LIST OF LISTS WITH SIZE (max_y + 1) BY n FILLED WITH 0
        
        FOR y FROM 1 TO max_y
            FOR i FROM n MINUS 1 DOWNTO 0
                IF i PLUS y IS LESS THAN n
                    SET prefix_sums[y][i] TO nums[i] PLUS prefix_sums[y][i PLUS y]
                ELSE
                    SET prefix_sums[y][i] TO nums[i]
        
        INITIALIZE answer AS EMPTY LIST
        FOR EACH (x, y) IN queries
            APPEND prefix_sums[y][x] MODULO MOD TO answer
        
        RETURN answer
    END FUNCTION
END CLASS