CLASS Solution
    FUNCTION shoppingOffers(price, special, needs)
        SET special TO [offer FOR offer IN special IF sum of offer items excluding last IS GREATER THAN 0 AND last item of offer IS LESS THAN sum of corresponding price times offer item]

        FUNCTION dfs(needs) WITH MEMOIZATION
            SET min_cost TO sum of each price times corresponding need

            FOR each offer IN special
                SET new_needs TO list of each need minus corresponding offer item excluding last
                IF all items in new_needs are greater than or equal to 0
                    SET min_cost TO minimum of min_cost AND last item of offer plus dfs of new_needs converted to tuple
            RETURN min_cost
        END FUNCTION

        RETURN dfs(needs converted to tuple)
    END FUNCTION
END CLASS