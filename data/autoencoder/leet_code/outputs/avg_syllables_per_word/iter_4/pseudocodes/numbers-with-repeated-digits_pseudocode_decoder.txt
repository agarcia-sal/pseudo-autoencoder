CLASS Solution
    FUNCTION numDupDigitsAtMostN(n)
        FUNCTION count_unique_digits(x)
            SET s TO string representation of x
            SET length TO length of s
            SET count TO 0
            FOR i FROM 1 TO length - 1
                INCREMENT count BY 9 MULTIPLIED BY perm(9, i - 1)
            SET seen TO empty set
            FOR i, digit_char IN ENUMERATE s
                SET digit TO integer value of digit_char
                FOR d FROM (1 IF i IS 0 ELSE 0) TO digit - 1
                    IF d NOT IN seen
                        INCREMENT count BY perm(9 - i, length - i - 1)
                IF digit IN seen
                    BREAK loop
                ADD digit TO seen
            IF loop completed without break
                INCREMENT count BY 1
            RETURN count
        END FUNCTION

        SET unique_count TO count_unique_digits(n)
        RETURN n MINUS unique_count
    END FUNCTION

    FUNCTION perm(m, n)
        IF n IS 0
            RETURN 1
        SET result TO 1
        FOR i FROM 0 TO n - 1
            SET result TO result MULTIPLIED BY (m MINUS i)
        RETURN result
    END FUNCTION
END CLASS