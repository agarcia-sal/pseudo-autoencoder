CLASS Solution
    FUNCTION swimInWater(grid)
        SET n TO LENGTH OF grid
        SET visited TO EMPTY SET
        SET min_heap TO LIST CONTAINING (grid[0][0], 0, 0)
        ADD (0, 0) TO visited
        
        SET directions TO LIST OF (0, 1), (1, 0), (0, -1), (-1, 0)
        
        WHILE min_heap IS NOT EMPTY
            SET (t, i, j) TO REMOVE SMALLEST ELEMENT FROM min_heap
            IF i EQUALS n MINUS 1 AND j EQUALS n MINUS 1
                RETURN t
            
            FOR EACH (di, dj) IN directions
                SET ni TO i PLUS di
                SET nj TO j PLUS dj
                IF ni IS AT LEAST 0 AND LESS THAN n AND nj IS AT LEAST 0 AND LESS THAN n AND (ni, nj) NOT IN visited
                    ADD (ni, nj) TO visited
                    ADD (MAXIMUM OF t AND grid[ni][nj], ni, nj) TO min_heap
        
        RETURN -1
    END FUNCTION
END CLASS