CLASS Solution
    FUNCTION numOfWays(nums: List of Integer) RETURNS Integer
        SET MOD TO 10^9 + 7

        FUNCTION count_ways(arr: List of Integer) RETURNS Integer
            IF LENGTH OF arr <= 1 THEN
                RETURN 1
            END IF

            SET root TO arr[0]
            SET left_subtree TO EMPTY LIST
            SET right_subtree TO EMPTY LIST

            FOR each x IN arr
                IF x < root THEN
                    APPEND x TO left_subtree
                ELSE IF x > root THEN
                    APPEND x TO right_subtree
                END IF
            END FOR

            SET ways_left TO count_ways(left_subtree)
            SET ways_right TO count_ways(right_subtree)
            SET total_ways TO COMBINATION OF (LENGTH OF left_subtree + LENGTH OF right_subtree) CHOOSE LENGTH OF left_subtree

            RETURN (ways_left * ways_right * total_ways) MOD MOD
        END FUNCTION

        RETURN (count_ways(nums) - 1) MOD MOD
    END FUNCTION
END CLASS