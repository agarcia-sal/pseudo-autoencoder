CLASS Solution
    FUNCTION partition(s)
        FUNCTION is_palindrome(sub)
            RETURN sub EQUALS reverse of sub
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF start EQUALS LENGTH OF s THEN
                APPEND path TO result
                RETURN
            END IF
            FOR end FROM start + 1 TO LENGTH OF s + 1
                IF is_palindrome(SUBSTRING of s FROM start TO end) THEN
                    CALL backtrack(end, path APPENDED WITH SUBSTRING of s FROM start TO end)
                END IF
            END FOR
        END FUNCTION

        SET result TO empty list
        CALL backtrack(0, empty list)
        RETURN result
    END FUNCTION
END CLASS