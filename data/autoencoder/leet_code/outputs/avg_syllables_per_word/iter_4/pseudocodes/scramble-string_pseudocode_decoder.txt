CLASS Solution
    FUNCTION isScramble(s1, s2)
        IF s1 EQUALS s2 THEN
            RETURN True
        END IF
        IF sorted characters of s1 NOT EQUAL TO sorted characters of s2 THEN
            RETURN False
        END IF
        SET n TO length of s1
        FOR i FROM 1 TO n MINUS 1
            IF isScramble(substring of s1 from start to i) AND isScramble(substring of s2 from start to i) THEN
                RETURN True
            END IF
            IF isScramble(substring of s1 from start to i) AND isScramble(substring of s2 from end minus i to end) AND
               isScramble(substring of s1 from i to end) AND isScramble(substring of s2 from start to end minus i) THEN
                RETURN True
            END IF
        END FOR
        RETURN False
    END FUNCTION
END CLASS