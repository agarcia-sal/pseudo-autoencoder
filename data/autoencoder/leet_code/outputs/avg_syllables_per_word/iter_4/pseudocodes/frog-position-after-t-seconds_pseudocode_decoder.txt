```
CLASS Solution
    FUNCTION frogPosition(n, edges, t, target)
        IF n EQUALS 1 THEN
            RETURN 1.0
        END IF

        SET graph TO a mapping from node to list of neighbors
        FOR each pair (u, v) IN edges
            APPEND v TO graph[u]
            APPEND u TO graph[v]
        END FOR

        SET queue TO a list containing tuple (1, 1.0, 0)  # node, probability, time
        SET visited TO set containing 1

        WHILE queue is not empty
            REMOVE first element from queue and UNPACK as current_node, current_probability, current_time

            IF current_time EQUALS t OR (current_node NOT EQUALS 1 AND LENGTH OF graph[current_node] EQUALS 1) THEN
                IF current_node EQUALS target THEN
                    RETURN current_probability
                ELSE
                    CONTINUE to next iteration
                END IF
            END IF

            SET possible_moves TO LENGTH OF graph[current_node]
            IF current_node NOT EQUALS 1 THEN
                DECREMENT possible_moves BY 1
            END IF

            FOR each neighbor IN graph[current_node]
                IF neighbor NOT IN visited THEN
                    ADD neighbor TO visited
                    APPEND (neighbor, current_probability DIVIDED BY possible_moves, current_time PLUS 1) TO queue
                END IF
            END FOR
        END WHILE

        RETURN 0.0
    END FUNCTION
END CLASS
```