CLASS Solution
    FUNCTION nextPalindrome(num)
        SET n TO LENGTH OF num
        SET half TO SUBSTRING OF num FROM START TO n DIVIDED BY 2

        SET half_list TO LIST OF CHARACTERS IN half
        SET k TO -1
        SET l TO -1

        FOR i FROM LENGTH OF half_list MINUS 2 DOWNTO 0
            IF half_list[i] < half_list[i + 1]
                SET k TO i
                BREAK

        IF k EQUALS -1
            RETURN EMPTY STRING

        FOR i FROM LENGTH OF half_list MINUS 1 DOWNTO k PLUS 1
            IF half_list[i] > half_list[k]
                SET l TO i
                BREAK

        SWAP half_list[k] AND half_list[l]
        SET half_list FROM k PLUS 1 TO END TO SORTED VALUES OF half_list FROM k PLUS 1 TO END

        SET new_half TO JOINED STRING OF half_list

        IF n MODULO 2 EQUALS 0
            RETURN new_half CONCATENATED WITH REVERSED new_half
        ELSE
            RETURN new_half CONCATENATED WITH CHARACTER AT num[n DIVIDED BY 2] CONCATENATED WITH REVERSED new_half
    END FUNCTION
END CLASS