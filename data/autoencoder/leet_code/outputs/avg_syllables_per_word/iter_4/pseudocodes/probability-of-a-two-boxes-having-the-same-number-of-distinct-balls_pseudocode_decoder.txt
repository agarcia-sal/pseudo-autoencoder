CLASS Solution
    FUNCTION getProbability(balls)
        FUNCTION dfs(i, j, diff)
            IF i >= k THEN
                IF j = 0 AND diff = 0 THEN
                    RETURN 1
                ELSE
                    RETURN 0
            END IF
            IF j < 0 THEN
                RETURN 0
            END IF
            SET ans TO 0
            FOR x FROM 0 TO balls[i] DO
                IF x = balls[i] THEN
                    SET y TO 1
                ELSE IF x = 0 THEN
                    SET y TO -1
                ELSE
                    SET y TO 0
                END IF
                SET ans TO ans + dfs(i + 1, j - x, diff + y) * COMBINATION(balls[i], x)
            END FOR
            RETURN ans
        END FUNCTION

        SET n TO sum of balls DIVIDED BY 2
        SET k TO length of balls
        RETURN dfs(0, n, 0) DIVIDED BY COMBINATION(n * 2, n)
    END FUNCTION
END CLASS