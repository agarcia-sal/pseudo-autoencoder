CLASS Solution
    FUNCTION knightProbability(n, k, row, column)
        SET moves TO [(-2, -1), (-2, 1), (-1, -2), (-1, 2), (1, -2), (1, 2), (2, -1), (2, 1)]
        SET dp TO 2D list of size n by n with all values 0
        SET dp[row][column] TO 1

        FOR each move_index FROM 1 TO k
            SET new_dp TO 2D list of size n by n with all values 0
            FOR r FROM 0 TO n - 1
                FOR c FROM 0 TO n - 1
                    IF dp[r][c] EQUALS 0 THEN
                        CONTINUE
                    FOR each (dr, dc) IN moves
                        SET nr TO r + dr
                        SET nc TO c + dc
                        IF nr IS AT LEAST 0 AND LESS THAN n AND nc IS AT LEAST 0 AND LESS THAN n THEN
                            SET new_dp[nr][nc] TO new_dp[nr][nc] PLUS dp[r][c] DIVIDED BY 8
            SET dp TO new_dp

        SET total_probability TO 0
        FOR each row IN dp
            SET total_probability TO total_probability PLUS SUM OF row
        RETURN total_probability
    END FUNCTION
END CLASS