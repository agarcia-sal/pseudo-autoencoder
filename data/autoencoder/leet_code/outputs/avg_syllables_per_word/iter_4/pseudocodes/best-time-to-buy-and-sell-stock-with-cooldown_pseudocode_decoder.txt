CLASS Solution
    FUNCTION maxProfit(prices: List of Integer) RETURNS Integer
        IF prices IS empty
            RETURN 0
        SET n TO LENGTH OF prices
        IF n EQUALS 1
            RETURN 0

        SET hold TO negative infinity
        SET sold TO 0
        SET rest TO 0

        FOR each price IN prices
            SET new_hold TO MAXIMUM OF hold AND (rest MINUS price)
            SET new_sold TO hold PLUS price
            SET new_rest TO MAXIMUM OF rest AND sold

            SET hold, sold, rest TO new_hold, new_sold, new_rest

        RETURN MAXIMUM OF sold AND rest
    END FUNCTION
END CLASS