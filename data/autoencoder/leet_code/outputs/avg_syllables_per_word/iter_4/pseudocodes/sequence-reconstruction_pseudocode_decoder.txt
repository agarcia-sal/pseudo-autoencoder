```
CLASS Solution
    FUNCTION sequenceReconstruction(nums, sequences)
        SET n TO LENGTH OF nums
        SET graph TO a default dictionary mapping to lists
        SET indegree TO a list of zeros with length n + 1

        FOR each seq IN sequences
            FOR i FROM 0 TO LENGTH OF seq MINUS 2
                SET u TO seq[i]
                SET v TO seq[i + 1]
                APPEND v TO graph[u]
                INCREMENT indegree[v] BY 1

        SET queue TO a deque containing all i FROM 1 TO n WHERE indegree[i] EQUALS 0

        IF LENGTH OF queue IS NOT 1
            RETURN False

        SET index TO 0
        WHILE queue IS NOT empty
            IF LENGTH OF queue IS NOT 1
                RETURN False

            SET node TO REMOVE first element FROM queue
            IF node IS NOT EQUAL TO nums[index]
                RETURN False
            INCREMENT index BY 1

            FOR each neighbor IN graph[node]
                DECREMENT indegree[neighbor] BY 1
                IF indegree[neighbor] EQUALS 0
                    APPEND neighbor TO queue

        RETURN index EQUALS n
    END FUNCTION
END CLASS
```