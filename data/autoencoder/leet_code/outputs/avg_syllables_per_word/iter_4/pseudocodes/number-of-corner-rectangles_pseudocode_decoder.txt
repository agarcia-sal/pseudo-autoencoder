CLASS Solution
    FUNCTION countCornerRectangles(grid)
        IF grid IS EMPTY OR grid[0] IS EMPTY THEN
            RETURN 0
        END IF

        SET m TO LENGTH OF grid
        SET n TO LENGTH OF grid[0]
        SET count TO 0

        FOR i FROM 0 TO m - 1
            FOR j FROM i + 1 TO m - 1
                SET cols_with_ones TO 0
                FOR k FROM 0 TO n - 1
                    IF grid[i][k] IS 1 AND grid[j][k] IS 1 THEN
                        INCREMENT cols_with_ones BY 1
                    END IF
                END FOR

                IF cols_with_ones GREATER THAN OR EQUAL TO 2 THEN
                    INCREMENT count BY cols_with_ones MULTIPLIED BY (cols_with_ones MINUS 1) DIVIDED BY 2
                END IF
            END FOR
        END FOR

        RETURN count
    END FUNCTION
END CLASS