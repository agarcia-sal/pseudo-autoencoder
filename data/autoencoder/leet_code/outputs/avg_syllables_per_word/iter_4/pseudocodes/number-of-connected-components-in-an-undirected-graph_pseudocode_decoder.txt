```
CLASS Solution
    FUNCTION countComponents(n, edges)
        SET graph TO a dictionary mapping each integer from 0 to n-1 to an empty list
        FOR each pair (a, b) IN edges
            APPEND b TO graph[a]
            APPEND a TO graph[b]
        SET visited TO an empty set

        FUNCTION dfs(node)
            IF node IS IN visited
                RETURN
            ADD node TO visited
            FOR each neighbor IN graph[node]
                CALL dfs(neighbor)
            END FOR
        END FUNCTION

        SET components TO 0
        FOR node FROM 0 TO n-1
            IF node NOT IN visited
                CALL dfs(node)
                INCREMENT components BY 1
            END IF
        END FOR

        RETURN components
    END FUNCTION
END CLASS
```