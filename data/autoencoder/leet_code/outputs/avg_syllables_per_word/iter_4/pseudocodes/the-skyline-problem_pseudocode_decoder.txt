CLASS Solution
    FUNCTION getSkyline(buildings)
        SET events TO empty list
        FOR each building WITH left, right, height IN buildings
            APPEND (left, negative height, right) TO events
            APPEND (right, 0, 0) TO events
        
        SORT events BY x coordinate, then by height
        
        SET result TO list containing [0, 0]
        SET max_heap TO list containing (0, infinity)
        
        FOR each x, negH, r IN events
            WHILE max_heap first element's right edge <= x
                REMOVE first element FROM max_heap
            
            IF negH is not zero
                ADD (negH, r) TO max_heap
            
            IF last height in result NOT EQUAL TO negative of max_heap first element's height
                APPEND [x, negative of max_heap first element's height] TO result
        
        IF first element in result IS [0, 0]
            REMOVE first element FROM result
        
        RETURN result
    END FUNCTION
END CLASS