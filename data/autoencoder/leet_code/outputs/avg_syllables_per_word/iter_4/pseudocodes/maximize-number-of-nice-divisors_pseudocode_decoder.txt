CLASS Solution
    FUNCTION maxNiceDivisors(primeFactors)
        SET MOD TO 10 TO THE POWER 9 PLUS 7
        IF primeFactors IS LESS THAN OR EQUAL TO 3
            RETURN primeFactors
        END IF
        SET num_threes TO primeFactors DIVIDED BY 3
        SET remainder TO primeFactors MODULO 3
        IF remainder IS 0
            RETURN 3 TO THE POWER num_threes MODULO MOD
        ELSE IF remainder IS 1
            RETURN (3 TO THE POWER (num_threes MINUS 1) MULTIPLIED BY 4) MODULO MOD
        ELSE
            RETURN (3 TO THE POWER num_threes MULTIPLIED BY 2) MODULO MOD
        END IF
    END FUNCTION
END CLASS