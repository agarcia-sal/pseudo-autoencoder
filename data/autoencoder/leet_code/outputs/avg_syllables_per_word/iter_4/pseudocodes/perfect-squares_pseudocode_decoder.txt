```
CLASS Solution
    FUNCTION numSquares(n)
        SET dp TO list of size n + 1 filled with infinity
        SET dp[0] TO 0
        SET squares TO empty list
        SET i TO 1
        WHILE i * i IS LESS THAN OR EQUAL TO n
            APPEND i * i TO squares
            INCREMENT i BY 1
        FOR i FROM 1 TO n
            FOR each square IN squares
                IF i IS LESS THAN square
                    BREAK loop
                SET dp[i] TO minimum of dp[i] AND dp[i - square] + 1
        RETURN dp[n]
END CLASS
```