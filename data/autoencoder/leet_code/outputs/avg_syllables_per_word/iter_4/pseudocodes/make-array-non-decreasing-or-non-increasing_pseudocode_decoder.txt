CLASS Solution
    FUNCTION convertArray(nums)
        FUNCTION min_operations_to_non_decreasing(nums)
            SET max_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF max_heap is not empty AND negative of top of max_heap > num THEN
                    SET operations TO operations PLUS (negative of heap pop from max_heap MINUS num)
                    PUSH negative of num INTO max_heap
                END IF
                PUSH negative of num INTO max_heap
            END FOR
            RETURN operations
        END FUNCTION

        FUNCTION min_operations_to_non_increasing(nums)
            SET min_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF min_heap is not empty AND top of min_heap < num THEN
                    SET operations TO operations PLUS (num MINUS heap pop from min_heap)
                    PUSH num INTO min_heap
                END IF
                PUSH num INTO min_heap
            END FOR
            RETURN operations
        END FUNCTION

        RETURN minimum of min_operations_to_non_decreasing(nums) AND min_operations_to_non_increasing(nums)
    END FUNCTION
END CLASS