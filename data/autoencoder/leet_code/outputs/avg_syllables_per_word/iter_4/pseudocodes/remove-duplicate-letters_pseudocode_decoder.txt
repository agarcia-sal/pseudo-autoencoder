CLASS Solution
    FUNCTION removeDuplicateLetters(s)
        SET last_occurrence TO dictionary mapping each character in s TO its last index
        SET stack TO empty list
        SET in_stack TO empty set

        FOR each index, char IN s
            IF char IN in_stack
                CONTINUE

            WHILE stack is not empty AND char is less than last element in stack AND index is less than last_occurrence of last element in stack
                SET removed_char TO last element popped from stack
                REMOVE removed_char FROM in_stack

            APPEND char TO stack
            ADD char TO in_stack

        RETURN concatenation of characters in stack
    END FUNCTION
END CLASS