CLASS Solution
    FUNCTION minKBitFlips(nums, k)
        SET n TO LENGTH OF nums
        SET flip_count TO 0
        SET flipped TO LIST OF 0 WITH SIZE n + 1
        SET flip_state TO 0
        
        FOR i FROM 0 TO n - 1
            SET flip_state TO flip_state XOR flipped[i]
            
            IF nums[i] EQUALS flip_state THEN
                IF i + k GREATER THAN n THEN
                    RETURN -1
                SET flip_state TO flip_state XOR 1
                SET flipped[i + k] TO flipped[i + k] XOR 1
                INCREMENT flip_count BY 1
        
        RETURN flip_count
    END FUNCTION
END CLASS