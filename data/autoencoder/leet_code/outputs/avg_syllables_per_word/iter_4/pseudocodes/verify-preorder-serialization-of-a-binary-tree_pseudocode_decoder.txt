CLASS Solution
    FUNCTION isValidSerialization(preorder)
        SET nodes TO preorder SPLIT BY comma
        SET slots TO 1
        FOR each node IN nodes
            IF slots EQUALS 0 THEN
                RETURN False
            END IF
            DECREMENT slots BY 1
            IF node NOT EQUALS '#' THEN
                INCREMENT slots BY 2
            END IF
        END FOR
        RETURN slots EQUALS 0
    END FUNCTION
END CLASS