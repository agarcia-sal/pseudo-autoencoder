CLASS Solution
    FUNCTION minJumps(arr)
        SET n TO LENGTH OF arr
        IF n EQUALS 1 THEN
            RETURN 0
        END IF

        SET value_indices TO an empty map with default empty list
        FOR i FROM 0 TO n - 1 DO
            APPEND i TO value_indices[arr[i]]
        END FOR

        SET queue TO a new deque containing tuple (0, 0)
        SET visited TO a new set containing 0

        WHILE queue IS NOT empty DO
            SET current_index, steps TO REMOVE first element from queue

            IF current_index EQUALS n - 1 THEN
                RETURN steps
            END IF

            SET next_indices TO a list containing current_index + 1, current_index - 1 concatenated with value_indices[arr[current_index]]

            FOR each next_index IN next_indices DO
                IF next_index IS BETWEEN 0 AND n - 1 AND next_index NOT IN visited THEN
                    ADD next_index TO visited
                    ADD tuple (next_index, steps + 1) TO queue
                END IF
            END FOR

            SET value_indices[arr[current_index]] TO empty list
        END WHILE

        RETURN -1
    END FUNCTION
END CLASS