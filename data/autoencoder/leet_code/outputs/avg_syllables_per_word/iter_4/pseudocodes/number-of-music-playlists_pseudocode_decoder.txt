CLASS Solution
    FUNCTION numMusicPlaylists(n, goal, k)
        SET MOD TO 10^9 + 7
        SET dp TO a 2D list of size (goal + 1) by (n + 1) filled with 0
        SET dp[0][0] TO 1
        FOR i FROM 1 TO goal
            FOR j FROM 1 TO n
                SET dp[i][j] TO dp[i][j] PLUS dp[i - 1][j - 1] TIMES (n MINUS (j MINUS 1))
                SET dp[i][j] TO dp[i][j] MODULO MOD
                IF j GREATER THAN k THEN
                    SET dp[i][j] TO dp[i][j] PLUS dp[i - 1][j] TIMES (j MINUS k)
                    SET dp[i][j] TO dp[i][j] MODULO MOD
        RETURN dp[goal][n]
    END FUNCTION
END CLASS