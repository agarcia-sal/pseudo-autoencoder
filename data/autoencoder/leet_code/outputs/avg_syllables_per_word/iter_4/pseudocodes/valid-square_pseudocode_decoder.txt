CLASS Solution
    FUNCTION validSquare(p1: List[int], p2: List[int], p3: List[int], p4: List[int]) RETURNS bool
        FUNCTION squared_distance(point1, point2)
            SET distance TO (point1 at index 0 MINUS point2 at index 0) SQUARED
            ADD (point1 at index 1 MINUS point2 at index 1) SQUARED TO distance
            RETURN distance
        END FUNCTION

        SET points TO LIST CONTAINING p1, p2, p3, p4
        SET distances TO EMPTY SET

        FOR i FROM 0 TO 3
            FOR j FROM i PLUS 1 TO 3
                SET dist TO squared_distance(points at index i, points at index j)
                IF dist EQUALS 0 THEN
                    RETURN False
                END IF
                ADD dist TO distances
            END FOR
        END FOR

        RETURN LENGTH OF distances EQUALS 2
    END FUNCTION
END CLASS