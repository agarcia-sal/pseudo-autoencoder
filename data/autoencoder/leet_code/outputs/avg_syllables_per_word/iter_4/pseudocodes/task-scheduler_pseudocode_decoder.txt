CLASS Solution
    FUNCTION leastInterval(tasks: List of String, n: Integer) RETURNS Integer
        SET task_counts TO frequency count of tasks
        SET max_heap TO list of negative counts from task_counts values
        CONVERT max_heap into a heap structure
        
        SET time TO 0
        SET queue TO empty list
        
        WHILE max_heap is not empty OR queue is not empty
            WHILE queue is not empty AND first element's time equals time
                REMOVE first element from queue INTO (_, count)
                IF count is less than 0
                    ADD count back to max_heap as a heap element
            
            IF max_heap is not empty
                REMOVE smallest element from max_heap INTO count
                INCREMENT count BY 1
                IF count is less than 0
                    APPEND (time + n + 1, count) TO queue
            
            INCREMENT time BY 1
        
        RETURN time
    END FUNCTION
END CLASS