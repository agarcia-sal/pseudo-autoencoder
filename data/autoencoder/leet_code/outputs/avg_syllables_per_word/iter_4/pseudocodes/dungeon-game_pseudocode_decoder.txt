CLASS Solution
    FUNCTION calculateMinimumHP(dungeon)
        SET m TO LENGTH OF dungeon
        SET n TO LENGTH OF dungeon[0]
        
        CREATE dp AS A TWO-DIMENSIONAL LIST OF SIZE (m + 1) BY (n + 1) WITH ALL VALUES SET TO infinity
        SET dp[m][n - 1] TO 1
        SET dp[m - 1][n] TO 1
        
        FOR i FROM m - 1 DOWNTO 0
            FOR j FROM n - 1 DOWNTO 0
                SET min_health TO MINIMUM OF dp[i + 1][j] AND dp[i][j + 1] MINUS dungeon[i][j]
                SET dp[i][j] TO MAXIMUM OF min_health AND 1
                
        RETURN dp[0][0]
    END FUNCTION
END CLASS