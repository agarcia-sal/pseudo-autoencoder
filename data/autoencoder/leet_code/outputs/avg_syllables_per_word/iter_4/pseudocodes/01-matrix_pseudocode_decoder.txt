```
CLASS Solution
    FUNCTION updateMatrix(mat: List of List of Integer) RETURNS List of List of Integer
        IF mat IS EMPTY OR mat[0] IS EMPTY THEN
            RETURN mat
        END IF

        SET rows TO LENGTH OF mat
        SET cols TO LENGTH OF mat[0]
        SET dist TO a 2D list of size rows by cols filled with infinity
        SET queue TO an empty deque

        FOR r FROM 0 TO rows MINUS 1
            FOR c FROM 0 TO cols MINUS 1
                IF mat[r][c] EQUALS 0 THEN
                    SET dist[r][c] TO 0
                    APPEND (r, c) TO queue
                END IF
            END FOR
        END FOR

        SET directions TO list containing (-1, 0), (1, 0), (0, -1), (0, 1)

        WHILE queue IS NOT EMPTY
            REMOVE the first element FROM queue AND SET TO (r, c)
            FOR each (dr, dc) IN directions
                SET nr TO r PLUS dr
                SET nc TO c PLUS dc
                IF nr IS WITHIN 0 AND rows MINUS 1 AND nc IS WITHIN 0 AND cols MINUS 1 AND dist[nr][nc] GREATER THAN dist[r][c] PLUS 1 THEN
                    SET dist[nr][nc] TO dist[r][c] PLUS 1
                    APPEND (nr, nc) TO queue
                END IF
            END FOR
        END WHILE

        RETURN dist
    END FUNCTION
END CLASS
```