CLASS Solution
    FUNCTION movesToChessboard(board: List of List of Integer) RETURNS Integer
        SET N TO LENGTH OF board
        
        SET rowSum TO 0
        SET colSum TO 0
        SET rowSwap TO 0
        SET colSwap TO 0
        
        FOR i FROM 0 TO N - 1
            FOR j FROM 0 TO N - 1
                IF board[i][j] XOR board[i][0] XOR board[0][j] XOR board[0][0] IS TRUE
                    RETURN -1
            END FOR
            SET rowSum TO rowSum + board[i][0]
            SET colSum TO colSum + board[0][i]
            IF board[i][0] EQUALS i MODULO 2
                INCREMENT rowSwap BY 1
            IF board[0][i] EQUALS i MODULO 2
                INCREMENT colSwap BY 1
        END FOR
        
        IF rowSum LESS THAN N DIVIDED BY 2 OR rowSum GREATER THAN (N + 1) DIVIDED BY 2
            RETURN -1
        IF colSum LESS THAN N DIVIDED BY 2 OR colSum GREATER THAN (N + 1) DIVIDED BY 2
            RETURN -1
        
        IF N MODULO 2 IS NOT 0
            IF rowSwap MODULO 2 IS NOT 0
                SET rowSwap TO N MINUS rowSwap
            IF colSwap MODULO 2 IS NOT 0
                SET colSwap TO N MINUS colSwap
        ELSE
            SET rowSwap TO MINIMUM OF rowSwap AND (N MINUS rowSwap)
            SET colSwap TO MINIMUM OF colSwap AND (N MINUS colSwap)
        
        SET result TO (rowSwap + colSwap) DIVIDED BY 2
        RETURN result
    END FUNCTION
END CLASS