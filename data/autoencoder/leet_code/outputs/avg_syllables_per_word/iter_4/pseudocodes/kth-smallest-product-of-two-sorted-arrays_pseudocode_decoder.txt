CLASS Solution
    FUNCTION kthSmallestProduct(nums1, nums2, k)
        FUNCTION count(p)
            SET cnt TO 0
            SET n TO LENGTH OF nums2
            FOR each x IN nums1
                IF x > 0 THEN
                    INCREMENT cnt BY bisect_right(nums2, p DIVIDED BY x)
                ELSE IF x < 0 THEN
                    INCREMENT cnt BY n MINUS bisect_left(nums2, p DIVIDED BY x)
                ELSE
                    INCREMENT cnt BY n TIMES (p GREATER OR EQUAL TO 0)
            RETURN cnt
        END FUNCTION

        SET mx TO MAXIMUM OF ABSOLUTE VALUE OF nums1[0], ABSOLUTE VALUE OF nums1[-1] TIMES MAXIMUM OF ABSOLUTE VALUE OF nums2[0], ABSOLUTE VALUE OF nums2[-1]
        RETURN bisect_left over range FROM -mx TO mx PLUS 1 WITH target k AND key count MINUS mx
    END FUNCTION
END CLASS