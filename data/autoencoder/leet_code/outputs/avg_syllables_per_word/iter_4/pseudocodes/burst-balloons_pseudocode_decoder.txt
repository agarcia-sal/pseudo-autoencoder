CLASS Solution
    FUNCTION maxCoins(nums)
        SET nums TO [1] concatenated with nums concatenated with [1]
        SET n TO LENGTH OF nums
        INITIALIZE dp AS 2D list of size n by n filled with 0
        
        FOR length FROM 2 TO n - 1
            FOR i FROM 0 TO n - length - 1
                SET j TO i + length
                FOR k FROM i + 1 TO j - 1
                    SET coins TO nums[i] * nums[k] * nums[j] + dp[i][k] + dp[k][j]
                    SET dp[i][j] TO MAXIMUM OF dp[i][j] AND coins
        
        RETURN dp[0][n - 1]
    END FUNCTION
END CLASS