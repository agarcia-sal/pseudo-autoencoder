CLASS Solution
    FUNCTION minSwapsCouples(row)
        SET position TO empty dictionary
        FOR i FROM 0 TO LENGTH OF row MINUS 1
            SET position[row[i]] TO i
        SET swaps TO 0
        FOR i FROM 0 TO LENGTH OF row MINUS 1 STEP 2
            SET correct_pair TO row[i] XOR 1
            IF row[i + 1] NOT EQUAL TO correct_pair THEN
                SET swap_idx TO position[correct_pair]
                SET temp TO row[i + 1]
                SET row[i + 1] TO row[swap_idx]
                SET row[swap_idx] TO temp
                SET position[row[swap_idx]] TO swap_idx
                SET position[row[i + 1]] TO i + 1
                INCREMENT swaps BY 1
        RETURN swaps
    END FUNCTION
END CLASS