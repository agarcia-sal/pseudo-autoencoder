CLASS Solution
    FUNCTION findRotateSteps(ring, key)
        SET char_positions TO a dictionary with default empty list
        FOR index, char IN each character of ring with its position
            APPEND index TO char_positions[char]
        SET n TO LENGTH OF ring

        FUNCTION dp(i, prev_pos) WITH memoization
            IF i EQUALS LENGTH OF key THEN
                RETURN 0
            SET min_steps TO infinity
            FOR each pos IN char_positions[key[i]]
                SET clockwise TO (pos MINUS prev_pos) MODULO n
                SET anticlockwise TO (prev_pos MINUS pos) MODULO n
                SET steps TO MINIMUM OF clockwise AND anticlockwise PLUS 1 PLUS dp(i PLUS 1, pos)
                SET min_steps TO MINIMUM OF min_steps AND steps
            RETURN min_steps
        END FUNCTION

        RETURN dp(0, 0)
    END FUNCTION
END CLASS