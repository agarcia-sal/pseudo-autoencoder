CLASS Solution
    FUNCTION getLengthOfOptimalCompression(s, k)
        FUNCTION dp(i, k, prev_char, prev_count)
            IF k < 0 THEN
                RETURN infinity
            END IF

            IF i EQUALS LENGTH OF s THEN
                RETURN 0
            END IF

            IF s[i] EQUALS prev_char THEN
                SET increment TO 1 IF prev_count IS 1 OR 9 OR 99 ELSE 0
                RETURN increment PLUS dp(i + 1, k, prev_char, prev_count + 1)
            ELSE
                SET keep TO 1 PLUS dp(i + 1, k, s[i], 1)
                SET delete TO dp(i + 1, k - 1, prev_char, prev_count)
                RETURN MINIMUM OF keep AND delete
            END IF
        END FUNCTION

        RETURN dp(0, k, EMPTY_STRING, 0)
    END FUNCTION
END CLASS