```
CLASS Solution
    FUNCTION deleteAndEarn(nums)
        SET count TO count occurrences of each number in nums
        SET unique_nums TO sorted list of unique numbers from count

        SET dp TO list of zeros with length LENGTH OF unique_nums PLUS 1

        SET dp[1] TO unique_nums[0] MULTIPLIED BY count VALUE FOR unique_nums[0]

        FOR i FROM 2 TO LENGTH OF unique_nums PLUS 1
            SET num TO unique_nums AT POSITION i MINUS 1
            IF num EQUALS unique_nums AT POSITION i MINUS 2 PLUS 1
                SET dp[i] TO MAXIMUM OF dp[i MINUS 1] AND dp[i MINUS 2] PLUS num MULTIPLIED BY count VALUE FOR num
            ELSE
                SET dp[i] TO dp[i MINUS 1] PLUS num MULTIPLIED BY count VALUE FOR num
        RETURN dp LAST ELEMENT
```