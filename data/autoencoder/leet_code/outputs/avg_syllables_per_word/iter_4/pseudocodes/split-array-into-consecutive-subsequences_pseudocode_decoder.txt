CLASS Solution
    FUNCTION isPossible(nums: List of Integer) RETURNS Boolean
        SET num_count TO count frequencies of elements in nums
        SET end_with TO empty frequency counter for subsequences endings

        FOR each num IN nums
            IF num_count[num] EQUALS 0
                CONTINUE

            IF end_with[num - 1] GREATER THAN 0
                DECREMENT end_with[num - 1] BY 1
                INCREMENT end_with[num] BY 1
            ELSE IF num_count[num + 1] GREATER THAN 0 AND num_count[num + 2] GREATER THAN 0
                DECREMENT num_count[num + 1] BY 1
                DECREMENT num_count[num + 2] BY 1
                INCREMENT end_with[num + 2] BY 1
            ELSE
                RETURN False

            DECREMENT num_count[num] BY 1

        RETURN True
    END FUNCTION
END CLASS