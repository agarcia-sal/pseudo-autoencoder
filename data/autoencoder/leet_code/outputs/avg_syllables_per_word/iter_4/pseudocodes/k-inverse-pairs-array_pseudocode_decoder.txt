CLASS Solution
    FUNCTION kInversePairs(n, k)
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7
        INITIALIZE dp AS A LIST OF LISTS WITH DIMENSIONS (n+1) BY (k+1), FILLED WITH 0
        SET dp[0][0] TO 1
        
        FOR i FROM 1 TO n
            SET prefix_sum TO 0
            FOR j FROM 0 TO k
                SET prefix_sum TO (prefix_sum + dp[i - 1][j]) MODULO MOD
                IF j IS GREATER THAN OR EQUAL TO i THEN
                    SET prefix_sum TO (prefix_sum - dp[i - 1][j - i] + MOD) MODULO MOD
                SET dp[i][j] TO prefix_sum
        
        RETURN dp[n][k]
    END FUNCTION
END CLASS