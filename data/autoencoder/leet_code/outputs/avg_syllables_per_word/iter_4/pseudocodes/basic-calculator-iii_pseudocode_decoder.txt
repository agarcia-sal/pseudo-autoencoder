CLASS Solution
    FUNCTION calculate(s: string) RETURNS integer
        FUNCTION helper(s: list of characters) RETURNS integer
            SET stack TO empty list
            SET num TO 0
            SET sign TO '+'
            WHILE LENGTH OF s > 0
                SET char TO REMOVE first element FROM s
                IF char IS a digit THEN
                    SET num TO num MULTIPLIED BY 10 PLUS integer value of char
                IF char IS '(' THEN
                    SET num TO helper(s)
                IF char IS one of '+', '-', '*', '/', '(', ')' OR LENGTH OF s EQUALS 0 THEN
                    IF sign EQUALS '+' THEN
                        APPEND num TO stack
                    ELSE IF sign EQUALS '-' THEN
                        APPEND negative num TO stack
                    ELSE IF sign EQUALS '*' THEN
                        SET last element OF stack TO last element MULTIPLIED BY num
                    ELSE IF sign EQUALS '/' THEN
                        SET last element OF stack TO integer division of last element BY num (truncate towards zero)
                    SET sign TO char
                    SET num TO 0
                IF char EQUALS ')' THEN
                    BREAK
            RETURN sum of elements in stack
        SET s TO list of characters from input string s
        RETURN helper(s)
END CLASS