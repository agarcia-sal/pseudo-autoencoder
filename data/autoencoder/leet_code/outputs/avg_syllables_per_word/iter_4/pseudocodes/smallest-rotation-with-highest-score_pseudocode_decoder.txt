CLASS Solution
    FUNCTION bestRotation(nums: List of Integer) RETURNS Integer
        SET n TO LENGTH OF nums
        SET delta TO LIST OF SIZE n WITH ALL ELEMENTS 0
        
        FOR i FROM 0 TO n - 1
            SET num TO nums[i]
            IF num <= i THEN
                INCREMENT delta[0] BY 1
                IF i - num + 1 < n THEN
                    DECREMENT delta[i - num + 1] BY 1
            END IF
            IF i + 1 < n THEN
                INCREMENT delta[i + 1] BY 1
                IF i + n - num + 1 < n THEN
                    DECREMENT delta[i + n - num + 1] BY 1
                END IF
            END IF
        END FOR
        
        SET score TO 0
        SET max_score TO 0
        SET best_k TO 0
        
        FOR k FROM 0 TO n - 1
            INCREMENT score BY delta[k]
            IF score > max_score THEN
                SET max_score TO score
                SET best_k TO k
            END IF
        END FOR
        
        RETURN best_k
    END FUNCTION
END CLASS