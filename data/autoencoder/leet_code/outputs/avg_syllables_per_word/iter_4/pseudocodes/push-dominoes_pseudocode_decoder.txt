CLASS Solution
    FUNCTION pushDominoes(dominoes)
        SET n TO LENGTH OF dominoes
        SET forces TO LIST OF LENGTH n WITH ALL ELEMENTS 0

        SET force TO 0
        FOR i FROM 0 TO n - 1
            IF dominoes[i] EQUALS 'R' THEN
                SET force TO n
            ELSE IF dominoes[i] EQUALS 'L' THEN
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF force MINUS 1 AND 0
            END IF
            INCREMENT forces[i] BY force
        END FOR

        SET force TO 0
        FOR i FROM n - 1 DOWNTO 0
            IF dominoes[i] EQUALS 'L' THEN
                SET force TO n
            ELSE IF dominoes[i] EQUALS 'R' THEN
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF force MINUS 1 AND 0
            END IF
            DECREMENT forces[i] BY force
        END FOR

        SET result TO EMPTY LIST
        FOR each f IN forces
            IF f GREATER THAN 0 THEN
                APPEND 'R' TO result
            ELSE IF f LESS THAN 0 THEN
                APPEND 'L' TO result
            ELSE
                APPEND '.' TO result
            END IF
        END FOR

        RETURN CONCATENATION OF ELEMENTS IN result
    END FUNCTION
END CLASS