```
CLASS Solution
    FUNCTION sumOfFlooredPairs(nums: List[int]) RETURNS int
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7
        SET max_num TO MAXIMUM VALUE IN nums
        SET count TO COUNTER OF nums
        SET prefix_sum TO LIST OF ZEROS WITH LENGTH max_num PLUS 1
        
        FOR each num IN count KEYS
            INCREMENT prefix_sum[num] BY count[num]
        
        FOR i FROM 1 TO max_num INCLUSIVE
            INCREMENT prefix_sum[i] BY prefix_sum[i - 1]
        
        SET result TO 0
        
        FOR each num IN count KEYS
            FOR multiple FROM 1 TO max_num DIVIDED BY num INCLUSIVE
                SET start TO num MULTIPLIED BY multiple
                SET end TO MINIMUM OF num MULTIPLIED BY (multiple PLUS 1) MINUS 1 AND max_num
                SET multiples_count TO prefix_sum[end] MINUS prefix_sum[start MINUS 1]
                INCREMENT result BY multiples_count MULTIPLIED BY multiple MULTIPLIED BY count[num]
                SET result TO result MODULO MOD
        
        RETURN result
    END FUNCTION
END CLASS
```