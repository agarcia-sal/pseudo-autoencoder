CLASS Solution
    FUNCTION rob(nums)
        FUNCTION rob_linear(houses)
            IF houses IS EMPTY
                RETURN 0
            END IF

            IF LENGTH OF houses IS 1
                RETURN houses[0]
            END IF

            SET dp TO LIST OF ZEROES WITH LENGTH OF houses
            SET dp[0] TO houses[0]
            SET dp[1] TO MAXIMUM OF houses[0] AND houses[1]

            FOR i FROM 2 TO LENGTH OF houses MINUS 1
                SET dp[i] TO MAXIMUM OF dp[i - 1] AND (dp[i - 2] PLUS houses[i])
            END FOR

            RETURN dp LAST ELEMENT
        END FUNCTION

        IF nums IS EMPTY
            RETURN 0
        END IF

        IF LENGTH OF nums IS 1
            RETURN nums[0]
        END IF

        RETURN MAXIMUM OF rob_linear(nums EXCLUDING LAST ELEMENT) AND rob_linear(nums EXCLUDING FIRST ELEMENT)
    END FUNCTION
END CLASS