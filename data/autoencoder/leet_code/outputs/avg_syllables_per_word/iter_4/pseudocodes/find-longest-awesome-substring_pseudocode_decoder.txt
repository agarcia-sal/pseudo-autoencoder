CLASS Solution
    FUNCTION longestAwesome(s)
        SET prefix_map TO {0: -1}
        SET prefix_xor TO 0
        SET max_length TO 0
        FOR i, char IN ENUMERATE s
            SET digit TO integer value of char
            SET prefix_xor TO prefix_xor XOR (1 LEFT SHIFT digit)
            IF prefix_xor IN prefix_map
                SET max_length TO maximum of max_length AND (i MINUS prefix_map[prefix_xor])
            FOR j FROM 0 TO 9
                SET flipped TO prefix_xor XOR (1 LEFT SHIFT j)
                IF flipped IN prefix_map
                    SET max_length TO maximum of max_length AND (i MINUS prefix_map[flipped])
            IF prefix_xor NOT IN prefix_map
                SET prefix_map[prefix_xor] TO i
        RETURN max_length
    END FUNCTION
END CLASS