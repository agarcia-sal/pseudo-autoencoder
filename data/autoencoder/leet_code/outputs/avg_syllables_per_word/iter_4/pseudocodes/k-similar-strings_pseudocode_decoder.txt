CLASS Solution
    FUNCTION kSimilarity(s1, s2)
        FUNCTION neighbors(s)
            SET i TO 0
            WHILE i LESS THAN LENGTH OF s AND s[i] EQUALS s2[i]
                INCREMENT i BY 1
            FOR j FROM i + 1 TO LENGTH OF s MINUS 1
                IF s[j] EQUALS s2[i] AND s[j] NOT EQUAL TO s2[j]
                    YIELD CONCATENATION OF s FROM START TO i, s[j], s FROM i+1 TO j-1, s[i], s FROM j+1 TO END
        END FUNCTION

        SET queue TO NEW double-ended queue CONTAINING (s1, 0)
        SET visited TO NEW SET CONTAINING s1

        WHILE queue IS NOT EMPTY
            SET s, swaps TO REMOVE FIRST ELEMENT OF queue
            IF s EQUALS s2
                RETURN swaps
            FOR each neighbor IN neighbors(s)
                IF neighbor NOT IN visited
                    ADD neighbor TO visited
                    ADD (neighbor, swaps + 1) TO queue
        END WHILE
    END FUNCTION
END CLASS