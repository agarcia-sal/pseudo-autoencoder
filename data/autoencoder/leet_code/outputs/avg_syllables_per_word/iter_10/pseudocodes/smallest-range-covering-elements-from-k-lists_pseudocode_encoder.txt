CLASS Solution  
    FUNCTION smallestRange(nums)  
        SET min_heap TO empty list  
        SET max_value TO negative infinity  
        
        FOR i FROM zero TO LENGTH OF nums MINUS one  
            CALL heap push with min_heap AND tuple of element at position zero of list at position i of nums, i, zero  
            SET max_value TO the GREATER OF max_value AND element at position zero of list at position i of nums  
        END FOR  
        
        SET smallest_range TO positive infinity  
        SET result TO list containing minus one hundred thousand AND one hundred thousand  
        
        WHILE min_heap is not empty  
            CALL heap pop from min_heap AND UNPACK TO min_value, list_index, element_index  
            
            IF max_value MINUS min_value LESS THAN smallest_range  
                SET smallest_range TO max_value MINUS min_value  
                SET result TO list containing min_value AND max_value  
            END IF  
            
            IF element_index PLUS one LESS THAN LENGTH OF list at position list_index of nums  
                SET next_value TO element at position element_index PLUS one of list at position list_index of nums  
                CALL heap push with min_heap AND tuple of next_value, list_index, element_index PLUS one  
                SET max_value TO the GREATER OF max_value AND next_value  
            ELSE  
                BREAK  
            END IF  
        END WHILE  
        
        RETURN result  
    END FUNCTION  
END CLASS