CLASS Solution  
    FUNCTION tallestBillboard(rods)  
        SET dp TO a dictionary with key zero mapped to zero  
        
        FOR each rod IN rods  
            SET new_dp TO a copy of dp  
            FOR each difference d AND value y IN dp items  
                SET sum1 TO the maximum of the value in new_dp at key d PLUS rod or zero, AND y  
                SET the value in new_dp at key d PLUS rod TO sum1  
                SET absolute_difference TO the absolute value of d MINUS rod  
                SET sum2 TO the maximum of the value in new_dp at key absolute_difference or zero, AND y PLUS the minimum of d AND rod  
                SET the value in new_dp at key absolute_difference TO sum2  
            END FOR  
            SET dp TO new_dp  
        END FOR  
        
        RETURN the value in dp at key zero  
    END FUNCTION  
END CLASS