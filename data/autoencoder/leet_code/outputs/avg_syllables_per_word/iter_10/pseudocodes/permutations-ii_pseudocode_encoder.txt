CLASS Solution  
    FUNCTION permuteUnique(nums)  
        FUNCTION backtrack(path, used, res)  
            IF LENGTH OF path EQUALS LENGTH OF nums  
                APPEND a copy of path TO res  
                RETURN  
            END IF  
            FOR i FROM zero TO LENGTH OF nums MINUS one  
                IF element at position i of used EQUALS True OR (i GREATER THAN zero AND element at position i of nums EQUALS element at position i MINUS one of nums AND element at position i MINUS one of used EQUALS False)  
                    CONTINUE  
                END IF  
                SET element at position i of used TO True  
                APPEND element at position i of nums TO path  
                CALL backtrack WITH path, used, res  
                REMOVE last element FROM path  
                SET element at position i of used TO False  
            END FOR  
        END FUNCTION  
        CALL sort ON nums  
        SET res TO empty list  
        SET used TO list of False VALUES of LENGTH OF nums  
        CALL backtrack WITH empty list, used, res  
        RETURN res  
    END FUNCTION  
END CLASS