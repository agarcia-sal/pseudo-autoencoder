CLASS Solution  
    FUNCTION calculateMinimumHP(dungeon)  
        SET m TO the LENGTH OF dungeon  
        SET n TO the LENGTH OF element at position zero of dungeon  
        CALL initializeDPTable WITH parameters m AND n RETURNING dp  
        SET element at position m AND position n MINUS one OF dp TO one  
        SET element at position m MINUS one AND position n OF dp TO one  
        FOR i FROM m MINUS one DOWN TO zero  
            FOR j FROM n MINUS one DOWN TO zero  
                SET min_health TO the MINIMUM OF element at position i PLUS one AND position j OF dp AND element at position i AND position j PLUS one OF dp MINUS element at position i AND position j OF dungeon  
                IF min_health LESS THAN one  
                    SET element at position i AND position j OF dp TO one  
                ELSE  
                    SET element at position i AND position j OF dp TO min_health  
                END IF  
            END FOR  
        END FOR  
        RETURN element at position zero AND position zero OF dp  
    END FUNCTION  
  
    FUNCTION initializeDPTable(m, n)  
        SET dp TO an empty list  
        FOR index_i FROM zero TO m  
            SET row TO an empty list  
            FOR index_j FROM zero TO n  
                APPEND positive infinity TO row  
            END FOR  
            APPEND row TO dp  
        END FOR  
        RETURN dp  
    END FUNCTION  
END CLASS