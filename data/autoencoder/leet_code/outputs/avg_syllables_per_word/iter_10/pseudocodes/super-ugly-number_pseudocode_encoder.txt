CLASS Solution  
    FUNCTION nthSuperUglyNumber(n, primes)  
        SET ugly_numbers TO list containing one  
        SET heap TO list of pairs of element at position i of primes AND i for each i and element in enumeration of primes  
        CALL heapify ON heap  
        SET indices TO list of zeros with length equal to the LENGTH OF primes  
        WHILE LENGTH OF ugly_numbers LESS THAN n  
            SET next_ugly AND prime_index TO result of popping the smallest element from heap  
            IF next_ugly NOT EQUALS last element of ugly_numbers  
                APPEND next_ugly TO ugly_numbers  
            END IF  
            INCREMENT element at position prime_index of indices BY one  
            SET next_multiple TO element at position prime_index of primes MULTIPLIED BY element at position element at position prime_index of indices of ugly_numbers  
            CALL push operation ON heap with pair of next_multiple and prime_index  
        END WHILE  
        RETURN last element of ugly_numbers  
    END FUNCTION  
END CLASS