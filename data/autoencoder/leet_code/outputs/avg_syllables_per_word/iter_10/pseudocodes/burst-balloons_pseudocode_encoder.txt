CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO 1 APPENDED TO the BEGINNING OF nums AND 1 APPENDED TO the END OF nums  
        SET n TO the LENGTH OF nums  
        CALL createDPTable WITH n AND SET RESULT TO dp  
        FOR length FROM 2 TO n MINUS 1  
            FOR i FROM 0 TO n MINUS length MINUS 1  
                SET j TO i PLUS length  
                FOR k FROM i PLUS 1 TO j MINUS 1  
                    SET coins TO element at position i of nums MULTIPLIED BY element at position k of nums MULTIPLIED BY element at position j of nums PLUS element at position i and k of dp PLUS element at position k and j of dp  
                    IF element at position i and j of dp LESS THAN coins  
                        SET element at position i and j of dp TO coins  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN element at position zero and n MINUS one of dp  
    END FUNCTION  
  
    FUNCTION createDPTable(n)  
        SET table TO an empty list  
        FOR i FROM zero TO n MINUS one  
            SET row TO an empty list  
            FOR j FROM zero TO n MINUS one  
                APPEND zero TO row  
            END FOR  
            APPEND row TO table  
        END FOR  
        RETURN table  
    END FUNCTION  
END CLASS