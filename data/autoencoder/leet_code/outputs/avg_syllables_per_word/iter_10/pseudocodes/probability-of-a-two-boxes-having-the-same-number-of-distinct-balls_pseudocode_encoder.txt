CLASS Solution  
    FUNCTION getProbability(balls)  
        FUNCTION dfs(i, j, diff)  
            IF i GREATER THAN OR EQUAL TO k  
                IF j EQUALS zero AND diff EQUALS zero  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
            IF j LESS THAN zero  
                RETURN zero  
            END IF  
            SET ans TO zero  
            FOR x FROM zero TO the element at position i of balls  
                IF x EQUALS the element at position i of balls  
                    SET y TO one  
                ELSE IF x EQUALS zero  
                    SET y TO negative one  
                ELSE  
                    SET y TO zero  
                END IF  
                INCREMENT ans BY the result of dfs with arguments i PLUS one, j MINUS x, diff PLUS y MULTIPLIED BY the combination of the element at position i of balls CHOOSE x  
            END FOR  
            RETURN ans  
        END FUNCTION  
        SET n TO the sum of all elements in balls DIVIDED BY two using right shift by one  
        SET k TO the length of balls  
        RETURN the result of dfs with arguments zero, n, zero DIVIDED BY the combination of n MULTIPLIED BY two CHOOSE n  
    END FUNCTION  
END CLASS