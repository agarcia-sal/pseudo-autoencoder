CLASS Solution  
    FUNCTION findNumOfValidWords(words, puzzles)  
        FUNCTION to_mask(s)  
            SET mask TO zero  
            FOR each char IN s  
                SET mask TO mask OR one SHIFTED LEFT BY the ORDINAL VALUE OF char MINUS the ORDINAL VALUE OF letter 'a'  
            END FOR  
            RETURN mask  
        END FUNCTION  
      
        SET word_count TO a new mapping from keys to integers with default zero  
      
        FOR each word IN words  
            SET mask TO to_mask WITH argument word  
            IF the NUMBER OF SET BITS IN mask IS LESS THAN OR EQUAL TO seven  
                INCREMENT the value mapped by mask in word_count BY one  
            END IF  
        END FOR  
      
        SET result TO an empty list  
      
        FOR each puzzle IN puzzles  
            SET first_char_mask TO one SHIFTED LEFT BY the ORDINAL VALUE OF the character at position zero in puzzle MINUS the ORDINAL VALUE OF letter 'a'  
            SET puzzle_mask TO to_mask WITH argument the substring of puzzle FROM position one TO the end  
            SET count TO the value mapped by first_char_mask in word_count  
          
            SET subset TO puzzle_mask  
            WHILE subset IS NOT zero  
                INCREMENT count BY the value mapped by the bitwise OR of subset and first_char_mask in word_count  
                SET subset TO the bitwise AND of subset MINUS one and puzzle_mask  
            END WHILE  
          
            APPEND count TO result  
        END FOR  
      
        RETURN result  
    END FUNCTION  
END CLASS