CLASS Solution
    FUNCTION minTransfers(transactions)
        SET balance TO an empty dictionary
        FOR each element consisting of frm, to, amount IN transactions
            SET balance at key frm TO the value at key frm in balance OR zero MINUS amount
            SET balance at key to TO the value at key to in balance OR zero PLUS amount
        END FOR

        SET balances TO an empty list
        FOR each net IN the values of balance
            IF net NOT EQUALS zero
                APPEND net TO balances
            END IF
        END FOR

        IF the LENGTH OF balances EQUALS zero
            RETURN zero
        END IF

        FUNCTION settle(start, cnt)
            WHILE start LESS THAN the LENGTH OF balances AND the element at position start OF balances EQUALS zero
                INCREMENT start BY one
            END WHILE

            IF start EQUALS the LENGTH OF balances
                RETURN cnt
            END IF

            SET min_cnt TO infinity

            FOR i FROM start PLUS one TO the LENGTH OF balances MINUS one
                IF the element at position start OF balances MULTIPLIED BY the element at position i OF balances LESS THAN zero
                    SET the element at position i OF balances TO the element at position i OF balances PLUS the element at position start OF balances
                    SET min_cnt TO the smaller value BETWEEN min_cnt AND the result of settle WITH parameters start PLUS one AND cnt PLUS one
                    SET the element at position i OF balances TO the element at position i OF balances MINUS the element at position start OF balances
                END IF
            END FOR

            RETURN min_cnt
        END FUNCTION

        RETURN the result of settle WITH parameters zero AND zero
    END FUNCTION
END CLASS