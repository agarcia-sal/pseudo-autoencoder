CLASS Solution
    FUNCTION numDupDigitsAtMostN(n)
        FUNCTION count_unique_digits(x)
            SET s TO string representation of x
            SET length TO the LENGTH OF s
            SET count TO zero
            FOR i FROM one TO length MINUS one
                INCREMENT count BY nine MULTIPLIED BY perm(nine, i MINUS one)
            END FOR
            SET seen TO empty set
            FOR i FROM zero TO length MINUS one
                SET digit TO integer value of the element at position i of s
                FOR d FROM zero TO digit MINUS one
                    IF i EQUALS zero AND d EQUALS zero THEN CONTINUE TO next iteration of FOR d
                    END IF
                    IF d NOT IN seen THEN
                        INCREMENT count BY perm(nine MINUS i, length MINUS i MINUS one)
                    END IF
                END FOR
                IF digit IN seen THEN
                    BREAK out of FOR i
                END IF
                APPEND digit TO seen
            END FOR
            IF loop did not break THEN
                INCREMENT count BY one
            END IF
            RETURN count
        END FUNCTION

        SET unique_count TO call count_unique_digits with argument n
        SET result TO n MINUS unique_count
        RETURN result
    END FUNCTION

    FUNCTION perm(m, n)
        IF n EQUALS zero THEN
            RETURN one
        END IF
        SET result TO one
        FOR i FROM zero TO n MINUS one
            SET result TO result MULTIPLIED BY (m MINUS i)
        END FOR
        RETURN result
    END FUNCTION
END CLASS