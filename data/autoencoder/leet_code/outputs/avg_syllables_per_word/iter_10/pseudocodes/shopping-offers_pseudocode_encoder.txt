CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO empty list  
        FOR each offer IN original special  
            IF sum of elements from start TO second last of offer GREATER THAN zero AND last element of offer LESS THAN sum of each price element MULTIPLIED BY corresponding offer element except last  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO zero  
            FOR each pair of elements p and n FROM price and needs  
                INCREMENT min_cost BY p MULTIPLIED BY n  
            END FOR  
            
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR each pair of elements n and o FROM needs and elements of offer except last  
                    APPEND n MINUS o TO new_needs  
                END FOR  
                
                IF all elements in new_needs GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO minimum of min_cost AND last element of offer PLUS dfs(new_needs converted to tuple)  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(needs converted to tuple)  
    END FUNCTION  
END CLASS