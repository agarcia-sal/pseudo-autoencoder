CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i of trees  
            SET b TO element at position j of trees  
            SET c TO element at position k of trees  
            RETURN (value at position zero of b MINUS value at position zero of a) MULTIPLIED BY (value at position one of c MINUS value at position one of b) MINUS (value at position one of b MINUS value at position one of a) MULTIPLIED BY (value at position zero of c MINUS value at position zero of b)  
        END FUNCTION  

        SET n TO the LENGTH OF trees  
        IF n LESS THAN four  
            RETURN trees  
        END IF  
        SORT trees in ascending order  
        SET vis TO list of Boolean FALSE values of length n  
        SET stk TO list containing integer zero  
        FOR i FROM one TO n MINUS one  
            WHILE the LENGTH OF stk GREATER THAN one AND cross(element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, i) LESS THAN zero  
                SET vis at position value popped from the last of stk TO FALSE  
            END WHILE  
            SET vis at position i TO TRUE  
            APPEND i TO stk  
        END FOR  
        SET m TO the LENGTH OF stk  
        FOR i FROM n MINUS two DOWN TO zero  
            IF vis at position i  
                CONTINUE to the next iteration of the FOR loop  
            END IF  
            WHILE the LENGTH OF stk GREATER THAN m AND cross(element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, i) LESS THAN zero  
                REMOVE last element FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
        REMOVE last element FROM stk  
        RETURN list composed of elements at positions i of trees FOR each i IN stk  
    END FUNCTION  
END CLASS