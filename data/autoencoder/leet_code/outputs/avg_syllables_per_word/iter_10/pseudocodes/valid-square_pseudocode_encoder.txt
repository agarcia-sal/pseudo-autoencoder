CLASS Solution  
    FUNCTION validSquare(p1, p2, p3, p4)  
        FUNCTION squared_distance(point1, point2)  
            SET difference_of_first_coordinates TO element at position zero of point1 MINUS element at position zero of point2  
            SET difference_of_second_coordinates TO element at position one of point1 MINUS element at position one of point2  
            RETURN difference_of_first_coordinates MULTIPLIED BY difference_of_first_coordinates PLUS difference_of_second_coordinates MULTIPLIED BY difference_of_second_coordinates  
        END FUNCTION  
          
        SET points TO list containing p1, p2, p3, p4  
        SET distances TO empty set  
          
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET dist TO squared_distance(element at position index_i of points, element at position index_j of points)  
                IF dist EQUALS zero  
                    RETURN False  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
          
        RETURN the LENGTH OF distances EQUALS two  
    END FUNCTION  
END CLASS