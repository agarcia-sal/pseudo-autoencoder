CLASS Solution  
    FUNCTION candyCrush(board)  
        SET R TO the LENGTH OF board  
        SET C TO the LENGTH OF element at position zero of board  
        SET stable TO False  
        
        WHILE NOT stable  
            SET stable TO True  
            SET to_crush TO an empty set  
            
            FOR r FROM zero TO R MINUS one  
                FOR c FROM zero TO C MINUS two  
                    IF the ABSOLUTE VALUE of element at position r and c of board EQUALS the ABSOLUTE VALUE of element at position r and c PLUS one of board AND the ABSOLUTE VALUE of element at position r and c PLUS one of board EQUALS the ABSOLUTE VALUE of element at position r and c PLUS two of board AND the ABSOLUTE VALUE of element at position r and c IS NOT EQUALS zero  
                        SET stable TO False  
                        ADD the tuple of r and c TO to_crush  
                        ADD the tuple of r and c PLUS one TO to_crush  
                        ADD the tuple of r and c PLUS two TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR r FROM zero TO R MINUS two  
                FOR c FROM zero TO C MINUS one  
                    IF the ABSOLUTE VALUE of element at position r and c of board EQUALS the ABSOLUTE VALUE of element at position r PLUS one and c of board AND the ABSOLUTE VALUE of element at position r PLUS one and c of board EQUALS the ABSOLUTE VALUE of element at position r PLUS two and c of board AND the ABSOLUTE VALUE of element at position r and c IS NOT EQUALS zero  
                        SET stable TO False  
                        ADD the tuple of r and c TO to_crush  
                        ADD the tuple of r PLUS one and c TO to_crush  
                        ADD the tuple of r PLUS two and c TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR each tuple r and c IN to_crush  
                SET element at position r and c of board TO zero  
            END FOR  
            
            FOR c FROM zero TO C MINUS one  
                SET wr TO R MINUS one  
                FOR r FROM R MINUS one DOWN TO zero  
                    IF element at position r and c of board IS NOT EQUALS zero  
                        SET element at position wr and c of board TO element at position r and c of board  
                        DECREMENT wr BY one  
                    END IF  
                END FOR  
                FOR wr FROM wr DOWN TO zero  
                    SET element at position wr and c of board TO zero  
                END FOR  
            END FOR  
        END WHILE  
        
        RETURN board  
    END FUNCTION  
END CLASS