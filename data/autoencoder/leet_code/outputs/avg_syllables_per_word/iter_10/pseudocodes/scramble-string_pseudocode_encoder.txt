CLASS Solution  
    FUNCTION isScramble(s1, s2)  
        IF s1 EQUALS s2  
            RETURN True  
        END IF  
        IF the sorted characters of s1 NOT EQUAL TO the sorted characters of s2  
            RETURN False  
        END IF  
        SET n TO the LENGTH OF s1  
        FOR i FROM one TO n MINUS one  
            IF the result of calling isScramble with the substring of s1 from the first character to position i EQUALS the result of calling isScramble with the substring of s2 from the first character to position i AND  
               the result of calling isScramble with the substring of s1 from position i to the end EQUALS the result of calling isScramble with the substring of s2 from position i to the end  
                RETURN True  
            END IF  
            IF the result of calling isScramble with the substring of s1 from the first character to position i EQUALS the result of calling isScramble with the substring of s2 from the last i characters AND  
               the result of calling isScramble with the substring of s1 from position i to the end EQUALS the result of calling isScramble with the substring of s2 from the first character to the length of s2 minus i characters  
                RETURN True  
            END IF  
        END FOR  
        RETURN False  
    END FUNCTION  
END CLASS