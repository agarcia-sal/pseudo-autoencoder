CLASS Solution  
    FUNCTION findRotateSteps(ring parameter named ring, parameter named key)  
        CREATE an empty dictionary named char_positions with default values as empty lists  
        FOR each index named i AND each character named char IN ring with zero based indexing  
            APPEND index i TO the list at key character char in char_positions  
        END FOR  
        SET n TO the LENGTH OF ring  
        
        FUNCTION dp(parameter named i, parameter named prev_pos)  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            SET min_steps TO a very large number representing infinity  
            FOR each position named pos IN the list at key character at position i of key in char_positions  
                CALCULATE clockwise AS the remainder of position pos MINUS prev_pos DIVIDED BY n  
                CALCULATE anticlockwise AS the remainder of prev_pos MINUS pos DIVIDED BY n  
                SET steps TO the minimum of clockwise AND anticlockwise PLUS one PLUS the result of FUNCTION dp CALLED WITH parameters i PLUS one AND pos  
                SET min_steps TO the minimum of min_steps AND steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  
        
        RETURN the result of FUNCTION dp CALLED WITH parameters zero AND zero  
    END FUNCTION  
END CLASS