CLASS Solution  
    FUNCTION nearestPalindromic(n)  
        SET length TO the LENGTH OF n  
        IF length EQUALS one  
            RETURN the STRING CONVERSION OF the INTEGER CONVERSION OF n MINUS one  
        END IF  
        
        SET candidates TO an EMPTY SET  
        
        ADD the INTEGER VALUE OF TEN POWERED BY length PLUS one TO candidates  
        ADD the INTEGER VALUE OF TEN POWERED BY length MINUS one MINUS one TO candidates  
        
        SET prefix TO the INTEGER CONVERSION OF the SUBSTRING FROM position one TO the INTEGER VALUE OF length PLUS one DIVIDED BY two OF n  
        FOR each integer i FROM negative one TO positive one  
            SET new_prefix TO the STRING CONVERSION OF prefix PLUS i  
            IF length MODULO two EQUALS zero  
                SET candidate TO the CONCATENATION OF new_prefix AND the REVERSE OF new_prefix  
            ELSE  
                SET candidate TO the CONCATENATION OF new_prefix AND the REVERSE OF the SUBSTRING FROM position one TO position LENGTH OF new_prefix MINUS one OF new_prefix  
            END IF  
            ADD the INTEGER CONVERSION OF candidate TO candidates  
        END FOR  
        
        SET original_number TO the INTEGER CONVERSION OF n  
        REMOVE original_number FROM candidates IF original_number IS IN candidates  
        
        SET closest TO the ELEMENT IN candidates WHICH HAS the MINIMUM VALUE ACCORDING TO the PAIR OF the ABSOLUTE VALUE OF the ELEMENT MINUS original_number AND the ELEMENT ITSELF  
        
        RETURN the STRING CONVERSION OF closest  
    END FUNCTION  
END CLASS