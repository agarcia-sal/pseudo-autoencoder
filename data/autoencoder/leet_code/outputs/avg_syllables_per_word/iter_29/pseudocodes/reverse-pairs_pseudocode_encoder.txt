CLASS Solution  
    FUNCTION reversePairs(nums)  
        FUNCTION merge_and_count(list_of_numbers start_index end_index)  
            IF start_index GREATER THAN OR EQUAL TO end_index  
                RETURN zero  
            END IF  
            
            SET middle_index TO the integer division result of the sum of start_index PLUS end_index BY two  
            SET total_count TO the result of calling merge_and_count with list_of_numbers AND start_index AND middle_index PLUS the result of calling merge_and_count with list_of_numbers AND middle_index PLUS one AND end_index  
            
            SET second_pointer TO middle_index PLUS one  
            FOR current_index FROM start_index TO middle_index  
                WHILE second_pointer LESS THAN OR EQUAL TO end_index AND element at position current_index of list_of_numbers GREATER THAN two MULTIPLIED BY element at position second_pointer of list_of_numbers  
                    INCREMENT second_pointer BY one  
                END WHILE  
                INCREMENT total_count BY second_pointer MINUS middle_index MINUS one  
            END FOR  
            
            SET merged_list TO an empty list  
            SET left_pointer TO start_index  
            SET right_pointer TO middle_index PLUS one  
            WHILE left_pointer LESS THAN OR EQUAL TO middle_index AND right_pointer LESS THAN OR EQUAL TO end_index  
                IF element at position left_pointer of list_of_numbers LESS THAN OR EQUAL TO element at position right_pointer of list_of_numbers  
                    APPEND element at position left_pointer of list_of_numbers TO merged_list  
                    INCREMENT left_pointer BY one  
                ELSE  
                    APPEND element at position right_pointer of list_of_numbers TO merged_list  
                    INCREMENT right_pointer BY one  
                END IF  
            END WHILE  
            
            FOR index FROM left_pointer TO middle_index  
                APPEND element at position index of list_of_numbers TO merged_list  
            END FOR  
            FOR index FROM right_pointer TO end_index  
                APPEND element at position index of list_of_numbers TO merged_list  
            END FOR  
            
            FOR index FROM zero TO the LENGTH OF merged_list MINUS one  
                SET element at position start_index PLUS index of list_of_numbers TO element at position index of merged_list  
            END FOR  
            
            RETURN total_count  
        END FUNCTION  
        
        RETURN the result of calling merge_and_count with nums AND zero AND the LENGTH OF nums MINUS one  
    END FUNCTION  
END CLASS