CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        CREATE a DICTIONARY named index MAPPING each element x AT POSITION i IN arr TO i  
        CREATE an EMPTY DICTIONARY named dp  
        SET max_length TO zero  

        FOR each integer k FROM zero TO the LENGTH OF arr MINUS one  
            FOR each integer j FROM zero TO k MINUS one  
                SET i TO the VALUE FROM index CORRESPONDING TO the RESULT OF the ELEMENT AT POSITION k OF arr MINUS the ELEMENT AT POSITION j OF arr OR negative one IF not found  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j  
                    SET dp AT KEY j AND k TO the VALUE FROM dp AT KEY i AND j OR two IF not found PLUS one  
                    SET max_length TO the GREATER OF max_length AND dp AT KEY j AND k  
                END IF  
            END FOR  
        END FOR  

        IF max_length IS GREATER THAN OR EQUAL TO three  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS