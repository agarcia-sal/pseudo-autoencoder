CLASS Solution  
    FUNCTION maxValue(events k)  
        CALL sort the list events BY the second element of each inner list representing the end day  
        SET total_number_of_events TO the LENGTH OF events  
        SET dp TO a new two dimensional list with total_number_of_events PLUS one rows and k PLUS one columns each initialized to zero  
        FOR index i FROM one TO total_number_of_events  
            SET start_day TO the first element of the event at position i MINUS one in events  
            SET end_day TO the second element of the event at position i MINUS one in events  
            SET event_value TO the third element of the event at position i MINUS one in events  
            SET position j TO the result of finding the leftmost position in events where the end day is GREATER THAN OR EQUAL TO start_day using binary search on the second element of each event  
            FOR index l FROM one TO k  
                SET dp element at position i and l TO the maximum BETWEEN the dp element at position i MINUS one and l AND the sum of the dp element at position j and l MINUS one PLUS event_value  
            END FOR  
        END FOR  
        RETURN the dp element at position total_number_of_events and k  
    END FUNCTION  
END CLASS