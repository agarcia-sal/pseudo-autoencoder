CLASS Solution  
    FUNCTION longestPrefix(s)  
        SET n TO the LENGTH OF s  
        SET lps TO a list of zero VALUE repeated n TIMES  
        SET j TO zero  
  
        FOR i FROM one TO n MINUS one  
            WHILE j GREATER THAN zero AND character at position i of s NOT EQUALS character at position j of s  
                SET j TO element at position j MINUS one of lps  
            END WHILE  
  
            IF character at position i of s EQUALS character at position j of s  
                INCREMENT j BY one  
                SET element at position i of lps TO j  
            END IF  
        END FOR  
  
        SET longest_happy_prefix_length TO element at position n MINUS one of lps  
        RETURN substring from position one TO position longest_happy_prefix_length of s  
    END FUNCTION  
END CLASS