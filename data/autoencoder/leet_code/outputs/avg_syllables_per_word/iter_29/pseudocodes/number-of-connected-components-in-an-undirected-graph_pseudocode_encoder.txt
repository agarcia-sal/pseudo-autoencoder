CLASS Solution  
    FUNCTION countComponents(n, edges)  
        SET graph TO an empty mapping from integer to empty list  
        FOR each integer i FROM zero TO n MINUS one  
            SET element at position i of graph TO empty list  
        END FOR  
        FOR each pair of integers a and b IN edges  
            APPEND b TO the list associated with key a in graph  
            APPEND a TO the list associated with key b in graph  
        END FOR  
        SET visited TO an empty set  
        FUNCTION dfs(node)  
            IF the node is contained in visited THEN  
                RETURN  
            END IF  
            ADD the node TO visited  
            FOR each neighbor IN the list associated with key node in graph  
                CALL dfs WITH neighbor  
            END FOR  
        END FUNCTION  
        SET components TO zero  
        FOR each integer node FROM zero TO n MINUS one  
            IF the node is NOT contained in visited THEN  
                CALL dfs WITH node  
                INCREMENT components BY one  
            END IF  
        END FOR  
        RETURN components  
    END FUNCTION  
END CLASS