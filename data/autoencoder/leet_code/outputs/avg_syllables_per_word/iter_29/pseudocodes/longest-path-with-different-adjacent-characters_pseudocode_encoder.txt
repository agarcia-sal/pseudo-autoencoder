CLASS Solution  
    FUNCTION longestPath(parent_list_of_integers s_string)  
        IMPORT the functionality to create default mapping to empty list named tree  
        SET tree TO a new default mapping to empty list  
        FOR each index WITH element p IN parent_list_of_integers  
            IF p NOT EQUALS negative one  
                APPEND index TO the list at key p IN tree  
            END IF  
        END FOR  
        SET self result TO one  
        FUNCTION dfs(node)  
            SET max1 TO zero  
            SET max2 TO zero  
            FOR each child IN the list at key node IN tree  
                SET child_length TO dfs(child)  
                IF character at position child of s_string NOT EQUALS character at position node of s_string  
                    IF child_length GREATER THAN max1  
                        SET max2 TO max1  
                        SET max1 TO child_length  
                    ELSE IF child_length GREATER THAN max2  
                        SET max2 TO child_length  
                    END ELSE IF  
                END IF  
            END FOR  
            SET self result TO the greater value BETWEEN self result AND max1 PLUS max2 PLUS one  
            RETURN max1 PLUS one  
        END FUNCTION  
        CALL dfs with argument zero  
        RETURN self result  
    END FUNCTION  
END CLASS