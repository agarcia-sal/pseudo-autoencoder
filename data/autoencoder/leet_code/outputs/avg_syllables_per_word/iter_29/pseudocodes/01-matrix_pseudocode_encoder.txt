CLASS Solution  
    FUNCTION updateMatrix(mat)  
        IF mat EQUALS null OR the LENGTH OF mat EQUALS zero OR the LENGTH OF element at position zero of mat EQUALS zero  
            RETURN mat  
        END IF  
  
        SET rows TO the LENGTH OF mat  
        SET cols TO the LENGTH OF element at position zero of mat  
  
        SET dist TO a two dimensional list with rows number of rows and cols number of columns where each element is a value representing positive infinity  
  
        SET queue TO an empty double ended queue  
  
        FOR each variable r FROM zero TO rows MINUS one  
            FOR each variable c FROM zero TO cols MINUS one  
                IF element at position r of mat at position c EQUALS zero  
                    SET element at position r of dist at position c TO zero  
                    APPEND the tuple of r and c TO queue  
                END IF  
            END FOR  
        END FOR  
  
        SET directions TO a list containing the tuples of negative one and zero ONE AND zero and one ZERO AND negative one and zero and zero and one  
  
        WHILE queue is not empty  
            REMOVE and RETURN the first element from queue ASSIGN to r and c  
  
            FOR each dr and dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
  
                IF nr IS GREATER THAN OR EQUAL TO zero AND nr IS LESS THAN rows AND nc IS GREATER THAN OR EQUAL TO zero AND nc IS LESS THAN cols AND element at position nr of dist at position nc IS GREATER THAN element at position r of dist at position c PLUS one  
                    SET element at position nr of dist at position nc TO element at position r of dist at position c PLUS one  
                    APPEND the tuple of nr and nc TO queue  
                END IF  
            END FOR  
        END WHILE  
  
        RETURN dist  
    END FUNCTION  
END CLASS