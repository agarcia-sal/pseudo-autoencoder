CLASS Solution  
    FUNCTION totalNQueens(n)  
        FUNCTION is_not_under_attack(row, col)  
            RETURN the NEGATION of the SUM of the element at position col of cols PLUS the element at position row MINUS col of hills PLUS the element at position row PLUS col of dales  
        END FUNCTION  
        
        FUNCTION place_queen(row, col)  
            SET the element at position col of cols TO one  
            SET the element at position row MINUS col of hills TO one  
            SET the element at position row PLUS col of dales TO one  
        END FUNCTION  
        
        FUNCTION remove_queen(row, col)  
            SET the element at position col of cols TO zero  
            SET the element at position row MINUS col of hills TO zero  
            SET the element at position row PLUS col of dales TO zero  
        END FUNCTION  
        
        FUNCTION backtrack(row ASSIGNED zero, count ASSIGNED zero)  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack(row, col) EQUALS true  
                    CALL place_queen(row, col)  
                    IF the sum of row PLUS one EQUALS n  
                        INCREMENT count BY one  
                    ELSE  
                        SET count TO the RESULT OF backtrack(the sum of row PLUS one, count)  
                    END IF  
                    CALL remove_queen(row, col)  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  
        
        SET cols TO a list of zeroes of length n  
        SET hills TO a list of zeroes of length two MULTIPLIED BY n MINUS one  
        SET dales TO a list of zeroes of length two MULTIPLIED BY n MINUS one  
        
        RETURN the RESULT OF backtrack()  
    END FUNCTION  
END CLASS