CLASS Solution  
    FUNCTION findMaxLength(nums)  
        SET prefix_sum_index TO a dictionary with key zero mapped to negative one  
        SET max_length TO zero  
        SET count TO zero  
        
        FOR each index and number IN enumeration of nums  
            IF number EQUALS one  
                INCREMENT count BY one  
            ELSE  
                DECREMENT count BY one  
            END IF  
            
            IF count IS A KEY IN prefix_sum_index  
                SET possible_length TO index MINUS the value at key count in prefix_sum_index  
                IF possible_length GREATER THAN max_length  
                    SET max_length TO possible_length  
                END IF  
            ELSE  
                SET the value at key count in prefix_sum_index TO index  
            END IF  
        END FOR  
        
        RETURN max_length  
    END FUNCTION  
END CLASS