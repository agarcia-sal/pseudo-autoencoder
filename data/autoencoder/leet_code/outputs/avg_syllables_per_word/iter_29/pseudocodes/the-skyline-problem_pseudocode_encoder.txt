CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO an empty list  
        FOR each left edge position left AND right edge position right AND building height height IN buildings  
            APPEND a tuple consisting of left position left AND negated height NEGATED height AND right edge position right TO events  
            APPEND a tuple consisting of right position right AND zero height AND zero position TO events  
        END FOR  
        
        SORT events in ascending order by the position along the horizontal axis AND then by the height with taller buildings first for left edges AND shorter buildings first for right edges  
        
        SET result TO a list containing a single element which is a list of zero position AND zero height  
        SET max_heap TO a list containing a tuple of zero negated height AND positive infinity as end position  
        
        FOR each horizontal position x AND negated height negH AND right edge r IN events  
            WHILE the right edge position of the building at the top element of max_heap IS LESS THAN OR EQUAL TO the current horizontal position x  
                REMOVE the top element from max_heap heap  
            END WHILE  
            
            IF negated height negH IS NOT EQUAL TO zero  
                ADD the tuple consisting of negated height negH and right edge r TO max_heap heap  
            END IF  
            
            IF the height component of the last element in result IS NOT EQUAL TO the negation of the negated height component of the top element of max_heap heap  
                APPEND a list consisting of the current horizontal position x AND the negation of the negated height component of the top element of max_heap heap TO result  
            END IF  
        END FOR  
        
        IF the first element of result IS A list consisting of zero position AND zero height  
            REMOVE the first element from result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS