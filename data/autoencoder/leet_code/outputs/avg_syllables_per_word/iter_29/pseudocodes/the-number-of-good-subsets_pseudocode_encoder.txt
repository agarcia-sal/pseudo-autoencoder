CLASS Solution  
    FUNCTION numberOfGoodSubsets(nums)  
        SET count TO a collection that counts the frequency of each element in nums  
        SET dp TO a list of length two POWERED BY ten filled with zeros  
        SET the element at position zero of dp TO one  
        
        FOR each num IN the keys of count  
            IF num EQUALS one  
                SET the element at position zero of dp TO the element at position zero of dp MULTIPLIED BY two POWERED BY the element at position one of count  
                CONTINUE  
            END IF  
            
            IF num NOT IN the keys of prime_factors  
                CONTINUE  
            END IF  
            
            SET factors TO the value of num in prime_factors  
            SET mask TO zero  
            FOR each prime IN factors  
                SET mask TO mask BITWISE OR with one shifted LEFT BY prime MINUS one positions  
            END FOR  
            
            FOR m FROM two POWERED BY ten MINUS one DOWN TO zero DECREMENT BY one  
                IF the result of BITWISE AND operation between m and mask EQUALS zero  
                    SET the element at position m BITWISE OR mask of dp TO the element at the same position of dp PLUS the element at position m of dp MULTIPLIED BY the element at position num of count  
                    SET the element at position m BITWISE OR mask of dp TO the previous result MODULO MOD  
                END IF  
            END FOR  
        END FOR  
        
        SET result TO the SUM OF elements from position one TO the end of dp MODULO MOD  
        RETURN result  
    END FUNCTION  
END CLASS