CLASS Solution  
    FUNCTION smallestSubsequence(s string_parameter k integer_parameter letter string_parameter repetition integer_parameter) RETURNS string_parameter  
        SET letter_count TO the number of times letter OCCURS IN s  
        SET stack TO an empty collection  
        SET index TO zero  
        FOR each character IN s  
            WHILE stack IS NOT empty AND character IS LESS THAN the element at the last position of stack AND the LENGTH OF s MINUS index PLUS the LENGTH OF stack MINUS one IS GREATER THAN OR EQUAL TO k  
                IF the element at the last position of stack EQUALS letter  
                    IF letter_count IS GREATER THAN repetition  
                        INCREMENT repetition BY one  
                        REMOVE the element at the last position FROM stack  
                    ELSE  
                        BREAK  
                    END IF  
                ELSE  
                    REMOVE the element at the last position FROM stack  
                END IF  
            END WHILE  
            IF the LENGTH OF stack IS LESS THAN k  
                IF character EQUALS letter  
                    APPEND character TO stack  
                    DECREMENT repetition BY one  
                ELSE IF k MINUS the LENGTH OF stack IS GREATER THAN repetition  
                    APPEND character TO stack  
                END IF  
                IF character EQUALS letter  
                    DECREMENT letter_count BY one  
                END IF  
            END IF  
            INCREMENT index BY one  
        END FOR  
        WHILE the LENGTH OF stack IS LESS THAN k  
            APPEND letter TO stack  
        END WHILE  
        RETURN the concatenation of all elements of stack INTO one string  
    END FUNCTION  
END CLASS