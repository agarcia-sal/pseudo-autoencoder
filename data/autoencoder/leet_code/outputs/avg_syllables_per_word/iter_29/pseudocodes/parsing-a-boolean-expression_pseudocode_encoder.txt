CLASS Solution  
    FUNCTION parseBoolExpr(expression)  
        SET stack TO empty list  
        FOR each character IN expression  
            IF character EQUALS to one of the elements in the set containing t f exclamation mark ampersand vertical bar  
                APPEND character TO stack  
            ELSE IF character EQUALS closing parenthesis  
                SET count_true TO zero  
                SET count_false TO zero  
                WHILE the last element in stack IS one of the elements in the set containing t f  
                    INCREMENT count_true BY one IF the last element in stack EQUALS t OTHERWISE zero  
                    INCREMENT count_false BY one IF the last element in stack EQUALS f OTHERWISE zero  
                    REMOVE the last element FROM stack  
                END WHILE  
                SET operator TO the element removed FROM stack  
                IF operator EQUALS exclamation mark  
                    SET character TO t IF count_false GREATER THAN zero IS false OTHERWISE f  
                ELSE IF operator EQUALS ampersand  
                    SET character TO f IF count_false GREATER THAN zero IS true OTHERWISE t  
                ELSE IF operator EQUALS vertical bar  
                    SET character TO t IF count_true GREATER THAN zero IS true OTHERWISE f  
                END IF  
                APPEND character TO stack  
            END IF  
        END FOR  
        RETURN whether the first element of stack EQUALS t  
    END FUNCTION  
END CLASS