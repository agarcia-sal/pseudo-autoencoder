CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO a mapping of each number in nums to the number of times it appears  
        SET unique_nums TO the list of unique keys from count sorted in ascending order  
        SET dp TO a list of zeros with length equal to the LENGTH OF unique_nums PLUS one  
        SET the element at position one of dp TO the element at position zero of unique_nums MULTIPLIED BY the value in count for the element at position zero of unique_nums  
        FOR index FROM two TO the LENGTH OF unique_nums PLUS one  
            SET num TO the element at position index MINUS one of unique_nums  
            IF the value of num EQUALS the element at position index MINUS two of unique_nums PLUS one  
                SET the element at position index of dp TO the greater value BETWEEN the element at position index MINUS one of dp AND the sum of the element at position index MINUS two of dp PLUS num MULTIPLIED BY the value in count for num  
            ELSE  
                SET the element at position index of dp TO the sum of the element at position index MINUS one of dp PLUS num MULTIPLIED BY the value in count for num  
            END IF  
        END FOR  
        RETURN the last element of dp  
    END FUNCTION  
END CLASS