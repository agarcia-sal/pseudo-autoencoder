CLASS Solution  
    FUNCTION maximumCost(n, highways, k)  
        CREATE an empty mapping named graph with default value as empty list  
        FOR each city1 city2 AND toll IN highways  
            APPEND the pair of city2 AND toll TO the list mapped by city1 in graph  
            APPEND the pair of city1 AND toll TO the list mapped by city2 in graph  
        END FOR  
        
        SET max_cost TO negative one  
        
        FUNCTION dfs(city visited cost highways_used)  
            IF highways_used EQUALS k THEN  
                SET max_cost TO the greater value BETWEEN max_cost AND cost  
                RETURN  
            END IF  
            
            FOR each neighbor AND toll IN the list mapped by city in graph  
                IF neighbor IS NOT IN visited THEN  
                    ADD neighbor TO visited  
                    CALL dfs WITH neighbor visited the sum of cost AND toll the sum of highways_used AND one  
                    REMOVE neighbor FROM visited  
                END IF  
            END FOR  
        END FUNCTION  
        
        FOR start_city FROM zero TO the difference of n AND one  
            CREATE a new set visited containing only start_city  
            CALL dfs WITH start_city visited zero zero  
        END FOR  
        
        RETURN max_cost  
    END FUNCTION  
END CLASS