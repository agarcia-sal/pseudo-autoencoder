CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms IS EQUAL TO empty OR the first element of rooms IS EQUAL TO empty  
            RETURN  
        END IF  
  
        SET rows TO the LENGTH OF rooms  
        SET cols TO the LENGTH OF the first element of rooms  
        ASSIGN a new empty double ended queue TO queue  
  
        FOR each row index FROM zero TO rows MINUS one  
            FOR each column index FROM zero TO cols MINUS one  
                IF element at position row index of rooms AND position column index IS EQUAL TO zero  
                    APPEND a pair of row index AND column index TO queue  
                END IF  
            END FOR  
        END FOR  
  
        SET directions TO a collection of pairs consisting of zero AND one, one AND zero, zero AND negative one, negative one AND zero  
  
        WHILE queue IS NOT empty  
            REMOVE the element from the front of queue AND ASSIGN its first item TO r AND its second item TO c  
            FOR each pair dr AND dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                IF nr IS GREATER THAN OR EQUAL TO zero AND nr IS LESS THAN rows AND nc IS GREATER THAN OR EQUAL TO zero AND nc IS LESS THAN cols AND element at position nr of rooms AND position nc IS EQUAL TO the greatest thirty two bit signed integer value  
                    SET element at position nr of rooms AND position nc TO element at position r of rooms AND position c PLUS one  
                    APPEND a pair of nr AND nc TO queue  
                END IF  
            END FOR  
        END WHILE  
    END FUNCTION  
END CLASS