CLASS Solution  
    FUNCTION maxValueAfterReverse(nums)  
        SET n TO the LENGTH OF nums  
        IF n EQUALS two  
            RETURN the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position zero of nums AND element at position one of nums  
        END IF  
          
        SET initial_value TO zero  
        FOR each index FROM one TO n MINUS one  
            INCREMENT initial_value BY the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position index of nums AND element at position index MINUS one of nums  
        END FOR  
          
        SET max_edge_gain TO zero  
        FOR each index FROM one TO n MINUS one  
            SET max_edge_gain TO the GREATER OF max_edge_gain AND the RESULT OF the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position zero of nums AND element at position index of nums MINUS the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position index of nums AND element at position index MINUS one of nums  
        END FOR  
          
        FOR each index FROM zero TO n MINUS two  
            SET max_edge_gain TO the GREATER OF max_edge_gain AND the RESULT OF the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position n MINUS one of nums AND element at position index of nums MINUS the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN element at position index PLUS one of nums AND element at position index of nums  
        END FOR  
          
        SET min_pair TO the MINIMUM OF the GREATER OF element at position index of nums AND element at position index PLUS one of nums FOR each index FROM zero TO n MINUS two  
        SET max_pair TO the MAXIMUM OF the LESSER OF element at position index of nums AND element at position index PLUS one of nums FOR each index FROM zero TO n MINUS two  
          
        SET general_gain TO the GREATER OF zero AND TWO MULTIPLIED BY the DIFFERENCE BETWEEN max_pair AND min_pair  
          
        RETURN the SUM OF initial_value AND the GREATER OF max_edge_gain AND general_gain  
    END FUNCTION  
END CLASS