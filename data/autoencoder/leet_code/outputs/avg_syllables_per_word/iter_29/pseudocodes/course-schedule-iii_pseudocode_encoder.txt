CLASS Solution  
    FUNCTION scheduleCourse(courses)  
        SORT the list courses BY the value at position two of each element in ascending order  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each pair of duration and last_day IN courses  
            IF the sum of current_end_day AND duration IS LESS THAN OR EQUAL TO last_day  
                ADD the negation of duration TO max_heap USING heap push  
                INCREMENT current_end_day BY duration  
            ELSE  
                IF max_heap IS NOT empty AND the negation of the element at position one of max_heap IS GREATER THAN duration  
                    INCREMENT current_end_day BY the sum of duration AND the removal of the smallest element from max_heap USING heap pop  
                    ADD the negation of duration TO max_heap USING heap push  
                END IF  
            END IF  
        END FOR  
        RETURN the LENGTH OF max_heap  
    END FUNCTION  
END CLASS