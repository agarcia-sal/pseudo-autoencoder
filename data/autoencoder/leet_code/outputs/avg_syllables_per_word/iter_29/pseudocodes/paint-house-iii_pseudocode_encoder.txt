CLASS Solution  
    FUNCTION minCost(houses list_of_integer, cost list_of_list_of_integer, m integer, n integer, target integer) RETURNS integer  
        FUNCTION dp(i integer, prev_color integer, groups integer) RETURNS integer  
            IF i EQUALS m  
                IF groups EQUALS target  
                    RETURN zero  
                ELSE  
                    RETURN positive_infinity  
                END ELSE  
            END IF  
            
            IF element at position i of houses NOT EQUALS zero  
                SET new_groups TO groups PLUS one IF element at position i of houses NOT EQUALS prev_color OTHERWISE groups  
                RETURN dp(i PLUS one, element at position i of houses, new_groups)  
            END IF  
            
            SET min_cost TO positive_infinity  
            FOR color FROM one TO n  
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color OTHERWISE groups  
                SET current_cost TO element at position i of cost MINUS one ADJUSTED BY color PLUS dp(i PLUS one, color, new_groups)  
                SET min_cost TO minimum OF min_cost AND current_cost  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        SET result TO dp(zero, zero, zero)  
        IF result NOT EQUALS positive_infinity  
            RETURN result  
        ELSE  
            RETURN negative_one  
        END ELSE  
    END FUNCTION  
END CLASS