CLASS Solution  
    FUNCTION isRectangleCover(rectangles)  
        SET X1 TO positive infinity  
        SET Y1 TO positive infinity  
        SET X2 TO negative infinity  
        SET Y2 TO negative infinity  
        
        SET points TO an empty set  
        SET area TO zero  
        
        FOR each rectangle IN rectangles  
            EXTRACT x1 y1 x2 y2 FROM rectangle  
            
            SET X1 TO the smaller value between X1 AND x1  
            SET Y1 TO the smaller value between Y1 AND y1  
            SET X2 TO the larger value between X2 AND x2  
            SET Y2 TO the larger value between Y2 AND y2  
            
            INCREMENT area BY the product of the result of subtracting x1 FROM x2 AND the result of subtracting y1 FROM y2  
            
            FOR each point IN the list of four points consisting of the pair x1 y1 the pair x1 Y2 the pair x2 y1 AND the pair x2 y2  
                IF point IS IN points THEN  
                    REMOVE point FROM points  
                ELSE  
                    ADD point TO points  
                END IF  
            END FOR  
        END FOR  
        
        IF area IS NOT EQUAL TO the product of the result of subtracting X1 FROM X2 AND the result of subtracting Y1 FROM Y2 THEN  
            RETURN false  
        END IF  
        
        IF points IS NOT EQUAL TO the set consisting of the pairs X1 Y1 X1 Y2 X2 Y1 AND X2 Y2 THEN  
            RETURN false  
        END IF  
        
        RETURN true  
    END FUNCTION  
END CLASS