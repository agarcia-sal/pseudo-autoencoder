CLASS Solution  
    FUNCTION isEscapePossible(blocked, source, target)  
        IF the collection blocked IS EMPTY THEN  
            RETURN true  
        END IF  
        
        SET blocked_set TO the SET OF each element CONVERTED TO a tuple IN blocked  
        
        SET n TO the LENGTH OF blocked  
        
        SET max_steps TO n MULTIPLIED BY n MINUS one THEN DIVIDED BY two
        
        FUNCTION bfs(start, end)  
            SET queue TO a new deque INITIALIZED WITH the tuple CONVERTED start  
            SET visited TO a new SET INITIALIZED WITH the elements of queue  
            
            WHILE queue IS NOT EMPTY  
                REMOVE the element at FRONT of queue AND ASSIGN TO x AND y  
                
                IF the LENGTH OF visited IS GREATER THAN max_steps OR x EQUALS the first element of end AND y EQUALS the second element of end THEN  
                    RETURN true  
                END IF  
                
                FOR each pair dx AND dy IN the collection OF pairs of zero AND one zero AND negative one one zero AND negative one zero  
                    SET nx TO x PLUS dx  
                    SET ny TO y PLUS dy  
                    IF nx IS GREATER THAN OR EQUAL TO zero AND nx IS LESS THAN one MILLION AND ny IS GREATER THAN OR EQUAL TO zero AND ny IS LESS THAN one MILLION AND the tuple nx AND ny IS NOT IN blocked_set AND the tuple nx AND ny IS NOT IN visited THEN  
                        ADD the tuple nx AND ny TO visited  
                        ADD the tuple nx AND ny TO the END of queue  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN false  
        END FUNCTION  
        
        RETURN the RESULT of bfs WITH parameters source AND target AND THE RESULT of bfs WITH parameters target AND source  
    END FUNCTION  
END CLASS