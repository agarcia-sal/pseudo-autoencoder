CLASS Solution  
    FUNCTION minimumTime WITH PARAMETERS n relations time  
        SET graph TO a new default dictionary with list as default value  
        FOR each pair of previous course AND next course IN relations  
            APPEND previous course TO the list at position next course of graph  
        END FOR  
        SET memo TO a list of negative one WITH length n PLUS one  
        FUNCTION dfs WITH PARAMETER course  
            IF the element at position course of memo NOT EQUALS negative one  
                RETURN the element at position course of memo  
            END IF  
            SET max prerequisite time TO zero  
            FOR each previous course IN the list at position course of graph  
                SET max prerequisite time TO the maximum OF max prerequisite time AND the result of dfs WITH previous course  
            END FOR  
            SET the element at position course of memo TO max prerequisite time PLUS the element at position course MINUS one of time  
            RETURN the element at position course of memo  
        END FUNCTION  
        SET total minimum time TO zero  
        FOR course FROM one TO n  
            SET total minimum time TO the maximum OF total minimum time AND the result of dfs WITH course  
        END FOR  
        RETURN total minimum time  
    END FUNCTION  
END CLASS