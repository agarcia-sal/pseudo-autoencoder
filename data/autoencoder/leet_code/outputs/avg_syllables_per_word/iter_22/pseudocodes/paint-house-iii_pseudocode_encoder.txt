CLASS Solution  
    FUNCTION minCost(houses LIST OF INTEGER cost LIST OF LIST OF INTEGER m INTEGER n INTEGER target INTEGER) RETURNS INTEGER  
        FUNCTION dp(i INTEGER prev_color INTEGER groups INTEGER) RETURNS INTEGER  
            IF i EQUALS m THEN  
                IF groups EQUALS target THEN  
                    RETURN zero  
                ELSE  
                    RETURN positive infinity  
                END IF  
            END IF  
            
            IF element at position i of houses NOT EQUALS zero THEN  
                SET new_groups TO groups PLUS one IF element at position i of houses NOT EQUALS prev_color OTHERWISE zero  
                RETURN dp(i PLUS one prev_color element at position i of houses groups new_groups)  
            END IF  
            
            SET min_cost TO positive infinity  
            FOR color FROM one TO n DO  
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color OTHERWISE zero  
                SET candidate_cost TO element at position i at position color MINUS one of cost PLUS dp(i PLUS one color new_groups)  
                IF candidate_cost LESS THAN min_cost THEN  
                    SET min_cost TO candidate_cost  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        SET result TO dp(zero zero zero)  
        IF result NOT EQUALS positive infinity THEN  
            RETURN result  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
END CLASS