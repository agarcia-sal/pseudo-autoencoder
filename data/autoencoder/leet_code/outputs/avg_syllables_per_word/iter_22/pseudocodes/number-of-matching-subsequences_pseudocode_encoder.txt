CLASS Solution  
    FUNCTION numMatchingSubseq(s AS string, words AS list of strings) RETURNS integer  
        SET waiting TO empty mapping from character TO empty queue  
        FOR each unique character c IN the set of characters contained in s  
            ASSIGN to waiting at key c a new empty queue  
        END FOR  
        FOR each word IN words  
            SET it TO an iterator over the characters of word  
            SET first_letter TO the next character from it  
            IF first_letter is contained in waiting  
                APPEND it TO the queue at waiting for key first_letter  
            END IF  
        END FOR  
        SET match_count TO zero  
        FOR each character c IN s  
            IF c is contained in waiting  
                SET current_iterators TO the queue at waiting for key c  
                ASSIGN to waiting at key c a new empty queue  
                FOR each iterator it IN current_iterators  
                    SET next_char TO the next character from it if any otherwise null  
                    IF next_char EQUALS null  
                        INCREMENT match_count BY one  
                    ELSE  
                        IF next_char is contained in waiting  
                            APPEND it TO the queue at waiting for key next_char  
                        END IF  
                    END IF  
                END FOR  
            END IF  
        END FOR  
        RETURN match_count  
    END FUNCTION  
END CLASS