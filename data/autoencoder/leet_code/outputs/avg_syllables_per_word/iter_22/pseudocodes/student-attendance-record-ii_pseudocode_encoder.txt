CLASS Solution  
    FUNCTION checkRecord(n)  
        SET MOD TO one billion PLUS seven  
        SET dp TO a three dimensional list of zero where the first dimension is the length from zero TO n, the second dimension is two, and the third dimension is three  
        SET element at position zero position zero position zero of dp TO one  
        FOR i FROM one TO n  
            FOR j FROM zero TO one  
                FOR k FROM zero TO two  
                    SET element at position i position j position zero of dp TO the element at position i position j position zero of dp PLUS element at position i MINUS one position j position k of dp  
                    SET element at position i position j position zero of dp TO element at position i position j position zero of dp MODULO MOD  
                    IF j EQUALS zero THEN  
                        SET element at position i position one position zero of dp TO the element at position i position one position zero of dp PLUS element at position i MINUS one position zero position k of dp  
                        SET element at position i position one position zero of dp TO element at position i position one position zero of dp MODULO MOD  
                    END IF  
                    IF k LESS THAN two THEN  
                        SET element at position i position j position k PLUS one of dp TO the element at position i position j position k PLUS one of dp PLUS element at position i MINUS one position j position k of dp  
                        SET element at position i position j position k PLUS one of dp TO element at position i position j position k PLUS one of dp MODULO MOD  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        SET result TO zero  
        FOR j FROM zero TO one  
            FOR k FROM zero TO two  
                SET result TO result PLUS element at position n position j position k of dp  
                SET result TO result MODULO MOD  
            END FOR  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS