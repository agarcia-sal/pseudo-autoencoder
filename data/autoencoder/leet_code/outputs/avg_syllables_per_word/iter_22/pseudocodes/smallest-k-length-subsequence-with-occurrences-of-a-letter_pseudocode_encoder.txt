CLASS Solution  
    FUNCTION smallestSubsequence(s parameter, k parameter, letter parameter, repetition parameter)  
        SET letter_count TO the number of occurrences of letter parameter IN s parameter  
        SET stack TO an empty list  
        FOR each index i AND character char IN s parameter  
            WHILE the LENGTH OF stack IS GREATER THAN zero AND character char AT i IS LESS THAN the element at the last position OF stack AND the LENGTH OF s parameter MINUS i PLUS the LENGTH OF stack MINUS one IS GREATER THAN OR EQUAL TO k parameter  
                IF the element at the last position OF stack EQUALS letter parameter  
                    IF letter_count IS GREATER THAN repetition parameter  
                        INCREMENT repetition parameter BY one  
                        REMOVE the element at the last position FROM stack  
                    ELSE  
                        BREAK the WHILE loop  
                    END IF  
                ELSE  
                    REMOVE the element at the last position FROM stack  
                END IF  
            END WHILE  
            IF the LENGTH OF stack IS LESS THAN k parameter  
                IF character char AT i EQUALS letter parameter  
                    APPEND character char AT i TO stack  
                    DECREMENT repetition parameter BY one  
                ELSE IF k parameter MINUS the LENGTH OF stack IS GREATER THAN repetition parameter  
                    APPEND character char AT i TO stack  
                END IF  
                IF character char AT i EQUALS letter parameter  
                    DECREMENT letter_count BY one  
                END IF  
            END IF  
        END FOR  
        WHILE the LENGTH OF stack IS LESS THAN k parameter  
            APPEND letter parameter TO stack  
        END WHILE  
        RETURN the concatenation of all elements IN stack AS a string  
    END FUNCTION  
END CLASS