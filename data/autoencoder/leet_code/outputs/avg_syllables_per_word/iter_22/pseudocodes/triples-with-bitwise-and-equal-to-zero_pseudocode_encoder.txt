CLASS Solution  
    FUNCTION countTriplets(nums)  
        SET pair_and_count TO a new mapping with default integer zero  
        FOR each first_number IN nums  
            FOR each second_number IN nums  
                SET bitwise_and_result TO the bitwise AND of first_number AND second_number  
                INCREMENT the value associated with bitwise_and_result in pair_and_count BY one  
            END FOR  
        END FOR  
        SET triplet_count TO zero  
        FOR each candidate_number IN nums  
            FOR each bitwise_and_key AND its associated frequency_value IN pair_and_count  
                IF the bitwise AND of bitwise_and_key AND candidate_number EQUALS zero  
                    INCREMENT triplet_count BY frequency_value  
                END IF  
            END FOR  
        END FOR  
        RETURN triplet_count  
    END FUNCTION  
END CLASS