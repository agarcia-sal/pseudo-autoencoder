CLASS Solution  
    FUNCTION validUtf8(data)  
        FUNCTION get_byte_count(byte)  
            IF the result of shifting byte right by seven positions EQUALS zero  
                RETURN one  
            ELSE IF the result of shifting byte right by five positions EQUALS the value represented by one one zero in binary  
                RETURN two  
            ELSE IF the result of shifting byte right by four positions EQUALS the value represented by one one one zero in binary  
                RETURN three  
            ELSE IF the result of shifting byte right by three positions EQUALS the value represented by one one one one zero in binary  
                RETURN four  
            ELSE  
                RETURN minus one  
            END IF  
        END FUNCTION  

        SET i TO zero  
        WHILE i LESS THAN the LENGTH OF data  
            SET byte_count TO the result of calling get_byte_count with the element at position i of data  
            IF byte_count EQUALS minus one  
                RETURN False  
            END IF  
            IF the sum of i PLUS byte_count GREATER THAN the LENGTH OF data  
                RETURN False  
            END IF  
            FOR j FROM the sum of i PLUS one TO the sum of i PLUS byte_count MINUS one  
                IF the result of shifting the element at position j of data right by six positions NOT EQUALS the value represented by one zero in binary  
                    RETURN False  
                END IF  
            END FOR  
            INCREMENT i BY byte_count  
        END WHILE  
        RETURN True  
    END FUNCTION  
END CLASS