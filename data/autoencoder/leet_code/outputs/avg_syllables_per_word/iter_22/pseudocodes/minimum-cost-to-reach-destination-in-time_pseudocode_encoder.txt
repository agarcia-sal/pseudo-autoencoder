CLASS Solution  
    FUNCTION minCost(maxTime passingTime, edges edgeList, passingFees feeList)  
        SET n TO the LENGTH OF feeList  
        SET graph TO an empty list containing n empty lists  
        FOR each edge WITH elements x y time IN edgeList  
            APPEND pair of y AND time TO the element at position x of graph  
            APPEND pair of x AND time TO the element at position y of graph  
        END FOR  
        SET pq TO a list containing a triple consisting of the element at position zero of feeList AND zero AND zero  
        SET visited_time TO a list containing n elements each equal to positive infinity  
        SET the element at position zero of visited_time TO zero  
        WHILE the LENGTH OF pq is greater than zero  
            REMOVE and RETURN the element with the smallest first component from pq and DESTRUCTURE it INTO current_cost current_city current_time  
            IF current_city EQUALS n MINUS one  
                RETURN current_cost  
            END IF  
            FOR each neighbor AND travel_time IN the elements at position current_city of graph  
                SET new_time TO current_time PLUS travel_time  
                SET new_cost TO current_cost PLUS the element at position neighbor of feeList  
                IF new_time LESS THAN OR EQUAL TO passingTime AND (new_time LESS THAN the element at position neighbor of visited_time OR new_cost LESS THAN current_cost)  
                    SET the element at position neighbor of visited_time TO new_time  
                    INSERT triple of new_cost neighbor new_time INTO pq maintaining order by first component  
                END IF  
            END FOR  
        END WHILE  
        RETURN a value indicating no valid path found as negative one  
    END FUNCTION  
END CLASS