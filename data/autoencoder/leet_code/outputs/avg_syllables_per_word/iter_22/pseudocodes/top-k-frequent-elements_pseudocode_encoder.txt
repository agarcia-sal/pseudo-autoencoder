CLASS Solution  
    FUNCTION topKFrequent(nums k)  
        SET frequency_map TO a new empty map with default integer zero  
        FOR each num IN nums  
            INCREMENT the element at num in frequency_map BY one  
        END FOR  
        SET max_frequency TO the greatest value in frequency_map  
        SET buckets TO a new list of empty lists with a length of max_frequency PLUS one  
        FOR each key num and value freq IN frequency_map  
            APPEND num TO the element at position freq of buckets  
        END FOR  
        SET result TO an empty list  
        FOR freq FROM max_frequency DOWN TO one  
            IF the number of elements in the element at position freq of buckets GREATER THAN zero THEN  
                APPEND all elements from the element at position freq of buckets TO result  
                IF the number of elements in result GREATER THAN OR EQUAL TO k THEN  
                    RETURN the first k elements of result  
                END IF  
            END IF  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS