CLASS Solution  
    FUNCTION visiblePoints(points, angle, location)  
        SET angles TO empty list  
        SET extra_points TO zero  
        FOR each x AND y IN points  
            IF x EQUALS element at position zero of location AND y EQUALS element at position one of location THEN  
                INCREMENT extra_points BY one  
                CONTINUE to next iteration  
            END IF  
            SET angle_rad TO the arctangent of the difference between y and element at position one of location and the difference between x and element at position zero of location  
            SET angle_deg TO the degrees conversion of angle_rad  
            APPEND angle_deg TO angles  
        END FOR  
        SORT angles in ascending order  
        SET extended_angles TO the concatenation of angles AND a new list obtained by adding three hundred and sixty to each element of angles  
        SET max_visible TO zero  
        SET left TO zero  
        FOR right FROM zero TO the length of extended_angles MINUS one  
            WHILE the element at position right of extended_angles MINUS the element at position left of extended_angles GREATER THAN angle DO  
                INCREMENT left BY one  
            END WHILE  
            SET current_visible TO right MINUS left PLUS one  
            IF current_visible GREATER THAN max_visible THEN  
                SET max_visible TO current_visible  
            END IF  
        END FOR  
        RETURN max_visible PLUS extra_points  
    END FUNCTION  
END CLASS