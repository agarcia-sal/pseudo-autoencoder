CLASS Solution  
    FUNCTION leastInterval(tasks n)  
        SET task_counts TO result of counting the frequency of each element in tasks  
        SET max_heap TO empty list  
        FOR each count IN the values of task_counts  
            APPEND negative of count TO max_heap  
        END FOR  
        TRANSFORM max_heap into a heap structure using heapify operation  
        SET time TO zero  
        SET queue TO empty list  
        WHILE the heap max_heap is not empty OR the list queue is not empty  
            WHILE the list queue is not empty AND the first element at position zero of queue at position zero EQUALS time  
                REMOVE the first element FROM queue AND ASSIGN the second value of that element TO count  
                IF count LESS THAN zero  
                    PUSH count INTO max_heap heap structure  
                END IF  
            END WHILE  
            IF max_heap is not empty  
                REMOVE the smallest element FROM max_heap heap structure AND ASSIGN TO count  
                SET count TO count PLUS one  
                IF count LESS THAN zero  
                    APPEND a pair consisting of time PLUS n PLUS one AND count TO queue  
                END IF  
            END IF  
            INCREMENT time BY one  
        END WHILE  
        RETURN time  
    END FUNCTION  
END CLASS