CLASS Solution  
    FUNCTION expressiveWords(s, words)  
        FUNCTION compress(word)  
            IF word EQUALS empty  
                RETURN empty list  
            END IF  
            SET count TO one  
            SET compressed TO empty list  
            FOR index FROM one TO the LENGTH OF word MINUS one  
                IF element at position index of word EQUALS element at position index MINUS one of word  
                    INCREMENT count BY one  
                ELSE  
                    APPEND pair consisting of element at position index MINUS one of word AND count TO compressed  
                    SET count TO one  
                END IF  
            END FOR  
            APPEND pair consisting of element at last position of word AND count TO compressed  
            RETURN compressed  
        END FUNCTION  
        
        FUNCTION is_stretchy(s_compressed, word_compressed)  
            IF the LENGTH OF s_compressed NOT EQUAL TO the LENGTH OF word_compressed  
                RETURN false  
            END IF  
            FOR pairs FROM s_compressed AND word_compressed zipped AS pair_s AND pair_w  
                IF first element of pair_s NOT EQUAL TO first element of pair_w  
                    RETURN false  
                END IF  
                IF second element of pair_s NOT EQUAL TO second element of pair_w AND (second element of pair_s LESS THAN three OR second element of pair_s LESS THAN second element of pair_w)  
                    RETURN false  
                END IF  
            END FOR  
            RETURN true  
        END FUNCTION  
        
        SET s_compressed TO compress(s)  
        SET stretchy_count TO zero  
        
        FOR each word IN words  
            SET word_compressed TO compress(word)  
            IF is_stretchy(s_compressed, word_compressed)  
                INCREMENT stretchy_count BY one  
            END IF  
        END FOR  
        
        RETURN stretchy_count  
    END FUNCTION  
END CLASS