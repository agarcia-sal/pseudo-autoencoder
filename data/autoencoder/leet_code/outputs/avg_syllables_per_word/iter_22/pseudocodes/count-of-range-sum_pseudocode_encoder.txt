CLASS Solution  
    FUNCTION countRangeSum(nums parameter, lower parameter, upper parameter) RETURNS integer  
        SET prefix_sums TO list containing zero  
        SET current_sum TO zero  
        SET count TO zero  
        
        FOR each num IN nums parameter  
            SET current_sum TO current_sum PLUS num  
            SET left TO current_sum MINUS upper parameter  
            SET right TO current_sum MINUS lower parameter  
            
            SET count TO count PLUS the number of elements less than or equal to right in prefix_sums MINUS the number of elements less than left in prefix_sums  
            
            INSERT current_sum INTO prefix_sums maintaining sorted order  
        END FOR  
        
        RETURN count  
    END FUNCTION  
END CLASS