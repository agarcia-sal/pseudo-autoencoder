CLASS Solution  
    FUNCTION minimumWeight(n src1 src2 dest edges)  
        FUNCTION dijkstra(graph start)  
            SET distances TO a list of size n with each element assigned to infinite distance  
            SET element at position start of distances TO zero  
            SET heap TO list containing a pair of zero and start  
            
            WHILE heap holds  
                SET current_distance and current_node TO heappop from heap  
                
                IF current_distance GREATER THAN element at position current_node of distances  
                    CONTINUE to next iteration  
                END IF  
                
                FOR each neighbor and weight IN element at position current_node of graph  
                    SET distance TO current_distance PLUS weight  
                    
                    IF distance LESS THAN element at position neighbor of distances  
                        SET element at position neighbor of distances TO distance  
                        heappush to heap the pair of distance and neighbor  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN distances  
        END FUNCTION  
        
        SET graph TO list of n empty lists  
        SET reverse_graph TO list of n empty lists  
        
        FOR each u v w IN edges  
            APPEND the pair of v and w TO element at position u of graph  
            APPEND the pair of u and w TO element at position v of reverse_graph  
        END FOR  
        
        SET dist_from_src1 TO dijkstra with graph and src1 as arguments  
        SET dist_from_src2 TO dijkstra with graph and src2 as arguments  
        SET dist_to_dest TO dijkstra with reverse_graph and dest as arguments  
        
        SET min_weight TO infinite distance  
        
        FOR index FROM zero TO n MINUS one  
            IF element at position index of dist_from_src1 NOT EQUALS infinite distance AND element at position index of dist_from_src2 NOT EQUALS infinite distance AND element at position index of dist_to_dest NOT EQUALS infinite distance  
                IF element at position index of dist_from_src1 PLUS element at position index of dist_from_src2 PLUS element at position index of dist_to_dest LESS THAN min_weight  
                    SET min_weight TO element at position index of dist_from_src1 PLUS element at position index of dist_from_src2 PLUS element at position index of dist_to_dest  
                END IF  
            END IF  
        END FOR  
        
        IF min_weight EQUALS infinite distance  
            RETURN minus one  
        ELSE  
            RETURN min_weight  
        END IF  
    END FUNCTION  
END CLASS