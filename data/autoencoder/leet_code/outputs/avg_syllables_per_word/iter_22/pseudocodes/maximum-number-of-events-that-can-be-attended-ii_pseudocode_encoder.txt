CLASS Solution  
    FUNCTION maxValue(events parameter AS List of List of integers, k parameter AS integer) RETURNS integer  
        SORT events IN ORDER OF the end day value of each event  
        SET n TO the LENGTH OF events  
        
        CREATE dp AS a list of lists with n PLUS one elements each containing k PLUS one zeros  
        
        FOR i FROM one TO n  
            SET start TO the first element of the event at position i MINUS one of events  
            SET end TO the second element of the event at position i MINUS one of events  
            SET value TO the third element of the event at position i MINUS one of events  
            
            SET j TO the position where start can be inserted into events to keep the order by the end day using binary search  
            
            FOR l FROM one TO k  
                SET dp element at position i and position l TO the maximum of dp element at position i MINUS one and position l AND the sum of dp element at position j and position l MINUS one PLUS value  
            END FOR  
        END FOR  
        
        RETURN dp element at position n and position k  
    END FUNCTION  
END CLASS