CLASS Solution  
    FUNCTION maximumScore(scores PARAMETER, edges PARAMETER)  
        SET graph TO a new mapping from keys to empty lists  
        FOR each pair u and v IN edges  
            APPEND a pair consisting of the element at position v of scores and v TO the list associated with key u in graph  
            APPEND a pair consisting of the element at position u of scores and u TO the list associated with key v in graph  
        END FOR  
        FOR each node IN the keys of graph  
            SET the list associated with node in graph TO the three elements with the highest first components in the current list associated with node in graph  
        END FOR  
        SET max_score TO negative one  
        FOR each pair u and v IN edges  
            FOR each pair score1 and x IN the list associated with u in graph  
                FOR each pair score2 and y IN the list associated with v in graph  
                    IF the collection of elements x and y and u and v consists of four distinct elements THEN  
                        SET max_score TO the greater of max_score and the sum of score1 plus score2 plus the element at position u of scores plus the element at position v of scores  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN max_score  
    END FUNCTION  
END CLASS