CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO an empty list  
        FOR each left height right IN buildings  
            APPEND a tuple consisting of left position PLUS the negative of height PLUS the right position TO events  
            APPEND a tuple consisting of right position PLUS zero PLUS zero TO events  
        END FOR  
        
        SORT events BY the first element ascending AND THEN BY the second element ascending AND THEN BY the third element ascending  
        
        SET result TO a list containing a list of zero AND zero  
        SET max_heap TO a list containing a tuple of zero AND positive infinity  
        
        FOR each x negH r IN events  
            WHILE the second element of the first tuple in max_heap IS LESS THAN OR EQUAL TO x  
                REMOVE the first element from max_heap BY heap popping  
            END WHILE  
            
            IF negH NOT EQUALS zero  
                ADD a tuple of negH AND r TO max_heap BY heap pushing  
            END IF  
            
            IF the second element of the last item in result NOT EQUALS the negative of the first element of the first tuple in max_heap  
                APPEND a list of x AND the negative of the first element of the first tuple in max_heap TO result  
            END IF  
        END FOR  
        
        IF the first element of result EQUALS a list of zero AND zero  
            REMOVE the first element FROM result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS