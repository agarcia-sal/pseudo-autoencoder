CLASS Solution  
    FUNCTION candy WITH PARAMETER ratings  
        SET n TO the LENGTH OF ratings  
        SET candies TO a list of size n with each element SET TO one  
        FOR i FROM two TO n  
            IF the element at position i of ratings GREATER THAN the element at position i MINUS one of ratings  
                SET the element at position i of candies TO the element at position i MINUS one of candies PLUS one  
            END IF  
        END FOR  
        FOR i FROM n MINUS one MINUS one DOWN TO one  
            IF the element at position i of ratings GREATER THAN the element at position i PLUS one of ratings  
                SET the element at position i of candies TO the GREATER OF the element at position i of candies AND the element at position i PLUS one of candies PLUS one  
            END IF  
        END FOR  
        RETURN the SUM OF all elements in candies  
    END FUNCTION  
END CLASS