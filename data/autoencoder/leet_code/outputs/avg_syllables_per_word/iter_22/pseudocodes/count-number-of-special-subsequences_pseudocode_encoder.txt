CLASS Solution  
    FUNCTION countSpecialSubsequences(nums)  
        SET MOD TO one billion PLUS seven  
        SET dp TO list containing three zeros representing counts of special subsequences ending with zero one and two respectively  
        
        FOR each num IN nums  
            IF num EQUALS zero  
                SET dp at position zero TO the sum of the product of two and dp at position zero AND one MODULO MOD  
            ELSE IF num EQUALS one  
                SET dp at position one TO the sum of the product of two and dp at position one AND dp at position zero MODULO MOD  
            ELSE IF num EQUALS two  
                SET dp at position two TO the sum of the product of two and dp at position two AND dp at position one MODULO MOD  
            END IF  
        END FOR  
        
        RETURN dp at position two  
    END FUNCTION  
END CLASS