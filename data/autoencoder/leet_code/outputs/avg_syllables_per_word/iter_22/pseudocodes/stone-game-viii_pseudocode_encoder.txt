CLASS Solution  
    FUNCTION stoneGameVIII WITH parameter stones  
        SET prefix_sum TO a new list of zero repeated the LENGTH OF stones times  
        SET element at position zero of prefix_sum TO element at position zero of stones  
        FOR index i FROM one TO the LENGTH OF stones MINUS one  
            SET element at position i of prefix_sum TO element at position i MINUS one of prefix_sum PLUS element at position i of stones  
        END FOR  
        SET dp TO element at the last position of prefix_sum  
        FOR index i FROM the LENGTH OF stones MINUS two DOWNTO one  
            IF dp LESS THAN element at position i of prefix_sum MINUS dp THEN  
                SET dp TO element at position i of prefix_sum MINUS dp  
            END IF  
        END FOR  
        RETURN dp  
    END FUNCTION  
END CLASS