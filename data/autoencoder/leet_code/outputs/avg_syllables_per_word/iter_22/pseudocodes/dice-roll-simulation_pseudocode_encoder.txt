CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MOD TO one billion PLUS seven  
        SET dp TO a three dimensional list of zeros with dimensions n PLUS one by six by the maximum value of rollMax PLUS one  
        FOR j FROM zero TO five  
            SET element at position one of dp at position one at position j TO one  
        END FOR  
        FOR i FROM two TO n  
            FOR j FROM zero TO five  
                FOR k FROM one TO element at position j of rollMax  
                    IF k GREATER THAN one  
                        SET element at position k of dp at position i at position j TO element at position k MINUS one of dp at position i MINUS one at position j  
                    ELSE  
                        SET total_sum TO zero  
                        FOR x FROM zero TO five  
                            IF x NOT EQUALS j  
                                FOR y FROM one TO element at position x of rollMax  
                                    INCREMENT total_sum BY element at position y of dp at position i MINUS one at position x  
                                END FOR  
                            END IF  
                        END FOR  
                        SET element at position k of dp at position i at position j TO total_sum MODULO MOD  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        SET result_sum TO zero  
        FOR j FROM zero TO five  
            FOR k FROM one TO element at position j of rollMax  
                INCREMENT result_sum BY element at position k of dp at position n at position j  
            END FOR  
        END FOR  
        SET result_sum TO result_sum MODULO MOD  
        RETURN result_sum  
    END FUNCTION  
END CLASS