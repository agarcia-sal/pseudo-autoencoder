CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            RETURN the sub EQUALS the reverse of the sub  
        END FUNCTION  
        
        FUNCTION backtrack(start, path)  
            IF start EQUALS the LENGTH OF s  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s  
                IF is_palindrome(the substring of s FROM position start TO position end MINUS one)  
                    CALL backtrack WITH arguments end AND the concatenation of path AND the substring of s FROM position start TO position end MINUS one  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET result TO an empty list  
        CALL backtrack WITH arguments zero AND an empty list  
        RETURN result  
    END FUNCTION  
END CLASS