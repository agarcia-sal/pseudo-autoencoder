CLASS Solution  
    FUNCTION superpalindromesInRange(left right)  
        FUNCTION is_palindrome(num)  
            RETURN the string representation of num EQUALS the string representation of num REVERSED  
        END FUNCTION  

        FUNCTION generate_palindromes(limit)  
            SET palindromes TO empty list  
            FOR i FROM one TO one hundred thousand MINUS one  
                SET s TO the string representation of i  
                APPEND the integer conversion of s CONCATENATED WITH the reverse substring of s from the second last character TO the first character TO palindromes  
                APPEND the integer conversion of s CONCATENATED WITH the reverse of s TO palindromes  
            END FOR  
            RETURN a list of elements p IN palindromes WHERE p IS LESS THAN OR EQUAL TO limit  
        END FUNCTION  

        SET left TO the integer conversion of left  
        SET right TO the integer conversion of right  
        SET limit TO the integer conversion of the right raised to the power of one half PLUS one  
        SET palindromes TO generate_palindromes(limit)  

        SET count TO zero  
        FOR each p IN palindromes  
            SET square TO p MULTIPLIED BY p  
            IF left IS LESS THAN OR EQUAL TO square AND square IS LESS THAN OR EQUAL TO right AND is_palindrome(square)  
                INCREMENT count BY one  
            END IF  
        END FOR  

        RETURN count  
    END FUNCTION  
END CLASS