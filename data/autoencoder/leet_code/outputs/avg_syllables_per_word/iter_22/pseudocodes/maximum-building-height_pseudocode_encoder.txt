CLASS Solution  
    FUNCTION maxBuilding(n, restrictions)  
        APPEND list of one element of one and zero TO restrictions  
        SORT restrictions IN ascending order by the first element of each inner list  
        
        FOR index i FROM one TO the LENGTH OF restrictions MINUS one  
            SET idx TO the element at position zero of element at position i of restrictions  
            SET height TO the element at position one of element at position i of restrictions  
            SET prev_idx TO the element at position zero of element at position i MINUS one of restrictions  
            SET prev_height TO the element at position one of element at position i MINUS one of restrictions  
            SET the element at position one of element at position i of restrictions TO the minimum BETWEEN height AND prev_height PLUS idx MINUS prev_idx  
        END FOR  
        
        FOR index i FROM the LENGTH OF restrictions MINUS two DOWN TO zero  
            SET idx TO the element at position zero of element at position i of restrictions  
            SET height TO the element at position one of element at position i of restrictions  
            SET next_idx TO the element at position zero of element at position i PLUS one of restrictions  
            SET next_height TO the element at position one of element at position i PLUS one of restrictions  
            SET the element at position one of element at position i of restrictions TO the minimum BETWEEN height AND next_height PLUS next_idx MINUS idx  
        END FOR  
        
        SET max_height TO zero  
        SET prev_idx TO the element at position zero of element at position zero of restrictions  
        SET prev_height TO the element at position one of element at position zero of restrictions  
        
        FOR index i FROM one TO the LENGTH OF restrictions MINUS one  
            SET idx TO the element at position zero of element at position i of restrictions  
            SET height TO the element at position one of element at position i of restrictions  
            SET candidate_height TO idx MINUS prev_idx PLUS prev_height PLUS height  
            SET candidate_height TO candidate_height DIVIDED BY two (integer division)  
            SET max_height TO the maximum BETWEEN max_height AND candidate_height  
            SET prev_idx TO idx  
            SET prev_height TO height  
        END FOR  
        
        SET candidate_height TO prev_height PLUS n MINUS prev_idx  
        SET max_height TO the maximum BETWEEN max_height AND candidate_height  
        
        RETURN max_height  
    END FUNCTION  
END CLASS