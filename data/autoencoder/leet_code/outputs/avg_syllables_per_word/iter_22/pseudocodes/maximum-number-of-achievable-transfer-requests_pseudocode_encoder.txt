CLASS Solution  
    FUNCTION maximumRequests(n, requests)  
        SET max_requests TO zero  
        SET num_requests TO the length of requests  
        FOR mask FROM zero TO two RAISED TO THE power OF num_requests MINUS one  
            SET balance TO a list of zero repeated n times  
            SET count TO zero  
            FOR i FROM zero TO num_requests MINUS one  
                IF element at position i of mask AND one RAISED TO THE power OF i EQUALS one RAISED TO THE power OF i  
                    SET from_building TO element at position zero of element at position i of requests  
                    SET to_building TO element at position one of element at position i of requests  
                    DECREMENT element at position from_building of balance BY one  
                    INCREMENT element at position to_building of balance BY one  
                    INCREMENT count BY one  
                END IF  
            END FOR  
            IF for every element b in balance b EQUALS zero  
                SET max_requests TO the maximum of max_requests AND count  
            END IF  
        END FOR  
        RETURN max_requests  
    END FUNCTION  
END CLASS