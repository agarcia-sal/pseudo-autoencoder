CLASS Solution  
    FUNCTION minimumMountainRemovals(nums)  
        SET n TO the LENGTH OF nums  
          
        SET lis TO a list of length n with all values set to one  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO i MINUS one  
                IF element at position i of nums GREATER THAN element at position j of nums  
                    IF element at position i of lis LESS THAN element at position j of lis PLUS one  
                        SET element at position i of lis TO element at position j of lis PLUS one  
                    END IF  
                END IF  
            END FOR  
        END FOR  
          
        SET lds TO a list of length n with all values set to one  
        FOR i FROM n MINUS one TO zero STEP MINUS one  
            FOR j FROM i PLUS one TO n MINUS one  
                IF element at position i of nums GREATER THAN element at position j of nums  
                    IF element at position i of lds LESS THAN element at position j of lds PLUS one  
                        SET element at position i of lds TO element at position j of lds PLUS one  
                    END IF  
                END IF  
            END FOR  
        END FOR  
          
        SET max_mountain_length TO zero  
        FOR i FROM one TO n MINUS two  
            IF element at position i of lis GREATER THAN one AND element at position i of lds GREATER THAN one  
                IF max_mountain_length LESS THAN element at position i of lis PLUS element at position i of lds MINUS one  
                    SET max_mountain_length TO element at position i of lis PLUS element at position i of lds MINUS one  
                END IF  
            END IF  
        END FOR  
          
        SET minimum_number_of_removals TO n MINUS max_mountain_length  
        RETURN minimum_number_of_removals  
    END FUNCTION  
END CLASS