CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO the collection counting occurrences of each number in nums  
        SET unique_nums TO the list of unique keys in count sorted in ascending order  
        SET dp TO the list of zero values with the length of the LENGTH OF unique_nums PLUS one  
        SET element at position one of dp TO the element at position zero of unique_nums MULTIPLIED BY the count of the element at position zero of unique_nums  
        FOR i FROM two TO the LENGTH OF unique_nums PLUS one  
            SET num TO the element at position i MINUS one of unique_nums  
            IF num EQUALS the element at position i MINUS two of unique_nums PLUS one THEN  
                SET element at position i of dp TO the larger value BETWEEN element at position i MINUS one of dp AND the sum of element at position i MINUS two of dp PLUS num MULTIPLIED BY the count of num  
            ELSE  
                SET element at position i of dp TO element at position i MINUS one of dp PLUS num MULTIPLIED BY the count of num  
            END IF  
        END FOR  
        RETURN element at the last position of dp  
    END FUNCTION  
END CLASS