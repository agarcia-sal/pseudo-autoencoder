CLASS Solution  
    FUNCTION pacificAtlantic(heights)  
        FUNCTION bfs(queue, visited)  
            WHILE the LENGTH OF queue GREATER THAN zero  
                FOR each element IN the number of elements currently in queue  
                    SET i AND j TO the first and second components of the element removed from the front of queue  
                    FOR each pair a AND b IN the list of pairs zero AND minus one, zero AND one, one AND zero, minus one AND zero  
                        SET x TO i PLUS a  
                        SET y TO j PLUS b  
                        IF x GREATER THAN OR EQUAL TO zero AND x LESS THAN m AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN n AND the pair x AND y NOT IN visited AND the element at position x of heights THEN element at position y GREATER THAN OR EQUAL TO the element at position i of heights THEN element at position j  
                            ADD the pair x AND y TO visited  
                            APPEND the pair x AND y TO queue  
                        END IF  
                    END FOR  
                END FOR  
            END WHILE  
        END FUNCTION  

        SET m TO the LENGTH OF heights  
        SET n TO the LENGTH OF the element at position zero of heights  
        SET visited one TO an empty set  
        SET visited two TO an empty set  
        SET queue one TO an empty double ended queue  
        SET queue two TO an empty double ended queue  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF i EQUALS zero OR j EQUALS zero  
                    ADD the pair i AND j TO visited one  
                    APPEND the pair i AND j TO queue one  
                END IF  
                IF i EQUALS m MINUS one OR j EQUALS n MINUS one  
                    ADD the pair i AND j TO visited two  
                    APPEND the pair i AND j TO queue two  
                END IF  
            END FOR  
        END FOR  
        CALL bfs WITH queue one AND visited one  
        CALL bfs WITH queue two AND visited two  
        SET result TO an empty list  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF the pair i AND j IN visited one AND the pair i AND j IN visited two  
                    APPEND the pair i AND j TO result  
                END IF  
            END FOR  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS