CLASS Solution  
    FUNCTION minOperations(target AS List OF integers arr AS List OF integers) RETURNS integer  
        SET index_map TO create empty mapping from integer TO integer  
        FOR each index IN range from zero TO the LENGTH OF target MINUS one  
            SET value TO element at position index of target  
            SET element with key value IN index_map TO index  
        END FOR  
  
        SET transformed_arr TO create empty list of integers  
        FOR each value IN arr  
            IF value IS IN index_map  
                APPEND element with key value in index_map TO transformed_arr  
            END IF  
        END FOR  
  
        SET lis TO create empty list of integers  
        FOR each num IN transformed_arr  
            SET pos TO find leftmost position in lis where num COULD BE INSERTED maintaining sorted order  
            IF pos EQUALS the LENGTH OF lis  
                APPEND num TO lis  
            ELSE  
                SET element at position pos of lis TO num  
            END IF  
        END FOR  
  
        SET lcs_length TO the LENGTH OF lis  
        SET operations_needed TO the LENGTH OF target MINUS lcs_length  
        RETURN operations_needed  
    END FUNCTION  
END CLASS