CLASS Solution  
    FUNCTION convertArray(nums)  
        FUNCTION min_operations_to_non_decreasing(nums)  
            SET max_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF max_heap is not empty AND the negation of element at position zero of max_heap GREATER THAN num  
                    INCREMENT operations BY the negation of the element removed from max_heap using heap pop MINUS num  
                    ADD the negation of num TO max_heap using heap push  
                END IF  
                ADD the negation of num TO max_heap using heap push  
            END FOR  
            RETURN operations  
        END FUNCTION  
  
        FUNCTION min_operations_to_non_increasing(nums)  
            SET min_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF min_heap is not empty AND element at position zero of min_heap LESS THAN num  
                    INCREMENT operations BY num MINUS the element removed from min_heap using heap pop  
                    ADD num TO min_heap using heap push  
                END IF  
                ADD num TO min_heap using heap push  
            END FOR  
            RETURN operations  
        END FUNCTION  
  
        RETURN the minimum value BETWEEN the result of min_operations_to_non_decreasing with nums AND the result of min_operations_to_non_increasing with nums  
    END FUNCTION  
END CLASS