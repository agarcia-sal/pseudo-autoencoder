CLASS Solution  
    FUNCTION loudAndRich(richer, quiet)  
        SET graph TO a default dictionary mapping each key to an empty list  
        FOR each pair a AND b IN richer  
            APPEND element a TO the list at key b in graph  
        END FOR  

        SET n TO the length of quiet  
        SET answer TO a list of n elements each set to negative one  

        FUNCTION dfs(person)  
            IF element at position person of answer EQUALS negative one  
                SET element at position person of answer TO person  
                FOR each neighbor IN element at key person of graph  
                    SET candidate TO dfs(neighbor)  
                    IF element at position candidate of quiet LESS THAN element at position element at position person of answer of quiet  
                        SET element at position person of answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN element at position person of answer  
        END FUNCTION  

        FOR i FROM zero TO n MINUS one  
            CALL dfs WITH parameter i  
        END FOR  

        RETURN answer  
    END FUNCTION  
END CLASS