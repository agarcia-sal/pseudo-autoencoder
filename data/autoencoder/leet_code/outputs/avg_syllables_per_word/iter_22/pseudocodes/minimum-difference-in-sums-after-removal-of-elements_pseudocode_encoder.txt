CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO LENGTH OF nums DIVIDED BY three  
        
        SET min_heap TO empty list  
        SET min_sums TO list of zeros with length EQUAL TO two MULTIPLIED BY n PLUS one  
        
        FOR i FROM zero TO two MULTIPLIED BY n MINUS one  
            ADD NEGATIVE OF element at position i of nums TO min_heap using heap push operation  
            IF LENGTH OF min_heap GREATER THAN n THEN  
                REMOVE smallest element FROM min_heap using heap pop operation  
            END IF  
            IF LENGTH OF min_heap EQUALS n THEN  
                SET element at position i of min_sums TO NEGATIVE OF sum of all elements IN min_heap  
            END IF  
        END FOR  
        
        SET max_heap TO empty list  
        SET max_sums TO list of zeros with length EQUAL TO two MULTIPLIED BY n PLUS one  
        
        FOR i FROM three MULTIPLIED BY n MINUS one DOWN TO n DO  
            ADD element at position i of nums TO max_heap using heap push operation  
            IF LENGTH OF max_heap GREATER THAN n THEN  
                REMOVE smallest element FROM max_heap using heap pop operation  
            END IF  
            IF LENGTH OF max_heap EQUALS n THEN  
                SET element at position i of max_sums TO sum of all elements IN max_heap  
            END IF  
        END FOR  
        
        SET min_diff TO positive infinity  
        FOR i FROM n MINUS one TO two MULTIPLIED BY n MINUS one  
            IF element at position i of min_sums MINUS element at position i PLUS one of max_sums LESS THAN min_diff THEN  
                SET min_diff TO element at position i of min_sums MINUS element at position i PLUS one of max_sums  
            END IF  
        END FOR  
        
        RETURN min_diff  
    END FUNCTION  
END CLASS