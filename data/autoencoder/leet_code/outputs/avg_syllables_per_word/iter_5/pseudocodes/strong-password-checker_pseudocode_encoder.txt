CLASS Solution  
    FUNCTION strongPasswordChecker(password)  
        SET n TO LENGTH OF password  
        
        SET has_lower TO WHETHER any character in password IS LOWERCASE  
        SET has_upper TO WHETHER any character in password IS UPPERCASE  
        SET has_digit TO WHETHER any character in password IS DIGIT  
        
        SET missing_types TO 3 MINUS (has_lower PLUS has_upper PLUS has_digit)  
        
        SET replace TO 0  
        SET one TO 0  
        SET two TO 0  
        SET i TO 2  
        WHILE i LESS THAN n  
            IF password AT i EQUAL TO password AT i MINUS 1 AND password AT i EQUAL TO password AT i MINUS 2  
                SET length TO 2  
                WHILE i LESS THAN n AND password AT i EQUAL TO password AT i MINUS 1  
                    INCREMENT length BY 1  
                    INCREMENT i BY 1  
                SET replace TO replace PLUS length DIVIDED BY 3  
                IF length MODULO 3 EQUAL TO 0  
                    INCREMENT one BY 1  
                ELSE IF length MODULO 3 EQUAL TO 1  
                    INCREMENT two BY 1  
            ELSE  
                INCREMENT i BY 1  
        
        IF n LESS THAN 6  
            RETURN THE GREATER OF missing_types AND 6 MINUS n  
        
        ELSE IF n LESS THAN OR EQUAL TO 20  
            RETURN THE GREATER OF missing_types AND replace  
        
        ELSE  
            SET delete TO n MINUS 20  
            
            SET replace TO replace MINUS THE MINIMUM OF delete AND one  
            SET replace TO replace MINUS (MINIMUM OF MAXIMUM OF (delete MINUS one) AND 0, two MULTIPLIED BY 2) DIVIDED BY 2  
            SET replace TO replace MINUS MAXIMUM OF (delete MINUS one MINUS two MULTIPLIED BY 2) AND 0 DIVIDED BY 3  
            
            RETURN delete PLUS THE GREATER OF missing_types AND replace  
    END FUNCTION  
END CLASS