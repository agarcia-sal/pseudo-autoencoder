CLASS Solution  
    FUNCTION maximumSwap(num)  
        SET digits TO list of characters representing num  
        SET last TO dictionary mapping each digit AS integer TO its last index IN digits  
        
        FOR each index i AND digit d IN digits  
            FOR each digit d2 FROM 9 DOWN TO d PLUS 1  
                IF last CONTAINS d2 AND last[d2] GREATER THAN i THEN  
                    SWAP digits[i] WITH digits[last[d2]]  
                    RETURN integer formed by concatenating all characters in digits  
                
        RETURN num  
    END FUNCTION  
END CLASS