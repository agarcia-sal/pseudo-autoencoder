CLASS Solution  
    FUNCTION minJumps(arr)  
        SET n TO LENGTH OF arr  
        IF n EQUALS 1  
            RETURN 0  
        END IF  

        SET value_indices TO EMPTY map FROM values TO list of indices  
        FOR each index i AND value IN arr  
            APPEND i TO value_indices AT key value  
        END FOR  

        SET queue TO new deque CONTAINING tuple (0, 0)  // current_index, current_steps  
        SET visited TO set CONTAINING 0  

        WHILE queue IS NOT EMPTY  
            SET current_index, steps TO REMOVE first element FROM queue  

            IF current_index EQUALS n MINUS 1  
                RETURN steps  
            END IF  

            SET next_indices TO list CONTAINING current_index PLUS 1, current_index MINUS 1 PLUS all indices FROM value_indices AT key arr[current_index]  

            FOR each next_index IN next_indices  
                IF next_index IS GREATER THAN OR EQUAL TO 0 AND next_index IS LESS THAN n AND next_index NOT IN visited  
                    ADD next_index TO visited  
                    ADD tuple (next_index, steps PLUS 1) TO queue  
                END IF  
            END FOR  

            SET value_indices AT key arr[current_index] TO empty list  
        END WHILE  

        RETURN minus 1  
    END FUNCTION  
END CLASS