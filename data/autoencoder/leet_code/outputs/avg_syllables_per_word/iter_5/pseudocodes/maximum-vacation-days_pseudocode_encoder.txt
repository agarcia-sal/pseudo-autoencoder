CLASS Solution  
    FUNCTION maxVacationDays(flights, days)  
        SET n TO LENGTH OF flights  
        SET k TO LENGTH OF days AT INDEX 0  
        
        INITIALIZE dp AS LIST OF n ELEMENTS FILLED WITH -1  
        SET dp AT INDEX 0 TO 0  
        
        INITIALIZE graph AS DICTIONARY WITH KEYS FROM 0 TO n MINUS 1 AND VALUES AS EMPTY LISTS  
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF flights AT INDEX i AT INDEX j EQUALS 1  
                    APPEND j TO graph AT KEY i  
        
        FOR week FROM 0 TO k MINUS 1  
            INITIALIZE new_dp AS LIST OF n ELEMENTS FILLED WITH -1  
            FOR i FROM 0 TO n MINUS 1  
                IF dp AT INDEX i EQUALS -1  
                    CONTINUE TO NEXT i  
                SET new_dp AT INDEX i TO MAXIMUM OF new_dp AT INDEX i AND dp AT INDEX i PLUS days AT INDEX i AT INDEX week  
                FOR j IN graph AT KEY i  
                    SET new_dp AT INDEX j TO MAXIMUM OF new_dp AT INDEX j AND dp AT INDEX i PLUS days AT INDEX j AT INDEX week  
            SET dp TO new_dp  
        
        RETURN MAXIMUM VALUE IN dp  
    END FUNCTION  
END CLASS