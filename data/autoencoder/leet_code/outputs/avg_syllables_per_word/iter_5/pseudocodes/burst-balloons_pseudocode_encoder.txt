CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO list with 1 prepended and 1 appended to original nums  
        SET n TO length of nums  
        SET dp TO a two-dimensional list of size n by n filled with 0  
        
        FOR length FROM 2 TO n minus 1  
            FOR i FROM 0 TO n minus length minus 1  
                SET j TO i plus length  
                FOR k FROM i plus 1 TO j minus 1  
                    SET coins TO nums at i multiplied by nums at k multiplied by nums at j plus dp at i and k plus dp at k and j  
                    SET dp at i and j TO the maximum between dp at i and j and coins  
        
        RETURN dp at 0 and n minus 1  
    END FUNCTION  
END CLASS