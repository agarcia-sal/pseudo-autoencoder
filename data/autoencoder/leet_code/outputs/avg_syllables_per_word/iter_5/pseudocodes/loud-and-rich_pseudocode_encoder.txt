CLASS Solution  
    FUNCTION loudAndRich(richer, quiet)  
        SET graph TO a new mapping with default empty list  
        FOR each pair a, b IN richer  
            APPEND a TO graph at key b  
        
        SET n TO length of quiet  
        SET answer TO list of size n with all elements set to -1  
        
        FUNCTION dfs(person)  
            IF answer at index person EQUALS -1 THEN  
                SET answer at index person TO person  
                FOR each neighbor IN graph at key person  
                    SET candidate TO dfs(neighbor)  
                    IF quiet at index candidate LESS THAN quiet at index answer at person THEN  
                        SET answer at index person TO candidate  
            RETURN answer at index person  
        END FUNCTION  
        
        FOR each i FROM 0 TO n MINUS 1 DO  
            CALL dfs(i)  
        
        RETURN answer  
    END FUNCTION  
END CLASS