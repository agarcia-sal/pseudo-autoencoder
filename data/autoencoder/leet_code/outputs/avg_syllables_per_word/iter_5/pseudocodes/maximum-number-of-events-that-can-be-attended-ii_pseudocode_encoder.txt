CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY their end day  
        SET n TO LENGTH OF events  
        
        INITIALIZE dp AS a two-dimensional list of zeroes with dimensions (n + 1) BY (k + 1)  
        
        FOR i FROM 1 TO n  
            SET start, end, value TO the ith event's start, end, and value respectively  
            
            SET j TO the position of the latest event that ends before start found by binary searching events based on end day  
            
            FOR l FROM 1 TO k  
                SET dp[i][l] TO the maximum of dp[i - 1][l] AND dp[j][l - 1] PLUS value  
        
        RETURN dp[n][k]  
    END FUNCTION  
END CLASS