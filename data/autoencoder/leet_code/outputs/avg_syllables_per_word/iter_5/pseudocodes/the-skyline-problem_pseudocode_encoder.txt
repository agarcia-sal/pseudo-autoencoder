CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each building WITH left, right, height IN buildings  
            APPEND tuple of (left, negative height, right) TO events  
            APPEND tuple of (right, zero, zero) TO events  
        END FOR  
        
        SORT events BY x coordinate and height rules  
        
        SET result TO list containing [0, 0]  
        SET max_heap TO list containing (0, infinity)  
        
        FOR each x, negH, r IN events  
            WHILE first element in max_heap has right edge LESS THAN OR EQUAL TO x  
                REMOVE first element from max_heap  
            END WHILE  
            
            IF negH IS NOT zero  
                ADD (negH, r) TO max_heap  
            END IF  
            
            IF last height in result IS NOT EQUAL TO negative of first height in max_heap  
                APPEND [x, negative of first height in max_heap] TO result  
            END IF  
        END FOR  
        
        IF first element in result IS EQUAL TO [0, 0]  
            REMOVE first element from result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS