CLASS Solution  
    FUNCTION palindromePartition(s, k)  
        FUNCTION min_changes_to_palindrome(sub)  
            SET i TO 0  
            SET j TO LENGTH OF sub MINUS 1  
            SET changes TO 0  
            WHILE i LESS THAN j  
                IF character AT sub[i] NOT EQUAL TO character AT sub[j]  
                    INCREMENT changes BY 1  
                END IF  
                INCREMENT i BY 1  
                DECREMENT j BY 1  
            END WHILE  
            RETURN changes  
        END FUNCTION  

        SET n TO LENGTH OF s  
        INITIALIZE dp AS A TWO-DIMENSIONAL LIST OF SIZE (n PLUS 1) BY (k PLUS 1) WITH ALL VALUES SET TO INFINITY  
        SET dp[0][0] TO 0  

        FOR i FROM 1 TO n INCLUSIVE  
            FOR j FROM 1 TO MINIMUM OF k AND i INCLUSIVE  
                FOR start FROM 0 TO i MINUS 1  
                    SET changes TO min_changes_to_palindrome(SUBSTRING OF s FROM start TO i)  
                    SET dp[i][j] TO MINIMUM OF dp[i][j] AND dp[start][j MINUS 1] PLUS changes  
                END FOR  
            END FOR  
        END FOR  

        RETURN dp[n][k]  
    END FUNCTION  
END CLASS