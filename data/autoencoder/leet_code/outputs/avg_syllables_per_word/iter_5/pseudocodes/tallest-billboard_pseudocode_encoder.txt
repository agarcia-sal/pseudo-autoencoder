CLASS Solution  
    FUNCTION tallestBillboard(rods)  
        SET dp TO dictionary with key 0 and value 0  
        
        FOR each rod IN rods  
            SET new_dp TO copy of dp  
            FOR each difference d AND value y IN dp  
                SET new_dp AT key (d plus rod) TO maximum OF new_dp AT key (d plus rod) OR 0 AND y  
                SET new_dp AT key (absolute value of d minus rod) TO maximum OF new_dp AT key (absolute value of d minus rod) OR 0 AND (y plus minimum OF d AND rod)  
            SET dp TO new_dp  
        
        RETURN value AT key 0 IN dp  
    END FUNCTION  
END CLASS