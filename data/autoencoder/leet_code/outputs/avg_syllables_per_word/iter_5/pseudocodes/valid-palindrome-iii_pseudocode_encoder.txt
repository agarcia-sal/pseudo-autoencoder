CLASS Solution  
    FUNCTION isValidPalindrome(s, k)  
        FUNCTION longest_palindromic_subseq(s)  
            SET n TO LENGTH OF s  
            SET dp TO two-dimensional list of size n BY n filled with zeros  
            
            FOR i FROM 0 TO n MINUS 1  
                SET dp[i][i] TO 1  
            
            FOR length FROM 2 TO n  
                FOR i FROM 0 TO n MINUS length  
                    SET j TO i PLUS length MINUS 1  
                    IF s AT i EQUALS s AT j THEN  
                        SET dp[i][j] TO dp[i PLUS 1][j MINUS 1] PLUS 2  
                    ELSE  
                        SET dp[i][j] TO MAXIMUM OF dp[i PLUS 1][j] AND dp[i][j MINUS 1]  
            
            RETURN dp[0][n MINUS 1]  
        END FUNCTION  
        
        SET longest_palindrome_length TO longest_palindromic_subseq(s)  
        RETURN LENGTH OF s MINUS longest_palindrome_length LESS THAN OR EQUAL TO k  
    END FUNCTION  
END CLASS