CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms IS EMPTY OR rooms AT INDEX 0 IS EMPTY  
            RETURN  
        SET rows TO LENGTH OF rooms  
        SET cols TO LENGTH OF rooms AT INDEX 0  
        SET queue TO NEW DEQUE COLLECTION  
        FOR r FROM 0 TO rows MINUS 1  
            FOR c FROM 0 TO cols MINUS 1  
                IF rooms AT r AT c EQUALS 0  
                    APPEND (r, c) TO queue  
        SET directions TO LIST OF (0, 1), (1, 0), (0, -1), (-1, 0)  
        WHILE queue IS NOT EMPTY  
            SET r, c TO REMOVE FIRST ELEMENT FROM queue  
            FOR EACH dr, dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                IF nr GREATER THAN OR EQUAL TO 0 AND nr LESS THAN rows AND nc GREATER THAN OR EQUAL TO 0 AND nc LESS THAN cols AND rooms AT nr AT nc EQUALS 2147483647  
                    SET rooms AT nr AT nc TO rooms AT r AT c PLUS 1  
                    APPEND (nr, nc) TO queue  
    END FUNCTION  
END CLASS