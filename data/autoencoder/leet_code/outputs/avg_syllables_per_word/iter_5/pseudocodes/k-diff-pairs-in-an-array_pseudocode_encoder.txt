CLASS Solution  
    FUNCTION findPairs(nums, k)  
        IF k LESS THAN 0 THEN  
            RETURN 0  
        END IF  

        SET num_counts TO EMPTY DICTIONARY  
        FOR each num IN nums  
            IF num IS IN num_counts THEN  
                INCREMENT num_counts[num] BY 1  
            ELSE  
                SET num_counts[num] TO 1  
            END IF  
        END FOR  

        SET unique_pairs TO 0  
        FOR each num IN num_counts KEYS  
            IF k EQUALS 0 THEN  
                IF num_counts[num] GREATER THAN 1 THEN  
                    INCREMENT unique_pairs BY 1  
                END IF  
            ELSE  
                IF num PLUS k IS IN num_counts THEN  
                    INCREMENT unique_pairs BY 1  
                END IF  
            END IF  
        END FOR  

        RETURN unique_pairs  
    END FUNCTION  
END CLASS