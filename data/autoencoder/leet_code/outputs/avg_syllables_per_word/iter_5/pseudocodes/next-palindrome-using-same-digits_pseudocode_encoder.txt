CLASS Solution  
    FUNCTION nextPalindrome(num)  
        SET n TO LENGTH OF num  
        SET half TO SUBSTRING OF num FROM START TO n DIVIDED BY 2  
        
        SET half_list TO CONVERT half TO LIST  
        SET k TO -1  
        SET l TO -1  
        
        FOR i FROM LENGTH OF half_list MINUS 2 DOWN TO 0  
            IF half_list AT i IS LESS THAN half_list AT i PLUS 1  
                SET k TO i  
                BREAK LOOP  
        
        IF k IS EQUAL TO -1  
            RETURN EMPTY STRING  
        
        FOR i FROM LENGTH OF half_list MINUS 1 DOWN TO k PLUS 1  
            IF half_list AT i IS GREATER THAN half_list AT k  
                SET l TO i  
                BREAK LOOP  
        
        SWAP half_list AT k WITH half_list AT l  
        SET half_list FROM k PLUS 1 TO END TO SORTED VALUES OF half_list FROM k PLUS 1 TO END  
        
        SET new_half TO JOIN half_list INTO STRING  
        
        IF n MODULO 2 IS EQUAL TO 0  
            RETURN CONCATENATION OF new_half AND REVERSE OF new_half  
        ELSE  
            RETURN CONCATENATION OF new_half, num AT n DIVIDED BY 2, AND REVERSE OF new_half  
    END FUNCTION  
END CLASS