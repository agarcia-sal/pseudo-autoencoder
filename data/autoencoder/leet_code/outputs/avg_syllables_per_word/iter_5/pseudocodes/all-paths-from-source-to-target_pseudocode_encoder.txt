CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO LENGTH OF graph  
        SET q TO deque CONTAINING LIST WITH ELEMENT 0  
        SET ans TO empty list  
        WHILE q IS NOT empty  
            SET path TO REMOVE FIRST ELEMENT FROM q  
            SET u TO LAST ELEMENT OF path  
            IF u IS EQUAL TO n MINUS 1  
                APPEND path TO ans  
                CONTINUE TO NEXT ITERATION  
            END IF  
            FOR each v IN graph AT INDEX u  
                APPEND path CONCATENATED WITH LIST CONTAINING v TO q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS