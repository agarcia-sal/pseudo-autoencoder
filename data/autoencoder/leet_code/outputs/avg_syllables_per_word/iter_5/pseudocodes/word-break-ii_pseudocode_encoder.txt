CLASS Solution  
    FUNCTION wordBreak(s, wordDict)  
        SET wordSet TO set of wordDict  
        SET memo TO empty dictionary  
        
        FUNCTION backtrack(start)  
            IF start is in memo THEN  
                RETURN memo at start  
            IF start EQUALS length of s THEN  
                RETURN list containing empty string  
            
            SET res TO empty list  
            FOR each end FROM start plus one TO length of s plus one DO  
                SET word TO substring of s from start TO end  
                IF word is in wordSet THEN  
                    FOR each sentence IN backtrack(end) DO  
                        IF sentence is not empty THEN  
                            APPEND concatenation of word, space, and sentence TO res  
                        ELSE  
                            APPEND word TO res  
            
            SET memo at start TO res  
            RETURN res  
        END FUNCTION  
        
        RETURN backtrack(0)  
    END FUNCTION  
END CLASS