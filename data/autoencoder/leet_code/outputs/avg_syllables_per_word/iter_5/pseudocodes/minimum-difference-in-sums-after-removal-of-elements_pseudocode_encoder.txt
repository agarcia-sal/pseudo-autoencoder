CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO LENGTH OF nums DIVIDED BY 3  
        
        SET min_heap TO empty list  
        SET min_sums TO list of zeros with size (2 TIMES n PLUS 1)  
        
        FOR i FROM 0 TO (2 TIMES n) MINUS 1  
            ADD negative of nums at i TO min_heap  
            IF LENGTH OF min_heap GREATER THAN n  
                REMOVE smallest element FROM min_heap  
            IF LENGTH OF min_heap EQUAL TO n  
                SET min_sums at i TO negative of sum of elements in min_heap  
        
        SET max_heap TO empty list  
        SET max_sums TO list of zeros with size (2 TIMES n PLUS 1)  
        
        FOR i FROM (3 TIMES n) MINUS 1 DOWN TO n  
            ADD nums at i TO max_heap  
            IF LENGTH OF max_heap GREATER THAN n  
                REMOVE smallest element FROM max_heap  
            IF LENGTH OF max_heap EQUAL TO n  
                SET max_sums at i TO sum of elements in max_heap  
        
        SET min_diff TO infinity  
        FOR i FROM n MINUS 1 TO (2 TIMES n) MINUS 1  
            SET min_diff TO smaller value BETWEEN min_diff AND (min_sums at i MINUS max_sums at i PLUS 1)  
        
        RETURN min_diff  
    END FUNCTION  
END CLASS