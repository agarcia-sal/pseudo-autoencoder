CLASS Solution  
    FUNCTION minKBitFlips(nums, k)  
        SET n TO LENGTH OF nums  
        SET flip_count TO 0  
        SET flipped TO LIST OF ZEROS WITH LENGTH n PLUS 1  
        SET flip_state TO 0  
        
        FOR i FROM 0 TO n MINUS 1  
            SET flip_state TO flip_state XOR flipped AT POSITION i  
            
            IF nums AT POSITION i EQUALS flip_state THEN  
                IF i PLUS k GREATER THAN n THEN  
                    RETURN NEGATIVE 1  
                END IF  
                SET flip_state TO flip_state XOR 1  
                SET flipped AT POSITION i PLUS k TO flipped AT POSITION i PLUS k XOR 1  
                INCREMENT flip_count BY 1  
            END IF  
        END FOR  
        
        RETURN flip_count  
    END FUNCTION  
END CLASS