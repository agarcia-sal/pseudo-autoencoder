CLASS Solution  
    FUNCTION rob(nums)  
        FUNCTION rob_linear(houses)  
            IF houses IS EMPTY  
                RETURN 0  
            END IF  
            IF LENGTH OF houses IS EQUAL TO 1  
                RETURN FIRST ELEMENT OF houses  
            END IF  
            SET dp TO LIST OF ZEROS WITH LENGTH EQUAL TO LENGTH OF houses  
            SET FIRST ELEMENT OF dp TO FIRST ELEMENT OF houses  
            SET SECOND ELEMENT OF dp TO MAXIMUM OF FIRST AND SECOND ELEMENTS OF houses  
            FOR i FROM 2 TO LENGTH OF houses MINUS 1  
                SET ELEMENT i OF dp TO MAXIMUM OF ELEMENT i MINUS 1 OF dp AND ELEMENT i MINUS 2 OF dp PLUS ELEMENT i OF houses  
            END FOR  
            RETURN LAST ELEMENT OF dp  
        END FUNCTION  

        IF nums IS EMPTY  
            RETURN 0  
        END IF  
        IF LENGTH OF nums IS EQUAL TO 1  
            RETURN FIRST ELEMENT OF nums  
        END IF  
        RETURN MAXIMUM OF rob_linear OF nums EXCLUDING LAST ELEMENT AND rob_linear OF nums EXCLUDING FIRST ELEMENT  
    END FUNCTION  
END CLASS