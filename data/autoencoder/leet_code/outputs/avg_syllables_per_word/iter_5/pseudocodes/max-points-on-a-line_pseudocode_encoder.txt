CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF p1 AT index 0 EQUALS p2 AT index 0  
                RETURN infinity  
            RETURN difference between p1 AT index 1 AND p2 AT index 1 DIVIDED BY difference between p1 AT index 0 AND p2 AT index 0  
        END FUNCTION  
        
        SET max_points TO 0  
        
        FOR i FROM 0 TO LENGTH OF points MINUS 1  
            SET slopes TO empty mapping with default integer zero  
            FOR j FROM 0 TO LENGTH OF points MINUS 1  
                IF i NOT EQUALS j  
                    SET s TO slope(points AT i, points AT j)  
                    INCREMENT slopes AT s BY 1  
                    SET max_points TO greater value BETWEEN max_points AND slopes AT s  
        IF points IS NOT EMPTY  
            RETURN max_points INCREMENTED BY 1  
        ELSE  
            RETURN 0  
    END FUNCTION  
END CLASS