CLASS Solution  
    FUNCTION largestRectangleArea(heights)  
        SET stack TO list containing only -1  
        SET max_area TO 0  
        APPEND 0 TO heights  
        
        FOR each index i AND height h IN heights  
            WHILE last element of stack IS NOT -1 AND h IS LESS THAN heights AT last element of stack  
                SET height TO heights AT element popped from stack  
                SET width TO i MINUS last element of stack MINUS 1  
                SET max_area TO greater value BETWEEN max_area AND height MULTIPLIED BY width  
            APPEND i TO stack  
        
        RETURN max_area  
    END FUNCTION  
END CLASS