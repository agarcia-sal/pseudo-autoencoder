CLASS Solution  
    FUNCTION gameOfLife(board)  
        IF board IS EMPTY OR first row of board IS EMPTY  
            RETURN  
        
        SET m TO LENGTH OF board  
        SET n TO LENGTH OF first row of board  
        
        SET directions TO list of eight neighbor coordinate offsets:  
            (-1, -1), (-1, 0), (-1, 1), (0, -1), (0, 1), (1, -1), (1, 0), (1, 1)  
        
        FOR i FROM 0 TO m MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                SET live_neighbors TO 0  
                FOR each dx, dy IN directions  
                    SET ni TO i PLUS dx  
                    SET nj TO j PLUS dy  
                    IF ni BETWEEN 0 AND m MINUS 1 AND nj BETWEEN 0 AND n MINUS 1 AND (board at ni, nj EQUALS 1 OR board at ni, nj EQUALS 3)  
                        INCREMENT live_neighbors BY 1  
                
                IF board at i, j EQUALS 1  
                    IF live_neighbors LESS THAN 2 OR live_neighbors GREATER THAN 3  
                        SET board at i, j TO 3  
                ELSE  
                    IF live_neighbors EQUALS 3  
                        SET board at i, j TO 2  
        
        FOR i FROM 0 TO m MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF board at i, j EQUALS 2  
                    SET board at i, j TO 1  
                ELSE IF board at i, j EQUALS 3  
                    SET board at i, j TO 0  
    END FUNCTION  
END CLASS