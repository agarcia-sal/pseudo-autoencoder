CLASS Solution  
    FUNCTION countSpecialSubsequences(nums)  
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7  
        SET dp TO list containing three zeros (for counts ending with 0, 1, and 2)  
        
        FOR each num IN nums  
            IF num EQUALS 0  
                SET dp at index 0 TO remainder of (two TIMES dp at index 0 PLUS one) DIVIDED BY MOD  
            ELSE IF num EQUALS 1  
                SET dp at index 1 TO remainder of (two TIMES dp at index 1 PLUS dp at index 0) DIVIDED BY MOD  
            ELSE IF num EQUALS 2  
                SET dp at index 2 TO remainder of (two TIMES dp at index 2 PLUS dp at index 1) DIVIDED BY MOD  
        
        RETURN dp at index 2  
    END FUNCTION  
END CLASS