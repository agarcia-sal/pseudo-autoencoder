CLASS Solution  
    FUNCTION areConnected(n, threshold, queries)  
        IF threshold EQUALS 0  
            RETURN list of True repeated LENGTH OF queries times  
        END IF  

        SET parent TO list of integers from 0 TO n  

        FUNCTION find(x)  
            IF parent at position x IS NOT x  
                SET parent at position x TO find(parent at position x)  
            END IF  
            RETURN parent at position x  
        END FUNCTION  

        FUNCTION union(x, y)  
            SET rootX TO find(x)  
            SET rootY TO find(y)  
            IF rootX IS NOT rootY  
                SET parent at position rootY TO rootX  
            END IF  
        END FUNCTION  

        FOR i FROM threshold PLUS 1 TO n  
            FOR j FROM 2 TIMES i TO n IN STEPS OF i  
                CALL union(i, j)  
            END FOR  
        END FOR  

        SET result TO empty list  
        FOR each pair a, b IN queries  
            APPEND the comparison of find(a) EQUALS find(b) TO result  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS