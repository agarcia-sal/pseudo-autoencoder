CLASS Solution  
    FUNCTION longestPrefix(s)  
        SET n TO LENGTH OF s  
        SET lps TO list of zeros with length n  
        SET j TO 0  
  
        FOR i FROM 1 TO n MINUS 1  
            WHILE j GREATER THAN 0 AND character at s position i IS NOT EQUAL TO character at s position j  
                SET j TO value at lps position j MINUS 1  
            END WHILE  
  
            IF character at s position i IS EQUAL TO character at s position j  
                INCREMENT j BY 1  
                SET value at lps position i TO j  
            END IF  
        END FOR  
  
        SET longest_happy_prefix_length TO value at lps position n MINUS 1  
        RETURN substring of s from start TO longest_happy_prefix_length  
    END FUNCTION  
END CLASS