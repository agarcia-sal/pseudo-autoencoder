CLASS Solution  
    FUNCTION knightProbability(n, k, row, column)  
        SET moves TO list of coordinate pairs representing knight moves  
        SET dp TO two-dimensional list of zeros with size n by n  
        SET dp at position row and column TO 1  
        
        FOR each move_count FROM 1 TO k  
            SET new_dp TO two-dimensional list of zeros with size n by n  
            
            FOR each r FROM 0 TO n minus 1  
                FOR each c FROM 0 TO n minus 1  
                    IF dp at r and c EQUALS 0 THEN  
                        CONTINUE to next iteration  
                    END IF  
                    
                    FOR each pair dr, dc IN moves  
                        SET nr TO r PLUS dr  
                        SET nc TO c PLUS dc  
                        
                        IF nr GREATER THAN OR EQUAL TO 0 AND nr LESS THAN n AND nc GREATER THAN OR EQUAL TO 0 AND nc LESS THAN n THEN  
                            INCREMENT new_dp at nr and nc BY dp at r and c DIVIDED BY 8  
                        END IF  
                    END FOR  
                END FOR  
            END FOR  
            
            SET dp TO new_dp  
        END FOR  
        
        SET total_probability TO 0  
        FOR each row_list IN dp  
            INCREMENT total_probability BY sum of elements in row_list  
        END FOR  
        
        RETURN total_probability  
    END FUNCTION  
END CLASS