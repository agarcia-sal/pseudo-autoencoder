CLASS Solution  
    FUNCTION numFriendRequests(ages)  
        FUNCTION request_will_be_sent(age_x, age_y)  
            RETURN NOT (age_y LESS THAN OR EQUAL TO (0.5 MULTIPLIED BY age_x PLUS 7) OR age_y GREATER THAN age_x OR (age_y GREATER THAN 100 AND age_x LESS THAN 100))  
        END FUNCTION  
  
        SET count TO LIST OF ZEROES WITH LENGTH 121  
        FOR each age IN ages  
            INCREMENT count AT INDEX age BY 1  
        END FOR  
  
        SET total_requests TO 0  
        FOR age_x FROM 1 TO 120  
            FOR age_y FROM 1 TO 120  
                IF request_will_be_sent(age_x, age_y)  
                    INCREMENT total_requests BY count AT INDEX age_x MULTIPLIED BY (count AT INDEX age_y MINUS (1 IF age_x EQUALS age_y ELSE 0))  
                END IF  
            END FOR  
        END FOR  
  
        RETURN total_requests  
    END FUNCTION  
END CLASS