CLASS Solution  
    FUNCTION findDiagonalOrder(mat)  
        IF mat IS EMPTY OR first element of mat IS EMPTY THEN  
            RETURN empty list  
        
        SET m TO LENGTH OF mat  
        SET n TO LENGTH OF first element of mat  
        SET result TO empty list  
        SET r TO 0  
        SET c TO 0  
        SET direction TO 1  # 1 for up-right, -1 for down-left  
        
        FOR each _ IN RANGE m MULTIPLIED BY n DO  
            APPEND element at mat[r][c] TO result  
            SET new_r TO r PLUS (negative one IF direction EQUALS 1 ELSE one)  
            SET new_c TO c PLUS (one IF direction EQUALS 1 ELSE negative one)  
            
            IF new_r LESS THAN 0 OR new_r EQUALS m OR new_c LESS THAN 0 OR new_c EQUALS n THEN  
                IF direction EQUALS 1 THEN  
                    IF new_c EQUALS n THEN  
                        SET new_r TO r PLUS one  
                        SET new_c TO c  
                    ELSE  
                        SET new_r TO 0  
                        SET new_c TO c PLUS one  
                ELSE  
                    IF new_r EQUALS m THEN  
                        SET new_r TO r  
                        SET new_c TO c PLUS one  
                    ELSE  
                        SET new_r TO r PLUS one  
                        SET new_c TO 0  
                SET direction TO negative direction  
            
            SET r TO new_r  
            SET c TO new_c  
        
        RETURN result  
    END FUNCTION  
END CLASS