CLASS Solution  
    FUNCTION calculate(s)  
        FUNCTION helper(s)  
            SET stack TO empty list  
            SET num TO 0  
            SET sign TO plus  
            WHILE LENGTH OF s GREATER THAN 0  
                SET char TO REMOVE FIRST ELEMENT FROM s  
                IF char IS A DIGIT  
                    SET num TO num MULTIPLIED BY 10 PLUS numeric value of char  
                IF char EQUALS open parenthesis  
                    SET num TO helper(s)  
                IF char IS IN set of plus, minus, multiply, divide, open parenthesis, close parenthesis OR LENGTH OF s EQUALS 0  
                    IF sign EQUALS plus  
                        APPEND num TO stack  
                    ELSE IF sign EQUALS minus  
                        APPEND negative num TO stack  
                    ELSE IF sign EQUALS multiply  
                        SET last element of stack TO last element of stack MULTIPLIED BY num  
                    ELSE IF sign EQUALS divide  
                        SET last element of stack TO integer truncation towards zero of last element of stack DIVIDED BY num  
                    SET sign TO char  
                    SET num TO 0  
                IF char EQUALS close parenthesis  
                    BREAK  
            RETURN sum of stack  
        END FUNCTION  
        
        SET s TO list of characters from s  
        RETURN helper(s)  
    END FUNCTION  
END CLASS