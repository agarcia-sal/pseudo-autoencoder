CLASS Solution  
    FUNCTION subdomainVisits(cpdomains)  
        SET domain_count TO new default dictionary with default 0  
        
        FOR each cpdomain IN cpdomains  
            SPLIT cpdomain INTO count_string AND domain BY whitespace  
            SET count TO integer value of count_string  
            SPLIT domain INTO subdomains BY '.'  
            
            FOR each index FROM 0 TO length of subdomains MINUS 1  
                SET subdomain TO join subdomains FROM index TO end WITH '.'  
                INCREMENT domain_count[subdomain] BY count  
        
        SET result TO empty list  
        FOR each domain, count IN items of domain_count  
            APPEND string concatenation of count, space, and domain TO result  
        RETURN result  
    END FUNCTION  
END CLASS