CLASS Solution  
    FUNCTION minTaps(n, ranges)  
        SET max_range TO a list of zeros with length n plus 1  
        
        FOR i FROM 0 TO n INCLUSIVE  
            IF value at ranges position i IS GREATER THAN 0  
                SET left TO the greater value between 0 and i MINUS ranges at position i  
                SET right TO the lesser value between n and i PLUS ranges at position i  
                SET max_range at position left TO the greater value between max_range at position left and right  
        
        SET taps TO 0  
        SET current_end TO 0  
        SET farthest TO 0  
        
        FOR i FROM 0 TO n INCLUSIVE  
            IF i IS GREATER THAN farthest  
                RETURN -1  
            IF i IS GREATER THAN current_end  
                INCREMENT taps BY 1  
                SET current_end TO farthest  
            SET farthest TO the greater value between farthest and max_range at position i  
        
        RETURN taps  
    END FUNCTION  
END CLASS