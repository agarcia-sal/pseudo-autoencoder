CLASS Solution  
    FUNCTION waysToPartition(nums, k)  
        SET total_sum TO sum of nums  
        SET n TO length of nums  
        
        INITIALIZE left_diff as a dictionary with default integer values  
        INITIALIZE right_diff as a dictionary with default integer values  
        
        SET current_sum TO 0  
        FOR i FROM 0 TO n MINUS 2  
            INCREMENT current_sum BY nums at index i  
            SET diff TO total_sum MINUS 2 TIMES current_sum  
            INCREMENT right_diff at diff BY 1  
        
        SET max_ways TO value of right_diff at 0  
        
        SET current_sum TO 0  
        FOR i FROM 0 TO n MINUS 1  
            INCREMENT current_sum BY nums at index i  
            SET diff_change TO k MINUS nums at index i  
            SET new_ways TO left_diff at NEGATIVE diff_change PLUS right_diff at diff_change  
            SET max_ways TO the greater value between max_ways and new_ways  
            
            SET diff TO total_sum MINUS 2 TIMES current_sum  
            DECREMENT right_diff at diff BY 1  
            INCREMENT left_diff at diff BY 1  
        
        RETURN max_ways  
    END FUNCTION  
END CLASS