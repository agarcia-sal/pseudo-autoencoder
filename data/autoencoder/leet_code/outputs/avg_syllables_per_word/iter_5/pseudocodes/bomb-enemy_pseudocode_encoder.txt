CLASS Solution  
    FUNCTION maxKilledEnemies(grid)  
        IF grid IS empty OR first row of grid IS empty  
            RETURN 0  
        
        SET m TO number of rows in grid  
        SET n TO number of columns in grid  
        SET max_kills TO 0  
        
        SET row_kills TO 0  
        SET col_kills TO list of zeros with length n  
        
        FOR i FROM 0 TO m MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                
                IF j EQUALS 0 OR cell left to current cell IS wall  
                    SET row_kills TO 0  
                    FOR k FROM j TO n MINUS 1  
                        IF cell at row i and column k IS enemy  
                            INCREMENT row_kills BY 1  
                        ELSE IF cell at row i and column k IS wall  
                            BREAK loop  
                
                IF i EQUALS 0 OR cell above current cell IS wall  
                    SET col_kills at j TO 0  
                    FOR k FROM i TO m MINUS 1  
                        IF cell at row k and column j IS enemy  
                            INCREMENT col_kills at j BY 1  
                        ELSE IF cell at row k and column j IS wall  
                            BREAK loop  
                
                IF cell at row i and column j IS empty  
                    SET max_kills TO maximum of max_kills AND sum of row_kills AND col_kills at j  
        
        RETURN max_kills  
    END FUNCTION  
END CLASS