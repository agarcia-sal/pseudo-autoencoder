CLASS Solution  
    FUNCTION numMusicPlaylists(n, goal, k)  
        SET MOD TO 10 raised to the power of 9 plus 7  
        INITIALIZE dp AS a two-dimensional list with dimensions (goal plus 1) by (n plus 1) filled with zeros  
        SET dp at index 0,0 TO 1  

        FOR i FROM 1 TO goal INCLUSIVE  
            FOR j FROM 1 TO n INCLUSIVE  
                SET dp at i,j TO dp at (i minus 1),(j minus 1) multiplied BY (n minus (j minus 1)) added TO current dp at i,j  
                SET dp at i,j TO dp at i,j MODULO MOD  

                IF j GREATER THAN k THEN  
                    SET dp at i,j TO dp at i,j added TO dp at (i minus 1),j multiplied BY (j minus k)  
                    SET dp at i,j TO dp at i,j MODULO MOD  
                END IF  
            END FOR  
        END FOR  

        RETURN dp at goal,n  
    END FUNCTION  
END CLASS