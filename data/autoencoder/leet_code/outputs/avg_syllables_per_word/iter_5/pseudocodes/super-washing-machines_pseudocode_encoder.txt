CLASS Solution  
    FUNCTION findMinMoves(machines)  
        SET total_dresses TO sum of all elements in machines  
        SET n TO length of machines  
        
        IF total_dresses MODULO n IS NOT EQUAL TO 0 THEN  
            RETURN -1  
        END IF  
        
        SET target TO total_dresses DIVIDED BY n  
        SET left_sum TO 0  
        SET max_moves TO 0  
        
        FOR i FROM 0 TO n MINUS 1 DO  
            SET left_excess TO left_sum MINUS target MULTIPLIED BY i  
            SET right_excess TO (total_dresses MINUS left_sum MINUS machines at i) MINUS target MULTIPLIED BY (n MINUS i MINUS 1)  
            
            SET current_moves TO maximum of absolute value of left_excess, absolute value of right_excess, and (machines at i MINUS target)  
            SET max_moves TO maximum of max_moves and current_moves  
            
            INCREMENT left_sum BY machines at i  
        END FOR  
        
        RETURN max_moves  
    END FUNCTION  
END CLASS