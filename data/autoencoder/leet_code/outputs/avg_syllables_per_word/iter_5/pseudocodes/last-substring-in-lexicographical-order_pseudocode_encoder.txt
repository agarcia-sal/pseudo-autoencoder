CLASS Solution  
    FUNCTION lastSubstring(s)  
        SET n TO LENGTH OF s  
        SET max_char TO MAXIMUM CHARACTER IN s  
        SET max_indices TO LIST OF INDEX i FOR EACH i FROM 0 TO n MINUS 1 WHERE CHARACTER AT s AT i EQUALS max_char  
        
        SET max_substring TO EMPTY STRING  
        FOR each start IN max_indices  
            SET current_substring TO SUBSTRING OF s FROM start TO END  
            IF current_substring GREATER THAN max_substring THEN  
                SET max_substring TO current_substring  
            END IF  
        END FOR  
        
        RETURN max_substring  
    END FUNCTION  
END CLASS