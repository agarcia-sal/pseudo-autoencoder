CLASS Solution  
    FUNCTION maxRunTime(n, batteries)  
        FUNCTION canRunFor(time)  
            SET total TO 0  
            FOR each battery IN batteries  
                INCREMENT total BY the smaller value between battery and time  
            IF total IS GREATER THAN OR EQUAL TO time MULTIPLIED BY n  
                RETURN true  
            ELSE  
                RETURN false  
        END FUNCTION  

        SET left TO 0  
        SET right TO sum of all values in batteries DIVIDED BY n  
        WHILE left IS LESS THAN right  
            SET mid TO (left PLUS right PLUS 1) DIVIDED BY 2  
            IF canRunFor(mid) IS true  
                SET left TO mid  
            ELSE  
                SET right TO mid MINUS 1  
        RETURN left  
    END FUNCTION  
END CLASS