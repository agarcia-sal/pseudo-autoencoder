CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO the list obtained by placing the value one at the beginning followed by all elements of nums followed by the value one at the end  
        SET n TO the length of nums  
        SET dp TO a list of lists where each inner list contains n zeros and there are n such inner lists  
        FOR length FROM two TO n MINUS one  
            FOR i FROM zero TO n MINUS length MINUS one  
                SET j TO i PLUS length  
                FOR k FROM i PLUS one TO j MINUS one  
                    SET coins TO the element at position i of nums MULTIPLIED BY the element at position k of nums MULTIPLIED BY the element at position j of nums PLUS the element at position i then position k of dp PLUS the element at position k then position j of dp  
                    SET the element at position i then position j of dp TO the greater value between the element at position i then position j of dp AND coins  
                END FOR  
            END FOR  
        END FOR  
        RETURN the element at position zero then position n MINUS one of dp  
    END FUNCTION  
END CLASS