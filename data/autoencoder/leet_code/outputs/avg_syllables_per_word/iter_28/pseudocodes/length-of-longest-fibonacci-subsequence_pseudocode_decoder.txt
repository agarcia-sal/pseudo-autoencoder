CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO an empty map  
        FOR each element x AND its position i IN arr  
            SET element x IN index TO position i  
        END FOR  
        SET dp TO an empty map  
        SET max_length TO zero  
        FOR each position k FROM zero TO the LENGTH OF arr MINUS one  
            FOR each position j FROM zero TO position k MINUS one  
                SET difference TO element at position k of arr MINUS element at position j of arr  
                SET i TO value associated with difference in index IF EXISTS OTHERWISE negative one  
                IF i GREATER THAN OR EQUAL TO zero AND i LESS THAN j THEN  
                    SET previous_length TO value associated with pair of positions i AND j in dp IF EXISTS OTHERWISE two  
                    SET value associated with pair of positions j AND k in dp TO previous_length PLUS one  
                    IF value associated with pair of positions j AND k in dp GREATER THAN max_length THEN  
                        SET max_length TO value associated with pair of positions j AND k in dp  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        IF max_length GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS