CLASS Solution  
    FUNCTION knightProbability(n int k int row int column int)  
        SET moves TO list of pairs representing two steps up one step left AND two steps up one step right AND one step up two steps left AND one step up two steps right AND one step down two steps left AND one step down two steps right AND two steps down one step left AND two steps down one step right  
        SET dp TO two dimensional list with n rows and n columns each element set to zero  
        SET element at position row of dp to be list with n elements each set to zero  
        SET element at position column of element at position row of dp TO one  
        FOR each move_index FROM one TO k  
            SET new_dp TO two dimensional list with n rows and n columns each element set to zero  
            FOR each r FROM zero TO n MINUS one  
                FOR each c FROM zero TO n MINUS one  
                    IF element at position c of element at position r of dp NOT EQUALS zero  
                        FOR each pair dr_dc IN moves  
                            SET dr TO first element of pair dr_dc  
                            SET dc TO second element of pair dr_dc  
                            SET nr TO r PLUS dr  
                            SET nc TO c PLUS dc  
                            IF zero LESS THAN OR EQUAL TO nr AND nr LESS THAN n AND zero LESS THAN OR EQUAL TO nc AND nc LESS THAN n  
                                INCREMENT element at position nc of element at position nr of new_dp BY element at position c of element at position r of dp DIVIDED BY eight  
                            END IF  
                        END FOR  
                    END IF  
                END FOR  
            END FOR  
            ASSIGN reference TO new_dp IN dp  
        END FOR  
        SET total_probability TO zero  
        FOR each row_list IN dp  
            FOR each probability_value IN row_list  
                INCREMENT total_probability BY probability_value  
            END FOR  
        END FOR  
        RETURN total_probability  
    END FUNCTION  
END CLASS