CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            RETURN sub EQUALS the REVERSE OF sub  
        END FUNCTION  
        
        FUNCTION backtrack(start, path)  
            IF start EQUALS the LENGTH OF s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s PLUS one  
                IF is_palindrome(the SUBSTRING of s from position start TO position end MINUS one) THEN  
                    CALL backtrack WITH arguments end AND path FOLLOWED BY the SUBSTRING of s from position start TO position end MINUS one  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET result TO an empty list  
        CALL backtrack WITH arguments zero AND an empty list  
        RETURN result  
    END FUNCTION  
END CLASS