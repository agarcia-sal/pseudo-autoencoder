CLASS Solution  
    FUNCTION maxBuilding(n, restrictions)  
        APPEND list consisting of building position one and height zero TO restrictions  
        SORT restrictions IN ascending order BASED ON building position  
        
        FOR index FROM one TO LENGTH OF restrictions MINUS one  
            SET current_building_position TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET previous_building_position TO element at position index minus one zero of restrictions  
            SET previous_building_height TO element at position index minus one one of restrictions  
            SET element at position index one of restrictions TO the smaller value BETWEEN current_building_height AND previous_building_height PLUS current_building_position MINUS previous_building_position  
        END FOR  
        
        FOR index FROM LENGTH OF restrictions MINUS two DOWN TO zero  
            SET current_building_position TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET next_building_position TO element at position index plus one zero of restrictions  
            SET next_building_height TO element at position index plus one one of restrictions  
            SET element at position index one of restrictions TO the smaller value BETWEEN current_building_height AND next_building_height PLUS next_building_position MINUS current_building_position  
        END FOR  
        
        SET max_height TO zero  
        SET previous_building_position TO element at position zero zero of restrictions  
        SET previous_building_height TO element at position zero one of restrictions  
        
        FOR index FROM one TO LENGTH OF restrictions MINUS one  
            SET current_building_position TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET candidate_height TO current_building_position MINUS previous_building_position PLUS previous_building_height PLUS current_building_height  
            SET candidate_height TO candidate_height DIVIDED BY two USING integer division  
            SET max_height TO the larger value BETWEEN max_height AND candidate_height  
            SET previous_building_position TO current_building_position  
            SET previous_building_height TO current_building_height  
        END FOR  
        
        SET max_height TO the larger value BETWEEN max_height AND previous_building_height PLUS n MINUS previous_building_position  
        
        RETURN max_height  
    END FUNCTION  
END CLASS