CLASS Solution  
    FUNCTION minSwapsCouples(row)  
        CREATE a dictionary named position mapping each person to their index in the row  
        SET swaps TO zero  
        FOR i FROM zero TO the LENGTH OF row MINUS one STEP two  
            SET correct_pair TO the person at position i XORed WITH one  
            IF the person at position i PLUS one NOT EQUALS correct_pair THEN  
                SET swap_idx TO the index of correct_pair from position dictionary  
                SWAP the persons at positions i PLUS one AND swap_idx in row  
                SET position of the person now at swap_idx TO swap_idx  
                SET position of the person now at i PLUS one TO i PLUS one  
                INCREMENT swaps BY one  
            END IF  
        END FOR  
        RETURN swaps  
    END FUNCTION  
END CLASS