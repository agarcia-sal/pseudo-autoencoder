CLASS Solution  
    FUNCTION getLengthOfOptimalCompression(s, k)  
        FUNCTION dp(i, k, prev_char, prev_count)  
            IF k LESS THAN zero THEN  
                RETURN positive infinity  
            END IF  

            IF i EQUALS the LENGTH OF s THEN  
                RETURN zero  
            END IF  

            IF element at position i of s EQUALS prev_char THEN  
                IF prev_count EQUALS one OR prev_count EQUALS nine OR prev_count EQUALS ninety nine THEN  
                    SET increment TO one  
                ELSE  
                    SET increment TO zero  
                END IF  
                RETURN increment PLUS the RESULT OF dp with arguments i PLUS one k prev_char prev_count PLUS one  
            ELSE  
                SET keep TO one PLUS the RESULT OF dp with arguments i PLUS one k element at position i of s one  
                SET delete TO the RESULT OF dp with arguments i PLUS one k MINUS one prev_char prev_count  
                RETURN the MINIMUM OF keep AND delete  
            END IF  
        END FUNCTION  

        RETURN the RESULT OF dp with arguments zero k empty string zero  
    END FUNCTION  
END CLASS