CLASS Solution  
    FUNCTION mostSimilar(n names targetPath)  
        SET graph TO a mapping that defaults to an empty list for each new key  
        FOR each pair u v IN roads  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        SET m TO the LENGTH OF targetPath  
        
        FUNCTION dp(i j)  
            IF i EQUALS zero THEN  
                IF element at position j of names NOT EQUALS element at position i of targetPath THEN  
                    RETURN one AND a list containing element j  
                ELSE  
                    RETURN zero AND a list containing element j  
                END IF  
            ELSE  
                SET min_cost TO a very large number representing infinity  
                SET min_path TO an empty list  
                FOR each element k IN element at position j of graph  
                    SET cost path TO dp(i MINUS one j)  
                    IF cost LESS THAN min_cost THEN  
                        SET min_cost TO cost  
                        SET min_path TO path  
                    END IF  
                END FOR  
                IF element at position j of names NOT EQUALS element at position i of targetPath THEN  
                    SET current_cost TO min_cost PLUS one  
                ELSE  
                    SET current_cost TO min_cost  
                END IF  
                RETURN current_cost AND concatenation of min_path with element j appended at the end  
            END IF  
        END FUNCTION  
        
        SET min_cost TO a very large number representing infinity  
        SET min_path TO an empty list  
        FOR index j FROM zero TO n MINUS one  
            SET cost path TO dp(m MINUS one j)  
            IF cost LESS THAN min_cost THEN  
                SET min_cost TO cost  
                SET min_path TO path  
            END IF  
        END FOR  
        RETURN min_path  
    END FUNCTION  
END CLASS