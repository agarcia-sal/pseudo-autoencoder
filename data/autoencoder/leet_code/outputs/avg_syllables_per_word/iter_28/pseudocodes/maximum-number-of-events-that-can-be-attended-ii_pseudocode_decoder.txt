CLASS Solution  
    FUNCTION maxValue(events k)  
        SORT events BY the end day of each event  
        SET n TO the LENGTH OF events  
        INITIALIZE dp AS a two dimensional list with n PLUS one rows and k PLUS one columns FILLED WITH zero  
        FOR i FROM one TO n  
            SET start TO the start day of the element at position i MINUS one of events  
            SET end TO the end day of the element at position i MINUS one of events  
            SET value TO the value of the element at position i MINUS one of events  
            SET j TO the position where start would be inserted to maintain order by end day in events using binary search  
            FOR l FROM one TO k  
                SET dp at position i and l TO the greater BETWEEN the value at dp at position i MINUS one and l AND the value at dp at position j and l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN the value at dp at position n and k  
    END FUNCTION  
END CLASS