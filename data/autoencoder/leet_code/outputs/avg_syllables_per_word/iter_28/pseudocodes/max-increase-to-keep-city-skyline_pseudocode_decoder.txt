CLASS Solution  
    FUNCTION maxIncreaseKeepingSkyline(grid)  
        SET n TO the LENGTH OF grid  
        SET row_maxes TO empty list  
        FOR each row IN grid  
            SET max_value_in_row TO the MAXIMUM value IN row  
            APPEND max_value_in_row TO row_maxes  
        END FOR  
        SET col_maxes TO empty list  
        FOR each column formed by taking the element at position index of each row in grid where index ranges FROM zero TO n MINUS one  
            SET max_value_in_column TO the MAXIMUM value IN the column  
            APPEND max_value_in_column TO col_maxes  
        END FOR  
        SET total_increase TO zero  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                SET max_height TO the MINIMUM between element at position i of row_maxes AND element at position j of col_maxes  
                SET height_difference TO max_height MINUS the element at position i of grid THEN element at position j of that row  
                IF height_difference GREATER THAN zero  
                    INCREMENT total_increase BY height_difference  
                END IF  
            END FOR  
        END FOR  
        RETURN total_increase  
    END FUNCTION  
END CLASS