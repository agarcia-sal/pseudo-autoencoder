CLASS Solution  
    FUNCTION isRectangleCover WITH rectangles  
        SET bottom_left_x TO positive infinity  
        SET bottom_left_y TO positive infinity  
        SET top_right_x TO negative infinity  
        SET top_right_y TO negative infinity  
        
        SET points TO empty set  
        SET total_area TO zero  
        
        FOR each rectangle WITH coordinates x1 y1 x2 y2 IN rectangles  
            IF bottom_left_x GREATER THAN x1 THEN  
                SET bottom_left_x TO x1  
            END IF  
            IF bottom_left_y GREATER THAN y1 THEN  
                SET bottom_left_y TO y1  
            END IF  
            IF top_right_x LESS THAN x2 THEN  
                SET top_right_x TO x2  
            END IF  
            IF top_right_y LESS THAN y2 THEN  
                SET top_right_y TO y2  
            END IF  
            
            INCREMENT total_area BY the result of x2 MINUS x1 MULTIPLIED BY y2 MINUS y1  
            
            FOR each point IN list of points consisting of pair x1 y1 and pair x1 y2 and pair x2 y1 and pair x2 y2  
                IF point IS IN points THEN  
                    REMOVE point FROM points  
                ELSE  
                    ADD point TO points  
                END IF  
            END FOR  
        END FOR  
        
        IF total_area NOT EQUALS the result of top_right_x MINUS bottom_left_x MULTIPLIED BY top_right_y MINUS bottom_left_y THEN  
            RETURN false  
        END IF  
        
        IF points NOT EQUALS the set consisting of pair bottom_left_x bottom_left_y and pair bottom_left_x top_right_y and pair top_right_x bottom_left_y and pair top_right_x top_right_y THEN  
            RETURN false  
        END IF  
        
        RETURN true  
    END FUNCTION  
END CLASS