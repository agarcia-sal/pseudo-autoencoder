CLASS Solution
    FUNCTION parseBoolExpr(expression)
        SET stk TO empty list
        FOR each character IN expression
            IF character EQUALS the letter that is either t or f or is the exclamation mark or the ampersand or the vertical bar
                APPEND character TO stk
            ELSE IF character EQUALS the closing parenthesis symbol
                SET t TO zero
                SET f TO zero
                WHILE the last element in stk EQUALS the letter that is either t or f
                    IF the last element in stk EQUALS the letter t
                        INCREMENT t BY one
                    END IF
                    IF the last element in stk EQUALS the letter f
                        INCREMENT f BY one
                    END IF
                    REMOVE the last element FROM stk
                END WHILE
                SET op TO the last element removed FROM stk
                IF op EQUALS the exclamation mark
                    IF f GREATER THAN zero
                        SET character TO the letter t
                    ELSE
                        SET character TO the letter f
                    END IF
                ELSE IF op EQUALS the ampersand
                    IF f GREATER THAN zero
                        SET character TO the letter f
                    ELSE
                        SET character TO the letter t
                    END IF
                ELSE IF op EQUALS the vertical bar
                    IF t GREATER THAN zero
                        SET character TO the letter t
                    ELSE
                        SET character TO the letter f
                    END IF
                END IF
                APPEND character TO stk
            END IF
        END FOR
        RETURN whether the first element in stk EQUALS the letter t
    END FUNCTION
END CLASS