CLASS Solution  
    FUNCTION findCheapestPrice WITH PARAMETERS n flights src dst k  
        SET graph TO a new empty map from integer TO list  
        FOR each integer i FROM zero TO n MINUS one  
            SET element at position i of graph TO an empty list  
        END FOR  
        FOR each element consisting of u v w IN flights  
            APPEND a pair of v and w TO the list at key u of graph  
        END FOR  
        
        SET min_heap TO a new list containing a tuple of zero cost MINUS one stops src city  
        SET min_cost TO a new map with key src set to value MINUS one  
        
        WHILE the LENGTH OF min_heap is greater than zero  
            SET cost stops city TO the result of removing the smallest element from min_heap according to cost  
            
            IF city EQUALS dst  
                RETURN cost  
            END IF  
            
            IF stops GREATER THAN OR EQUAL TO k  
                CONTINUE to the next iteration of the WHILE loop  
            END IF  
            
            FOR each element consisting of neighbor price IN the list at key city of graph  
                SET next_cost TO cost PLUS price  
                SET next_stops TO stops PLUS one  
                
                IF neighbor not in min_cost OR next_stops LESS THAN the value at key neighbor of min_cost OR next_cost LESS THAN the smallest cost of the first element in min_heap  
                    SET the value at key neighbor of min_cost TO next_stops  
                    ADD a tuple of next_cost next_stops neighbor TO min_heap maintaining heap property  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN value MINUS one  
    END FUNCTION  
END CLASS