CLASS Solution  
    FUNCTION scheduleCourse(courses)  
        CALL sort courses BY the second element of each inner list in ascending order  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each pair duration and last_day IN courses  
            IF the sum of current_end_day and duration is LESS THAN OR EQUAL TO last_day  
                CALL push the negative of duration TO max_heap  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap is not empty AND the negative of the element at the first position of max_heap is GREATER THAN duration  
                INCREMENT current_end_day BY the sum of duration and the element returned by popping from max_heap  
                CALL push the negative of duration TO max_heap  
            END IF  
        END FOR  
        RETURN the LENGTH OF max_heap  
    END FUNCTION  
END CLASS