CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO an empty dictionary  
        FOR each element x AND its position i IN arr  
            SET the element x in index WITH value i  
        END FOR  
        SET dp TO an empty dictionary  
        SET max_length TO zero  
        FOR variable k FROM zero TO the length of arr MINUS one  
            FOR variable j FROM zero TO k MINUS one  
                SET i TO the value at key equal to the element at position k of arr MINUS the element at position j of arr in index OR negative one if not present  
                IF i GREATER THAN OR EQUAL TO zero AND i LESS THAN j THEN  
                    SET the value at key pair j and k in dp TO the value at key pair i and j in dp OR two IF not present PLUS one  
                    IF max_length LESS THAN the value at key pair j and k in dp THEN  
                        SET max_length TO the value at key pair j and k in dp  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        IF max_length GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS