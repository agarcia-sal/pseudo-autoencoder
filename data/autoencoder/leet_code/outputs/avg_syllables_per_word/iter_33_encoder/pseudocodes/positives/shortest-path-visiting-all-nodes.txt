CLASS Solution  
    FUNCTION shortestPathLength(graph)  
        IF graph EQUALS an empty collection  
            RETURN zero  
        END IF  
        
        SET n TO the LENGTH OF graph  
        SET queue TO an empty double ended queue  
        FOR node FROM zero TO n MINUS one  
            APPEND a tuple of node AND a number with the bit at position node set TO queue  
        END FOR  
        
        SET visited TO an empty set  
        FOR node FROM zero TO n MINUS one  
            ADD to visited a tuple of node AND a number with the bit at position node set  
        END FOR  
        
        SET steps TO zero  
        SET all_nodes_visited TO a number with the bit at each position from zero TO n MINUS one set  
        
        WHILE queue is not empty  
            SET current_length TO the LENGTH OF queue  
            FOR index FROM zero TO current_length MINUS one  
                REMOVE from the front of queue AND ASSIGN TO current_node AND visited_nodes  
                
                IF visited_nodes EQUALS all_nodes_visited  
                    RETURN steps  
                END IF  
                
                FOR each neighbor IN the collection at position current_node of graph  
                    SET next_visited_nodes TO visited_nodes OR a number with the bit at position neighbor set  
                    SET next_state TO a tuple of neighbor AND next_visited_nodes  
                    
                    IF next_state is not in visited  
                        ADD next_state TO visited  
                        APPEND next_state TO queue  
                    END IF  
                END FOR  
            END FOR  
            INCREMENT steps BY one  
        END WHILE  
        
        RETURN a negative one value  
    END FUNCTION  
END CLASS