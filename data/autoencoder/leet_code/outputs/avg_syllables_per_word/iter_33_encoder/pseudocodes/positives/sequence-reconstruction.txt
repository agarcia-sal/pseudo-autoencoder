CLASS Solution  
    FUNCTION sequenceReconstruction(nums parameter, sequences parameter)  
        SET n TO the LENGTH OF nums parameter  
        ASSIGN reference TO an empty mapping from element to list named graph  
        SET indegree TO a list of zeros of the LENGTH EQUAL TO n PLUS one  
        
        FOR each sequence IN sequences parameter  
            FOR integer i FROM zero TO the LENGTH OF sequence MINUS one MINUS one  
                SET u TO element at position i of sequence  
                SET v TO element at position i PLUS one of sequence  
                APPEND v TO the list associated with u in graph  
                SET indegree element at position v TO element at position v of indegree MINUS one  
            END FOR  
        END FOR  
        
        ASSIGN reference TO an empty deque named queue  
        FOR integer i FROM one TO n  
            IF element at position i of indegree EQUALS zero THEN  
                APPEND i TO queue  
            END IF  
        END FOR  
        
        IF the LENGTH OF queue NOT EQUALS one THEN  
            RETURN False  
        END IF  
        
        SET index TO zero  
        WHILE queue is not empty  
            IF the LENGTH OF queue NOT EQUALS one THEN  
                RETURN False  
            END IF  
            
            SET node TO the FIRST element REMOVED FROM queue  
            IF node NOT EQUALS element at position index of nums parameter THEN  
                RETURN False  
            END IF  
            INCREMENT index BY one  
            
            FOR each neighbor IN the list associated with node in graph  
                DECREMENT element at position neighbor of indegree BY one  
                IF element at position neighbor of indegree EQUALS zero THEN  
                    APPEND neighbor TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN index EQUALS n  
    END FUNCTION  
END CLASS