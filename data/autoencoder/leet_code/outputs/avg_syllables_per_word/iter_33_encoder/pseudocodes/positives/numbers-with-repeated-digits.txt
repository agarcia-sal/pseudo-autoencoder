CLASS Solution  
    FUNCTION numDupDigitsAtMostN(n)  
        FUNCTION count_unique_digits(x)  
            SET s TO the string representation of x  
            SET length TO the number of characters in s  
            SET count TO zero  
            FOR i FROM one TO length MINUS one  
                INCREMENT count BY the product of nine AND perm(nine MINUS (i MINUS one), i MINUS one)  
            END FOR  
            SET seen TO an empty set  
            FOR i FROM zero TO length MINUS one  
                SET digit TO the character at position i of s converted to an integer  
                IF i EQUALS zero THEN  
                    SET start_digit TO one  
                ELSE  
                    SET start_digit TO zero  
                END IF  
                FOR d FROM start_digit TO digit MINUS one  
                    IF d NOT IN seen THEN  
                        INCREMENT count BY perm(nine MINUS i, length MINUS i MINUS one)  
                    END IF  
                END FOR  
                IF digit IN seen THEN  
                    EXIT FROM the current FOR loop  
                END IF  
                ADD digit TO seen  
            END FOR  
            IF the FOR loop completed without break THEN  
                INCREMENT count BY one  
            END IF  
            RETURN count  
        END FUNCTION  

        RETURN n MINUS count_unique_digits(n)  
    END FUNCTION  

    FUNCTION perm(m, n)  
        IF n EQUALS zero THEN  
            RETURN one  
        END IF  
        SET result TO one  
        FOR i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY (m MINUS i)  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS