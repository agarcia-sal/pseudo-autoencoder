CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each building IN buildings  
            SET left TO first element of building  
            SET right TO second element of building  
            SET height TO third element of building  
            APPEND a tuple consisting of left position and negative height and right position TO events  
            APPEND a tuple consisting of right position and zero and zero TO events  
        END FOR  
        
        SORT events in ascending order by first element then by second element then by third element  
        
        SET result TO a list containing a list of zero and zero  
        SET max_heap TO a list containing a tuple of zero and a representation of infinity  
        
        FOR each tuple of x position negH and r in events  
            WHILE the second element of the first tuple in max_heap LESS THAN OR EQUAL TO x position holds  
                REMOVE the first tuple from max_heap according to heap property  
            END WHILE  
            
            IF negH NOT EQUALS zero  
                ADD a tuple consisting of negH and r INTO max_heap according to heap property  
            END IF  
            
            IF the second element of the last list in result NOT EQUALS the negative of the first element of the first tuple in max_heap  
                APPEND a list consisting of x position and the negative of the first element of the first tuple in max_heap TO result  
            END IF  
        END FOR  
        
        IF the first list in result EQUALS a list of zero and zero  
            REMOVE the first list from result  
        END IF  
        
        RETURN result  
    END FUNCTION  
END CLASS