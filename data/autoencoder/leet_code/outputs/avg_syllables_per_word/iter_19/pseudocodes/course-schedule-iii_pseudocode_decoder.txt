CLASS Solution  
    FUNCTION scheduleCourse(courses WITH TYPE list of list of integers) RETURNS integer  
        SORT courses BY the day at position two of each course IN ascending order  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each pair consisting of duration and last_day IN courses  
            IF current_end_day PLUS duration IS LESS THAN OR EQUAL TO last_day THEN  
                ADD the negative of duration TO max_heap using heap push operation  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap is not empty AND the negation of the element at position zero of max_heap IS GREATER THAN duration THEN  
                INCREMENT current_end_day BY duration PLUS the value popped from max_heap using heap pop operation  
                ADD the negative of duration TO max_heap using heap push operation  
            END IF  
        END FOR  
        RETURN the LENGTH OF max_heap  
    END FUNCTION  
END CLASS