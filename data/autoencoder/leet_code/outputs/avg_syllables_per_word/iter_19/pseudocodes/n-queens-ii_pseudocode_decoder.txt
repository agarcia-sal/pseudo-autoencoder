CLASS Solution  
    FUNCTION totalNQueens(n)  
        FUNCTION is_not_under_attack(row, col)  
            RETURN the negation of the sum of the element at position col of the list cols PLUS the element at position the difference of row MINUS col of the list hills PLUS the element at position the sum of row PLUS col of the list dales being greater than zero  
        END FUNCTION  

        FUNCTION place_queen(row, col)  
            SET the element at position col of the list cols TO one  
            SET the element at position the difference of row MINUS col of the list hills TO one  
            SET the element at position the sum of row PLUS col of the list dales TO one  
        END FUNCTION  

        FUNCTION remove_queen(row, col)  
            SET the element at position col of the list cols TO zero  
            SET the element at position the difference of row MINUS col of the list hills TO zero  
            SET the element at position the sum of row PLUS col of the list dales TO zero  
        END FUNCTION  

        FUNCTION backtrack(row equal to zero, count equal to zero)  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack(row, col) holds  
                    place_queen(row, col)  
                    IF the sum of row PLUS one EQUALS n THEN  
                        INCREMENT count BY one  
                    ELSE  
                        SET count TO backtrack(the sum of row PLUS one, count)  
                    END IF  
                    remove_queen(row, col)  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  

        SET cols TO a list of zeros of length n  
        SET hills TO a list of zeros of length the difference of two times n MINUS one  
        SET dales TO a list of zeros of length the difference of two times n MINUS one  

        RETURN backtrack()  
    END FUNCTION  
END CLASS