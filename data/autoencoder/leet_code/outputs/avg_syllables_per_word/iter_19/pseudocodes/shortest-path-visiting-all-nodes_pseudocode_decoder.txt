CLASS Solution  
    FUNCTION shortestPathLength(graph)  
        IF graph EQUALS empty  
            RETURN zero  
        END IF  
        
        SET n TO the LENGTH OF graph  
        SET queue TO a double ended queue containing each element consisting of a pair of node and one shifted left by the node for each node FROM zero TO n MINUS one  
        SET visited TO a set containing each element consisting of a pair of node and one shifted left by the node for each node FROM zero TO n MINUS one  
        
        SET steps TO zero  
        SET all_nodes_visited TO one shifted left by n MINUS one  
        
        WHILE the queue is not empty  
            FOR each element FROM zero TO the LENGTH OF queue MINUS one  
                DECOMPOSE the element popped from the left of the queue INTO current_node and visited_nodes  
                
                IF visited_nodes EQUALS all_nodes_visited  
                    RETURN steps  
                END IF  
                
                FOR each neighbor IN the element at position current_node of graph  
                    SET next_visited_nodes TO visited_nodes OR one shifted left by neighbor  
                    SET next_state TO a pair of neighbor and next_visited_nodes  
                    
                    IF next_state is not an element of visited  
                        ADD next_state TO visited  
                        APPEND next_state TO queue  
                    END IF  
                END FOR  
            END FOR  
            INCREMENT steps BY one  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS