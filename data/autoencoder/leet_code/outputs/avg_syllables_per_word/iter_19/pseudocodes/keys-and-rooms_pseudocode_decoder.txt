CLASS Solution  
    FUNCTION canVisitAllRooms WITH parameters rooms of type List of List of integers  
        SET visited TO an empty set  
        SET stack TO a list containing zero  
        
        WHILE the LENGTH OF stack is greater than zero  
            SET current_room TO the element removed from the end of stack  
            ADD current_room TO the set visited  
            FOR each key IN the list element at position current_room of rooms  
                IF key is NOT IN visited  
                    ADD key TO the end of stack  
                END IF  
            END FOR  
        END WHILE  
        
        IF the LENGTH OF visited EQUALS the LENGTH OF rooms  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS