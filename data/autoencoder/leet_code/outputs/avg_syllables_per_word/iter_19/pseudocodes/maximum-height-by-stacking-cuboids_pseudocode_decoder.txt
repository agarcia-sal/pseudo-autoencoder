CLASS Solution  
    FUNCTION maxHeight(cuboids)  
        FOR each cuboid IN cuboids  
            SORT the dimensions of cuboid IN ascending order  
        END FOR  
        SORT the list cuboids IN ascending lexicographical order  
        SET n TO the LENGTH OF cuboids  
        INITIALIZE dp AS a list OF size n WITH all elements SET TO zero  
        FOR i FROM zero TO n MINUS one  
            SET dp at position i TO the element at position three of cuboids at position i  
            FOR j FROM zero TO i MINUS one  
                IF the element at position one of cuboids at position j IS LESS THAN OR EQUAL TO the element at position one of cuboids at position i AND the element at position two of cuboids at position j IS LESS THAN OR EQUAL TO the element at position two of cuboids at position i AND the element at position three of cuboids at position j IS LESS THAN OR EQUAL TO the element at position three of cuboids at position i  
                    SET dp at position i TO the GREATER OF dp at position i AND dp at position j PLUS the element at position three of cuboids at position i  
                END IF  
            END FOR  
        END FOR  
        RETURN the MAXIMUM value IN dp  
    END FUNCTION  
END CLASS