CLASS Solution  
    FUNCTION superpalindromesInRange(left, right)  
        FUNCTION is_palindrome(num)  
            RETURN string representation of num EQUALS string representation of num REVERSED  
        END FUNCTION  
        
        FUNCTION generate_palindromes(limit)  
            SET palindromes TO empty list  
            FOR each integer i FROM one TO one hundred thousand MINUS one  
                SET s TO string representation of i  
                APPEND integer conversion of concatenation of s AND substring of s from second last position TO first position in reverse order TO palindromes  
                APPEND integer conversion of concatenation of s AND s REVERSED TO palindromes  
            END FOR  
            RETURN all elements p in palindromes WHERE p IS LESS THAN OR EQUAL TO limit  
        END FUNCTION  
        
        SET left TO integer conversion of left  
        SET right TO integer conversion of right  
        SET limit TO integer conversion of the square root of right PLUS one  
        SET palindromes TO generate_palindromes(limit)  
        
        SET count TO zero  
        FOR each element p IN palindromes  
            SET square TO p MULTIPLIED BY p  
            IF left IS LESS THAN OR EQUAL TO square AND square IS LESS THAN OR EQUAL TO right AND is_palindrome(square) IS true  
                INCREMENT count BY one  
            END IF  
        END FOR  
        
        RETURN count  
    END FUNCTION  
END CLASS