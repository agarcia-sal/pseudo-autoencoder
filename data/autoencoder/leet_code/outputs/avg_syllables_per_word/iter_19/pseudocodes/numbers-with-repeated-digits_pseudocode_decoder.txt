CLASS Solution  
    FUNCTION numDupDigitsAtMostN(n)  
        FUNCTION count_unique_digits(x)  
            SET string_representation TO x CONVERTED TO STRING  
            SET length_of_string TO LENGTH OF string_representation  
            SET count TO zero  
            FOR each integer i FROM one TO length_of_string MINUS one  
                INCREMENT count BY nine MULTIPLIED BY CALL perm WITH arguments nine AND i MINUS one  
            END FOR  
            SET seen_digits TO empty set  
            FOR each position i AND character digit_character IN string_representation WITH enumeration  
                SET digit_value TO digit_character CONVERTED TO INTEGER  
                FOR each integer d FROM zero TO digit_value MINUS one  
                    IF i EQUALS zero  
                        SET d TO one  
                    END IF  
                    IF d NOT IN seen_digits  
                        INCREMENT count BY CALL perm WITH arguments nine MINUS i AND length_of_string MINUS i MINUS one  
                    END IF  
                END FOR  
                IF digit_value IN seen_digits  
                    BREAK THE LOOP  
                END IF  
                ADD digit_value TO seen_digits  
            END FOR  
            ELSE  
                INCREMENT count BY one  
            END ELSE  
            RETURN count  
        END FUNCTION  
        RETURN n MINUS CALL count_unique_digits WITH argument n  
    END FUNCTION  

    FUNCTION perm(m, n)  
        IF n EQUALS zero  
            RETURN one  
        END IF  
        SET result TO one  
        FOR each integer i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY m MINUS i  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS