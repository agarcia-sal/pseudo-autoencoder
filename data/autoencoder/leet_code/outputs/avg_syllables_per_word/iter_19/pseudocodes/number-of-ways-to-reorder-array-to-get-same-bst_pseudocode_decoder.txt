CLASS Solution  
    FUNCTION numOfWays(nums)  
        SET MOD TO one billion PLUS seven  

        FUNCTION count_ways(arr)  
            IF the LENGTH OF arr IS LESS THAN OR EQUAL TO one  
                RETURN one  
            END IF  

            SET root TO the element at position zero of arr  
            SET left_subtree TO a list of elements x IN arr WHERE x IS LESS THAN root  
            SET right_subtree TO a list of elements x IN arr WHERE x IS GREATER THAN root  

            SET ways_left TO the result of count_ways CALLED WITH left_subtree  
            SET ways_right TO the result of count_ways CALLED WITH right_subtree  

            SET total_ways TO the number of combinations of the sum of the LENGTH OF left_subtree AND the LENGTH OF right_subtree TAKEN LENGTH OF left_subtree AT A TIME  

            RETURN the product of ways_left MULTIPLIED BY ways_right MULTIPLIED BY total_ways MODULO MOD  
        END FUNCTION  

        SET total_count TO the result of count_ways CALLED WITH nums  
        RETURN the remainder of the subtraction of one FROM total_count DIVIDED BY MOD  
    END FUNCTION  
END CLASS