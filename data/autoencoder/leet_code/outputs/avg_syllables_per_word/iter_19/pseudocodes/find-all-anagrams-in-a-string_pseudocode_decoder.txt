CLASS Solution  
    FUNCTION findAnagrams(s, p)  
        SET len_s TO the LENGTH OF string s  
        SET len_p TO the LENGTH OF string p  
        IF len_p GREATER THAN len_s THEN  
            RETURN an EMPTY list of integers  
        END IF  
        SET p_count TO a frequency counter of each character in string p  
        SET s_count TO a frequency counter of each character in the substring from position zero TO position len_p MINUS one of string s  
        SET anagrams TO an EMPTY list  
        IF the frequency counter s_count EQUALS the frequency counter p_count THEN  
            APPEND zero TO the list anagrams  
        END IF  
        FOR index i FROM len_p TO len_s MINUS one DO  
            INCREMENT the count of the character at position i of string s IN s_count BY one  
            DECREMENT the count of the character at position i MINUS len_p of string s IN s_count BY one  
            IF the count of the character at position i MINUS len_p of string s IN s_count EQUALS zero THEN  
                REMOVE the character at position i MINUS len_p of string s FROM s_count  
            END IF  
            IF the frequency counter s_count EQUALS the frequency counter p_count THEN  
                APPEND the value of i MINUS len_p PLUS one TO the list anagrams  
            END IF  
        END FOR  
        RETURN the list anagrams  
    END FUNCTION  
END CLASS