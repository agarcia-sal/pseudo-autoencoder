CLASS Solution  
    FUNCTION minimumTime(n, relations, time)  
        SET graph TO the result of calling the function defaultdict with an empty list as default  
        FOR each pair of previous course and next course IN relations  
            APPEND previous course TO the list mapped by next course in graph  
        END FOR  
        
        SET memo TO a list of size equal to n plus one with all elements set TO negative one  
        
        FUNCTION dfs(course)  
            IF the element at position course of memo IS NOT EQUAL TO negative one  
                RETURN the element at position course of memo  
            END IF  
            
            SET max_prerequisite_time TO zero  
            FOR each previous course IN the list mapped by course in graph  
                SET max_prerequisite_time TO the GREATER OF max_prerequisite_time AND the result of calling dfs with previous course  
            END FOR  
            
            SET the element at position course of memo TO max_prerequisite_time PLUS the element at position course MINUS one of time  
            RETURN the element at position course of memo  
        END FUNCTION  
        
        SET total_minimum_time TO zero  
        FOR each course FROM one TO n  
            SET total_minimum_time TO the GREATER OF total_minimum_time AND the result of calling dfs with course  
        END FOR  
        
        RETURN total_minimum_time  
    END FUNCTION  
END CLASS