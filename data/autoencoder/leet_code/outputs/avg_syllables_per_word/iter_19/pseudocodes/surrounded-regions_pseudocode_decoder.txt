CLASS Solution  
    FUNCTION solve(board)  
        IF board IS EMPTY OR element at position zero of board IS EMPTY  
            RETURN  
        END IF  
        
        SET m TO the LENGTH OF board  
        SET n TO the LENGTH OF element at position zero of board  
        
        FUNCTION dfs(x, y)  
            IF x LESS THAN zero OR x GREATER THAN OR EQUAL TO m OR y LESS THAN zero OR y GREATER THAN OR EQUAL TO n OR element at position x of board at position y NOT EQUALS the letter O  
                RETURN  
            END IF  
            SET element at position x of board at position y TO the letter S  
            CALL dfs WITH the value obtained by ADDING one TO x AND the value y  
            CALL dfs WITH the value obtained by SUBTRACTING one FROM x AND the value y  
            CALL dfs WITH the value x AND the value obtained by ADDING one TO y  
            CALL dfs WITH the value x AND the value obtained by SUBTRACTING one FROM y  
        END FUNCTION  
        
        FOR each i FROM zero TO m MINUS one  
            CALL dfs WITH i AND zero  
            CALL dfs WITH i AND the value obtained by SUBTRACTING one FROM n  
        END FOR  
        
        FOR each j FROM zero TO n MINUS one  
            CALL dfs WITH zero AND j  
            CALL dfs WITH the value obtained by SUBTRACTING one FROM m AND j  
        END FOR  
        
        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i of board at position j EQUALS the letter O  
                    SET element at position i of board at position j TO the letter X  
                END IF  
            END FOR  
        END FOR  
        
        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i of board at position j EQUALS the letter S  
                    SET element at position i of board at position j TO the letter O  
                END IF  
            END FOR  
        END FOR  
    END FUNCTION  
END CLASS