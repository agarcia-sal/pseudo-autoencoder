CLASS Solution  
    FUNCTION minimumWeight(n, edges, src1, src2, dest)  
        FUNCTION dijkstra(graph, start)  
            SET distances TO a list of size n with all elements set TO positive infinity  
            SET element at position start of distances TO zero  
            SET heap TO a list containing a tuple of zero and start  
            
            WHILE heap is not empty  
                SET current_distance and current_node TO the result of removing the element with the smallest first value from heap  
                
                IF current_distance IS GREATER THAN element at position current_node of distances  
                    CONTINUE to the next iteration of the WHILE loop  
                END IF  
                
                FOR each neighbor and weight IN element at position current_node of graph  
                    SET distance TO current_distance PLUS weight  
                    
                    IF distance IS LESS THAN element at position neighbor of distances  
                        SET element at position neighbor of distances TO distance  
                        ADD a tuple of distance and neighbor TO heap with priority according to distance  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN distances  
        END FUNCTION  
        
        SET graph TO a list of size n where each element is an empty list  
        SET reverse_graph TO a list of size n where each element is an empty list  
        
        FOR each u v and w IN edges  
            APPEND the tuple of v and w TO element at position u of graph  
            APPEND the tuple of u and w TO element at position v of reverse_graph  
        END FOR  
        
        SET dist_from_src1 TO the result of calling dijkstra WITH graph AND src1  
        SET dist_from_src2 TO the result of calling dijkstra WITH graph AND src2  
        SET dist_to_dest TO the result of calling dijkstra WITH reverse_graph AND dest  
        
        SET min_weight TO positive infinity  
        
        FOR each i FROM zero TO n MINUS one  
            IF element at position i of dist_from_src1 IS NOT EQUAL TO positive infinity AND element at position i of dist_from_src2 IS NOT EQUAL TO positive infinity AND element at position i of dist_to_dest IS NOT EQUAL TO positive infinity  
                SET candidate_weight TO the sum of element at position i of dist_from_src1 PLUS element at position i of dist_from_src2 PLUS element at position i of dist_to_dest  
                IF candidate_weight IS LESS THAN min_weight  
                    SET min_weight TO candidate_weight  
                END IF  
            END IF  
        END FOR  
        
        IF min_weight IS EQUAL TO positive infinity  
            RETURN negative one  
        ELSE  
            RETURN min_weight  
        END IF  
    END FUNCTION  
END CLASS