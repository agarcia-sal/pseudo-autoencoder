CLASS Solution  
    FUNCTION maxIncreaseKeepingSkyline(grid)  
        SET n TO the LENGTH OF grid  
        SET row_maxes TO a new list CONTAINING the MAXIMUM element OF each row IN grid  
        SET col_maxes TO a new list CONTAINING the MAXIMUM element OF each column IN grid  
        SET total_increase TO zero  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                SET max_height TO the SMALLER OF the element at position i of row_maxes AND the element at position j of col_maxes  
                INCREMENT total_increase BY the LARGER OF zero AND max_height MINUS the element at position i of grid AT position j  
            END FOR  
        END FOR  
        RETURN total_increase  
    END FUNCTION  
END CLASS