CLASS Solution  
    FUNCTION calculate(s)  
        FUNCTION helper(s)  
            SET stack TO empty list  
            SET num TO zero  
            SET sign TO plus sign  
            WHILE the LENGTH OF s is greater than zero holds  
                SET char TO element at position zero of s removed from s  
                IF char represents a digit holds  
                    SET num TO num MULTIPLIED BY ten PLUS integer value of char  
                END IF  
                IF char EQUALS left parenthesis holds  
                    SET num TO result of calling helper with argument s  
                END IF  
                IF char is one of plus sign MINUS sign MULTIPLICATION sign DIVISION sign left parenthesis or right parenthesis OR the LENGTH OF s EQUALS zero holds  
                    IF sign EQUALS plus sign holds  
                        APPEND num TO stack  
                    ELSE IF sign EQUALS MINUS sign holds  
                        APPEND negative value of num TO stack  
                    ELSE IF sign EQUALS MULTIPLICATION sign holds  
                        SET element at last position of stack TO element at last position of stack MULTIPLIED BY num  
                    ELSE IF sign EQUALS DIVISION sign holds  
                        SET element at last position of stack TO integer value of element at last position of stack DIVIDED BY num truncating towards zero  
                    END IF  
                    SET sign TO char  
                    SET num TO zero  
                END IF  
                IF char EQUALS right parenthesis holds  
                    BREAK out of the WHILE loop  
                END IF  
            END WHILE  
            RETURN sum of all elements of stack  
        END FUNCTION  
        SET s TO list of characters of s  
        RETURN result of calling helper with argument s  
    END FUNCTION  
END CLASS