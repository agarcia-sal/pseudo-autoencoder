CLASS Solution  
    FUNCTION numDistinctIslands(grid)  
        FUNCTION dfs(i, j, direction)  
            IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN the LENGTH OF grid AND j IS GREATER THAN OR EQUAL TO zero AND j IS LESS THAN the LENGTH OF element at position zero of grid AND element at position i of grid at position j EQUALS one  
                SET element at position i of grid at position j TO zero  
                APPEND direction TO path  
                CALL dfs with parameters i INCREMENTED BY one j AND string representing down direction  
                CALL dfs with parameters i DECREMENTED BY one j AND string representing up direction  
                CALL dfs with parameters i j INCREMENTED BY one AND string representing right direction  
                CALL dfs with parameters i j DECREMENTED BY one AND string representing left direction  
                APPEND string representing backtracking TO path  
            END IF  
            RETURN path  
        END FUNCTION  
        
        SET unique_islands TO empty set  
        
        FOR i FROM zero TO LENGTH OF grid MINUS one  
            FOR j FROM zero TO LENGTH OF element at position zero of grid MINUS one  
                IF element at position i of grid at position j EQUALS one  
                    SET path TO empty list  
                    CALL dfs with parameters i j AND string representing origin AND ADD the tuple form of the return value TO unique_islands  
                END IF  
            END FOR  
        END FOR  
        
        RETURN the LENGTH OF unique_islands  
    END FUNCTION  
END CLASS