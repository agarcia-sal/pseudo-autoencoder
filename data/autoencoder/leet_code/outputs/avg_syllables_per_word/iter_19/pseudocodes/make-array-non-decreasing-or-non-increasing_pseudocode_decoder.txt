CLASS Solution  
    FUNCTION convertArray(nums)  
        FUNCTION min_operations_to_non_decreasing(nums)  
            SET max_heap TO empty list  
            SET operations TO zero  
            FOR each number IN nums  
                IF the LENGTH OF max_heap IS GREATER THAN zero AND the NEGATION OF element at position zero of max_heap IS GREATER THAN number  
                    INCREMENT operations BY the NEGATION OF the REMOVED element at position zero of max_heap MINUS number  
                    APPEND the NEGATION OF number TO max_heap maintaining max heap property  
                END IF  
                APPEND the NEGATION OF number TO max_heap maintaining max heap property  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        FUNCTION min_operations_to_non_increasing(nums)  
            SET min_heap TO empty list  
            SET operations TO zero  
            FOR each number IN nums  
                IF the LENGTH OF min_heap IS GREATER THAN zero AND element at position zero of min_heap IS LESS THAN number  
                    INCREMENT operations BY number MINUS the REMOVED element at position zero of min_heap  
                    APPEND number TO min_heap maintaining min heap property  
                END IF  
                APPEND number TO min_heap maintaining min heap property  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        RETURN the MINIMUM OF the CALL OF min_operations_to_non_decreasing WITH nums AND the CALL OF min_operations_to_non_increasing WITH nums  
    END FUNCTION  
END CLASS