CLASS Solution  
    FUNCTION palindromePartition(s, k)  
        FUNCTION min_changes_to_palindrome(sub)  
            SET index_i TO zero  
            SET index_j TO the LENGTH OF sub MINUS one  
            SET changes TO zero  
            WHILE index_i IS LESS THAN index_j  
                IF element at position index_i of sub IS NOT EQUAL TO element at position index_j of sub  
                    INCREMENT changes BY one  
                END IF  
                INCREMENT index_i BY one  
                DECREMENT index_j BY one  
            END WHILE  
            RETURN changes  
        END FUNCTION  

        SET n TO the LENGTH OF s  
        INITIALIZE dp AS a two dimensional list of size n PLUS one BY k PLUS one WITH every element SET TO infinity  
        SET element at position zero position zero of dp TO zero  

        FOR i FROM one TO n  
            FOR j FROM one TO the MINIMUM OF k AND i  
                FOR start FROM zero TO i MINUS one  
                    SET changes TO min_changes_to_palindrome(the substring from position start TO i MINUS one of s)  
                    SET element at position i position j of dp TO the MINIMUM BETWEEN element at position i position j of dp AND the SUM OF element at position start position j MINUS one of dp AND changes  
                END FOR  
            END FOR  
        END FOR  

        RETURN element at position n position k of dp  
    END FUNCTION  
END CLASS