CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO the LENGTH OF nums DIVIDED BY three  

        SET min_heap TO an empty list  
        SET min_sums TO a list of zero repeated TWO TIMES n PLUS one TIMES  

        FOR index FROM zero TO TWO TIMES n MINUS one  
            PUSH the NEGATION OF the element at position index of nums INTO min_heap as if it is a heap structure  
            IF the LENGTH OF min_heap IS GREATER THAN n  
                POP the smallest element FROM min_heap  
            END IF  
            IF the LENGTH OF min_heap EQUALS n  
                SET the element at position index of min_sums TO the NEGATION OF the SUM OF all elements in min_heap  
            END IF  
        END FOR  

        SET max_heap TO an empty list  
        SET max_sums TO a list of zero repeated TWO TIMES n PLUS one TIMES  

        FOR index FROM THREE TIMES n MINUS one DOWN TO n  
            PUSH the element at position index of nums INTO max_heap as if it is a heap structure  
            IF the LENGTH OF max_heap IS GREATER THAN n  
                POP the smallest element FROM max_heap  
            END IF  
            IF the LENGTH OF max_heap EQUALS n  
                SET the element at position index of max_sums TO the SUM OF all elements in max_heap  
            END IF  
        END FOR  

        SET min_diff TO positive infinity  

        FOR index FROM n MINUS one TO TWO TIMES n MINUS one  
            SET min_diff TO the MINIMUM OF min_diff AND the element at position index of min_sums MINUS the element at position index PLUS one of max_sums  
        END FOR  

        RETURN min_diff  
    END FUNCTION  
END CLASS