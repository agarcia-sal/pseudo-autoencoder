CLASS Solution  
    FUNCTION solveNQueens WITH PARAMETER n  
        FUNCTION is_not_under_attack WITH PARAMETERS row AND col  
            RETURN NOT the SUM OF element at position col of array cols PLUS element at position row MINUS col of array hills PLUS element at position row PLUS col of array dales EQUALS zero  
        END FUNCTION  

        FUNCTION place_queen WITH PARAMETERS row AND col  
            ADD the tuple of row AND col TO the set queens  
            SET element at position col of array cols TO one  
            SET element at position row MINUS col of array hills TO one  
            SET element at position row PLUS col of array dales TO one  
        END FUNCTION  

        FUNCTION remove_queen WITH PARAMETERS row AND col  
            REMOVE the tuple of row AND col FROM the set queens  
            SET element at position col of array cols TO zero  
            SET element at position row MINUS col of array hills TO zero  
            SET element at position row PLUS col of array dales TO zero  
        END FUNCTION  

        FUNCTION add_solution  
            SET solution TO an empty list  
            FOR each tuple of underscore AND col IN the sorted set queens  
                APPEND the string consisting of period REPEATED col times PLUS the character Q PLUS period REPEATED n MINUS col MINUS one times TO solution  
            END FOR  
            APPEND solution TO list output  
        END FUNCTION  

        FUNCTION backtrack WITH PARAMETER row EQUALS zero  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack WITH row AND col HOLDS  
                    place_queen WITH row AND col  
                    IF row PLUS one EQUALS n  
                        add_solution  
                    ELSE  
                        backtrack WITH row PLUS one  
                    END IF  
                    remove_queen WITH row AND col  
                END IF  
            END FOR  
        END FUNCTION  

        SET array cols TO zero REPEATED n times  
        SET array hills TO zero REPEATED two MULTIPLIED BY n MINUS one times  
        SET array dales TO zero REPEATED two MULTIPLIED BY n MINUS one times  
        SET queens TO an empty set  
        SET output TO an empty list  
        backtrack  
        RETURN output  
    END FUNCTION  
END CLASS