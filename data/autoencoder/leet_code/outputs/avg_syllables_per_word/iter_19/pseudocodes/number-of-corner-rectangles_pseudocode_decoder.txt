CLASS Solution  
    FUNCTION countCornerRectangles(grid)  
        IF grid EQUALS empty OR element at position zero of grid EQUALS empty  
            RETURN zero  
        END IF  
        
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET count TO zero  
        
        FOR i FROM zero TO m MINUS one  
            FOR j FROM i PLUS one TO m MINUS one  
                SET cols_with_ones TO zero  
                FOR k FROM zero TO n MINUS one  
                    IF element at position k of element at position i of grid EQUALS one AND element at position k of element at position j of grid EQUALS one  
                        INCREMENT cols_with_ones BY one  
                    END IF  
                END FOR  
                
                IF cols_with_ones GREATER THAN OR EQUAL TO two  
                    INCREMENT count BY cols_with_ones MULTIPLIED BY cols_with_ones MINUS one DIVIDED BY two  
                END IF  
            END FOR  
        END FOR  
        
        RETURN count  
    END FUNCTION  
END CLASS