CLASS Solution  
    FUNCTION countSpecialSubsequences(nums)  
        SET MOD TO ten RAISED TO the power of nine PLUS seven  
        SET dp TO list containing zero zero zero representing counts of special subsequences ending with zero one and two respectively  
        FOR each num IN nums  
            IF num EQUALS zero  
                SET element at position zero of dp TO the remainder when the sum of two MULTIPLIED BY element at position zero of dp AND one IS divided BY MOD  
            ELSE IF num EQUALS one  
                SET element at position one of dp TO the remainder when the sum of two MULTIPLIED BY element at position one of dp AND element at position zero of dp IS divided BY MOD  
            ELSE IF num EQUALS two  
                SET element at position two of dp TO the remainder when the sum of two MULTIPLIED BY element at position two of dp AND element at position one of dp IS divided BY MOD  
            END IF  
        END FOR  
        RETURN element at position two of dp  
    END FUNCTION  
END CLASS