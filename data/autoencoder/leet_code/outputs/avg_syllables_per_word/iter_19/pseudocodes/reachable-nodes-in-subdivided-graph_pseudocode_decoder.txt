CLASS Solution  
    FUNCTION reachableNodes(edges, maxMoves, n)  
        SET graph TO an empty mapping from integer keys to empty list values for each integer from zero TO n MINUS one  
        FOR each u v cnt IN edges  
            APPEND tuple of neighbor v and count cnt TO the list associated with key u in graph  
            APPEND tuple of neighbor u and count cnt TO the list associated with key v in graph  
        END FOR  
        
        SET distances TO a list of length n FILLED WITH positive infinity  
        SET element at position zero of distances TO zero  
        SET priority_queue TO a list containing tuple of zero and zero representing distance and node  
        
        WHILE priority_queue IS NOT empty  
            REMOVE and RETURN the smallest element from priority_queue INTO dist and node  
            IF dist IS GREATER THAN element at position node of distances  
                CONTINUE to next iteration  
            END IF  
            FOR each neighbor cnt IN the list at position node of graph  
                SET new_dist TO dist PLUS cnt PLUS one  
                IF new_dist IS LESS THAN element at position neighbor of distances  
                    SET element at position neighbor of distances TO new_dist  
                    INSERT tuple of new_dist and neighbor INTO priority_queue maintaining order  
                END IF  
            END FOR  
        END WHILE  
        
        SET reachable_nodes TO zero  
        
        FOR each d IN distances  
            IF d IS LESS THAN OR EQUAL TO maxMoves  
                INCREMENT reachable_nodes BY one  
            END IF  
        END FOR  
        
        SET used_edges TO an empty mapping  
        
        FOR each u v cnt IN edges  
            SET moves_u TO the maximum between zero AND maxMoves MINUS element at position u of distances  
            SET moves_v TO the maximum between zero AND maxMoves MINUS element at position v of distances  
            SET reachable_new_nodes TO the minimum value between cnt AND moves_u PLUS moves_v  
            INCREMENT reachable_nodes BY reachable_new_nodes  
            ASSIGN used_edges at key tuple u v TO reachable_new_nodes  
        END FOR  
        
        RETURN reachable_nodes  
    END FUNCTION  
END CLASS