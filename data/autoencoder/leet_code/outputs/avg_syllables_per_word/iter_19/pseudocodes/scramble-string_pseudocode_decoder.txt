CLASS Solution  
    FUNCTION isScramble WITH PARAMETERS s1 AND s2  
        IF string s1 EQUALS string s2  
            RETURN true  
        END IF  
        IF the sorted characters of string s1 NOT EQUALS the sorted characters of string s2  
            RETURN false  
        END IF  
        SET n TO the LENGTH OF string s1  
        FOR index i FROM one TO n MINUS one  
            IF the result of calling isScramble WITH the substring from position zero TO index i MINUS one of s1 AND the substring from position zero TO index i MINUS one of s2 IS true  
            AND the result of calling isScramble WITH the substring from position index i TO the end of s1 AND the substring from position index i TO the end of s2 IS true  
                RETURN true  
            END IF  
            IF the result of calling isScramble WITH the substring from position zero TO index i MINUS one of s1 AND the substring from the position length OF s2 MINUS index i TO the end of s2 IS true  
            AND the result of calling isScramble WITH the substring from position index i TO the end of s1 AND the substring from position zero TO the position length OF s2 MINUS index i MINUS one of s2 IS true  
                RETURN true  
            END IF  
        END FOR  
        RETURN false  
    END FUNCTION  
END CLASS