CLASS Solution  
    FUNCTION maximumSwap(num)  
        SET digits TO the list of characters representing the textual form of num  
        SET last TO a mapping from each digit converted to number TO the position of its last occurrence in digits  
        FOR each position i AND digit d IN digits  
            FOR each digit d2 FROM nine DOWN TO digit d PLUS one  
                IF the position of last occurrence of digit d2 in last IS GREATER THAN i  
                    SET temporary variable TO element at position i of digits  
                    SET element at position i of digits TO element at position of last occurrence of digit d2 of digits  
                    SET element at position of last occurrence of digit d2 of digits TO temporary variable  
                    SET result_string TO the concatenation of all elements of digits in order  
                    RETURN the integer value corresponding to result_string  
                END IF  
            END FOR  
        END FOR  
        RETURN num  
    END FUNCTION  
END CLASS