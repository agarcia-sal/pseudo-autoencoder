CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO empty list  
        FOR each offer IN special  
            IF the SUM of elements at all positions except the last in offer IS GREATER THAN zero AND the element at the last position of offer IS LESS THAN the SUM of the PRODUCT of corresponding elements of price and offer at all positions except the last  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO the SUM of the PRODUCT of corresponding elements of price and needs  
            
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR index FROM zero TO the LENGTH OF offer MINUS one  
                    SET element AT position index OF new_needs TO the element AT position index OF needs MINUS the element AT position index OF offer  
                END FOR  
                
                IF all elements IN new_needs ARE GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO the MINIMUM OF min_cost AND the element AT the last position OF offer PLUS dfs(the tuple conversion OF new_needs)  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(the tuple conversion OF needs)  
END CLASS