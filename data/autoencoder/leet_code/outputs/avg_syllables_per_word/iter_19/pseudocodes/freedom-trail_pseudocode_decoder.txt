CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        SET char_positions TO a dictionary with default value as empty list  
        FOR each index FROM zero TO the LENGTH OF ring MINUS one  
            APPEND element at position index of ring TO the list at key of element at position index of ring in char_positions  
        END FOR  
        SET n TO the LENGTH OF ring  
        
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            SET min_steps TO infinity  
            FOR each pos IN the list at key of element at position i of key in char_positions  
                SET clockwise TO the remainder when the result of pos MINUS prev_pos is DIVIDED BY n  
                SET anticlockwise TO the remainder when the result of prev_pos MINUS pos is DIVIDED BY n  
                SET steps TO the SMALLER OF clockwise AND anticlockwise PLUS one PLUS the result of dp with parameters i PLUS one AND pos  
                SET min_steps TO the SMALLER OF min_steps AND steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  
        
        RETURN the result of dp with parameters zero AND zero  
    END FUNCTION  
END CLASS