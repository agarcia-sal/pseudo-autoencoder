CLASS Solution  
    FUNCTION minTaps(n, ranges)  
        SET max_range TO a list of zeros with length equal to the sum of n PLUS one  
        FOR each index i FROM zero TO n  
            IF the element at position i of ranges IS GREATER THAN zero  
                SET left TO the GREATER VALUE BETWEEN zero AND i MINUS the element at position i of ranges  
                SET right TO the SMALLER VALUE BETWEEN n AND i PLUS the element at position i of ranges  
                SET the element at position left of max_range TO the GREATER VALUE BETWEEN the element at position left of max_range AND right  
            END IF  
        END FOR  
        SET taps TO zero  
        SET current_end TO zero  
        SET farthest TO zero  
        FOR each index i FROM zero TO n  
            IF i IS GREATER THAN farthest  
                RETURN negative one  
            END IF  
            IF i IS GREATER THAN current_end  
                INCREMENT taps BY one  
                SET current_end TO farthest  
            END IF  
            SET farthest TO the GREATER VALUE BETWEEN farthest AND the element at position i of max_range  
        END FOR  
        RETURN taps  
    END FUNCTION  
END CLASS