CLASS Solution  
    FUNCTION new21Game WITH PARAMETERS n INTEGER k INTEGER maxPts INTEGER  
        FUNCTION dfs WITH PARAMETER i INTEGER  
            IF i GREATER THAN OR EQUAL TO k THEN  
                RETURN one IF i LESS THAN OR EQUAL TO n OTHERWISE zero  
            END IF  
            IF i EQUALS k MINUS one THEN  
                RETURN the MINIMUM OF (n MINUS k PLUS one) AND maxPts DIVIDED BY maxPts  
            END IF  
            RETURN dfs APPLIED TO i PLUS one PLUS (dfs APPLIED TO i PLUS one MINUS dfs APPLIED TO i PLUS maxPts PLUS one) DIVIDED BY maxPts  
        END FUNCTION  
        RETURN dfs APPLIED TO zero  
END CLASS