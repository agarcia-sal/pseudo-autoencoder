CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i OF trees  
            SET b TO element at position j OF trees  
            SET c TO element at position k OF trees  
            RETURN the result of the expression  
                the difference of b at position zero MINUS a at position zero MULTIPLIED BY the difference of c at position one MINUS b at position one  
                MINUS  
                the difference of b at position one MINUS a at position one MULTIPLIED BY the difference of c at position zero MINUS b at position zero  
        END FUNCTION

        SET n TO the LENGTH OF trees  
        IF n LESS THAN four THEN  
            RETURN trees  
        END IF  
        CALL the SORT METHOD on trees  
        SET vis TO a list of Boolean FALSE repeated n times  
        SET stk TO a list holding zero  
        FOR each i FROM one TO n MINUS one  
            WHILE the LENGTH OF stk GREATER THAN one AND the CALL of cross WITH PARAMETERS element at position LENGTH OF stk MINUS two OF stk, element at position LENGTH OF stk MINUS one OF stk, i yields a value LESS THAN zero HOLDS  
                SET vis at position element REMOVED FROM the END OF stk TO Boolean FALSE  
            END WHILE  
            SET vis at position i TO Boolean TRUE  
            APPEND i TO stk  
        END FOR  
        SET m TO the LENGTH OF stk  
        FOR each i FROM n MINUS two DOWN TO zero  
            IF vis at position i IS TRUE THEN  
                CONTINUE TO next iteration  
            END IF  
            WHILE the LENGTH OF stk GREATER THAN m AND the CALL of cross WITH PARAMETERS element at position LENGTH OF stk MINUS two OF stk, element at position LENGTH OF stk MINUS one OF stk, i yields a value LESS THAN zero HOLDS  
                REMOVE the last element FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
        REMOVE the last element FROM stk  
        RETURN a list composed of element at position i OF trees FOR each i IN stk  
    END FUNCTION  
END CLASS