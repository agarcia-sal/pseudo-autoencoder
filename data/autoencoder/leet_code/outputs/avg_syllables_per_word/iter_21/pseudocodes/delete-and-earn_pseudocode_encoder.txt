CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO CALL Counter WITH PARAMETERS nums  
        SET unique_nums TO CALL sorted WITH PARAMETERS count  
        SET dp TO LIST OF zero WITH THE LENGTH OF unique_nums PLUS one  
        SET element at position one OF dp TO element at position zero OF unique_nums MULTIPLIED BY element at position zero OF count AT key element at position zero OF unique_nums  
        FOR i FROM two TO THE LENGTH OF unique_nums PLUS one  
            SET num TO element at position i MINUS one OF unique_nums  
            IF num EQUALS element at position i MINUS two OF unique_nums PLUS one  
                SET element at position i OF dp TO THE GREATER OF element at position i MINUS one OF dp AND element at position i MINUS two OF dp PLUS num MULTIPLIED BY element at position zero OF count AT key num  
            ELSE  
                SET element at position i OF dp TO element at position i MINUS one OF dp PLUS num MULTIPLIED BY element at position zero OF count AT key num  
            END IF  
        END FOR  
        RETURN element at the last position OF dp  
    END FUNCTION  
END CLASS