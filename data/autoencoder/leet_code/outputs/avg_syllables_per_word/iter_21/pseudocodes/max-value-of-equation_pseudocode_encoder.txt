CLASS Solution  
    FUNCTION findMaxValueOfEquation(points, k)  
        SET max_value TO negative infinity  
        ASSIGN reference TO an empty double-ended queue named deque_  
        
        FOR each pair of values xj AND yj IN points  
            WHILE deque_ is NOT empty AND the difference between xj AND the second element at position zero OF deque_ is GREATER THAN k  
                REMOVE the element at the front of deque_  
            END WHILE  
            
            IF deque_ is NOT empty  
                SET max_value TO the greater value BETWEEN max_value AND the sum of yj AND xj AND the first element at position zero OF deque_  
            END IF  
            
            WHILE deque_ is NOT empty AND the difference between yj AND xj IS GREATER THAN OR EQUAL TO the first element at the last position OF deque_  
                REMOVE the element at the back of deque_  
            END WHILE  
            
            APPEND the pair of values yj MINUS xj AND xj TO deque_  
        END FOR  
        
        RETURN max_value  
    END FUNCTION  
END CLASS