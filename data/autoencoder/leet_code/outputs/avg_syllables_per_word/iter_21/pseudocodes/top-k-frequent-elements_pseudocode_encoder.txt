CLASS Solution  
    FUNCTION topKFrequent(nums AS List OF Integers, k AS Integer) RETURNS List OF Integers  
        SET frequency_map TO CALL defaultdict WITH PARAMETERS Integer  
        
        FOR each num IN nums  
            INCREMENT element at key num OF frequency_map BY one  
        END FOR  
        
        SET max_frequency TO the maximum value AMONG the values OF frequency_map  
        SET buckets TO CALL create_empty_list_of_lists WITH PARAMETERS max_frequency PLUS one  
        
        FOR each num AND freq IN the key value pairs OF frequency_map  
            APPEND num TO element at position freq OF buckets  
        END FOR  
        
        SET result TO empty list  
        FOR freq FROM max_frequency DOWN TO one  
            IF the length OF element at position freq OF buckets GREATER THAN zero  
                EXTEND result BY elements OF element at position freq OF buckets  
                IF the length OF result GREATER THAN OR EQUAL TO k  
                    RETURN the first k elements OF result  
                END IF  
            END IF  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS