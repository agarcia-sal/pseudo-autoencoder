CLASS Solution  
    FUNCTION maxValue(events, k)  
        CALL events SORTED BY the value at position one OF each element IN ascending order  
        SET n TO the LENGTH OF events  
        SET dp TO a list of lists where each inner list has k PLUS one zeros and there are n PLUS one such inner lists  
        FOR i FROM one TO n  
            SET start TO the value at position zero OF the element at position i MINUS one OF events  
            SET end TO the value at position one OF the element at position i MINUS one OF events  
            SET value TO the value at position two OF the element at position i MINUS one OF events  
            CALL j TO THE POSITION found by binary searching the leftmost index in events where the end value is GREATER THAN OR EQUAL TO start, USING the value at position one OF each element AS key  
            FOR l FROM one TO k  
                SET dp at position i and l TO the GREATER OF the value at dp position i MINUS one and l AND the sum of dp at position j and l MINUS one AND value  
            END FOR  
        END FOR  
        RETURN dp at position n and k  
    END FUNCTION  
END CLASS