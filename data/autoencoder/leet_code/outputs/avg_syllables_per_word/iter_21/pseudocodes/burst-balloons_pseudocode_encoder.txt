CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO a new list consisting of the number one FOLLOWED BY all elements of nums FOLLOWED BY the number one  
        SET n TO the LENGTH OF nums  
        
        FUNCTION create_dp_table(size)  
            SET table TO an empty list  
            FOR index FROM zero TO size MINUS one  
                APPEND a new list of zeros of length size TO table  
            END FOR  
            RETURN table  
        END FUNCTION
        
        SET dp TO CALL create_dp_table WITH PARAMETERS n  
        
        FOR length FROM two TO n MINUS one  
            FOR i FROM zero TO n MINUS length MINUS one  
                SET j TO i PLUS length  
                FOR k FROM i PLUS one TO j MINUS one  
                    SET coins TO element at position i OF nums MULTIPLIED BY element at position k OF nums MULTIPLIED BY element at position j OF nums PLUS element at position i OF dp AT position k PLUS element at position k OF dp AT position j  
                    IF coins GREATER THAN element at position i OF dp AT position j  
                        SET element at position i OF dp AT position j TO coins  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        
        RETURN element at position zero OF dp AT position n MINUS one  
    END FUNCTION  
END CLASS