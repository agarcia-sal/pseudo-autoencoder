CLASS Solution  
    FUNCTION maximumSwap(num)  
        CALL convert_number_to_digit_list WITH PARAMETERS num  
        SET digits TO the result of convert_number_to_digit_list  
        CALL create_last_occurrence_dictionary WITH PARAMETERS digits  
        SET last TO the result of create_last_occurrence_dictionary  

        FOR i FROM zero TO the LENGTH OF digits MINUS one  
            SET d TO element at position i OF digits  
            FOR d2 FROM nine DOWN TO d PLUS one STEP minus one  
                IF last CONTAINS KEY d2 AND the element at key d2 OF last IS GREATER THAN i  
                    CALL swap_elements_in_list WITH PARAMETERS digits, i, element at key d2 OF last  
                    SET swapped_digits TO the result of swap_elements_in_list  
                    CALL convert_digit_list_to_number WITH PARAMETERS swapped_digits  
                    RETURN the result of convert_digit_list_to_number  
                END IF  
            END FOR  
        END FOR  

        RETURN num  
    END FUNCTION  

    FUNCTION convert_number_to_digit_list(number)  
        DESCRIBE converting the number to a list of digits represented as strings  
        RETURN the list of digit strings  
    END FUNCTION  

    FUNCTION create_last_occurrence_dictionary(digit_list)  
        DESCRIBE creating a dictionary mapping each digit converted to integer TO the last index where it appears in digit_list  
        RETURN the dictionary  
    END FUNCTION  

    FUNCTION swap_elements_in_list(list_object, first_index, second_index)  
        DESCRIBE swapping elements at first_index and second_index in list_object  
        RETURN the modified list_object  
    END FUNCTION  

    FUNCTION convert_digit_list_to_number(digit_list)  
        DESCRIBE joining all elements of digit_list into a single string representing the number  
        CONVERT the resulting string TO an integer number  
        RETURN the integer number  
    END FUNCTION  
END CLASS