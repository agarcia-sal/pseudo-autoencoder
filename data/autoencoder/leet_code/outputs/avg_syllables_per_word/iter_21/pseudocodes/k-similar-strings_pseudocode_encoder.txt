CLASS Solution  
    FUNCTION kSimilarity(s1, s2)  
        FROM the collection module IMPORT dequeue as deque  
        
        FUNCTION neighbors(s)  
            SET i TO zero  
            WHILE i LESS THAN the LENGTH OF s AND the element at position i OF s EQUALS the element at position i OF s2 HOLDS  
                INCREMENT i BY one  
            END WHILE  
            FOR j FROM i PLUS one TO the LENGTH OF s MINUS one  
                IF the element at position j OF s EQUALS the element at position i OF s2 AND the element at position j OF s NOT EQUALS the element at position j OF s2 THEN  
                    YIELD concatenation of substring from position zero TO i MINUS one OF s PLUS the element at position j OF s PLUS substring from position i PLUS one TO j MINUS one OF s PLUS the element at position i OF s PLUS substring from position j PLUS one TO END OF s  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET queue TO deque CONTAINING a tuple of s1 AND zero  
        SET visited TO a set CONTAINING s1  
        
        WHILE queue HOLDS  
            SET s AND swaps TO the first element REMOVED FROM queue  
            IF s EQUALS s2 THEN  
                RETURN swaps  
            END IF  
            FOR each neighbor IN CALL neighbors WITH PARAMETERS s  
                IF neighbor NOT IN visited THEN  
                    ADD neighbor TO visited  
                    APPEND a tuple of neighbor AND swaps PLUS one TO queue  
                END IF  
            END FOR  
        END WHILE  
    END FUNCTION  
END CLASS