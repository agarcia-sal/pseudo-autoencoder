CLASS Solution  
    FUNCTION nthSuperUglyNumber(n, primes)  
        SET ugly_numbers TO a new list containing one element one  
        SET heap TO a new list containing pairs of each prime and its position from zero TO the LENGTH OF primes MINUS one with prime first and position second  
        CALL heapify on heap to organize it as a min-heap  
        SET indices TO a new list of zeros with the LENGTH OF primes  
        
        WHILE the LENGTH OF ugly_numbers IS LESS THAN n  
            CALL heappop on heap and ASSIGN the first element TO next_ugly and the second element TO prime_index  
            
            IF next_ugly IS NOT EQUAL TO the last element of ugly_numbers  
                APPEND next_ugly TO ugly_numbers  
            END IF  
            
            INCREMENT the element at position prime_index OF indices BY one  
            SET next_multiple TO the element at position prime_index OF primes MULTIPLIED BY the element at position indices at prime_index OF ugly_numbers  
            CALL heappush on heap WITH PARAMETERS next_multiple and prime_index  
        END WHILE  
        
        RETURN the last element of ugly_numbers  
    END FUNCTION  
END CLASS