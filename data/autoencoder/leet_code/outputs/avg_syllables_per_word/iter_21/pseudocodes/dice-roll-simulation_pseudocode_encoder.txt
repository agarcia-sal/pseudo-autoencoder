CLASS Solution
    FUNCTION dieSimulator(n, rollMax)
        SET MOD TO one billion PLUS seven
        
        CALL max_rollMax_element TO max_element IN rollMax
        
        SET dp TO three dimensional list WITH dimensions (n PLUS one) BY six BY (max_rollMax_element PLUS one) FILLED WITH zero
        
        FOR j FROM zero TO five
            SET element at position one OF dp at position one at position j TO one
        END FOR
        
        FOR i FROM two TO n
            FOR j FROM zero TO five
                FOR k FROM one TO element at position j OF rollMax
                    IF k GREATER THAN one
                        SET element at position k OF dp at position i at position j TO element at position k MINUS one OF dp at position i MINUS one at position j
                    ELSE
                        SET sum_value TO zero
                        FOR x FROM zero TO five
                            IF x NOT EQUALS j
                                FOR y FROM one TO element at position x OF rollMax
                                    INCREMENT sum_value BY element at position y OF dp at position i MINUS one at position x
                                END FOR
                            END IF
                        END FOR
                        SET element at position k OF dp at position i at position j TO sum_value MODULO MOD
                    END IF
                END FOR
            END FOR
        END FOR
        
        SET result TO zero
        FOR j FROM zero TO five
            FOR k FROM one TO element at position j OF rollMax
                INCREMENT result BY element at position k OF dp at position n at position j
            END FOR
        END FOR
        
        RETURN result MODULO MOD
    END FUNCTION
END CLASS