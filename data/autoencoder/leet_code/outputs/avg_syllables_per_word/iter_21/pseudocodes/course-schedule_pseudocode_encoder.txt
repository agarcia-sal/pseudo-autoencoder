CLASS Solution  
    FUNCTION canFinish(numCourses, prerequisites)  
        CALL IMPORT collections  
        CALL IMPORT collections DEFAULTDICT  
        CALL IMPORT collections DEQUE  
        
        SET graph TO CALL defaultdict WITH PARAMETERS list  
        SET indegree TO list OF zeroes OF LENGTH numCourses  
        
        FOR each pair OF course AND prereq IN prerequisites  
            CALL APPEND course TO element at position prereq OF graph  
            INCREMENT element at position course OF indegree BY one  
        END FOR  
        
        SET queue TO CALL deque WITH PARAMETERS list OF courses WHERE course IS IN range FROM zero TO numCourses MINUS one AND element at position course OF indegree EQUALS zero  
        
        WHILE queue IS NOT empty  
            SET current_course TO CALL popleft ON queue  
            DECREMENT numCourses BY one  
            
            FOR each next_course IN element at position current_course OF graph  
                DECREMENT element at position next_course OF indegree BY one  
                IF element at position next_course OF indegree EQUALS zero  
                    CALL append next_course TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN numCourses EQUALS zero  
    END FUNCTION  
END CLASS