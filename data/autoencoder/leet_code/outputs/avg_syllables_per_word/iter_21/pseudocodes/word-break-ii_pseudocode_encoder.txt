CLASS Solution  
    FUNCTION wordBreak(s, wordDict)  
        SET wordSet TO CONVERT wordDict TO SET  
        SET memo TO EMPTY DICTIONARY  
        
        FUNCTION backtrack(start)  
            IF start IS A KEY IN memo THEN  
                RETURN VALUE AT KEY start IN memo  
            END IF  
            
            IF start EQUALS THE LENGTH OF s THEN  
                RETURN LIST CONTAINING EMPTY STRING  
            END IF  
            
            SET res TO EMPTY LIST  
            FOR end FROM start PLUS ONE TO THE LENGTH OF s INCLUSIVE  
                SET word TO SUBSTRING FROM POSITION start TO POSITION end MINUS ONE OF s  
                IF word IS IN wordSet THEN  
                    FOR each sentence IN CALL backtrack WITH PARAMETER end  
                        IF sentence IS NOT EMPTY THEN  
                            APPEND CONCATENATION OF word, SPACE, AND sentence TO res  
                        ELSE  
                            APPEND word TO res  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
            
            SET VALUE AT KEY start IN memo TO res  
            RETURN res  
        END FUNCTION  
        
        RETURN CALL backtrack WITH PARAMETER zero  
    END FUNCTION  
END CLASS