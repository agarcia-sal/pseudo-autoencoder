CLASS Solution  
    FUNCTION largestOverlap(img1, img2)  
        SET n TO the LENGTH OF img1  
        SET points1 TO the list OF pairs (i, j) WHERE i IS from zero TO n MINUS one AND j IS from zero TO n MINUS one AND the element at position i OF img1 at position j EQUALS one  
        SET points2 TO the list OF pairs (i, j) WHERE i IS from zero TO n MINUS one AND j IS from zero TO n MINUS one AND the element at position i OF img2 at position j EQUALS one  
          
        CALL a function TO create a default dictionary of integers AND ASSIGN it TO overlap_count  
          
        FOR each pair (x1, y1) IN points1  
            FOR each pair (x2, y2) IN points2  
                SET dx TO x2 MINUS x1  
                SET dy TO y2 MINUS y1  
                INCREMENT the value at key pair(dx, dy) IN overlap_count BY one  
            END FOR  
        END FOR  
          
        SET maximum_overlap TO zero  
        FOR each value IN the values OF overlap_count  
            IF value GREATER THAN maximum_overlap  
                SET maximum_overlap TO value  
            END IF  
        END FOR  
        RETURN maximum_overlap  
    END FUNCTION  
END CLASS