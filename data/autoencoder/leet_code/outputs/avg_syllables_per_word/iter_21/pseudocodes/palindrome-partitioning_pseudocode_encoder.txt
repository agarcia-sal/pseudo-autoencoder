CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            IF sub EQUALS substring FROM the LENGTH OF sub MINUS one DOWN TO zero OF sub  
                RETURN true  
            ELSE  
                RETURN false  
            END IF  
        END FUNCTION  
        
        FUNCTION backtrack(start, path)  
            IF start EQUALS the LENGTH OF s  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s  
                IF CALL is_palindrome WITH PARAMETERS the substring FROM start TO end OF s HOLDS true  
                    CALL backtrack WITH PARAMETERS end, the concatenation OF path AND a list containing the substring FROM start TO end OF s  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET result TO an empty list  
        CALL backtrack WITH PARAMETERS zero, an empty list  
        RETURN result  
    END FUNCTION  
END CLASS