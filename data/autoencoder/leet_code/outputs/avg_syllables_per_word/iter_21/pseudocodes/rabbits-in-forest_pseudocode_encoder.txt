CLASS Solution  
    FUNCTION numRabbits(answers)  
        CALL answer_counts TO CALL Counter WITH PARAMETERS answers  
        SET total_rabbits TO zero  
        FOR each key_value_pair IN answer_counts items  
            SET answer TO the key component OF key_value_pair  
            SET count TO the value component OF key_value_pair  
            SET groups TO the RESULT OF the integer division OF the sum of count PLUS answer DIVIDED BY the sum of answer PLUS one  
            INCREMENT total_rabbits BY the product of groups MULTIPLIED BY the sum of answer PLUS one  
        END FOR  
        RETURN total_rabbits  
    END FUNCTION  
END CLASS