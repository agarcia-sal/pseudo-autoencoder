CLASS Solution  
    FUNCTION minCost(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero OF grid  
        SET directions TO a list of four pairs representing zero and one, zero and negative one, one and zero, negative one and zero respectively  
        CALL create_cost_matrix WITH PARAMETERS m and n AND ASSIGN TO costs  
        SET element at position zero position zero OF costs TO zero  
        SET priority queue pq TO a list containing a triple of zero, zero, zero  
        SET visited TO an empty set  
        WHILE the LENGTH OF pq IS GREATER THAN zero  
            CALL remove_element WITH PARAMETERS pq AND ASSIGN TO cost, i, j  
            IF the pair i and j IS IN visited  
                CONTINUE TO the next iteration OF the loop  
            END IF  
            ADD the pair i and j TO visited  
            IF i EQUALS m MINUS one AND j EQUALS n MINUS one  
                RETURN cost  
            END IF  
            FOR each index k AND pair di and dj IN directions  
                SET ni TO i PLUS di  
                SET nj TO j PLUS dj  
                IF ni IS GREATER THAN OR EQUAL TO zero AND ni IS LESS THAN m AND nj IS GREATER THAN OR EQUAL TO zero AND nj IS LESS THAN n  
                    SET new_cost TO cost PLUS one IF k PLUS one DOES NOT EQUAL element at position i position j OF grid OTHERWISE zero  
                    IF new_cost IS LESS THAN element at position ni position nj OF costs  
                        SET element at position ni position nj OF costs TO new_cost  
                        CALL insert_priority_queue WITH PARAMETERS pq AND new_cost, ni, nj  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  

    FUNCTION create_cost_matrix(m, n)  
        RETURN a two-dimensional list with m rows and n columns where each element IS positive infinity  
    END FUNCTION  

    FUNCTION remove_element(pq)  
        RETURN and REMOVE the element with the smallest cost from pq WHICH IS a triple containing cost and two indices  
    END FUNCTION  

    FUNCTION insert_priority_queue(pq, cost, i, j)  
        INSERT the triple containing cost, i, j INTO pq maintaining the priority order by cost  
    END FUNCTION  
END CLASS