CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO A MAPPING FROM each element x IN arr TO its position i  
        SET dp TO AN EMPTY MAPPING  
        SET max_length TO zero  
        
        FOR index k FROM zero TO THE LENGTH OF arr MINUS ONE  
            FOR index j FROM zero TO k MINUS ONE  
                SET i TO THE POSITION OF THE ELEMENT EQUAL TO THE ELEMENT AT POSITION k OF arr MINUS THE ELEMENT AT POSITION j OF arr IN index OR negative one IF NOT FOUND  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j THEN  
                    SET dp AT KEY j COMMA k TO THE VALUE AT KEY i COMMA j OF dp OR two IF NOT FOUND PLUS one  
                    SET max_length TO THE GREATER OF max_length AND dp AT KEY j COMMA k  
                END IF  
            END FOR  
        END FOR  
        
        IF max_length IS GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS