CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j THEN  
                RETURN zero  
            END IF  
            IF the PAIR of i and j IS IN memo THEN  
                RETURN the VALUE OF memo AT the PAIR of i and j  
            END IF  
            SET result TO CALL dp WITH PARAMETERS i AND j MINUS one AND memo PLUS one  
            FOR k FROM i TO j MINUS one  
                IF the ELEMENT at position k OF s EQUALS the ELEMENT at position j OF s THEN  
                    SET result TO the MINIMUM OF result AND the SUM OF CALL dp WITH PARAMETERS i AND k MINUS one AND memo PLUS CALL dp WITH PARAMETERS k AND j MINUS one AND memo  
                END IF  
            END FOR  
            SET memo AT the PAIR of i and j TO result  
            RETURN result  
        END FUNCTION  
        RETURN CALL dp WITH PARAMETERS zero AND the LENGTH OF s MINUS one AND an EMPTY DICTIONARY  
    END FUNCTION  
END CLASS