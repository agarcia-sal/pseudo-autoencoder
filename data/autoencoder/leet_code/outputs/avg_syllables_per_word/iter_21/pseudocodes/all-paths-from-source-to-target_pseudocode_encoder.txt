CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO the LENGTH OF graph  
        SET q TO an empty double-ended queue INITIALIZED WITH a list CONTAINING zero  
        SET ans TO an empty list  
        WHILE q IS NOT EMPTY  
            CALL popleft METHOD ON q AND ASSIGN RESULT TO path  
            SET u TO the element at the LAST position OF path  
            IF u EQUALS n MINUS one  
                APPEND path TO ans  
                CONTINUE TO the next iteration OF the loop  
            END IF  
            FOR each v IN the element at position u OF graph  
                APPEND the concatenation OF path AND a list CONTAINING v TO q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS