CLASS Solution  
    FUNCTION numSquares(n)  
        SET dp TO a list of size n PLUS one filled with positive infinity values  
        SET element at position zero OF dp TO zero  
        SET squares TO an empty list  
        SET i TO one  
        WHILE the product of i MULTIPLIED BY i IS LESS THAN OR EQUAL TO n HOLDS  
            APPEND the product of i MULTIPLIED BY i TO squares  
            INCREMENT i BY one  
        END WHILE  
        FOR i FROM one TO n INCLUSIVE  
            FOR each square IN squares  
                IF i IS LESS THAN square THEN  
                    BREAK the inner loop  
                END IF  
                SET element at position i OF dp TO the minimum value BETWEEN element at position i OF dp AND the sum of element at position i MINUS square OF dp PLUS one  
            END FOR  
        END FOR  
        RETURN element at position n OF dp  
    END FUNCTION  
END CLASS