CLASS Solution  
    FUNCTION numFriendRequests(ages)  
        FUNCTION request_will_be_sent(age_x, age_y)  
            RETURN NOT (age_y LESS THAN OR EQUAL TO age_x MULTIPLIED BY one HALF PLUS seven OR age_y GREATER THAN age_x OR age_y GREATER THAN one hundred AND age_x LESS THAN one hundred)  
        END FUNCTION  

        SET count TO the LIST OF zero REPEATED one hundred AND twenty ONE TIMES  
        FOR each age IN ages  
            INCREMENT element at position age OF count BY one  
        END FOR  

        SET total_requests TO zero  
        FOR age_x FROM one TO one hundred AND twenty  
            FOR age_y FROM one TO one hundred AND twenty  
                IF call request_will_be_sent WITH PARAMETERS age_x AND age_y HOLDS  
                    INCREMENT total_requests BY element at position age_x OF count MULTIPLIED BY (element at position age_y OF count MINUS one IF age_x EQUALS age_y OTHERWISE zero)  
                END IF  
            END FOR  
        END FOR  

        RETURN total_requests  
    END FUNCTION  
END CLASS