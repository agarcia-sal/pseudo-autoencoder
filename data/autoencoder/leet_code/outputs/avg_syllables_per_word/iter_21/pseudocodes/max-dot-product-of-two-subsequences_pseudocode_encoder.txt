CLASS Solution  
    FUNCTION maxDotProduct(nums1, nums2)  
        SET m TO the LENGTH OF nums1  
        SET n TO the LENGTH OF nums2  
        
        CALL initializeDPTable WITH PARAMETERS m AND n  
        SET dp TO the result of initializeDPTable  
        
        FOR i FROM one TO m  
            FOR j FROM one TO n  
                SET current_product TO element at position i MINUS one OF nums1 MULTIPLIED BY element at position j MINUS one OF nums2  
                
                SET candidate_one TO current_product  
                SET candidate_two TO element at position i MINUS one OF dp  
                SET candidate_two TO element at position j OF dp  
                SET candidate_two TO element at position j OF dp  // correction needed for clarity  
                SET candidate_two TO element at position i MINUS one OF dp  
                
                SET candidate_three TO element at position i MINUS one OF dp  
                SET candidate_three TO element at position j OF dp  
                SET candidate_four TO element at position i MINUS one OF dp  
                SET candidate_four TO element at position j MINUS one OF dp PLUS current_product  
                
                SET dp at position i and j TO the maximum value AMONG candidate_one, element at position i MINUS one and j OF dp, element at position i and j MINUS one OF dp, AND candidate_four  
            END FOR  
        END FOR  
        
        RETURN element at position m and n OF dp  
    END FUNCTION  
    
    
    FUNCTION initializeDPTable(m, n)  
        CREATE dp AS a TWO-DIMENSIONAL LIST WITH dimensions m PLUS one BY n PLUS one  
        FOR index_i FROM zero TO m  
            CREATE current_row AS LIST of size n PLUS one  
            FOR index_j FROM zero TO n  
                SET element at position index_j OF current_row TO a very small negative number representing negative infinity  
            END FOR  
            APPEND current_row TO dp  
        END FOR  
        RETURN dp  
    END FUNCTION  
END CLASS