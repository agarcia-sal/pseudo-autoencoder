CLASS Solution  
    FUNCTION numberOfBoomerangs(points)  
        SET ans TO zero  
        FOR each point_p1 IN points  
            CALL FUNCTION Counter AND ASSIGN RESULT TO cnt  
            FOR each point_p2 IN points  
                SET dx TO the element at position zero OF point_p1 MINUS the element at position zero OF point_p2  
                SET dy TO the element at position one OF point_p1 MINUS the element at position one OF point_p2  
                SET d TO dx MULTIPLIED BY dx PLUS dy MULTIPLIED BY dy  
                INCREMENT ans BY the value at key d IN cnt  
                INCREMENT the value at key d IN cnt BY one  
            END FOR  
        END FOR  
        MULTIPLY ans BY two  
        RETURN ans  
    END FUNCTION  
END CLASS