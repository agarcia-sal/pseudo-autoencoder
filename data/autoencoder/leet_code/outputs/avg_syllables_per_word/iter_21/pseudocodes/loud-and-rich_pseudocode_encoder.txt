CLASS Solution  
    FUNCTION loudAndRich(richer, quiet)  
        CALL build_graph_with_default_list(graph)  
        FOR each element_pair IN richer  
            SET a TO element at position zero OF element_pair  
            SET b TO element at position one OF element_pair  
            APPEND a TO element at position b OF graph  
        END FOR  
        
        SET n TO the LENGTH OF quiet  
        SET answer TO a list of size n FILLED WITH minus one  
        
        FUNCTION dfs(person)  
            IF element at position person OF answer EQUALS minus one THEN  
                SET element at position person OF answer TO person  
                FOR each neighbor IN element at position person OF graph  
                    SET candidate TO CALL dfs WITH PARAMETERS neighbor  
                    IF element at position candidate OF quiet LESS THAN element at position element at position person OF answer OF quiet THEN  
                        SET element at position person OF answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN element at position person OF answer  
        END FUNCTION  
        
        FOR index FROM zero TO n MINUS one  
            CALL dfs WITH PARAMETERS index  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS