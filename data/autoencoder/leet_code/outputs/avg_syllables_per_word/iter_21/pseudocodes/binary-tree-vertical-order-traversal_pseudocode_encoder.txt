CLASS TreeNode  
    FUNCTION __init__(self, val EQUALS zero, left EQUALS none, right EQUALS none)  
        SET self.val TO val  
        SET self.left TO left  
        SET self.right TO right  
    END FUNCTION  
END CLASS  

FUNCTION tree_node(values)  
    IF values IS empty  
        RETURN none  
    END IF  
    SET root TO CALL TreeNode WITH PARAMETERS the element at position zero OF values  
    SET i TO one  
    SET queue TO CALL deque WITH PARAMETERS empty sequence  
    CALL append WITH PARAMETERS root ON queue  
    WHILE queue HOLDS  
        SET node TO CALL popleft ON queue  
        IF i IS LESS THAN the LENGTH OF values AND the element at position i OF values IS NOT none  
            SET node.left TO CALL TreeNode WITH PARAMETERS the element at position i OF values  
            CALL append WITH PARAMETERS node.left ON queue  
        END IF  
        INCREMENT i BY one  
        IF i IS LESS THAN the LENGTH OF values AND the element at position i OF values IS NOT none  
            SET node.right TO CALL TreeNode WITH PARAMETERS the element at position i OF values  
            CALL append WITH PARAMETERS node.right ON queue  
        END IF  
        INCREMENT i BY one  
    END WHILE  
    RETURN root  
END FUNCTION  

FUNCTION is_same_tree(p, q)  
    IF p IS none AND q IS none  
        RETURN true  
    ELSE IF p IS none OR q IS none  
        RETURN false  
    ELSE IF p.val IS NOT EQUALS TO q.val  
        RETURN false  
    ELSE  
        RETURN CALL is_same_tree WITH PARAMETERS p.left, q.left AND CALL is_same_tree WITH PARAMETERS p.right, q.right  
    END IF  
END FUNCTION  

CLASS Solution  
    FUNCTION verticalOrder(self, root)  
        IF root IS none  
            RETURN empty list  
        END IF  
        SET column_table TO CALL defaultdict WITH PARAMETERS list  
        SET queue TO CALL deque WITH PARAMETERS the sequence OF the pair root AND zero  
        SET min_column TO zero  
        SET max_column TO zero  
        WHILE queue HOLDS  
            SET node, column_index TO CALL popleft ON queue  
            IF node IS NOT none  
                CALL append WITH PARAMETERS node.val ON the list AT key column_index OF column_table  
                IF column_index IS LESS THAN min_column  
                    SET min_column TO column_index  
                END IF  
                IF column_index IS GREATER THAN max_column  
                    SET max_column TO column_index  
                END IF  
                CALL append WITH PARAMETERS the pair node.left AND column_index MINUS one ON queue  
                CALL append WITH PARAMETERS the pair node.right AND column_index PLUS one ON queue  
            END IF  
        END WHILE  
        SET result TO empty list  
        FOR column_index FROM min_column TO max_column  
            CALL append WITH PARAMETERS the list AT key column_index OF column_table ON result  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS