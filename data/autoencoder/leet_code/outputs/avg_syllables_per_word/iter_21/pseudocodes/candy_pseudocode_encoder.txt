CLASS Solution  
    FUNCTION candy(ratings)  
        SET n TO the LENGTH OF ratings  
        SET candies TO a list of size n where each element IS one  
        FOR index FROM one TO n MINUS one  
            IF element at position index OF ratings GREATER THAN element at position index MINUS one OF ratings  
                SET element at position index OF candies TO element at position index MINUS one OF candies PLUS one  
            END IF  
        END FOR  
        FOR index FROM n MINUS two DOWN TO zero  
            IF element at position index OF ratings GREATER THAN element at position index PLUS one OF ratings  
                SET element at position index OF candies TO the GREATER VALUE BETWEEN element at position index OF candies AND element at position index PLUS one OF candies PLUS one  
            END IF  
        END FOR  
        SET total_candies TO zero  
        FOR each candy_count IN candies  
            INCREMENT total_candies BY candy_count  
        END FOR  
        RETURN total_candies  
    END FUNCTION  
END CLASS