CLASS Solution  
    FUNCTION createSortedArray(instructions)  
        SET MOD TO one billion PLUS seven  
        SET MAX TO the maximum element IN instructions PLUS one  
        SET bit TO a new list containing zero REPEATED MAX TIMES  
        
        FUNCTION update(idx, val)  
            WHILE idx IS LESS THAN MAX  
                INCREMENT element at position idx OF bit BY val  
                INCREMENT idx BY the bitwise AND of idx AND the negation of idx  
            END WHILE  
        END FUNCTION  
        
        FUNCTION query(idx)  
            SET total TO zero  
            WHILE idx IS GREATER THAN zero  
                INCREMENT total BY element at position idx OF bit  
                DECREMENT idx BY the bitwise AND of idx AND the negation of idx  
            END WHILE  
            RETURN total  
        END FUNCTION  
        
        SET total_cost TO zero  
        FOR each i AND num IN instructions WITH INDEX i  
            SET less_than TO CALL query WITH PARAMETERS num MINUS one  
            SET greater_than TO i MINUS CALL query WITH PARAMETERS num  
            SET cost TO the minimum OF less_than AND greater_than  
            SET total_cost TO (total_cost PLUS cost) MODULO MOD  
            CALL update WITH PARAMETERS num AND one  
        END FOR  
        
        RETURN total_cost  
    END FUNCTION  
END CLASS