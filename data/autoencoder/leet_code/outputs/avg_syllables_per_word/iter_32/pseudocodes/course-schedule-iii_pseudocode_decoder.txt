CLASS Solution  
    FUNCTION scheduleCourse WITH PARAMETER courses  
        CALL function sort_courses_by_end_day WITH PARAMETER courses  
        SET max_heap TO empty list  
        SET current_end_day TO zero  
        FOR each element IN courses  
            SET duration TO element at position zero of element  
            SET last_day TO element at position one of element  
            IF current_end_day PLUS duration LESS THAN OR EQUAL TO last_day THEN  
                CALL function push_duration_negated TO max_heap WITH PARAMETER duration  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap IS NOT empty AND NEGATION of element at position zero of max_heap GREATER THAN duration THEN  
                INCREMENT current_end_day BY duration PLUS element popped from max_heap  
                CALL function push_duration_negated TO max_heap WITH PARAMETER duration  
            END IF  
        END FOR  
        RETURN the LENGTH OF max_heap  
    END FUNCTION  

    FUNCTION sort_courses_by_end_day WITH PARAMETER courses  
        SORT courses BY the second element of each course in ascending order  
    END FUNCTION  

    FUNCTION push_duration_negated TO max_heap WITH PARAMETER duration  
        INSERT the NEGATION of duration into max_heap maintaining max heap property  
    END FUNCTION  
END CLASS