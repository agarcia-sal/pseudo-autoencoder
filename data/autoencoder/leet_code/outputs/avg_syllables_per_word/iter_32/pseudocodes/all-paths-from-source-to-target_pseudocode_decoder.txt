CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO LENGTH OF graph  
        ASSIGN reference TO a double ended queue initialized with a list containing zero  
        ASSIGN reference TO an empty list named ans  
        WHILE the double ended queue is not empty  
            REMOVE and ASSIGN the element at the front of the double ended queue TO path  
            ASSIGN reference TO the element at the last position of path TO u  
            IF u EQUALS n MINUS one  
                APPEND path TO ans  
                CONTINUE to next iteration of the WHILE loop  
            END IF  
            FOR each element v IN the collection at position u of graph  
                APPEND the concatenation of path and a list containing v TO the end of the double ended queue  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS