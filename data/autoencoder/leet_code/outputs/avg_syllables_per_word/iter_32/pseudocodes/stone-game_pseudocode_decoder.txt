CLASS Solution  
    FUNCTION stoneGame(piles)  
        FUNCTION dfs(i j)  
            IF i GREATER THAN j  
                RETURN zero  
            END IF  
            RETURN maximum between element at position i of piles MINUS result of dfs with parameters i PLUS one and j AND element at position j of piles MINUS result of dfs with parameters i and j MINUS one  
        END FUNCTION  
        RETURN result of dfs with parameters zero and length of piles MINUS one GREATER THAN zero  
    END FUNCTION  
END CLASS