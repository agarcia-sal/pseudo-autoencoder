CLASS Solution
    FUNCTION outerTrees(trees)
        FUNCTION cross(i, j, k)
            SET a TO element at position i of trees
            SET b TO element at position j of trees
            SET c TO element at position k of trees
            RETURN the difference between the product of the difference of the first element of b and the first element of a and the difference of the second element of c and the second element of b AND the product of the difference of the second element of b and the second element of a and the difference of the first element of c and the first element of b
        END FUNCTION

        SET n TO the LENGTH OF trees
        IF n LESS THAN four
            RETURN trees
        END IF

        SORT trees in ascending order
        SET vis TO list of boolean False repeated n times
        SET stk TO list containing zero

        FOR i FROM one TO n MINUS one
            WHILE the LENGTH OF stk GREATER THAN one AND cross of element at position LENGTH OF stk MINUS two of stk AND element at position LENGTH OF stk MINUS one of stk AND i LESS THAN zero
                SET the element at the last position of stk popped TO removed_index
                SET the element at position removed_index of vis TO False
            END WHILE
            SET the element at position i of vis TO True
            APPEND i TO stk
        END FOR

        SET m TO the LENGTH OF stk

        FOR i FROM n MINUS two DOWN TO zero STEP negative one
            IF the element at position i of vis EQUALS True
                CONTINUE to next iteration of loop
            END IF
            WHILE the LENGTH OF stk GREATER THAN m AND cross of element at position LENGTH OF stk MINUS two of stk AND element at position LENGTH OF stk MINUS one of stk AND i LESS THAN zero
                REMOVE the last element FROM stk
            END WHILE
            APPEND i TO stk
        END FOR

        REMOVE the last element FROM stk

        SET result TO empty list
        FOR each index_element IN stk
            APPEND element at position index_element of trees TO result
        END FOR

        RETURN result
    END FUNCTION
END CLASS