CLASS Solution  
    FUNCTION movesToStamp(stamp, target)  
        SET length_of_stamp TO the LENGTH OF stamp  
        SET length_of_target TO the LENGTH OF target  
        SET indeg TO a list of length length_of_target MINUS length_of_stamp PLUS one with each element SET TO length_of_stamp  
        SET queue TO an empty double-ended queue  
        SET graph TO a list of length length_of_target with each element an empty list  
        FOR index_i FROM zero TO length_of_target MINUS length_of_stamp  
            FOR index_j FROM zero TO the LENGTH OF stamp MINUS one  
                SET character_c TO element at position index_j of stamp  
                IF element at position index_i PLUS index_j of target EQUALS character_c  
                    DECREMENT element at position index_i of indeg BY one  
                    IF element at position index_i of indeg EQUALS zero  
                        APPEND index_i TO queue  
                    END IF  
                ELSE  
                    APPEND index_i TO element at position index_i PLUS index_j of graph  
                END IF  
            END FOR  
        END FOR  
        SET answer_list TO an empty list  
        SET visited TO a list of length length_of_target with each element SET TO false  
        WHILE queue is not empty  
            REMOVE first element from queue AND ASSIGN TO current_index  
            APPEND current_index TO answer_list  
            FOR index_j FROM zero TO length_of_stamp MINUS one  
                IF element at position current_index PLUS index_j of visited EQUALS false  
                    SET element at position current_index PLUS index_j of visited TO true  
                    FOR each neighbor_index IN element at position current_index PLUS index_j of graph  
                        DECREMENT element at position neighbor_index of indeg BY one  
                        IF element at position neighbor_index of indeg EQUALS zero  
                            APPEND neighbor_index TO queue  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
        END WHILE  
        IF all elements of visited EQUAL true  
            RETURN the reverse of answer_list  
        ELSE  
            RETURN an empty list  
        END IF  
    END FUNCTION  
END CLASS