CLASS Solution  
    FUNCTION nthSuperUglyNumber(n, primes)  
        SET ugly_numbers TO list containing the number one  
        SET heap TO list of pairs where each pair is the element at position i of primes AND i for each i and element in primes by enumeration  
        TRANSFORM heap INTO a min-heap structure  
        SET indices TO list containing zero repeated as many times as the length of primes  
        WHILE the length of ugly_numbers is LESS THAN n  
            REMOVE the smallest pair from heap AND ASSIGN the first element of the pair TO next_ugly AND the second element TO prime_index  
            IF next_ugly NOT EQUALS the last element of ugly_numbers  
                APPEND next_ugly TO ugly_numbers  
            END IF  
            INCREMENT by one the element at position prime_index of indices  
            SET next_multiple TO the element at position prime_index of primes MULTIPLIED BY the element at position given by the element at position prime_index of indices of ugly_numbers  
            INSERT the pair consisting of next_multiple AND prime_index INTO heap maintaining the heap property  
        END WHILE  
        RETURN the last element of ugly_numbers  
    END FUNCTION  
END CLASS