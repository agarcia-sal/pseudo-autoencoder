CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO an empty list  
        FOR each offer IN the original special  
            IF the sum of the elements of offer except the last element IS GREATER THAN zero  
            AND the last element of offer IS LESS THAN the sum of each element in price MULTIPLIED BY the corresponding element in offer except the last element  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO the sum of each element in price MULTIPLIED BY the corresponding element in needs  
            FOR each offer IN special  
                SET new_needs TO an empty list  
                FOR each element n IN needs and element o IN offer except the last element  
                    APPEND element n MINUS element o TO new_needs  
                END FOR  
                IF for all elements n IN new_needs, element n IS GREATER THAN OR EQUAL TO zero  
                    SET cost_with_offer TO the last element of offer PLUS dfs(tuple of new_needs)  
                    IF cost_with_offer IS LESS THAN min_cost  
                        SET min_cost TO cost_with_offer  
                    END IF  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(tuple of needs)  
    END FUNCTION  
END CLASS