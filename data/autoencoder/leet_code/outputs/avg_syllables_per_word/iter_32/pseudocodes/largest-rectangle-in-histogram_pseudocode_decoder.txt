CLASS Solution  
    FUNCTION largestRectangleArea(heights)  
        SET stack TO a new list containing the element negative one  
        SET max_area TO zero  
        APPEND zero TO heights  
        FOR each index i AND each element h IN heights  
            WHILE element at the last position of stack NOT EQUALS negative one AND h LESS THAN element at the element at the last position of stack of heights  
                SET height TO element at position popped last element of stack of heights  
                SET width TO i MINUS element at the last position of stack MINUS one  
                SET max_area TO the maximum of max_area AND height MULTIPLIED BY width  
            END WHILE  
            APPEND i TO stack  
        END FOR  
        RETURN max_area  
    END FUNCTION  
END CLASS