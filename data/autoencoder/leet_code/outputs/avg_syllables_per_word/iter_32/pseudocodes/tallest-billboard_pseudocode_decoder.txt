CLASS Solution  
    FUNCTION tallestBillboard(rods)  
        SET dp TO a mapping from zero TO zero  
        FOR each rod IN rods  
            SET new_dp TO a copy of dp  
            FOR each key d and value y IN dp  
                SET sum_taller TO d PLUS rod  
                SET current_max_taller TO the value at key sum_taller in new_dp OR zero if key not present  
                IF current_max_taller LESS THAN y THEN  
                    SET the value at key sum_taller in new_dp TO y  
                END IF  
                SET difference TO the absolute value of d MINUS rod  
                SET sum_shorter_candidate TO y PLUS the smaller value BETWEEN d AND rod  
                SET current_max_shorter TO the value at key difference in new_dp OR zero if key not present  
                IF current_max_shorter LESS THAN sum_shorter_candidate THEN  
                    SET the value at key difference in new_dp TO sum_shorter_candidate  
                END IF  
            END FOR  
            SET dp TO new_dp  
        END FOR  
        RETURN the value at key zero in dp  
    END FUNCTION  
END CLASS