CLASS Solution  
    FUNCTION largestIsland(grid)  
        IF grid EQUALS empty OR element at position zero of grid EQUALS empty  
            RETURN zero  
        END IF  

        SET n TO the LENGTH OF grid  
        SET directions TO list of pairs representing zero and one in right, one and zero in down, zero and negative one in left, negative one and zero in up directions  

        FUNCTION is_valid(x, y)  
            RETURN x GREATER THAN OR EQUAL TO zero AND x LESS THAN n AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN n  
        END FUNCTION  

        FUNCTION dfs(x, y, index)  
            SET area TO one  
            SET element at position x then y of grid TO index  

            FOR each pair dx dy IN directions  
                SET nx TO x PLUS dx  
                SET ny TO y PLUS dy  
                IF is_valid(nx, ny) AND element at position nx then ny of grid EQUALS one  
                    INCREMENT area BY dfs(nx, ny, index)  
                END IF  
            END FOR  

            RETURN area  
        END FUNCTION  

        SET island_areas TO empty dictionary  
        SET index TO two  

        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF element at position i then j of grid EQUALS one  
                    ASSIGN reference of dfs(i, j, index) TO element at key index OF island_areas  
                    INCREMENT index BY one  
                END IF  
            END FOR  
        END FOR  

        IF island_areas IS empty  
            RETURN one  
        END IF  

        SET max_island_size TO maximum value in island_areas  

        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF element at position i then j of grid EQUALS zero  
                    SET neighbors TO empty set  
                    FOR each pair dx dy IN directions  
                        SET nx TO i PLUS dx  
                        SET ny TO j PLUS dy  
                        IF is_valid(nx, ny) AND element at position nx then ny of grid GREATER THAN one  
                            ADD element at position nx then ny of grid TO neighbors  
                        END IF  
                    END FOR  
                    SET current_island_size TO one PLUS sum of island_areas at keys in neighbors  
                    IF current_island_size GREATER THAN max_island_size  
                        SET max_island_size TO current_island_size  
                    END IF  
                END IF  
            END FOR  
        END FOR  

        RETURN max_island_size  
    END FUNCTION  
END CLASS