CLASS Solution  
    FUNCTION maximalPathQuality(values parameter values, edges parameter edges, maxTime parameter maxTime)  
        SET graph TO a new mapping with default empty list for each key  
        FOR each element edge IN edges  
            SET u TO element at position zero of edge  
            SET v TO element at position one of edge  
            SET time TO element at position two of edge  
            APPEND tuple of v and time TO the list at key u in graph  
            APPEND tuple of u and time TO the list at key v in graph  
        END FOR  

        SET visited TO a new empty set  
        SET max_quality TO zero  

        FUNCTION dfs(parameter node, parameter current_time, parameter current_quality)  
            IF node EQUALS zero THEN  
                IF current_quality GREATER THAN max_quality THEN  
                    SET max_quality TO current_quality  
                END IF  
            END IF  

            FOR each element neighbor_time IN the list at key node in graph  
                SET neighbor TO element at position zero of neighbor_time  
                SET time TO element at position one of neighbor_time  
                IF time LESS THAN OR EQUAL TO current_time THEN  
                    IF neighbor NOT IN visited THEN  
                        ADD neighbor TO visited  
                        CALL dfs with arguments neighbor, current_time MINUS time, current_quality PLUS element at position neighbor of values  
                        REMOVE neighbor FROM visited  
                    ELSE  
                        CALL dfs with arguments neighbor, current_time MINUS time, current_quality  
                    END IF  
                END IF  
            END FOR  
        END FUNCTION  

        ADD zero TO visited  
        CALL dfs with arguments zero, maxTime, element at position zero of values  

        RETURN max_quality  
    END FUNCTION  
END CLASS