CLASS Solution  
    FUNCTION minCost(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET directions TO a list of four pairs consisting of zero and one zero and negative one one zero and negative one zero  
        SET costs TO a list with m elements each being a list of n elements each set to infinite value  
        SET element at position zero at position zero of costs TO zero  
        SET pq TO a list containing the triple consisting of zero zero zero  
        SET visited TO an empty set  
        
        WHILE the LENGTH OF pq GREATER THAN zero holds  
            SET a triple consisting of cost i j TO the result of removing the element with smallest cost from pq  
            
            IF the pair consisting of i j IS a member of visited THEN  
                CONTINUE to the next iteration  
            END IF  
            ADD the pair consisting of i j TO visited  
            
            IF i EQUALS m MINUS one AND j EQUALS n MINUS one THEN  
                RETURN cost  
            END IF  
            
            FOR each pair consisting of di dj WITH index k IN directions  
                SET ni TO i PLUS di  
                SET nj TO j PLUS dj  
                IF ni GREATER THAN OR EQUAL TO zero AND ni LESS THAN m AND nj GREATER THAN OR EQUAL TO zero AND nj LESS THAN n THEN  
                    IF k PLUS one NOT EQUALS the element at position i at position j of grid THEN  
                        SET new_cost TO cost PLUS one  
                    ELSE  
                        SET new_cost TO cost  
                    END IF  
                    IF new_cost LESS THAN the element at position ni at position nj of costs THEN  
                        SET element at position ni at position nj of costs TO new_cost  
                        ADD the triple consisting of new_cost ni nj TO pq using heap push operation  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS