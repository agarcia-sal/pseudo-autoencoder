CLASS Solution  
    FUNCTION advantageCount(nums1 LIST OF INTEGER nums2 LIST OF INTEGER) RETURNS LIST OF INTEGER  
        CALL sort nums1 IN ASCENDING ORDER  
        SET nums2_with_indices TO a list of pairs consisting of each element of nums2 and its position in nums2 arranged such that the first element in each pair is the element value and the second is its position IN THE ORDER OF nums2, sorted so that the pairs with larger first elements come before pairs with smaller first elements  
        SET result TO a list of zero elements repeated the number of times equal to the length of nums1  
        SET left TO zero  
        SET right TO the length of nums1 MINUS one  
        FOR each pair consisting of value and index IN nums2_with_indices  
            IF the element at position right of nums1 GREATER THAN value THEN  
                SET the element at position index of result TO the element at position right of nums1  
                DECREMENT right BY one  
            ELSE  
                SET the element at position index of result TO the element at position left of nums1  
                INCREMENT left BY one  
            END IF  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS