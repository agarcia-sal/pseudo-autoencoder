CLASS Solution  
    FUNCTION maxValueAfterReverse(nums)  
        SET n TO the LENGTH OF nums  
        IF n EQUALS two  
            RETURN the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position zero of nums AND element at position one of nums  
        END IF  
        
        SET initial_value TO zero  
        FOR i FROM one TO n MINUS one  
            INCREMENT initial_value BY the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position i of nums AND element at position i MINUS one of nums  
        END FOR  
        
        SET max_edge_gain TO zero  
        FOR i FROM one TO n MINUS one  
            SET edge_gain_candidate TO the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position zero of nums AND element at position i of nums MINUS the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position i of nums AND element at position i MINUS one of nums  
            IF edge_gain_candidate GREATER THAN max_edge_gain  
                SET max_edge_gain TO edge_gain_candidate  
            END IF  
        END FOR  
        
        FOR i FROM zero TO n MINUS two  
            SET edge_gain_candidate TO the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position n MINUS one of nums AND element at position i of nums MINUS the ABSOLUTE VALUE of the DIFFERENCE BETWEEN element at position i PLUS one of nums AND element at position i of nums  
            IF edge_gain_candidate GREATER THAN max_edge_gain  
                SET max_edge_gain TO edge_gain_candidate  
            END IF  
        END FOR  
        
        SET min_pair TO the MINIMUM of the MAXIMUM values BETWEEN element at position i of nums AND element at position i PLUS one of nums FOR i FROM zero TO n MINUS two  
        SET max_pair TO the MAXIMUM of the MINIMUM values BETWEEN element at position i of nums AND element at position i PLUS one of nums FOR i FROM zero TO n MINUS two  
        
        SET general_gain TO the MAXIMUM between zero AND two MULTIPLIED BY the DIFFERENCE BETWEEN max_pair AND min_pair  
        
        RETURN initial_value PLUS the MAXIMUM between max_edge_gain AND general_gain  
    END FUNCTION  
END CLASS