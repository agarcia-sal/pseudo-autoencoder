CLASS Solution  
    FUNCTION minimumTime WITH PARAMETERS n relations time  
        SET graph TO a mapping from each key to an empty list  
        FOR each pair of previous course AND next course IN relations  
            APPEND previous course TO the list at position next course IN graph  
        END FOR  
        
        SET memo TO a list of length n PLUS one where each element is negative one  
        
        FUNCTION dfs WITH PARAMETER course  
            IF the element at position course IN memo DOES NOT EQUAL negative one THEN  
                RETURN the element at position course IN memo  
            END IF  
            
            SET max prerequisite time TO zero  
            FOR each previous course IN the list at position course IN graph  
                SET candidate time TO dfs WITH PARAMETER previous course  
                IF candidate time GREATER THAN max prerequisite time THEN  
                    SET max prerequisite time TO candidate time  
                END IF  
            END FOR  
            
            SET the element at position course IN memo TO max prerequisite time PLUS the element at position course MINUS one IN time  
            RETURN the element at position course IN memo  
        END FUNCTION  
        
        SET total minimum time TO zero  
        FOR course FROM one TO n  
            SET candidate total time TO dfs WITH PARAMETER course  
            IF candidate total time GREATER THAN total minimum time THEN  
                SET total minimum time TO candidate total time  
            END IF  
        END FOR  
        
        RETURN total minimum time  
    END FUNCTION  
END CLASS