CLASS Solution  
    FUNCTION stoneGameV(stoneValue)  
        SET prefix_sum TO list of zero repeated the LENGTH OF stoneValue PLUS one times  
        FOR index FROM zero TO LENGTH OF stoneValue MINUS one  
            SET element at position index PLUS one OF prefix_sum TO element at position index OF prefix_sum PLUS element at position index OF stoneValue  
        END FOR  
        
        FUNCTION get_range_sum(left, right)  
            RETURN element at position right PLUS one OF prefix_sum MINUS element at position left OF prefix_sum  
        END FUNCTION  
        
        FUNCTION dp(left, right)  
            IF left EQUALS right  
                RETURN zero  
            END IF  
            SET max_score TO zero  
            FOR index FROM left TO right MINUS one  
                SET left_sum TO get_range_sum(left, index)  
                SET right_sum TO get_range_sum(index PLUS one, right)  
                IF left_sum LESS THAN right_sum  
                    IF max_score LESS THAN left_sum PLUS dp(left, index)  
                        SET max_score TO left_sum PLUS dp(left, index)  
                    END IF  
                ELSE IF left_sum GREATER THAN right_sum  
                    IF max_score LESS THAN right_sum PLUS dp(index PLUS one, right)  
                        SET max_score TO right_sum PLUS dp(index PLUS one, right)  
                    END IF  
                ELSE  
                    IF max_score LESS THAN left_sum PLUS dp(left, index)  
                        SET max_score TO left_sum PLUS dp(left, index)  
                    END IF  
                    IF max_score LESS THAN right_sum PLUS dp(index PLUS one, right)  
                        SET max_score TO right_sum PLUS dp(index PLUS one, right)  
                    END IF  
                END IF  
            END FOR  
            RETURN max_score  
        END FUNCTION  
        
        RETURN dp(zero, LENGTH OF stoneValue MINUS one)  
    END FUNCTION  
END CLASS