CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        DEFINE char_positions AS new mapping from character TO list  
        FOR each index FROM zero TO length of ring MINUS one  
            SET character TO element at position index OF ring  
            APPEND index TO list at character IN char_positions  
        END FOR  
        SET n TO length of ring  

        FUNCTION dp(i, prev_pos)  
            IF i EQUALS length of key  
                RETURN zero  
            END IF  
            SET min_steps TO positive infinity  
            FOR each pos IN list at element at position i OF key IN char_positions  
                SET clockwise TO pos MINUS prev_pos MODULO n  
                SET anticlockwise TO prev_pos MINUS pos MODULO n  
                SET steps TO minimum of clockwise and anticlockwise PLUS one PLUS dp(i PLUS one, pos)  
                SET min_steps TO minimum of min_steps and steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  

        RETURN dp(zero, zero)  
    END FUNCTION  
END CLASS