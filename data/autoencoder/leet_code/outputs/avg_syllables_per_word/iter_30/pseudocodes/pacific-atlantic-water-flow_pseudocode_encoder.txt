CLASS Solution  
    FUNCTION pacificAtlantic(heights)  
        FUNCTION bfs(queue, visited)  
            WHILE the LENGTH OF queue IS greater than zero  
                FOR each element FROM zero TO the LENGTH OF queue MINUS one  
                    ASSIGN reference TO the element at the front position OF queue  
                    REMOVE the element at the front position OF queue  
                    FOR each pair of a and b IN the collection of zero and minus one, zero and one, one and zero, minus one and zero  
                        SET x TO the value of i PLUS a  
                        SET y TO the value of j PLUS b  
                        IF x IS greater than or equal to zero AND x IS less than m AND y IS greater than or equal to zero AND y IS less than n AND the pair of x and y IS NOT IN visited AND the element at position x of heights AT position y IS greater than or equal to the element at position i of heights AT position j  
                            ADD the pair of x and y TO visited  
                            ADD the pair of x and y TO queue  
                        END IF  
                    END FOR  
                END FOR  
            END WHILE  
        END FUNCTION  

        SET m TO the LENGTH OF heights  
        SET n TO the LENGTH OF the element at position zero OF heights  
        ASSIGN reference TO an empty set as visited one  
        ASSIGN reference TO an empty set as visited two  
        ASSIGN reference TO an empty queue as queue one  
        ASSIGN reference TO an empty queue as queue two  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF i EQUALS zero OR j EQUALS zero  
                    ADD the pair of i and j TO visited one  
                    ADD the pair of i and j TO queue one  
                END IF  
                IF i EQUALS m MINUS one OR j EQUALS n MINUS one  
                    ADD the pair of i and j TO visited two  
                    ADD the pair of i and j TO queue two  
                END IF  
            END FOR  
        END FOR  
        CALL bfs WITH queue one AND visited one  
        CALL bfs WITH queue two AND visited two  
        ASSIGN reference TO an empty collection as result  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF the pair of i and j IS IN visited one AND the pair of i and j IS IN visited two  
                    APPEND the pair of i and j TO result  
                END IF  
            END FOR  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS