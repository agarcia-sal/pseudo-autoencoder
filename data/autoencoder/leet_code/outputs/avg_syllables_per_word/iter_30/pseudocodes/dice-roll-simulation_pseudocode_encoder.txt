CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MODULO TO ten raised to the power nine PLUS one  
        SET dp TO a three dimensional collection initialized with zero having dimensions of n plus one by six by the maximum value in rollMax PLUS one  
        FOR each index j FROM zero TO five  
            SET the element at position one OF the element at position j OF the element at position one OF dp TO one  
        END FOR  
        FOR each index i FROM two TO n  
            FOR each index j FROM zero TO five  
                FOR each index k FROM one TO the element at position j OF rollMax  
                    IF k IS GREATER THAN one  
                        SET the element at position k OF the element at position j OF the element at position i OF dp TO the element at position k MINUS one OF the element at position j OF the element at position i MINUS one OF dp  
                    ELSE  
                        SET total TO zero  
                        FOR each index x FROM zero TO five  
                            IF x IS NOT EQUAL TO j  
                                FOR each index y FROM one TO the element at position x OF rollMax  
                                    INCREMENT total BY the element at position y OF the element at position x OF the element at position i MINUS one OF dp  
                                END FOR  
                            END IF  
                        END FOR  
                        SET the element at position k OF the element at position j OF the element at position i OF dp TO total MODULO MODULO  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        SET result TO zero  
        FOR each index j FROM zero TO five  
            FOR each index k FROM one TO the element at position j OF rollMax  
                INCREMENT result BY the element at position k OF the element at position j OF the element at position n OF dp  
            END FOR  
        END FOR  
        RETURN result MODULO MODULO  
    END FUNCTION  
END CLASS