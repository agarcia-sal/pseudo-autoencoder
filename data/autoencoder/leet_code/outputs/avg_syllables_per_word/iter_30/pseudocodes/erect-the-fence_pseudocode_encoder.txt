CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i OF trees  
            SET b TO element at position j OF trees  
            SET c TO element at position k OF trees  
            RETURN the value of the difference of the product of the difference of the zero position of b and zero position of a AND the difference of the one position of c and one position of b MINUS the product of the difference of the one position of b and one position of a AND the difference of the zero position of c and zero position of b  
        END FUNCTION  
  
        SET n TO the LENGTH OF trees  
  
        IF n LESS THAN four  
            RETURN trees  
        END IF  
  
        SORT trees IN ASCENDING ORDER  
  
        SET vis TO list of boolean False repeated n times  
  
        SET stk TO list with element zero  
  
        FOR i FROM one TO n MINUS one  
            WHILE LENGTH OF stk GREATER THAN one AND cross of element at position second last OF stk AND element at position last OF stk AND i LESS THAN zero  
                SET the boolean value at position of the element popped from stk TO False  
            END WHILE  
            SET the boolean value at position i OF vis TO True  
            APPEND i TO stk  
        END FOR  
  
        SET m TO the LENGTH OF stk  
  
        FOR i FROM n MINUS two DOWN TO zero  
            IF the boolean value at position i OF vis IS True  
                CONTINUE  
            END IF  
            WHILE LENGTH OF stk GREATER THAN m AND cross of element at position second last OF stk AND element at position last OF stk AND i LESS THAN zero  
                POP element FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
  
        POP the last element FROM stk  
  
        RETURN list formed by elements at positions in stk OF trees  
    END FUNCTION  
END CLASS