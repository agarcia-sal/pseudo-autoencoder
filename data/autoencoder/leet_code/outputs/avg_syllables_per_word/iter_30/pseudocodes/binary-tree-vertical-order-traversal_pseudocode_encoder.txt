CLASS TreeNode  
    FUNCTION __init__(self, val EQUALS zero, left EQUALS None, right EQUALS None)  
        SET self.val TO val  
        SET self.left TO left  
        SET self.right TO right  
    END FUNCTION  
END CLASS

FUNCTION tree_node(values)  
    IF values EQUALS empty  
        RETURN None  
    END IF  
    SET root TO TreeNode with val EQUALS element at position zero OF values  
    SET i TO one  
    CREATE queue AS new deque  
    APPEND root TO queue  
    WHILE queue IS NOT empty  
        SET node TO first element REMOVED FROM queue  
        IF i LESS THAN the LENGTH OF values AND element at position i OF values NOT EQUALS None  
            SET node.left TO TreeNode with val EQUALS element at position i OF values  
            APPEND node.left TO queue  
        END IF  
        INCREMENT i BY one  
        IF i LESS THAN the LENGTH OF values AND element at position i OF values NOT EQUALS None  
            SET node.right TO TreeNode with val EQUALS element at position i OF values  
            APPEND node.right TO queue  
        END IF  
        INCREMENT i BY one  
    END WHILE  
    RETURN root  
END FUNCTION

FUNCTION is_same_tree(p, q)  
    IF p EQUALS None AND q EQUALS None  
        RETURN True  
    ELSE IF p EQUALS None OR q EQUALS None  
        RETURN False  
    ELSE IF p.val NOT EQUALS q.val  
        RETURN False  
    ELSE  
        RETURN is_same_tree with p.left and q.left AND is_same_tree with p.right and q.right  
    END IF  
END FUNCTION

CLASS Solution  
    FUNCTION verticalOrder(self, root)  
        IF root EQUALS None  
            RETURN empty list  
        END IF  
        CREATE column_table AS new mapping from integer TO list  
        CREATE queue AS new deque CONTAINING tuple of root and zero  
        SET min_column TO zero  
        SET max_column TO zero  
        WHILE queue IS NOT empty  
            SET node, column_index TO first element REMOVED FROM queue  
            IF node NOT EQUALS None  
                APPEND node.val TO list AT key column_index IN column_table  
                IF column_index LESS THAN min_column  
                    SET min_column TO column_index  
                END IF  
                IF column_index GREATER THAN max_column  
                    SET max_column TO column_index  
                END IF  
                APPEND tuple of node.left and column_index MINUS one TO queue  
                APPEND tuple of node.right and column_index PLUS one TO queue  
            END IF  
        END WHILE  
        CREATE result_list AS empty list  
        FOR column FROM min_column TO max_column  
            APPEND list AT key column IN column_table TO result_list  
        END FOR  
        RETURN result_list  
    END FUNCTION  
END CLASS