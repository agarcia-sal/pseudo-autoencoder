CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY the end day of each event  
        SET n TO the LENGTH OF events  
        SET dp TO a two dimensional list WITH n plus one ROWS AND k plus one COLUMNS FILLED WITH zero  
        FOR i FROM one TO n  
            SET start TO element at position zero OF event at position i MINUS one OF events  
            SET end TO element at position one OF event at position i MINUS one OF events  
            SET value TO element at position two OF event at position i MINUS one OF events  
            SET j TO the position FOUND BY binary searching for start IN events BY their end day  
            FOR l FROM one TO k  
                SET dp at position i AND l TO the maximum BETWEEN dp at position i MINUS one AND l AND dp at position j AND l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN dp at position n AND k  
    END FUNCTION  
END CLASS