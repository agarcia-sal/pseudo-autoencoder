CLASS Solution  
    FUNCTION numSquares WITH PARAMETER n  
        SET dp TO list of value infinity repeated n plus one times  
        SET element at position zero OF dp TO zero  
        SET squares TO empty list  
        SET i TO one  
        WHILE i MULTIPLIED BY i LESS THAN OR EQUAL TO n  
            APPEND i MULTIPLIED BY i TO squares  
            INCREMENT i BY one  
        END WHILE  
        FOR i FROM one TO n  
            FOR each square IN squares  
                IF i LESS THAN square  
                    BREAK  
                END IF  
                SET dp at position i TO minimum of dp at position i AND dp at position i MINUS square PLUS one  
            END FOR  
        END FOR  
        RETURN dp at position n  
    END FUNCTION  
END CLASS