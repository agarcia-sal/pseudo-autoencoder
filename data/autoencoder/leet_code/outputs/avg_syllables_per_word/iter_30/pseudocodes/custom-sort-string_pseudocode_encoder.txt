CLASS Solution  
    FUNCTION customSortString(order, s)  
        SET d TO empty dictionary  
        FOR each character c AND index i IN order  
            SET d character c TO index i  
        END FOR  
        SET sorted_characters TO sorted elements of s ORDERED BY the value from d for element x OR zero if x not in d  
        SET result TO concatenation of all elements in sorted_characters in order  
        RETURN result  
    END FUNCTION  
END CLASS