CLASS Solution  
    FUNCTION solve WITH PARAMETERS board  
        IF board EQUALS nothing OR element at position zero OF board EQUALS nothing  
            RETURN  
        END IF  
        SET m TO the LENGTH OF board  
        SET n TO the LENGTH OF element at position zero OF board  
        FUNCTION dfs WITH PARAMETERS x, y  
            IF x LESS THAN zero OR x GREATER THAN OR EQUAL TO m OR y LESS THAN zero OR y GREATER THAN OR EQUAL TO n OR element at position x OF board at position y NOT EQUALS natural letter O  
                RETURN  
            END IF  
            SET element at position x OF board at position y TO natural letter S  
            CALL dfs WITH x PLUS one, y  
            CALL dfs WITH x MINUS one, y  
            CALL dfs WITH x, y PLUS one  
            CALL dfs WITH x, y MINUS one  
        END FUNCTION  
        FOR each i FROM zero TO m MINUS one  
            CALL dfs WITH i, zero  
            CALL dfs WITH i, n MINUS one  
        END FOR  
        FOR each j FROM zero TO n MINUS one  
            CALL dfs WITH zero, j  
            CALL dfs WITH m MINUS one, j  
        END FOR  
        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i OF board at position j EQUALS natural letter O  
                    SET element at position i OF board at position j TO natural letter X  
                END IF  
            END FOR  
        END FOR  
        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i OF board at position j EQUALS natural letter S  
                    SET element at position i OF board at position j TO natural letter O  
                END IF  
            END FOR  
        END FOR  
    END FUNCTION  
END CLASS