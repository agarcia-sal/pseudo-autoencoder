CLASS Solution  
    FUNCTION isValidSerialization(preorder)  
        SET nodes TO the sequences obtained by splitting preorder by the textual representation of a comma  
        SET slots TO one  
        FOR each node IN nodes  
            IF slots EQUALS zero  
                RETURN false  
            END IF  
            DECREMENT slots BY one  
            IF node NOT EQUALS the textual representation of a hash sign  
                INCREMENT slots BY two  
            END IF  
        END FOR  
        RETURN slots EQUALS zero  
    END FUNCTION  
END CLASS