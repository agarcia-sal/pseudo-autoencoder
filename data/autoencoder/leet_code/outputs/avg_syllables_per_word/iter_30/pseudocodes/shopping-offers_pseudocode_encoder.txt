CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO empty list  
        FOR each offer IN special  
            IF sum of elements except last in offer GREATER THAN zero AND last element in offer LESS THAN sum for each p and n in price and offer excluding last element of p MULTIPLIED BY n  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO sum for each p and n in price and needs of p MULTIPLIED BY n  
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR each n and o in needs and offer excluding last element  
                    APPEND n MINUS o TO new_needs  
                END FOR  
                IF all elements in new_needs GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO minimum of min_cost AND last element in offer PLUS dfs of tuple of new_needs  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs of tuple of needs  
    END FUNCTION  
END CLASS