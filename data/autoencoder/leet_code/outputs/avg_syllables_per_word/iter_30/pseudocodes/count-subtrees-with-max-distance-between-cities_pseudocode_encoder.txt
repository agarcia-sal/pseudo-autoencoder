CLASS Solution  
    FUNCTION countSubgraphsForEachDiameter(n, edges)  
        SET graph TO a mapping from each integer from one TO n TO an empty list  
        FOR each pair u, v IN edges  
            APPEND v TO the element at position u OF graph  
            APPEND u TO the element at position v OF graph  
        END FOR  

        FUNCTION bfs(subtree)  
            SET start TO an arbitrary element of subtree  
            INITIALIZE queue WITH start  
            INITIALIZE visited WITH start  
            SET farthest_node TO start  

            WHILE queue IS NOT empty  
                SET node TO the element removed from the front OF queue  
                FOR each neighbor IN the element at position node OF graph  
                    IF neighbor IS an element OF subtree AND neighbor IS NOT an element OF visited  
                        ADD neighbor TO visited  
                        ADD neighbor TO the end OF queue  
                        SET farthest_node TO neighbor  
                    END IF  
                END FOR  
            END WHILE  

            INITIALIZE queue WITH farthest_node  
            INITIALIZE visited WITH farthest_node  
            SET max_distance TO zero  

            WHILE queue IS NOT empty  
                SET size TO the length OF queue  
                FOR each index FROM one TO size  
                    SET node TO the element removed from the front OF queue  
                    FOR each neighbor IN the element at position node OF graph  
                        IF neighbor IS an element OF subtree AND neighbor IS NOT an element OF visited  
                            ADD neighbor TO visited  
                            ADD neighbor TO the end OF queue  
                        END IF  
                    END FOR  
                END FOR  
                IF queue IS NOT empty  
                    INCREMENT max_distance BY one  
                END IF  
            END WHILE  

            RETURN max_distance  
        END FUNCTION  

        SET result TO a list of zeros with length equal TO n MINUS one  

        FOR each size FROM two TO n  
            FOR each subset IN all combinations of integers from one TO n taken size AT a time  
                INITIALIZE visited TO an empty set  
                INITIALIZE stack TO a list with the first element OF subset  

                WHILE stack IS NOT empty  
                    SET node TO the element removed from the end OF stack  
                    IF node IS NOT an element OF visited  
                        ADD node TO visited  
                        FOR each neighbor IN the element at position node OF graph  
                            IF neighbor IS an element OF subset AND neighbor IS NOT an element OF visited  
                                ADD neighbor TO the end OF stack  
                            END IF  
                        END FOR  
                    END IF  
                END WHILE  

                IF visited IS equal TO the set formed FROM subset  
                    SET diameter TO the result OF calling bfs WITH the set formed FROM subset  
                    IF diameter IS GREATER THAN zero  
                        INCREMENT the element at position diameter MINUS one OF result BY one  
                    END IF  
                END IF  
            END FOR  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS