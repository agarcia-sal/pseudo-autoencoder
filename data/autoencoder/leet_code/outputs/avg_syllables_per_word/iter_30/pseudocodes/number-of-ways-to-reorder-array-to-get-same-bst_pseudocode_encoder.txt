CLASS Solution  
    FUNCTION numOfWays(nums)  
        SET MOD TO ten raised to the power of nine PLUS one  
        
        FUNCTION count_ways(arr)  
            IF the LENGTH OF arr LESS THAN OR EQUAL TO one  
                RETURN one  
            END IF  
            
            SET root TO element at position zero OF arr  
            SET left_subtree TO collection of elements x IN arr WHERE x LESS THAN root  
            SET right_subtree TO collection of elements x IN arr WHERE x GREATER THAN root  
            
            SET ways_left TO call count_ways WITH left_subtree  
            SET ways_right TO call count_ways WITH right_subtree  
            
            SET total_ways TO the binomial coefficient of the sum of the LENGTH OF left_subtree AND the LENGTH OF right_subtree AND the LENGTH OF left_subtree  
            
            RETURN the remainder after division of ways_left MULTIPLIED BY ways_right MULTIPLIED BY total_ways BY MOD  
        END FUNCTION  
        
        RETURN the remainder after division of the subtraction of one FROM call count_ways WITH nums BY MOD  
    END FUNCTION  
END CLASS