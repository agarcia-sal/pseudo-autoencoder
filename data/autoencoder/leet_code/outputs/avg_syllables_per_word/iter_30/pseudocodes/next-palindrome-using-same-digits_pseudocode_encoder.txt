CLASS Solution  
    FUNCTION nextPalindrome(num)  
        SET n TO the LENGTH OF num  
        SET half TO substring from position zero TO position n DIVIDED BY two OF num  
        SET half_list TO the LIST OF ELEMENTS OF half  
        SET k TO negative one  
        SET l TO negative one  
        FOR i FROM the LENGTH OF half_list MINUS two DOWN TO zero  
            IF element at position i OF half_list LESS THAN element at position i PLUS one OF half_list  
                SET k TO i  
                BREAK  
            END IF  
        END FOR  
        IF k EQUALS negative one  
            RETURN an empty string  
        END IF  
        FOR i FROM the LENGTH OF half_list MINUS one DOWN TO k PLUS one  
            IF element at position i OF half_list GREATER THAN element at position k OF half_list  
                SET l TO i  
                BREAK  
            END IF  
        END FOR  
        SET temporary TO element at position k OF half_list  
        SET element at position k OF half_list TO element at position l OF half_list  
        SET element at position l OF half_list TO temporary  
        SET half_list TO elements from position zero TO position k PLUS one OF half_list CONCATENATED WITH the sorted elements from position k PLUS one TO the END OF half_list  
        SET new_half TO the concatenation of all elements OF half_list AS a string  
        IF n MODULO two EQUALS zero  
            RETURN the concatenation of new_half AND the reverse of new_half  
        ELSE  
            RETURN the concatenation of new_half AND element at position n DIVIDED BY two OF num AND the reverse of new_half  
        END IF  
    END FUNCTION  
END CLASS