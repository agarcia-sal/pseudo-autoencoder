CLASS Solution  
    FUNCTION candyCrush(board)  
        SET R TO the LENGTH OF board  
        SET C TO the LENGTH OF element at position zero OF board  
        SET stable TO false  
        
        WHILE stable EQUALS false  
            SET stable TO true  
            CREATE empty collection to_crush  
            
            FOR each r FROM zero TO R MINUS one  
                FOR each c FROM zero TO C MINUS three  
                    IF the absolute value of element at position c OF element at position r OF board EQUALS the absolute value of element at position c PLUS one OF element at position r OF board AND the absolute value of element at position c OF element at position r OF board EQUALS the absolute value of element at position c PLUS two OF element at position r OF board AND the absolute value of element at position c OF element at position r OF board NOT EQUALS zero  
                        SET stable TO false  
                        ADD the pair of r AND c TO to_crush  
                        ADD the pair of r AND c PLUS one TO to_crush  
                        ADD the pair of r AND c PLUS two TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR each r FROM zero TO R MINUS three  
                FOR each c FROM zero TO C MINUS one  
                    IF the absolute value of element at position c OF element at position r OF board EQUALS the absolute value of element at position c OF element at position r PLUS one OF board AND the absolute value of element at position c OF element at position r OF board EQUALS the absolute value of element at position c OF element at position r PLUS two OF board AND the absolute value of element at position c OF element at position r OF board NOT EQUALS zero  
                        SET stable TO false  
                        ADD the pair of r AND c TO to_crush  
                        ADD the pair of r PLUS one AND c TO to_crush  
                        ADD the pair of r PLUS two AND c TO to_crush  
                    END IF  
                END FOR  
            END FOR  
            
            FOR each pair r AND c IN to_crush  
                SET element at position c OF element at position r OF board TO zero  
            END FOR  
            
            FOR each c FROM zero TO C MINUS one  
                SET wr TO R MINUS one  
                FOR each r FROM R MINUS one DOWNTO zero  
                    IF element at position c OF element at position r OF board NOT EQUALS zero  
                        SET element at position c OF element at position wr OF board TO element at position c OF element at position r OF board  
                        DECREMENT wr BY one  
                    END IF  
                END FOR  
                FOR each wr FROM wr DOWNTO zero  
                    SET element at position c OF element at position wr OF board TO zero  
                END FOR  
            END FOR  
        END WHILE  
        
        RETURN board  
    END FUNCTION  
END CLASS