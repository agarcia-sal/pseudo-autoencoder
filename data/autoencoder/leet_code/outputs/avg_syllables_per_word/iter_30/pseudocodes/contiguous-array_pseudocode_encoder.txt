CLASS Solution  
    FUNCTION findMaxLength(nums)  
        SET prefix_sum_index TO dictionary with key zero and value minus one  
        SET max_length TO zero  
        SET count TO zero  
        FOR each index and num IN enumeration of nums  
            IF num EQUALS one  
                INCREMENT count BY one  
            ELSE  
                DECREMENT count BY one  
            END IF  
            IF count IS A KEY IN prefix_sum_index  
                SET max_length TO maximum OF max_length AND index MINUS value at key count IN prefix_sum_index  
            ELSE  
                SET value at key count IN prefix_sum_index TO index  
            END IF  
        END FOR  
        RETURN max_length  
    END FUNCTION  
END CLASS