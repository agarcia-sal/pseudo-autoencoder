{
  "prompt": "Given source code containing classes, functions, variables, and control structures, generate strictly hierarchical, maximally abstract pseudocode with the following requirements:\n\n- Preserve all original class names, function names, and parameter names exactly; maintain full nesting and structural hierarchy of classes, methods, and inner elements.\n- Use uppercase keywords only for structural markers: CLASS, FUNCTION, IF, ELSE IF, ELSE, FOR, WHILE, RETURN, END FUNCTION, END CLASS, END IF, END FOR, END WHILE.\n- Omit all code comments, metadata, annotations, example usages, or any extraneous text before, inside, or after the pseudocode output.\n- Express all data operations, conditions, and control flows clearly and fully in natural language, avoiding any programming or symbolic syntax, literals, or special characters such as brackets, quotes, colons, commas, or periods.\n- Replace all operators, arithmetic expressions, and logical conditions with explicit capitalized words: PLUS, MINUS, MULTIPLIED BY, DIVIDED BY, MODULO, EQUALS, NOT EQUALS, LESS THAN, LESS THAN OR EQUAL TO, GREATER THAN, GREATER THAN OR EQUAL TO, AND, OR, NOT.\n- Describe variable assignment and updates using uniform verbs and phrases such as SET variable TO value, INCREMENT variable BY amount, DECREMENT variable BY amount, APPEND item TO list, REMOVE element FROM list, ASSIGN reference TO object.\n- Convert all indexing, slicing, and element access into natural language expressions: element at position index of collection, substring from position start TO position end of string, or equivalent natural phrasing.\n- Fully and explicitly spell out all conditional expressions and logical predicates without abbreviations, contractions, or syntax shortcuts.\n- Describe all loops using natural, explicit iteration phrases: FOR each element IN collection, FOR index FROM start TO end, WHILE condition holds, and preserve loop variables verbatim.\n- Treat constructor methods and language-specific special methods by their exact original names including parameters.\n- Represent helper functions or auxiliary routines as separate FUNCTIONS with their original names describing only their essential abstract behavior, foregoing any language or implementation details.\n- Avoid all literal notation for data or code elements including numbers, strings, symbols, or punctuation; use spelled-out cardinal numbers, natural language phrases, or descriptive word forms instead.\n- Maintain consistently moderate syllabic complexity with clear, natural language phrasing that balances abstraction and readability.\n- Output exclusively the pseudocode code following the above conventions, preserving all original names and signatures, preserving full contextual structure, without any additional commentary or explanation.\n\nHere is an illustrative example of the expected pseudocode style:\n\nFUNCTION calc_average(list_of_numbers)  \n    SET total_sum TO zero  \n    FOR each number IN list_of_numbers  \n        INCREMENT total_sum BY number  \n    END FOR  \n    SET average_value TO total_sum DIVIDED BY the LENGTH OF list_of_numbers  \n    RETURN average_value  \nEND FUNCTION",
  "response": "Given source code containing classes, functions, variables, and control structures, generate strictly hierarchical, maximally abstract pseudocode with the following requirements:\n\n- Preserve all original class names, function names, and parameter names exactly; maintain full nesting and structural hierarchy of classes, methods, and inner elements.\n- Use uppercase keywords only for structural markers: CLASS, FUNCTION, IF, ELSE IF, ELSE, FOR, WHILE, RETURN, END FUNCTION, END CLASS, END IF, END FOR, END WHILE.\n- Omit all code comments, metadata, annotations, example usages, or any extraneous text before, inside, or after the pseudocode output.\n- Express all data operations, conditions, and control flows clearly and fully in natural language, avoiding any programming or symbolic syntax, literals, or special characters such as brackets, quotes, colons, commas, or periods.\n- Replace all operators, arithmetic expressions, and logical conditions with explicit capitalized words: PLUS, MINUS, MULTIPLIED BY, DIVIDED BY, MODULO, EQUALS, NOT EQUALS, LESS THAN, LESS THAN OR EQUAL TO, GREATER THAN, GREATER THAN OR EQUAL TO, AND, OR, NOT.\n- Describe variable assignment and updates using uniform verbs and phrases such as SET variable TO value, INCREMENT variable BY amount, DECREMENT variable BY amount, APPEND item TO list, REMOVE element FROM list, ASSIGN reference TO object.\n- Convert all indexing, slicing, and element access into natural language expressions: element at position index of collection, substring from position start TO position end of string, or equivalent natural phrasing.\n- Fully and explicitly spell out all conditional expressions and logical predicates without abbreviations, contractions, or syntax shortcuts.\n- Describe all loops using natural, explicit iteration phrases: FOR each element IN collection, FOR index FROM start TO end, WHILE condition holds, and preserve loop variables verbatim.\n- Treat constructor methods and language-specific special methods by their exact original names including parameters.\n- Represent helper functions or auxiliary routines as separate FUNCTIONS with their original names describing only their essential abstract behavior, foregoing any language or implementation details.\n- Avoid all literal notation for data or code elements including numbers, strings, symbols, or punctuation; use spelled-out cardinal numbers, natural language phrases, or descriptive word forms instead.\n- Maintain consistently moderate syllabic complexity with clear, natural language phrasing that balances abstraction and readability.\n- Output exclusively the pseudocode code following the above conventions, preserving all original names and signatures, preserving full contextual structure, without any additional commentary or explanation.\n\nHere is an illustrative example of the expected pseudocode style:\n\nFUNCTION calc_average(list_of_numbers)  \n    SET total_sum TO zero  \n    FOR each number IN list_of_numbers  \n        INCREMENT total_sum BY number  \n    END FOR  \n    SET average_value TO total_sum DIVIDED BY the LENGTH OF list_of_numbers  \n    RETURN average_value  \nEND FUNCTION",
  "score": 2.269084642751996,
  "feedback": "The following are 20 lines of original code of a random subset of the problems along with their pseudocodes.\n\nOriginal Code for Problem 1:\nclass Solution:\n    def primePalindrome(self, n: int) -> int:\n        def is_prime(num):\n            if num < 2:\n                return False\n            if num in (2, 3):\n                return True\n            if num % 2 == 0 or num % 3 == 0:\n                return False\n            i = 5\n            while i * i <= num:\n                if num % i == 0 or num % (i + 2) == 0:\n                    return False\n                i += 6\n            return True\n\n        def is_palindrome(num):\n            return str(num) == str(num)[::-1]\n\n        if n <= 2:\n\nPseudocode for Problem 1:\nCLASS Solution  \n    FUNCTION primePalindrome(n)  \n        FUNCTION is_prime(num)  \n            IF num LESS THAN two  \n                RETURN False  \n            END IF  \n            IF num EQUALS two OR num EQUALS three  \n                RETURN True  \n            END IF  \n            IF num MODULO two EQUALS zero OR num MODULO three EQUALS zero  \n                RETURN False  \n            END IF  \n            SET i TO five  \n            WHILE i MULTIPLIED BY i LESS THAN OR EQUAL TO num  \n                IF num MODULO i EQUALS zero OR num MODULO (i PLUS two) EQUALS zero  \n                    RETURN False  \n                END IF  \n                INCREMENT i BY six  \n            END WHILE  \n            RETURN True  \n\nError(s) from the decoded code for Problem 1:\n['Traceback (most recent call last):\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmp4vumz_av/solution_2.py\", line 55, in <module>\\n    print(Solution().primePalindrome(n = 13))\\n          ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmp4vumz_av/solution_2.py\", line 48, in primePalindrome\\n    if is_palindrome(n) and is_prime(n):\\n       ~~~~~~~~~~~~~^^^\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmp4vumz_av/solution_2.py\", line 36, in is_palindrome\\n    s = str(num)\\nValueError: Exceeds the limit (4300 digits) for integer string conversion; use sys.set_int_max_str_digits() to increase the limit\\n']\n\nOriginal Code for Problem 2:\nfrom typing import List\n\nclass Solution:\n    def minTaps(self, n: int, ranges: List[int]) -> int:\n        # Create an array to store the farthest point that can be watered from each position\n        max_range = [0] * (n + 1)\n        \n        # Fill the max_range array\n        for i in range(n + 1):\n            if ranges[i] > 0:\n                left = max(0, i - ranges[i])\n                right = min(n, i + ranges[i])\n                max_range[left] = max(max_range[left], right)\n        \n        # Use a greedy approach to find the minimum number of taps\n        taps = 0\n        current_end = 0\n        farthest = 0\n        \n        for i in range(n + 1):\n\nPseudocode for Problem 2:\nCLASS Solution  \n    FUNCTION minTaps(n PARAMETER, ranges PARAMETER)  \n        SET max_range TO a list of zeros with the LENGTH EQUAL TO n PLUS one  \n        FOR index i FROM zero TO n INCLUSIVE  \n            IF element at position i of ranges GREATER THAN zero  \n                SET left TO either zero OR the value of i MINUS the element at position i of ranges WHICHEVER IS GREATER  \n                SET right TO either n OR the value of i PLUS the element at position i of ranges WHICHEVER IS LESS  \n                SET element at position left of max_range TO the GREATER of element at position left of max_range AND right  \n            END IF  \n        END FOR  \n        SET taps TO zero  \n        SET current_end TO zero  \n        SET farthest TO zero  \n        FOR index i FROM zero TO n INCLUSIVE  \n            IF i GREATER THAN farthest  \n                RETURN negative one  \n            END IF  \n            IF i GREATER THAN current_end  \n                INCREMENT taps BY one  \n                SET current_end TO farthest  \n\nError(s) from the decoded code for Problem 2:\n['Traceback (most recent call last):\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmpid7plpze/solution_5.py\", line 43, in <module>\\n    print(Solution().minTaps(n = 20, ranges = [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]))\\n          ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmpid7plpze/solution_5.py\", line 25, in minTaps\\n    if ranges[i] > 0:\\n       ~~~~~~^^^\\nIndexError: list index out of range\\n']\n\nOriginal Code for Problem 3:\nclass Solution:\n    def findIntegers(self, n: int) -> int:\n        # Convert the number to its binary representation\n        bin_rep = bin(n)[2:]\n        length = len(bin_rep)\n        \n        # dp[i] will store the number of valid integers of length i\n        dp = [0] * (length + 1)\n        dp[0] = 1\n        dp[1] = 2\n        \n        # Fill the dp array\n        for i in range(2, length + 1):\n            dp[i] = dp[i - 1] + dp[i - 2]\n        \n        result = 0\n        prev_bit = 0\n        \n        for i in range(length):\n            if bin_rep[i] == '1':\n\nPseudocode for Problem 3:\nCLASS Solution  \n    FUNCTION findIntegers WITH parameter n  \n        SET binary representation string TO the binary form of n starting from the second character to the end  \n        SET length TO the length of the binary representation string  \n        INITIALIZE a list named dp with zeros of the size length plus one  \n        SET the element at position zero of dp TO one  \n        SET the element at position one of dp TO two  \n        FOR index i FROM two TO length  \n            SET the element at position i of dp TO the sum of the elements at positions i minus one AND i minus two of dp  \n        END FOR  \n        SET result TO zero  \n        SET previous bit TO zero  \n        FOR index i FROM zero TO length minus one  \n            IF the character at position i of the binary representation string EQUALS one  \n                INCREMENT result BY the element at position length MINUS i MINUS one of dp  \n                IF previous bit EQUALS one  \n                    DECREMENT result BY one  \n                    EXIT THE LOOP  \n                END IF  \n            END IF  \n\nError(s) from the decoded code for Problem 3:\n['Outputs do not match']\n\nOriginal Code for Problem 4:\nfrom typing import List\n\nclass Solution:\n    def palindromePairs(self, words: List[str]) -> List[List[int]]:\n        def is_palindrome(s):\n            return s == s[::-1]\n        \n        word_dict = {word: i for i, word in enumerate(words)}\n        result = []\n        \n        for i, word in enumerate(words):\n            if not word:\n                continue\n            \n            # Check for empty string to pair with palindromes\n            if \"\" in word_dict and is_palindrome(word):\n                result.append([i, word_dict[\"\"]])\n                result.append([word_dict[\"\"], i])\n            \n            # Check for reverse of the current word\n\nPseudocode for Problem 4:\nCLASS Solution  \n    FUNCTION palindromePairs(words)  \n        FUNCTION is_palindrome(s)  \n            RETURN s EQUALS the reverse of s  \n        END FUNCTION  \n        \n        CREATE word_dict AS an empty mapping from word TO index  \n        FOR index FROM zero TO the LENGTH OF words MINUS one  \n            SET word_dict[element at position index of words] TO index  \n        END FOR  \n        \n        CREATE result AS an empty list  \n        \n        FOR i FROM zero TO the LENGTH OF words MINUS one  \n            SET word TO element at position i of words  \n            \n            IF word NOT EQUALS empty string  \n                \n                IF the empty string EXISTS AS a key IN word_dict AND is_palindrome(word)  \n                    APPEND the list containing i AND the element at the key empty string of word_dict TO result  \n\nError(s) from the decoded code for Problem 4:\n['Outputs do not match']\n\nOriginal Code for Problem 5:\n# Definition for a binary tree node.\n# class TreeNode:\n#     def __init__(self, val=0, left=None, right=None):\n#         self.val = val\n#         self.left = left\n#         self.right = right\nclass Solution:\n    def constructMaximumBinaryTree(self, nums: List[int]) -> Optional[TreeNode]:\n        if not nums:\n            return None\n        \n        # Find the maximum value in nums and its index\n        max_val = max(nums)\n        max_index = nums.index(max_val)\n        \n        # Create the root node with the maximum value\n        root = TreeNode(max_val)\n        \n        # Recursively build the left and right subtrees\n        root.left = self.constructMaximumBinaryTree(nums[:max_index])\n\nPseudocode for Problem 5:\nCLASS TreeNode  \n    FUNCTION __init__ WITH PARAMETERS self val left right  \n        SET self.val TO val  \n        SET self.left TO left  \n        SET self.right TO right  \n    END FUNCTION  \nEND CLASS  \n\nFUNCTION tree_node WITH PARAMETER values  \n    IF the LENGTH OF values EQUALS zero  \n        RETURN none  \n    END IF  \n    SET root TO a new TreeNode CREATED WITH the element at position one of values  \n    SET i TO one  \n    SET queue TO a new deque  \n    APPEND root TO queue  \n    WHILE the LENGTH OF queue IS GREATER THAN zero  \n        SET node TO the element REMOVED FROM THE FRONT OF queue  \n        IF i LESS THAN the LENGTH OF values AND the element at position i of values IS NOT none  \n            SET node.left TO a new TreeNode CREATED WITH the element at position i of values  \n\nError(s) from the decoded code for Problem 5:\n['Outputs do not match']\n\nOriginal Code for Problem 6:\nfrom typing import List\nfrom collections import defaultdict\n\nclass Solution:\n    def wordsAbbreviation(self, words: List[str]) -> List[str]:\n        def abbreviate(word, prefix_length):\n            if len(word) - prefix_length <= 2:\n                return word\n            return word[:prefix_length] + str(len(word) - prefix_length - 1) + word[-1]\n\n        def get_unique_abbreviations(words_with_indices, prefix_length):\n            abbs = defaultdict(list)\n            for index, word in words_with_indices:\n                abbs[abbreviate(word, prefix_length)].append((index, word))\n            return abbs\n\n        n = len(words)\n        ans = [\"\"] * n\n        words_with_indices = [(i, word) for i, word in enumerate(words)]\n        \n\nPseudocode for Problem 6:\nCLASS Solution  \n    FUNCTION wordsAbbreviation(words)  \n        FUNCTION abbreviate(word, prefix_length)  \n            IF the LENGTH OF word MINUS prefix_length LESS THAN OR EQUAL TO two  \n                RETURN word  \n            END IF  \n            RETURN the SUBSTRING OF word FROM the FIRST position TO the POSITION OF prefix_length MINUS one CONCATENATED WITH the LENGTH OF word MINUS prefix_length MINUS one EXPRESSED AS string CONCATENATED WITH the LAST CHARACTER OF word  \n        END FUNCTION  \n  \n        FUNCTION get_unique_abbreviations(words_with_indices, prefix_length)  \n            SET abbs TO a new mapping of default empty list  \n            FOR each pair index AND word IN words_with_indices  \n                APPEND the pair index AND word TO the list AT the KEY abbreviate(word, prefix_length) IN abbs  \n            END FOR  \n            RETURN abbs  \n        END FUNCTION  \n  \n        SET n TO the LENGTH OF words  \n        SET ans TO a list of empty strings with length n  \n        SET words_with_indices TO an empty list  \n\nError(s) from the decoded code for Problem 6:\n['timed out']\n\nOriginal Code for Problem 7:\nclass Solution:\n    def largestPalindrome(self, n: int) -> int:\n        if n == 1:\n            return 9\n        \n        upper_limit = 10**n - 1\n        lower_limit = 10**(n-1)\n        \n        max_palindrome = 0\n        \n        for i in range(upper_limit, lower_limit - 1, -1):\n            for j in range(i, lower_limit - 1, -1):\n                product = i * j\n                if product <= max_palindrome:\n                    break\n                str_product = str(product)\n                if str_product == str_product[::-1]:\n                    max_palindrome = product\n        \n        return max_palindrome % 1337\n\nPseudocode for Problem 7:\nCLASS Solution  \n    FUNCTION largestPalindrome(n)  \n        IF n EQUALS one  \n            RETURN nine  \n        END IF  \n        \n        SET upper_limit TO ten MULTIPLIED BY ten RAISED TO THE POWER OF n MINUS one  \n        SET lower_limit TO ten MULTIPLIED BY ten RAISED TO THE POWER OF n MINUS one MINUS one  \n        \n        SET max_palindrome TO zero  \n        \n        FOR i FROM upper_limit TO lower_limit MINUS one STEP minus one  \n            FOR j FROM i TO lower_limit MINUS one STEP minus one  \n                SET product TO i MULTIPLIED BY j  \n                IF product LESS THAN OR EQUAL TO max_palindrome  \n                    BREAK  \n                END IF  \n                SET str_product TO the STRING REPRESENTATION OF product  \n                IF str_product EQUALS str_product REVERSED  \n                    SET max_palindrome TO product  \n\nError(s) from the decoded code for Problem 7:\n['timed out']\n\nOriginal Code for Problem 8:\nfrom collections import Counter\nfrom typing import List\n\nclass Solution:\n    def maxScoreWords(self, words: List[str], letters: List[str], score: List[int]) -> int:\n        def word_score(word, score_map):\n            return sum(score_map[char] for char in word)\n        \n        def can_form(word, letter_count):\n            word_count = Counter(word)\n            for char, count in word_count.items():\n                if letter_count[char] < count:\n                    return False\n            return True\n        \n        def update_letter_count(letter_count, word, add=True):\n            for char in word:\n                if add:\n                    letter_count[char] += 1\n                else:\n\nPseudocode for Problem 8:\nCLASS Solution  \n    FUNCTION maxScoreWords(words, letters, score)  \n        FUNCTION word_score(word, score_map)  \n            SET total_score TO zero  \n            FOR each character IN word  \n                INCREMENT total_score BY the value from score_map for character  \n            END FOR  \n            RETURN total_score  \n        END FUNCTION  \n        \n        FUNCTION can_form(word, letter_count)  \n            SET word_count TO a new empty counting structure  \n            FOR each character IN word  \n                INCREMENT the count for character in word_count BY one  \n            END FOR  \n            FOR each character and count IN word_count  \n                IF the count for character in letter_count LESS THAN count THEN  \n                    RETURN false  \n                END IF  \n            END FOR  \n\nError(s) from the decoded code for Problem 8:\n['Traceback (most recent call last):\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmp1fpw6fpq/solution_18.py\", line 61, in <module>\\n    print(Solution().maxScoreWords(words = [\"piano\",\"guitar\",\"violin\",\"drums\"], letters = [\"p\",\"i\",\"a\",\"n\",\"o\",\"g\",\"u\",\"i\",\"t\",\"a\",\"r\",\"v\",\"i\",\"o\",\"l\",\"i\",\"n\",\"d\",\"r\",\"u\",\"m\",\"s\"], score = [3,9,1,1,1,2,6,4,2,4,5,8,1,3,1,0,0,0,10,3,0,9,2,0,0]))\\n          ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \"/var/folders/tm/227pgc2d0tzgphcb1s4kjrj80000gn/T/tmp1fpw6fpq/solution_18.py\", line 58, in maxScoreWords\\n    score_map = {chr(i + ord(\\'a\\')): score[i] for i in range(26)}\\n                                    ~~~~~^^^\\nIndexError: list index out of range\\n']\nScore of (4*(Average syllables per word) + passing rate) for ALL the problems: 2.269084642751996"
}