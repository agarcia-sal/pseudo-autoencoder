CLASS Solution  
    FUNCTION openLock(deadends LIST OF STRING deadends SET deadends_set STRING target) RETURNS INTEGER  
        SET deadends_set TO the SET OF deadends  
        
        IF the STRING consisting of four zero digits IS IN deadends_set THEN  
            RETURN the INTEGER value of negative one  
        END IF  
        
        IF target EQUALS the STRING consisting of four zero digits THEN  
            RETURN the INTEGER value of zero  
        END IF  
        
        SET queue TO a double-ended queue CONTAINING the TUPLE of the STRING consisting of four zero digits AND the INTEGER value of zero  
        SET visited TO the SET CONTAINING the STRING consisting of four zero digits  
        
        FUNCTION neighbors(state STRING) RETURNS LIST OF STRING  
            SET result TO an EMPTY list  
            FOR i FROM the INTEGER value of zero TO the INTEGER value three  
                SET digit TO the INTEGER value represented by the element at position i of the STRING state  
                FOR move IN the LIST containing the INTEGER value of negative one AND the INTEGER value of one  
                    SET new_digit TO the INTEGER value REMAINDER of the INTEGER value digit PLUS move DIVIDED BY the INTEGER value of ten  
                    SET new_state TO the CONCATENATION of the substring from position zero TO position i minus one of state AND the STRING representation of new_digit AND the substring from position i plus one TO the end of state  
                    APPEND new_state TO result  
                END FOR  
            END FOR  
            RETURN result  
        END FUNCTION  
        
        WHILE the LENGTH OF queue IS GREATER THAN zero  
            REMOVE the first element of queue AND ASSIGN the STRING current_state AND the INTEGER steps TO its components  
            
            FOR each neighbor STRING IN neighbors(current_state)  
                IF neighbor IS NOT IN visited AND neighbor IS NOT IN deadends_set THEN  
                    IF neighbor EQUALS target THEN  
                        RETURN steps PLUS the INTEGER value of one  
                    END IF  
                    ADD neighbor TO visited  
                    APPEND the TUPLE of neighbor AND steps PLUS the INTEGER value of one TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN the INTEGER value of negative one  
    END FUNCTION  
END CLASS