CLASS Solution  
    FUNCTION longestPath(parent parameter AS List of integers, s parameter AS string) RETURNS integer  
        DEFINE tree AS a mapping from integer to list of integers initialised to default empty list  
        FOR each index AND parent_node IN parent parameter with enumeration  
            IF parent_node NOT EQUALS negative one  
                APPEND index TO element at position parent_node of tree  
            END IF  
        END FOR  
        
        SET self dot result TO one  
        
        FUNCTION dfs(node parameter) RETURNS integer  
            SET max1 TO zero  
            SET max2 TO zero  
            
            FOR each child IN element at position node of tree  
                SET child_length TO dfs called with child  
                IF character at position child of s parameter NOT EQUALS character at position node of s parameter  
                    IF child_length GREATER THAN max1  
                        SET max2 TO max1  
                        SET max1 TO child_length  
                    ELSE IF child_length GREATER THAN max2  
                        SET max2 TO child_length  
                    END IF  
                END IF  
            END FOR  
            
            SET self dot result TO the greater value between self dot result AND max1 PLUS max2 PLUS one  
            
            RETURN max1 PLUS one  
        END FUNCTION  
        
        CALL dfs with zero  
        
        RETURN self dot result  
    END FUNCTION  
END CLASS