CLASS Solution  
    FUNCTION findMinHeightTrees WITH PARAMETERS n edges  
        IF n EQUALS one  
            RETURN a list containing the element zero  
        END IF  

        SET graph TO a default dictionary with list as default value  
        SET degree TO a list of zeros with the length equal to n  

        FOR each pair of elements u and v IN edges  
            APPEND element v TO the list corresponding to element u in graph  
            APPEND element u TO the list corresponding to element v in graph  
            INCREMENT element at position u of degree BY one  
            INCREMENT element at position v of degree BY one  
        END FOR  

        SET leaves TO a deque containing elements i for each i in the range from zero to n minus one where the element at position i of degree EQUALS one  

        SET remaining_nodes TO n  
        WHILE remaining_nodes GREATER THAN two  
            SET leaves_count TO the length of leaves  
            DECREMENT remaining_nodes BY leaves_count  
            FOR each index FROM zero TO leaves_count minus one  
                SET leaf TO the element removed from the left of leaves  
                FOR each neighbor IN the list corresponding to element leaf in graph  
                    DECREMENT element at position neighbor of degree BY one  
                    IF element at position neighbor of degree EQUALS one  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  

        RETURN a list made from the elements of leaves  
    END FUNCTION  
END CLASS