CLASS Solution  
    FUNCTION palindromePairs(words)  
        FUNCTION is_palindrome(s)  
            RETURN s EQUALS the string s reversed in the order of characters  
        END FUNCTION  
        
        SET word_dict TO an empty dictionary  
        FOR each index i AND word IN words  
            SET word_dict element at position word TO i  
        END FOR  
        
        SET result TO an empty list  
        
        FOR each index i AND word IN words  
            IF word EQUALS the empty string THEN  
                CONTINUE to next iteration of FOR loop  
            END IF  
            
            IF the empty string is a key in word_dict AND is_palindrome applied to word returns true THEN  
                APPEND a list containing i PLUS word_dict element at position the empty string TO result  
                APPEND a list containing word_dict element at position the empty string PLUS i TO result  
            END IF  
            
            SET reversed_word TO the string word reversed in the order of characters  
            IF reversed_word is a key in word_dict AND word_dict element at position reversed_word NOT EQUALS i THEN  
                APPEND a list containing i PLUS word_dict element at position reversed_word TO result  
            END IF  
            
            FOR each integer j FROM one TO the length of word MINUS one  
                SET prefix TO the substring of word from position one TO position j  
                SET suffix TO the substring of word from position j PLUS one TO the length of word  
                
                SET reversed_prefix TO the string prefix reversed in the order of characters  
                SET reversed_suffix TO the string suffix reversed in the order of characters  
                
                IF is_palindrome applied to suffix returns true AND reversed_prefix is a key in word_dict THEN  
                    APPEND a list containing i PLUS word_dict element at position reversed_prefix TO result  
                END IF  
                
                IF is_palindrome applied to prefix returns true AND reversed_suffix is a key in word_dict THEN  
                    APPEND a list containing word_dict element at position reversed_suffix PLUS i TO result  
                END IF  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS