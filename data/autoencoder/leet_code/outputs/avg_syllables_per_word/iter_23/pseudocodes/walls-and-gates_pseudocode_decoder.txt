CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms EQUALS nothing OR the LENGTH OF rooms EQUALS zero OR the LENGTH OF the element at position zero of rooms EQUALS zero  
            RETURN  
        END IF  
        
        SET rows TO the LENGTH OF rooms  
        SET cols TO the LENGTH OF the element at position zero of rooms  
        ASSIGN reference TO a new empty double ended queue named queue  
        
        FOR each r FROM zero TO rows MINUS one  
            FOR each c FROM zero TO cols MINUS one  
                IF the element at position r of rooms at position c EQUALS zero  
                    APPEND the tuple of r and c TO queue  
                END IF  
            END FOR  
        END FOR  
        
        ASSIGN reference TO the list containing the tuples of zero and one and one and zero and zero and negative one and negative one and zero AS directions  
        
        WHILE the LENGTH OF queue IS GREATER THAN zero  
            SET r TO the first element of the tuple at the front of queue  
            SET c TO the second element of the tuple at the front of queue  
            REMOVE the element at the front of queue  
            
            FOR each tuple dr and dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                
                IF zero LESS THAN OR EQUAL TO nr AND nr LESS THAN rows AND zero LESS THAN OR EQUAL TO nc AND nc LESS THAN cols AND the element at position nr of rooms at position nc EQUALS two billion one hundred forty seven million four hundred eighty three thousand six hundred forty seven  
                    SET the element at position nr of rooms at position nc TO the element at position r of rooms at position c PLUS one  
                    APPEND the tuple of nr and nc TO queue  
                END IF  
            END FOR  
        END WHILE  
    END FUNCTION  
END CLASS