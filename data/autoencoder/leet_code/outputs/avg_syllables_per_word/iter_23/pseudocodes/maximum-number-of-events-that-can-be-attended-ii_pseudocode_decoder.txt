CLASS Solution  
    FUNCTION maxValue(events parameter events OF TYPE List OF List OF Integer parameter k OF TYPE Integer) RETURNS Integer  
        SORT the events IN ASCENDING ORDER BY the end day of each event  
        SET n TO the LENGTH OF events  
        INITIALIZE dp AS a two dimensional list with n PLUS one rows and k PLUS one columns FILLED WITH zero  
        FOR i FROM one TO n  
            SET start TO the element at position i MINUS one OF events AT position zero  
            SET end TO the element at position i MINUS one OF events AT position one  
            SET value TO the element at position i MINUS one OF events AT position two  
            SET j TO the LEFTMOST POSITION IN events WHERE the end day of the event is GREATER THAN OR EQUAL TO start  
            FOR l FROM one TO k  
                SET dp AT position i AND l TO THE GREATER OF dp AT position i MINUS one AND l AND dp AT position j AND l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN dp AT position n AND k  
    END FUNCTION  
END CLASS