CLASS Solution  
    FUNCTION maxValueAfterReverse(nums)  
        SET n TO the LENGTH OF nums  
        IF n EQUALS two  
            RETURN the ABSOLUTE VALUE of the ELEMENT at position zero of nums MINUS the ELEMENT at position one of nums  
        END IF  
  
        SET initial_value TO zero  
        FOR index FROM one TO n MINUS one  
            INCREMENT initial_value BY the ABSOLUTE VALUE of the ELEMENT at position index of nums MINUS the ELEMENT at position index MINUS one of nums  
        END FOR  
  
        SET max_edge_gain TO zero  
        FOR index FROM one TO n MINUS one  
            SET candidate_value TO the ABSOLUTE VALUE of the ELEMENT at position zero of nums MINUS the ELEMENT at position index of nums MINUS the ABSOLUTE VALUE of the ELEMENT at position index of nums MINUS the ELEMENT at position index MINUS one of nums  
            IF candidate_value GREATER THAN max_edge_gain  
                SET max_edge_gain TO candidate_value  
            END IF  
        END FOR  
  
        FOR index FROM zero TO n MINUS two  
            SET candidate_value TO the ABSOLUTE VALUE of the ELEMENT at position n MINUS one of nums MINUS the ELEMENT at position index of nums MINUS the ABSOLUTE VALUE of the ELEMENT at position index PLUS one of nums MINUS the ELEMENT at position index of nums  
            IF candidate_value GREATER THAN max_edge_gain  
                SET max_edge_gain TO candidate_value  
            END IF  
        END FOR  
  
        SET min_pair TO the MINIMUM OF all values where each value IS the MAXIMUM OF the ELEMENT at position index of nums AND the ELEMENT at position index PLUS one of nums for index FROM zero TO n MINUS two  
        SET max_pair TO the MAXIMUM OF all values where each value IS the MINIMUM OF the ELEMENT at position index of nums AND the ELEMENT at position index PLUS one of nums for index FROM zero TO n MINUS two  
  
        SET general_gain TO the MAXIMUM OF zero AND two MULTIPLIED BY the DIFFERENCE BETWEEN max_pair MINUS min_pair  
  
        RETURN initial_value PLUS the MAXIMUM OF max_edge_gain AND general_gain  
    END FUNCTION  
END CLASS