CLASS Solution  
    FUNCTION solveNQueens(n)  
        FUNCTION is_not_under_attack(row, col)  
            RETURN NOT (element at position col of cols EQUALS one OR element at position of row MINUS col of hills EQUALS one OR element at position of row PLUS col of dales EQUALS one)  
        END FUNCTION  

        FUNCTION place_queen(row, col)  
            APPEND the tuple of row AND col TO queens  
            SET element at position col of cols TO one  
            SET element at position of row MINUS col of hills TO one  
            SET element at position of row PLUS col of dales TO one  
        END FUNCTION  

        FUNCTION remove_queen(row, col)  
            REMOVE the tuple of row AND col FROM queens  
            SET element at position col of cols TO zero  
            SET element at position of row MINUS col of hills TO zero  
            SET element at position of row PLUS col of dales TO zero  
        END FUNCTION  

        FUNCTION add_solution()  
            SET solution TO an empty list  
            FOR each tuple of queen_row AND queen_col IN the sorted elements of queens  
                SET position_string TO a string of dot characters repeated queen_col times PLUS the character Q PLUS a string of dot characters repeated by the quantity of n MINUS queen_col MINUS one times  
                APPEND position_string TO solution  
            END FOR  
            APPEND solution TO output  
        END FUNCTION  

        FUNCTION backtrack(row)  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack(row, col)  
                    place_queen(row, col)  
                    IF row PLUS one EQUALS n  
                        add_solution()  
                    ELSE  
                        backtrack(row PLUS one)  
                    END IF  
                    remove_queen(row, col)  
                END IF  
            END FOR  
        END FUNCTION  

        SET cols TO a list of zeros with length n  
        SET hills TO a list of zeros with length two TIMES n MINUS one  
        SET dales TO a list of zeros with length two TIMES n MINUS one  
        SET queens TO an empty set  
        SET output TO an empty list  
        CALL backtrack with zero as argument  
        RETURN output  
    END FUNCTION  
END CLASS