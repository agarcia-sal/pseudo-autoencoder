CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO the list consisting of the number one followed by all elements of nums followed by the number one  
        SET n TO the number of elements in nums  
        SET dp TO a two dimensional list of size n by n filled with zeros  
        FOR each length FROM two TO n minus one  
            FOR each i FROM zero TO n minus length minus one  
                SET j TO i PLUS length  
                FOR each k FROM i PLUS one TO j minus one  
                    SET coins TO the product of element at position i of nums AND element at position k of nums AND element at position j of nums PLUS element at position i and k of dp PLUS element at position k and j of dp  
                    IF element at position i and j of dp LESS THAN coins  
                        SET element at position i and j of dp TO coins  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN element at position zero and n minus one of dp  
    END FUNCTION  
END CLASS