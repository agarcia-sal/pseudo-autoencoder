CLASS Solution  
    FUNCTION minimumWeight(n, edges, src1, src2, dest)  
        FUNCTION dijkstra(graph, start)  
            SET distances TO a list containing the representation of infinity repeated n times  
            SET the element at position start of distances TO zero  
            SET heap TO a list containing a pair of zero and start  
            
            WHILE the LENGTH OF heap is greater than zero  
                REMOVE and RETURN the pair of current_distance and current_node with the smallest first element from heap  
                
                IF current_distance GREATER THAN the element at position current_node of distances  
                    CONTINUE to the next iteration of the WHILE loop  
                
                FOR each pair of neighbor and weight IN the element at position current_node of graph  
                    SET distance TO current_distance PLUS weight  
                    
                    IF distance LESS THAN the element at position neighbor of distances  
                        SET the element at position neighbor of distances TO distance  
                        INSERT the pair of distance and neighbor INTO heap preserving heap order  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN distances  
        END FUNCTION  
        
        SET graph TO a list of empty lists repeated n times  
        SET reverse_graph TO a list of empty lists repeated n times  
        
        FOR each triple of u v and w IN edges  
            APPEND the pair of v and w TO the element at position u of graph  
            APPEND the pair of u and w TO the element at position v of reverse_graph  
        END FOR  
        
        SET dist_from_src1 TO the result of calling dijkstra with graph and src1  
        SET dist_from_src2 TO the result of calling dijkstra with graph and src2  
        SET dist_to_dest TO the result of calling dijkstra with reverse_graph and dest  
        
        SET min_weight TO the representation of infinity  
        
        FOR index i FROM zero TO n MINUS one  
            IF the element at position i of dist_from_src1 NOT EQUALS to the representation of infinity AND the element at position i of dist_from_src2 NOT EQUALS to the representation of infinity AND the element at position i of dist_to_dest NOT EQUALS to the representation of infinity  
                SET min_weight TO the smaller value BETWEEN min_weight AND the sum of the element at position i of dist_from_src1 PLUS the element at position i of dist_from_src2 PLUS the element at position i of dist_to_dest  
            END IF  
        END FOR  
        
        IF min_weight EQUALS to the representation of infinity  
            RETURN negative one  
        ELSE  
            RETURN min_weight  
        END IF  
    END FUNCTION  
END CLASS