CLASS Solution  
    FUNCTION maxHeight WITH PARAMETER cuboids  
        FOR each cuboid IN cuboids  
            SORT the dimensions of cuboid in ascending order  
        END FOR  
        SORT the list cuboids in lexicographical ascending order  
        SET n TO the LENGTH OF cuboids  
        SET dp TO a list of zeros with length n  
        FOR i FROM zero TO n MINUS one  
            SET dp at position i TO element at position three of cuboid at position i  
            FOR j FROM zero TO i MINUS one  
                IF element at position one of cuboid at position j LESS THAN OR EQUALS element at position one of cuboid at position i  
                AND element at position two of cuboid at position j LESS THAN OR EQUALS element at position two of cuboid at position i  
                AND element at position three of cuboid at position j LESS THAN OR EQUALS element at position three of cuboid at position i  
                    IF dp at position j PLUS element at position three of cuboid at position i GREATER THAN dp at position i  
                        SET dp at position i TO dp at position j PLUS element at position three of cuboid at position i  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        RETURN the maximum value in dp  
    END FUNCTION  
END CLASS