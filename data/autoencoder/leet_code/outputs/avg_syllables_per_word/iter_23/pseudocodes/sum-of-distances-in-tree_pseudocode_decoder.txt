CLASS Solution  
    FUNCTION sumOfDistancesInTree(n, edges)  
        SET graph TO a mapping with default value as empty list  
        FOR each pair a and b IN edges  
            APPEND element b TO the list at element a of graph  
            APPEND element a TO the list at element b of graph  
        END FOR  
  
        SET count TO a list of size n with each element set to one  
        SET dist TO a list of size n with each element set to zero  
  
        FUNCTION dfs1(u, p)  
            FOR each element v IN the list at element u of graph  
                IF element v NOT EQUALS element p THEN  
                    CALL dfs1 WITH arguments v and u  
                    SET element u of count TO element u of count PLUS element v of count  
                    SET element u of dist TO element u of dist PLUS element v of dist PLUS element v of count  
                END IF  
            END FOR  
        END FUNCTION  
  
        CALL dfs1 WITH arguments zero and negative one  
  
        FUNCTION dfs2(u, p)  
            FOR each element v IN the list at element u of graph  
                IF element v NOT EQUALS element p THEN  
                    SET element v of dist TO element u of dist MINUS element v of count PLUS element n MINUS element v of count  
                    CALL dfs2 WITH arguments v and u  
                END IF  
            END FOR  
        END FUNCTION  
  
        CALL dfs2 WITH arguments zero and negative one  
  
        RETURN dist  
    END FUNCTION  
END CLASS