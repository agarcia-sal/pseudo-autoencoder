CLASS Solution  
    FUNCTION maximumCost(n k)  
        CREATE graph AS a new mapping with default value as empty list  
        
        FOR each element IN highways  
            DECOMPOSE element INTO city1 city2 toll  
            APPEND tuple of city2 and toll TO element at position city1 of graph  
            APPEND tuple of city1 and toll TO element at position city2 of graph  
        END FOR  
        
        FUNCTION dfs(city visited cost highways_used)  
            IF highways_used EQUALS k THEN  
                SET max_cost TO the maximum OF max_cost AND cost  
                RETURN  
            END IF  
            
            FOR each element IN element at position city of graph  
                DECOMPOSE element INTO neighbor toll  
                IF neighbor NOT IN visited THEN  
                    ADD neighbor TO visited  
                    CALL dfs WITH neighbor visited cost PLUS toll highways_used PLUS one  
                    REMOVE neighbor FROM visited  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET max_cost TO minus one  
        
        FOR start_city FROM zero TO n MINUS one  
            CREATE visited AS a new set containing start_city  
            CALL dfs WITH start_city visited zero zero  
        END FOR  
        
        RETURN max_cost  
    END FUNCTION  
END CLASS