CLASS Solution  
    FUNCTION maxBuilding(n, restrictions)  
        APPEND a list containing the number one and height zero TO restrictions  
        SORT restrictions in ascending order based on their first element  
        
        FOR index FROM one TO the LENGTH OF restrictions MINUS one  
            SET current_position TO element at position index of restrictions at position zero  
            SET current_height TO element at position index of restrictions at position one  
            SET previous_position TO element at position index MINUS one of restrictions at position zero  
            SET previous_height TO element at position index MINUS one of restrictions at position one  
            SET element at position index of restrictions at position one TO the minimum BETWEEN current_height AND previous_height PLUS current_position MINUS previous_position  
        END FOR  
        
        FOR index FROM the LENGTH OF restrictions MINUS two DOWN TO zero  
            SET current_position TO element at position index of restrictions at position zero  
            SET current_height TO element at position index of restrictions at position one  
            SET next_position TO element at position index PLUS one of restrictions at position zero  
            SET next_height TO element at position index PLUS one of restrictions at position one  
            SET element at position index of restrictions at position one TO the minimum BETWEEN current_height AND next_height PLUS next_position MINUS current_position  
        END FOR  
        
        SET max_height TO zero  
        SET previous_position TO element at position zero of restrictions at position zero  
        SET previous_height TO element at position zero of restrictions at position one  
        
        FOR index FROM one TO the LENGTH OF restrictions MINUS one  
            SET current_position TO element at position index of restrictions at position zero  
            SET current_height TO element at position index of restrictions at position one  
            SET candidate_height TO integer division of current_position MINUS previous_position PLUS previous_height PLUS current_height BY two  
            SET max_height TO the maximum BETWEEN max_height AND candidate_height  
            SET previous_position TO current_position  
            SET previous_height TO current_height  
        END FOR  
        
        SET final_candidate_height TO previous_height PLUS n MINUS previous_position  
        SET max_height TO the maximum BETWEEN max_height AND final_candidate_height  
        
        RETURN max_height  
    END FUNCTION  
END CLASS