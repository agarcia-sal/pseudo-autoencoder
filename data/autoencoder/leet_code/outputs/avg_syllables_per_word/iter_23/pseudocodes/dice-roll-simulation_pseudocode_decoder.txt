CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MOD TO one billion plus seven  
        SET dp TO a three dimensional list where each element is zero with dimensions of one more than n by six by one more than the maximum value in rollMax  
        FOR j FROM zero TO five  
            SET dp at position one then j then one TO one  
        END FOR  
        FOR i FROM two TO n  
            FOR j FROM zero TO five  
                FOR k FROM one TO the element at position j of rollMax  
                    IF k GREATER THAN one THEN  
                        SET dp at position i then j then k TO the element at position i minus one then j then k minus one of dp  
                    ELSE  
                        SET sum_value TO zero  
                        FOR x FROM zero TO five  
                            IF x NOT EQUALS j THEN  
                                FOR y FROM one TO the element at position x of rollMax  
                                    INCREMENT sum_value BY the element at position i minus one then x then y of dp  
                                END FOR  
                            END IF  
                        END FOR  
                        SET dp at position i then j then k TO sum_value MODULO MOD  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        SET total_ways TO zero  
        FOR j FROM zero TO five  
            FOR k FROM one TO the element at position j of rollMax  
                INCREMENT total_ways BY the element at position n then j then k of dp  
            END FOR  
        END FOR  
        RETURN total_ways MODULO MOD  
    END FUNCTION  
END CLASS