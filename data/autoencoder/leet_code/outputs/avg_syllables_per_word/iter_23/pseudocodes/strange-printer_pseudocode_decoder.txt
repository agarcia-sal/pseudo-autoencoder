CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j THEN  
                RETURN zero  
            END IF  
            IF pair consisting of i and j IS IN memo THEN  
                RETURN the element at pair consisting of i and j of memo  
            END IF  
            SET result TO the value returned by calling dp with i and j MINUS one and memo PLUS one  
            FOR k FROM i TO j MINUS one  
                IF the element at position k of s EQUALS the element at position j of s THEN  
                    SET result TO the minimum OF result AND the sum OF the values returned by calling dp with i and k MINUS one and memo PLUS calling dp with k and j MINUS one and memo  
                END IF  
            END FOR  
            SET the element at pair consisting of i and j of memo TO result  
            RETURN result  
        END FUNCTION  
        RETURN the value returned by calling dp with zero and LENGTH OF s MINUS one and an empty collection  
    END FUNCTION  
END CLASS