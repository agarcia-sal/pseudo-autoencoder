CLASS Solution  
    FUNCTION shoppingOffers(price parameter of type List of integer special parameter of type List of List of integer needs parameter of type List of integer) RETURNS integer  
        SET special TO empty list  
        FOR each offer IN special parameter  
            IF the sum of elements at all positions except the last position of offer GREATER THAN zero AND element at the last position of offer LESS THAN the sum of the product of element at position p in price parameter AND element at corresponding position in offer excluding the last position for all paired elements from price parameter and offer excluding the last position  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs parameter of type tuple) RETURNS integer  
            SET min_cost TO the sum of the product of element at position p in price parameter AND element at corresponding position in needs parameter for all paired elements from price parameter and needs parameter  
            
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR each corresponding element n in needs parameter and element o in offer excluding the last position  
                    APPEND n MINUS o TO new_needs  
                END FOR  
                
                IF all elements in new_needs GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO the minimum of min_cost AND element at last position of offer PLUS dfs with the tuple conversion of new_needs as argument  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs with the tuple conversion of needs parameter as argument  
    END FUNCTION  
END CLASS