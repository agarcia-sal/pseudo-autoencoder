CLASS Solution  
    FUNCTION maximalPathQuality(values, edges, maxTime)  
        SET graph TO a new default dictionary with list as default value  
        FOR each u v time IN edges  
            APPEND a pair of neighbor v and time to the list at key u of graph  
            APPEND a pair of neighbor u and time to the list at key v of graph  
        END FOR  

        SET visited TO an empty set  
        SET max_quality TO zero  

        FUNCTION dfs(node, current_time, current_quality)  
            IF node EQUALS zero THEN  
                IF max_quality LESS THAN current_quality THEN  
                    SET max_quality TO current_quality  
                END IF  
            END IF  

            FOR each neighbor time IN the list at key node of graph  
                IF time LESS THAN OR EQUAL TO current_time THEN  
                    IF neighbor NOT IN visited THEN  
                        ADD neighbor TO visited  
                        CALL dfs WITH neighbor AND current_time MINUS time AND current_quality PLUS element at position neighbor of values  
                        REMOVE neighbor FROM visited  
                    ELSE  
                        CALL dfs WITH neighbor AND current_time MINUS time AND current_quality  
                    END IF  
                END IF  
            END FOR  
        END FUNCTION  

        ADD zero TO visited  
        CALL dfs WITH zero AND maxTime AND element at position zero of values  

        RETURN max_quality  
    END FUNCTION  
END CLASS