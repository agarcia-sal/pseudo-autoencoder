CLASS Solution  
    FUNCTION isPossible(nums)  
        SET num_count TO a mapping of each number to its frequency in nums  
        SET end_with TO a mapping of each number to the count of subsequences ending with that number  
        
        FOR each num IN nums  
            IF the frequency of num in num_count EQUALS zero  
                CONTINUE to the next iteration  
            END IF  
            
            IF the count of subsequences ending with the number that is num MINUS one IN end_with IS GREATER THAN zero  
                DECREMENT the count of subsequences ending with the number that is num MINUS one IN end_with BY one  
                INCREMENT the count of subsequences ending with num IN end_with BY one  
            ELSE IF the frequency of the number that is num PLUS one IN num_count IS GREATER THAN zero AND the frequency of the number that is num PLUS two IN num_count IS GREATER THAN zero  
                DECREMENT the frequency of the number that is num PLUS one IN num_count BY one  
                DECREMENT the frequency of the number that is num PLUS two IN num_count BY one  
                INCREMENT the count of subsequences ending with the number that is num PLUS two IN end_with BY one  
            ELSE  
                RETURN false  
            END IF  
            
            DECREMENT the frequency of num IN num_count BY one  
        END FOR  
        
        RETURN true  
    END FUNCTION  
END CLASS