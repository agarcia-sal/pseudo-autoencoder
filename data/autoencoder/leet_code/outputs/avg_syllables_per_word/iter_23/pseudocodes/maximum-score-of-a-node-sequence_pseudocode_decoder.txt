CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO a new default dictionary mapping each key to an empty list  
        FOR each element_u AND element_v IN edges  
            APPEND the pair of the element at position element_v of scores AND element_v TO the list corresponding to element_u in graph  
            APPEND the pair of the element at position element_u of scores AND element_u TO the list corresponding to element_v in graph  
        END FOR  
        FOR each node_key IN the keys of graph  
            SET the list corresponding to node_key in graph TO the list of three greatest elements from the current list at graph[node_key] based on the first element of each pair  
        END FOR  
        SET max_score TO negative one  
        FOR each element_u AND element_v IN edges  
            FOR each pair score1 AND x IN the list at graph[element_u]  
                FOR each pair score2 AND y IN the list at graph[element_v]  
                    IF the number of distinct elements among x AND y AND element_u AND element_v EQUALS four  
                        IF the sum of max_score AND the sum of score1 AND score2 AND the element at position element_u of scores AND the element at position element_v of scores IS LESS THAN the sum of score1 AND score2 AND the element at position element_u of scores AND the element at position element_v of scores  
                            SET max_score TO the sum of score1 AND score2 AND the element at position element_u of scores AND the element at position element_v of scores  
                        END IF  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN max_score  
    END FUNCTION  
END CLASS