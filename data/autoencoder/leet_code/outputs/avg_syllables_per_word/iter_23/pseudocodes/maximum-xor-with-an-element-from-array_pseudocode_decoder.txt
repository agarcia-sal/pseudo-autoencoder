CLASS Solution  
    FUNCTION maximizeXor(nums list_of_integers queries list_of_lists_of_integers) RETURNS list_of_integers  
        CALL sort the list nums in ascending order  
        SET sorted_queries TO the list of enumerated queries sorted in ascending order by the second element of each query divided by one element    
        SET result TO a list of length equal to the length of queries with every element set TO negative one  
        SET trie TO an empty dictionary  
        SET num_index TO zero  
        
        FOR each query_index AND tuple_of_xi_and_mi IN sorted_queries  
            SET xi TO the first element of the tuple_of_xi_and_mi  
            SET mi TO the second element of the tuple_of_xi_and_mi  
            
            WHILE num_index LESS THAN the length of nums AND element at position num_index of nums LESS THAN OR EQUAL TO mi  
                SET num TO element at position num_index of nums  
                SET node TO trie  
                
                FOR i FROM thirty_one DOWN TO zero  
                    SET bit TO the value of the integer division of num MINUS the integer division of num MINUS one MULTIPLIED BY two raised to the power i  
                    
                    IF bit NOT IN node  
                        SET the element with key bit in node TO an empty dictionary  
                    END IF  
                    
                    SET node TO the element with key bit in node  
                END FOR  
                
                INCREMENT num_index BY one  
            END WHILE  
            
            IF the trie dictionary is empty  
                CONTINUE to the next iteration of the FOR loop  
            END IF  
            
            SET node TO trie  
            SET max_xor TO zero  
            
            FOR i FROM thirty_one DOWN TO zero  
                SET bit TO the value of the integer division of xi MINUS the integer division of xi MINUS one MULTIPLIED BY two raised to the power i  
                SET toggle_bit TO one MINUS bit  
                
                IF toggle_bit IS IN node  
                    SET max_xor TO max_xor PLUS two raised to the power i  
                    SET node TO the element with key toggle_bit in node  
                ELSE  
                    SET node TO the element with key bit in node  
                END IF  
            END FOR  
            
            SET element at position query_index of result TO max_xor  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS