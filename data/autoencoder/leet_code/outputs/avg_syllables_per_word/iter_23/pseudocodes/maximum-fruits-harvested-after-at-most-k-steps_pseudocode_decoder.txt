CLASS Solution  
    FUNCTION maxTotalFruits(fruits LIST OF LIST OF INTEGER startPos INTEGER k INTEGER) RETURNS INTEGER  
        SET max_fruits TO zero  
        SET total_fruits TO zero  
        SET left TO zero  
        FOR right FROM zero TO the LENGTH OF fruits MINUS one  
            SET position TO element at position right of fruits AT position zero  
            SET amount TO element at position right of fruits AT position one  
            INCREMENT total_fruits BY amount  
            WHILE left LESS THAN OR EQUAL TO right AND NOT (startPos MINUS k LESS THAN OR EQUAL TO element at position left of fruits AT position zero AND element at position left of fruits AT position zero LESS THAN OR EQUAL TO startPos PLUS k AND startPos MINUS k LESS THAN OR EQUAL TO element at position right of fruits AT position zero AND element at position right of fruits AT position zero LESS THAN OR EQUAL TO startPos PLUS k AND (THE MINIMUM OF THE ABSOLUTE VALUE of element at position right of fruits AT position zero MINUS startPos AND THE ABSOLUTE VALUE of element at position left of fruits AT position zero MINUS startPos) PLUS element at position right of fruits AT position zero MINUS element at position left of fruits AT position zero LESS THAN OR EQUAL TO k)  
                DECREMENT total_fruits BY element at position left of fruits AT position one  
                INCREMENT left BY one  
            END WHILE  
            IF max_fruits LESS THAN total_fruits  
                SET max_fruits TO total_fruits  
            END IF  
        END FOR  
        RETURN max_fruits  
    END FUNCTION  
END CLASS