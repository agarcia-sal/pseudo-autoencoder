CLASS Solution  
    FUNCTION findAnagrams(s parameter, p parameter) RETURNS list of integers  
        SET length of s TO len_s  
        SET length of p TO len_p  
        IF length of p GREATER THAN length of s  
            RETURN empty list  
        END IF  
        SET frequency count of characters in p TO p_count  
        SET frequency count of characters in substring from position zero TO position length of p MINUS one of s TO s_count  
        SET empty list TO anagrams  
        IF s_count EQUALS p_count  
            APPEND zero TO anagrams  
        END IF  
        FOR index i FROM length of p TO length of s MINUS one  
            INCREMENT count of character at position i of s IN s_count BY one  
            DECREMENT count of character at position i MINUS length of p of s IN s_count BY one  
            IF count of character at position i MINUS length of p of s IN s_count EQUALS zero  
                REMOVE character at position i MINUS length of p of s FROM s_count  
            END IF  
            IF s_count EQUALS p_count  
                APPEND index i MINUS length of p PLUS one TO anagrams  
            END IF  
        END FOR  
        RETURN anagrams  
    END FUNCTION  
END CLASS