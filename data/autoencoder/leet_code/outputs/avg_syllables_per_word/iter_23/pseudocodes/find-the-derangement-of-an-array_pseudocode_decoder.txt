CLASS Solution  
    FUNCTION findDerangement WITH PARAMETER n  
        SET MOD TO ten RAISED TO THE power of nine PLUS seven  
        
        IF n EQUALS one  
            RETURN zero  
        END IF  
        
        IF n EQUALS two  
            RETURN one  
        END IF  
        
        SET prev2 TO one  
        SET prev1 TO zero  
        
        FOR i FROM three TO n  
            SET current TO the value of the quantity of i MINUS one MULTIPLIED BY the sum of prev1 PLUS prev2 THEN DIVIDED BY MODULO MOD  
            SET prev2 TO prev1  
            SET prev1 TO current  
        END FOR  
        
        RETURN prev1  
    END FUNCTION  
END CLASS