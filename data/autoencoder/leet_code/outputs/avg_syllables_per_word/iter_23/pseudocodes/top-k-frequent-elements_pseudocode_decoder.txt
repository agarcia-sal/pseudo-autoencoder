CLASS Solution  
    FUNCTION topKFrequent(nums k)  
        SET frequency_map TO an empty map that returns zero for any new key  
        FOR each num IN nums  
            INCREMENT the count of element num in frequency_map BY one  
        END FOR  
        SET max_frequency TO the maximum value among all values in frequency_map  
        SET buckets TO a list of empty lists with the number of elements equal to max_frequency PLUS one  
        FOR each key num and value freq IN frequency_map  
            APPEND element num TO the list at position freq in buckets  
        END FOR  
        SET result TO an empty list  
        FOR freq FROM max_frequency DOWN TO one  
            IF the length of the list at position freq in buckets IS GREATER THAN zero  
                APPEND all elements in the list at position freq in buckets TO result  
                IF the length of result IS GREATER THAN OR EQUAL TO k  
                    RETURN the first k elements of result  
                END IF  
            END IF  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS