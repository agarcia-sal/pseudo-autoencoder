CLASS Solution
    FUNCTION minKBitFlips(nums AS list OF integers, k AS integer) AS integer
        SET n TO the LENGTH OF nums
        SET flip_count TO zero
        SET flipped TO a list OF zeros WITH the LENGTH OF n PLUS one
        SET flip_state TO zero
        
        FOR i FROM zero TO n MINUS one INCLUSIVE
            SET flip_state TO flip_state XOR the element AT POSITION i OF flipped
            
            IF the element AT POSITION i OF nums EQUALS flip_state THEN
                IF i PLUS k GREATER THAN n THEN
                    RETURN negative one
                END IF
                SET flip_state TO flip_state XOR one
                SET the element AT POSITION i PLUS k OF flipped TO the element AT POSITION i PLUS k OF flipped XOR one
                INCREMENT flip_count BY one
            END IF
        END FOR
        
        RETURN flip_count
    END FUNCTION
END CLASS