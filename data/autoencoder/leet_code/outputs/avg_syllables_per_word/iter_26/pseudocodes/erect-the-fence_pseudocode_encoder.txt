CLASS Solution
    FUNCTION outerTrees(trees)
        FUNCTION cross(i, j, k)
            ASSIGN a TO element at position i OF trees
            ASSIGN b TO element at position j OF trees
            ASSIGN c TO element at position k OF trees
            RETURN the result of the expression 
                open parenthesis b at position zero MINUS a at position zero close parenthesis MULTIPLIED BY open parenthesis c at position one MINUS b at position one close parenthesis MINUS open parenthesis b at position one MINUS a at position one close parenthesis MULTIPLIED BY open parenthesis c at position zero MINUS b at position zero close parenthesis
        END FUNCTION

        SET n TO the LENGTH OF trees
        IF n LESS THAN four THEN
            RETURN trees
        END IF

        SORT trees in natural ascending order
        ASSIGN vis TO a list of boolean false repeated n times
        ASSIGN stk TO a list containing only zero

        FOR i FROM one TO n MINUS one INCLUSIVE
            WHILE the LENGTH OF stk GREATER THAN one AND cross of element at position LENGTH OF stk MINUS two OF stk, element at position LENGTH OF stk MINUS one OF stk, and i LESS THAN zero HOLDS
                SET the element at position popped last FROM stk in vis TO false
            END WHILE
            SET the element at position i IN vis TO true
            APPEND i TO stk
        END FOR

        SET m TO the LENGTH OF stk
        FOR i FROM n MINUS two DOWN TO zero INCLUSIVE
            IF the element at position i IN vis IS true THEN
                CONTINUE to next iteration
            END IF
            WHILE the LENGTH OF stk GREATER THAN m AND cross of element at position LENGTH OF stk MINUS two OF stk, element at position LENGTH OF stk MINUS one OF stk, and i LESS THAN zero HOLDS
                POP the last element FROM stk
            END WHILE
            APPEND i TO stk
        END FOR

        POP the last element FROM stk

        RETURN the list constructed by eliding element at position i OF trees FOR each i IN stk
    END FUNCTION
END CLASS