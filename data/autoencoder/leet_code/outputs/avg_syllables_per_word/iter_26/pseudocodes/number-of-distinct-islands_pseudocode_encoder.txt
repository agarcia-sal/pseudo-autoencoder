CLASS Solution
    FUNCTION numDistinctIslands(grid)
        FUNCTION dfs(i, j, direction)
            IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN the LENGTH OF grid AND j IS GREATER THAN OR EQUAL TO zero AND j IS LESS THAN the LENGTH OF the element at position zero OF grid AND the element at position i OF grid AT position j EQUALS one
                SET the element at position i OF grid AT position j TO zero
                APPEND direction TO path
                CALL dfs WITH i INCREMENTED BY one AND j AND direction AS the single character representing down
                CALL dfs WITH i DECREMENTED BY one AND j AND direction AS the single character representing up
                CALL dfs WITH i AND j INCREMENTED BY one AND direction AS the single character representing right
                CALL dfs WITH i AND j DECREMENTED BY one AND direction AS the single character representing left
                APPEND the single character representing backtrack TO path
            END IF
            RETURN path
        END FUNCTION

        SET unique_islands TO an empty set

        FOR i FROM zero TO the LENGTH OF grid MINUS one INCLUSIVE
            FOR j FROM zero TO the LENGTH OF the element at position zero OF grid MINUS one INCLUSIVE
                IF the element at position i OF grid AT position j EQUALS one
                    SET path TO an empty list
                    ADD the tuple of the result of CALLING dfs WITH i AND j AND the single character representing origin TO unique_islands
                END IF
            END FOR
        END FOR

        RETURN the LENGTH OF unique_islands
    END FUNCTION
END CLASS