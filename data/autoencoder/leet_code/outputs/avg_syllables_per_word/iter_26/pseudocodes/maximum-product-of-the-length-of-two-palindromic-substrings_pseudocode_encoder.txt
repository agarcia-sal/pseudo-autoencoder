CLASS Solution
    FUNCTION maxProduct(s)
        SET n TO the LENGTH OF s

        SET max_len_end TO a list OF the LENGTH n FILLED WITH the integer one
        SET max_len_start TO a list OF the LENGTH n FILLED WITH the integer one

        FUNCTION expand_around_center(left, right)
            WHILE left GREATER THAN OR EQUAL TO zero AND right LESS THAN n AND the element at position left OF s EQUALS the element at position right OF s HOLDS
                SET length TO right MINUS left PLUS one
                SET max_len_end at position right TO the GREATER OF the element at position right OF max_len_end AND length
                SET max_len_start at position left TO the GREATER OF the element at position left OF max_len_start AND length
                DECREMENT left BY one
                INCREMENT right BY one
            END WHILE
        END FUNCTION

        FOR index i FROM zero TO n MINUS one INCLUSIVE
            CALL expand_around_center WITH arguments i AND i
        END FOR

        SET prefix_max TO a list OF the LENGTH n FILLED WITH zero
        SET suffix_max TO a list OF the LENGTH n FILLED WITH zero

        SET element at position zero OF prefix_max TO the element at position zero OF max_len_end
        FOR index i FROM one TO n MINUS one INCLUSIVE
            SET element at position i OF prefix_max TO the GREATER OF the element at position i MINUS one OF prefix_max AND the element at position i OF max_len_end
        END FOR

        SET element at position n MINUS one OF suffix_max TO the element at position n MINUS one OF max_len_start
        FOR index i FROM n MINUS two DOWN TO zero INCLUSIVE
            SET element at position i OF suffix_max TO the GREATER OF the element at position i PLUS one OF suffix_max AND the element at position i OF max_len_start
        END FOR

        SET max_product TO zero
        FOR index i FROM zero TO n MINUS two INCLUSIVE
            SET product_value TO the element at position i OF prefix_max MULTIPLIED BY the element at position i PLUS one OF suffix_max
            SET max_product TO the GREATER OF max_product AND product_value
        END FOR

        RETURN max_product
    END FUNCTION
END CLASS