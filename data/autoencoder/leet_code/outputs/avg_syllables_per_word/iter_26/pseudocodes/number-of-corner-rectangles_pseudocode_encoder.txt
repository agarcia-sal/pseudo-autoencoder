CLASS Solution
    FUNCTION countCornerRectangles(grid)
        IF grid EQUALS empty OR the FIRST element OF grid EQUALS empty
            RETURN zero
        END IF

        SET number_of_rows TO the LENGTH OF grid
        SET number_of_columns TO the LENGTH OF the FIRST element OF grid
        SET count TO zero

        FOR row_index_i FROM zero TO number_of_rows MINUS one INCLUSIVE
            FOR row_index_j FROM row_index_i PLUS one TO number_of_rows MINUS one INCLUSIVE
                SET columns_with_ones TO zero

                FOR column_index_k FROM zero TO number_of_columns MINUS one INCLUSIVE
                    IF the element at position row_index_i OF grid AT position column_index_k EQUALS one AND the element at position row_index_j OF grid AT position column_index_k EQUALS one
                        INCREMENT columns_with_ones BY one
                    END IF
                END FOR

                IF columns_with_ones GREATER THAN OR EQUAL TO two
                    INCREMENT count BY columns_with_ones MULTIPLIED BY columns_with_ones MINUS one DIVIDED BY two
                END IF
            END FOR
        END FOR

        RETURN count
    END FUNCTION
END CLASS