CLASS Solution
    FUNCTION maximumRequests(n, requests)
        SET max_requests TO zero
        SET num_requests TO the LENGTH OF requests
        FOR each mask FROM zero TO the VALUE OF two RAISED TO THE POWER OF num_requests MINUS one INCLUSIVE
            SET balance TO a list OF zero repeated n times
            SET count TO zero
            FOR each i FROM zero TO num_requests MINUS one INCLUSIVE
                IF the BITWISE AND of mask AND the VALUE OF two RAISED TO THE POWER OF i IS NOT EQUAL TO zero HOLDS
                    ASSIGN from_building AND to_building TO the element at position i OF requests
                    DECREMENT the element at position from_building OF balance BY one
                    INCREMENT the element at position to_building OF balance BY one
                    INCREMENT count BY one
                END IF
            END FOR
            IF for each b IN balance, b EQUALS zero HOLDS
                SET max_requests TO the GREATER OF max_requests AND count
            END IF
        END FOR
        RETURN max_requests
    END FUNCTION
END CLASS