CLASS Solution
    FUNCTION sumOfFlooredPairs(nums)
        SET MOD TO ten raised to the power of nine PLUS one
        SET max_num TO the maximum element IN nums
        SET count TO a mapping of elements TO their frequencies IN nums
        SET prefix_sum TO a list of zeros WITH length max_num PLUS one

        FOR each num IN the keys OF count
            INCREMENT the element at position num OF prefix_sum BY the frequency of num FROM count
        END FOR

        FOR i FROM one TO max_num INCLUSIVE
            INCREMENT the element at position i OF prefix_sum BY the element at position i minus one OF prefix_sum
        END FOR

        SET result TO zero

        FOR each num IN the keys OF count
            FOR multiple FROM one TO the integer division of max_num BY num INCLUSIVE
                SET start TO num MULTIPLIED BY multiple
                SET end TO the smaller value BETWEEN num MULTIPLIED BY the sum of multiple PLUS one AND max_num
                SET multiples_count TO the element at position end OF prefix_sum MINUS the element at position start MINUS one OF prefix_sum
                INCREMENT result BY multiples_count MULTIPLIED BY multiple MULTIPLIED BY the frequency of num FROM count
                SET result TO result MODULO MOD
            END FOR
        END FOR

        RETURN result
    END FUNCTION
END CLASS