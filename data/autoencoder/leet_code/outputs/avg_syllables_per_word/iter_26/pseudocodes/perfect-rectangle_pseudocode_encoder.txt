CLASS Solution
    FUNCTION isRectangleCover(rectangles)
        SET X1 TO positive infinity
        SET Y1 TO positive infinity
        SET X2 TO negative infinity
        SET Y2 TO negative infinity
        
        SET points TO empty set
        SET area TO zero
        
        FOR each rectangle DECOMPOSED INTO x1, y1, x2, y2 IN rectangles
            SET X1 TO the MINIMUM OF X1 AND x1
            SET Y1 TO the MINIMUM OF Y1 AND y1
            SET X2 TO the MAXIMUM OF X2 AND x2
            SET Y2 TO the MAXIMUM OF Y2 AND y2
            
            INCREMENT area BY the DIFFERENCE BETWEEN x2 AND x1 MULTIPLIED BY the DIFFERENCE BETWEEN y2 AND y1
            
            FOR each point p IN the list OF the TUPLE OF x1 AND y1, the TUPLE OF x1 AND y2, the TUPLE OF x2 AND y1, the TUPLE OF x2 AND y2
                IF point p IS IN points
                    REMOVE point p FROM points
                ELSE
                    ADD point p TO points
                END IF
            END FOR
        END FOR
        
        IF area IS NOT EQUAL TO the DIFFERENCE BETWEEN X2 AND X1 MULTIPLIED BY the DIFFERENCE BETWEEN Y2 AND Y1
            RETURN FALSE
        END IF
        
        IF points IS NOT EQUAL TO the SET OF the TUPLE OF X1 AND Y1, the TUPLE OF X1 AND Y2, the TUPLE OF X2 AND Y1, the TUPLE OF X2 AND Y2
            RETURN FALSE
        END IF
        
        RETURN TRUE
    END FUNCTION
END CLASS