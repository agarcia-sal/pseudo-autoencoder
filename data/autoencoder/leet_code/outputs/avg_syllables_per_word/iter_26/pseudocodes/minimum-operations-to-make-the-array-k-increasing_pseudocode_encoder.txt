CLASS Solution
    FUNCTION kIncreasing(parameter arr OF TYPE List OF INTEGER, parameter k OF TYPE INTEGER) RETURNS INTEGER

        FUNCTION longest_increasing_subsequence(parameter subarr OF TYPE List OF INTEGER) RETURNS INTEGER
            SET lis TO an empty list
            FOR each number IN subarr
                IF lis IS empty OR number GREATER THAN OR EQUAL TO the element at position the last index OF lis
                    APPEND number TO lis
                ELSE
                    SET pos TO the position obtained by FINDING the insertion index at the right of number WITHIN lis USING binary search
                    SET the element at position pos OF lis TO number
                END IF
            END FOR
            RETURN the LENGTH OF lis
        END FUNCTION

        SET total_operations TO zero
        SET n TO the LENGTH OF arr

        FOR start FROM zero TO k MINUS one INCLUSIVE
            SET subarr TO an empty list
            FOR i FROM start TO n MINUS one IN STEPS OF size k
                APPEND the element at position i OF arr TO subarr
            END FOR

            SET lis_length TO longest_increasing_subsequence(subarr)
            INCREMENT total_operations BY the LENGTH OF subarr MINUS lis_length
        END FOR

        RETURN total_operations
    END FUNCTION
END CLASS