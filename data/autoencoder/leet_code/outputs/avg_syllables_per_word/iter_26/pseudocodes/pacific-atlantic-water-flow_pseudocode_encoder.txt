CLASS Solution
    FUNCTION pacificAtlantic(heights)
        FUNCTION bfs(queue, visited_set)
            WHILE queue IS NOT EMPTY
                FOR iteration_variable FROM zero TO the LENGTH OF queue MINUS one INCLUSIVE
                    ASSIGN i AND j TO the FIRST AND SECOND elements OF the ELEMENT at POSITION zero OF queue
                    REMOVE the ELEMENT at POSITION zero FROM queue
                    FOR each pair OF a AND b IN the LIST OF PAIRS consisting OF zero AND negative one, zero AND one, one AND zero, negative one AND zero
                        SET x TO i PLUS a
                        SET y TO j PLUS b
                        IF zero LESS THAN OR EQUAL TO x AND x LESS THAN m AND zero LESS THAN OR EQUAL TO y AND y LESS THAN n AND the PAIR OF x AND y IS NOT IN visited_set AND the ELEMENT at POSITION x OF heights AT POSITION y IS GREATER THAN OR EQUAL TO the ELEMENT at POSITION i OF heights AT POSITION j
                            ADD the PAIR OF x AND y TO visited_set
                            ADD the PAIR OF x AND y TO queue
                        END IF
                    END FOR
                END FOR
            END WHILE
        END FUNCTION

        SET m TO the LENGTH OF heights
        SET n TO the LENGTH OF the ELEMENT at POSITION zero OF heights
        ASSIGN visited_set one TO an EMPTY SET
        ASSIGN visited_set two TO an EMPTY SET
        ASSIGN queue one TO an EMPTY DOUBLE ENDED QUEUE
        ASSIGN queue two TO an EMPTY DOUBLE ENDED QUEUE
        FOR i FROM zero TO m MINUS one INCLUSIVE
            FOR j FROM zero TO n MINUS one INCLUSIVE
                IF i EQUALS zero OR j EQUALS zero
                    ADD the PAIR OF i AND j TO visited_set one
                    ADD the PAIR OF i AND j TO queue one
                END IF
                IF i EQUALS m MINUS one OR j EQUALS n MINUS one
                    ADD the PAIR OF i AND j TO visited_set two
                    ADD the PAIR OF i AND j TO queue two
                END IF
            END FOR
        END FOR
        CALL bfs WITH queue one AND visited_set one
        CALL bfs WITH queue two AND visited_set two
        RETURN the LIST OF PAIRS i AND j FOR i FROM zero TO m MINUS one INCLUSIVE FOR j FROM zero TO n MINUS one INCLUSIVE WHERE the PAIR OF i AND j IS IN visited_set one AND the PAIR OF i AND j IS IN visited_set two
    END FUNCTION
END CLASS