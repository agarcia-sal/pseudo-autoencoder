CLASS Solution
    FUNCTION restoreIpAddresses(s)
        FUNCTION is_valid(segment)
            IF the LENGTH OF segment EQUALS one OR the FIRST ELEMENT OF segment NOT EQUALS character zero AND CONVERT segment TO integer IS LESS THAN OR EQUAL TO two hundred fifty five
                RETURN true
            ELSE
                RETURN false
            END IF
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF the LENGTH OF path EQUALS four
                IF start EQUALS the LENGTH OF s
                    APPEND the JOIN OF path WITH character dot TO result
                END IF
                RETURN
            END IF
            FOR length FROM one TO three INCLUSIVE
                IF start PLUS length IS LESS THAN OR EQUAL TO the LENGTH OF s
                    SET segment TO the substring FROM position start TO position start PLUS length OF s
                    IF is_valid(segment) HOLDS
                        CALL backtrack WITH start PLUS length AND path PLUS list WITH segment AS sole element
                    END IF
                END IF
            END FOR
        END FUNCTION

        SET result TO empty list
        CALL backtrack WITH zero AND empty list
        RETURN result
    END FUNCTION
END CLASS