CLASS Solution
    FUNCTION superpalindromesInRange(left STRING, right STRING) RETURNS INTEGER

        FUNCTION is_palindrome(num)
            RETURN THE STRING REPRESENTATION OF num EQUALS THE STRING REPRESENTATION OF num REVERSED
        END FUNCTION

        FUNCTION generate_palindromes(limit)
            SET palindromes TO AN EMPTY LIST
            FOR i FROM one TO one hundred thousand MINUS one INCLUSIVE
                SET s TO THE STRING REPRESENTATION OF i
                APPEND THE INTEGER CONVERSION OF THE CONCATENATION OF s AND THE SUBSTRING OF s FROM SECOND TO LAST ELEMENT TO FIRST ELEMENT IN REVERSE ORDER TO palindromes
                APPEND THE INTEGER CONVERSION OF THE CONCATENATION OF s AND THE REVERSE OF s TO palindromes
            END FOR
            RETURN A LIST OF ELEMENTS p FROM palindromes WHERE p IS LESS THAN OR EQUAL TO limit
        END FUNCTION

        SET left TO THE INTEGER CONVERSION OF left
        SET right TO THE INTEGER CONVERSION OF right
        SET limit TO THE INTEGER CONVERSION OF THE SQUARE ROOT OF right PLUS one
        SET palindromes TO generate_palindromes(limit)

        SET count TO zero
        FOR each p IN palindromes
            SET square TO p MULTIPLIED BY p
            IF left LESS THAN OR EQUAL TO square AND square LESS THAN OR EQUAL TO right AND is_palindrome(square) HOLDS
                INCREMENT count BY one
            END IF
        END FOR

        RETURN count
    END FUNCTION
END CLASS