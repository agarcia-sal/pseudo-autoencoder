CLASS Solution
    FUNCTION validUtf8(data)
        FUNCTION get_byte_count(byte)
            IF the result of byte SHIFTED RIGHT BY seven BITS EQUALS zero
                RETURN one
            ELSE IF the result of byte SHIFTED RIGHT BY five BITS EQUALS the binary pattern one one zero
                RETURN two
            ELSE IF the result of byte SHIFTED RIGHT BY four BITS EQUALS the binary pattern one one one zero
                RETURN three
            ELSE IF the result of byte SHIFTED RIGHT BY three BITS EQUALS the binary pattern one one one one zero
                RETURN four
            ELSE
                RETURN negative one
            END IF
        END FUNCTION

        SET i TO zero
        WHILE i LESS THAN the LENGTH OF data HOLDS
            SET byte_count TO the result of calling get_byte_count with the element at position i OF data
            IF byte_count EQUALS negative one
                RETURN False
            END IF
            IF i PLUS byte_count GREATER THAN the LENGTH OF data
                RETURN False
            END IF
            FOR j FROM i PLUS one TO i PLUS byte_count MINUS one INCLUSIVE
                IF the result of the element at position j OF data SHIFTED RIGHT BY six BITS NOT EQUALS the binary pattern one zero
                    RETURN False
                END IF
            END FOR
            INCREMENT i BY byte_count
        END WHILE
        RETURN True
    END FUNCTION
END CLASS