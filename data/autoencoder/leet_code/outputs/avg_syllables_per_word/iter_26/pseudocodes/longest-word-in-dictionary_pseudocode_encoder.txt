CLASS Solution
    FUNCTION longestWord(words)
        CALL words SORTED BY THE LENGTH OF each word AND THEN BY THE WORD ITSELF IN LEXICOGRAPHICAL ORDER
        SET valid_words TO an empty set
        SET longest_word TO an empty string

        FOR each word IN words
            IF the LENGTH OF word EQUALS one OR the SUBSTRING FROM THE FIRST POSITION TO THE SECOND TO LAST POSITION OF word IS IN valid_words
                ADD word TO valid_words
                
                IF the LENGTH OF word IS GREATER THAN the LENGTH OF longest_word
                    SET longest_word TO word
                END IF
            END IF
        END FOR

        RETURN longest_word
    END FUNCTION
END CLASS