CLASS Solution

    FUNCTION numDupDigitsAtMostN(n)
    
        FUNCTION count_unique_digits(x)
            SET string_representation TO string version OF x
            SET length_of_string TO the LENGTH OF string_representation
            
            SET count_of_numbers TO zero
            FOR current_position FROM one TO length_of_string MINUS one INCLUSIVE
                SET count_of_numbers TO count_of_numbers PLUS nine MULTIPLIED BY perm FUNCTION CALLED WITH nine MINUS one AND current_position MINUS one
            END FOR
            
            SET set_of_seen_digits TO an empty set
            FOR each index AND character_digit IN enumeration OF string_representation
                SET starting_digit TO zero
                IF index EQUALS zero THEN
                    SET starting_digit TO one
                END IF
                FOR digit_value FROM starting_digit TO the numeric value OF character_digit MINUS one INCLUSIVE
                    IF digit_value NOT IN set_of_seen_digits THEN
                        SET count_of_numbers TO count_of_numbers PLUS perm FUNCTION CALLED WITH nine MINUS index AND length_of_string MINUS index MINUS one
                    END IF
                END FOR
                IF the numeric value OF character_digit IN set_of_seen_digits THEN
                    BREAK the FOR loop
                END IF
                ADD the numeric value OF character_digit TO set_of_seen_digits
            END FOR
            IF the FOR loop completed WITHOUT break THEN
                INCREMENT count_of_numbers BY one
            END IF
            
            RETURN count_of_numbers
        END FUNCTION
        
        SET result TO n MINUS count_unique_digits CALLED WITH n
        RETURN result
    END FUNCTION

    FUNCTION perm(m, n)
        IF n EQUALS zero THEN
            RETURN one
        END IF
        
        SET result TO one
        FOR index FROM zero TO n MINUS one INCLUSIVE
            SET result TO result MULTIPLIED BY m MINUS index
        END FOR
        RETURN result
    END FUNCTION

END CLASS