CLASS Solution

    FUNCTION createSortedArray(instructions)
        SET MODULO TO ten raised to the power of nine PLUS one
        SET MAXIMUM TO the maximum element of instructions PLUS one
        SET bit_array TO a list of zeros WITH LENGTH maximum
        
        FUNCTION update(index, value)
            WHILE index LESS THAN maximum HOLDS
                INCREMENT element at position index OF bit_array BY value
                SET index TO index PLUS the bitwise AND of index AND the negative of index
            END WHILE
        END FUNCTION

        FUNCTION query(index)
            SET total_sum TO zero
            WHILE index GREATER THAN zero HOLDS
                INCREMENT total_sum BY element at position index OF bit_array
                SET index TO index MINUS the bitwise AND of index AND the negative of index
            END WHILE
            RETURN total_sum
        END FUNCTION

        SET total_cost TO zero
        FOR each pair of i AND num IN the enumeration of instructions
            SET less_than TO the result of calling query WITH argument num MINUS one
            SET greater_than TO i MINUS the result of calling query WITH argument num
            IF less_than LESS THAN OR EQUAL TO greater_than
                SET cost TO less_than
            ELSE
                SET cost TO greater_than
            END IF
            SET total_cost TO the remainder after dividing total_cost PLUS cost BY modulo
            CALL update WITH arguments num AND one
        END FOR

        RETURN total_cost
    END FUNCTION

END CLASS