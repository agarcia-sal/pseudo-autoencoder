CLASS Solution
    FUNCTION cherryPickup(grid)
        SET rows TO the LENGTH OF grid
        SET cols TO the LENGTH OF element at position zero OF grid

        FUNCTION dp(r, c1, c2) WITH LRU CACHE OF unlimited size
            IF c1 LESS THAN zero OR c1 GREATER THAN OR EQUAL TO cols OR c2 LESS THAN zero OR c2 GREATER THAN OR EQUAL TO cols
                RETURN zero
            END IF

            IF c1 EQUALS c2
                SET cherries TO element at position r OF grid at element at position c1
            ELSE
                SET cherries TO element at position r OF grid at element at position c1 PLUS element at position r OF grid at element at position c2
            END IF

            IF r EQUALS rows MINUS one
                RETURN cherries
            END IF

            SET max_cherries TO zero
            FOR each offset_for_c1 IN the list of values negative one zero and one
                FOR each offset_for_c2 IN the list of values negative one zero and one
                    SET candidate TO dp(r PLUS one, c1 PLUS offset_for_c1, c2 PLUS offset_for_c2)
                    IF candidate GREATER THAN max_cherries
                        SET max_cherries TO candidate
                    END IF
                END FOR
            END FOR

            RETURN cherries PLUS max_cherries
        END FUNCTION

        RETURN dp(zero, zero, cols MINUS one)
    END FUNCTION
END CLASS