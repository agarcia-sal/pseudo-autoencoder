CLASS Solution
    FUNCTION numFactoredBinaryTrees(parameter arr OF TYPE List of Integer)
        SET MOD TO ten raised to the power of nine PLUS one
        SORT the list arr IN ascending order
        SET dp TO an empty mapping FROM number TO count
        FOR each number IN the list arr
            SET the element at key number IN dp TO one
        END FOR
        FOR each index i AND corresponding number num IN the enumeration of arr
            FOR each index j FROM zero TO i MINUS one INCLUSIVE
                IF the element at index i OF arr MODULO the element at index j OF arr EQUALS zero THEN
                    SET right_child TO the element at index i OF arr DIVIDED BY the element at index j OF arr
                    IF right_child IS a key IN dp THEN
                        SET dp AT key num TO dp AT key num PLUS dp AT key element at index j OF arr MULTIPLIED BY dp AT key right_child MODULO MOD
                    END IF
                END IF
            END FOR
        END FOR
        RETURN the sum of all values IN dp MODULO MOD
    END FUNCTION
END CLASS