CLASS Solution
    FUNCTION fallingSquares(positions)
        SET max_heights TO an empty list
        SET intervals TO an empty list
        SET current_max_height TO zero

        FOR each pair left and side_length IN positions
            SET right TO left PLUS side_length MINUS one

            SET height TO side_length
            FOR each triple interval_left, interval_right, interval_height IN intervals
                IF left LESS THAN OR EQUAL TO interval_right AND right GREATER THAN OR EQUAL TO interval_left
                    SET height TO the GREATER OF height AND the SUM of side_length AND interval_height
                END IF
            END FOR

            APPEND the triple of left, right, height TO intervals

            SET current_max_height TO the GREATER OF current_max_height AND height

            APPEND current_max_height TO max_heights
        END FOR

        RETURN max_heights
    END FUNCTION
END CLASS