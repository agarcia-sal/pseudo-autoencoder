CLASS Solution
    FUNCTION isBipartite(graph AS list OF lists OF integers) RETURNS boolean
        SET n TO the LENGTH OF graph
        SET color TO a list OF zero SET TO the LENGTH OF n
        
        FUNCTION dfs(node AS integer, c AS integer) RETURNS boolean
            SET the element at position node OF color TO c
            FOR each neighbor IN the element at position node OF graph
                IF the element at position neighbor OF color EQUALS c THEN
                    RETURN false
                END IF
                IF the element at position neighbor OF color EQUALS zero THEN
                    IF NOT dfs(neighbor, the NEGATION OF c) HOLDS THEN
                        RETURN false
                    END IF
                END IF
            END FOR
            RETURN true
        END FUNCTION
        
        FOR index i FROM zero TO n MINUS one INCLUSIVE
            IF the element at position i OF color EQUALS zero THEN
                IF NOT dfs(i, one) HOLDS THEN
                    RETURN false
                END IF
            END IF
        END FOR
        
        RETURN true
    END FUNCTION
END CLASS