CLASS Solution
    FUNCTION isPossible(nums)
        SET num_count TO a frequency mapping of elements IN nums
        SET end_with TO a frequency mapping of subsequence endings by number

        FOR each num IN nums
            IF the count of num IN num_count EQUALS zero
                CONTINUE to next iteration
            END IF

            IF the count of num MINUS one IN end_with GREATER THAN zero
                DECREMENT the count of num MINUS one IN end_with BY one
                INCREMENT the count of num IN end_with BY one
            ELSE IF the count of num PLUS one IN num_count GREATER THAN zero AND the count of num PLUS two IN num_count GREATER THAN zero
                DECREMENT the count of num PLUS one IN num_count BY one
                DECREMENT the count of num PLUS two IN num_count BY one
                INCREMENT the count of num PLUS two IN end_with BY one
            ELSE
                RETURN false
            END IF

            DECREMENT the count of num IN num_count BY one
        END FOR

        RETURN true
    END FUNCTION
END CLASS