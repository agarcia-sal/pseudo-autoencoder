CLASS Solution
    FUNCTION areConnected(n, threshold, queries)
        IF threshold EQUALS zero
            RETURN a list of True values repeated for the LENGTH OF queries
        END IF

        SET parent TO a list of integers INCLUSIVE FROM zero TO n

        FUNCTION find(x)
            IF the element at position x OF parent NOT EQUALS x
                SET the element at position x OF parent TO the result of calling find WITH the element at position x OF parent
            END IF
            RETURN the element at position x OF parent
        END FUNCTION

        FUNCTION union(x, y)
            SET rootX TO the result of calling find WITH x
            SET rootY TO the result of calling find WITH y
            IF rootX NOT EQUALS rootY
                SET the element at position rootY OF parent TO rootX
            END IF
        END FUNCTION

        FOR i FROM threshold PLUS one TO n INCLUSIVE
            FOR j FROM i MULTIPLIED BY two TO n INCLUSIVE STEPPING BY i
                CALL union WITH i AND j
            END FOR
        END FOR

        SET result TO an empty list
        FOR each pair of a and b IN queries
            APPEND to result THE BOOLEAN VALUE OF the EXPRESSION that the result of calling find WITH a EQUALS the result of calling find WITH b
        END FOR

        RETURN result
    END FUNCTION
END CLASS