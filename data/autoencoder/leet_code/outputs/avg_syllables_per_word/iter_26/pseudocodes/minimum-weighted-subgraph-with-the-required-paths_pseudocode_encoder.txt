CLASS Solution
    FUNCTION minimumWeight(n, edges, src1, src2, dest)
        FUNCTION dijkstra(graph, start)
            SET distances TO a list of length n with every element set TO infinity
            SET element at position start OF distances TO zero
            SET heap TO a list containing a pair of zero and start

            WHILE heap HOLDS
                SET current_distance, current_node TO the result of removing the smallest element from heap

                IF current_distance GREATER THAN element at position current_node OF distances
                    CONTINUE
                END IF

                FOR each pair neighbor, weight IN element at position current_node OF graph
                    SET distance TO current_distance PLUS weight

                    IF distance LESS THAN element at position neighbor OF distances
                        SET element at position neighbor OF distances TO distance
                        ADD the pair distance and neighbor TO heap
                    END IF
                END FOR
            END WHILE

            RETURN distances
        END FUNCTION

        SET graph TO a list containing n empty lists
        SET reverse_graph TO a list containing n empty lists

        FOR each triple u, v, w IN edges
            ADD the pair v and w TO element at position u OF graph
            ADD the pair u and w TO element at position v OF reverse_graph
        END FOR

        SET dist_from_src1 TO the result of calling dijkstra with graph and src1
        SET dist_from_src2 TO the result of calling dijkstra with graph and src2
        SET dist_to_dest TO the result of calling dijkstra with reverse_graph and dest

        SET min_weight TO infinity

        FOR index i FROM zero TO n MINUS one INCLUSIVE
            IF element at position i OF dist_from_src1 NOT EQUAL TO infinity AND element at position i OF dist_from_src2 NOT EQUAL TO infinity AND element at position i OF dist_to_dest NOT EQUAL TO infinity
                SET min_weight TO the minimum of min_weight AND the sum of element at position i OF dist_from_src1 PLUS element at position i OF dist_from_src2 PLUS element at position i OF dist_to_dest
            END IF
        END FOR

        IF min_weight NOT EQUAL TO infinity
            RETURN min_weight
        ELSE
            RETURN negative one
        END IF
    END FUNCTION
END CLASS