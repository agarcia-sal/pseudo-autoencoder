CLASS Solution
    FUNCTION hIndex(citations)
        SORT citations IN DESCENDING ORDER
        FOR index FROM zero TO the LENGTH OF citations MINUS one INCLUSIVE
            SET citation TO element AT position index OF citations
            IF citation LESS THAN index PLUS one
                RETURN index
            END IF
        END FOR
        RETURN the LENGTH OF citations
    END FUNCTION
END CLASS