CLASS Solution
    FUNCTION wordBreak(s, wordDict)
        SET wordSet TO the SET OF wordDict
        SET memo TO an EMPTY DICTIONARY
        
        FUNCTION backtrack(start)
            IF start IS IN memo THEN
                RETURN the VALUE ASSOCIATED WITH start IN memo
            END IF
            
            IF start EQUALS the LENGTH OF s THEN
                RETURN A LIST CONTAINING the EMPTY STRING
            END IF
            
            SET res TO an EMPTY LIST
            FOR end FROM start PLUS one TO the LENGTH OF s INCLUSIVE
                SET word TO the SUBSTRING FROM position start TO position end MINUS one OF s
                IF word IS IN wordSet THEN
                    FOR each sentence IN backtrack(end)
                        IF sentence IS NOT the EMPTY STRING THEN
                            APPEND the CONCATENATION OF word PLUS a SPACE PLUS sentence TO res
                        ELSE
                            APPEND word TO res
                        END IF
                    END FOR
                END IF
            END FOR
            
            ASSIGN THE VALUE res TO memo AT start
            RETURN res
        END FUNCTION
        
        RETURN backtrack zero
    END FUNCTION
END CLASS