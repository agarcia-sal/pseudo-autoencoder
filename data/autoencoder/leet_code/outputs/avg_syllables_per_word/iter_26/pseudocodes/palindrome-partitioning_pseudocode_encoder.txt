CLASS Solution
    FUNCTION partition(s)
        FUNCTION is_palindrome(sub)
            RETURN sub EQUALS the REVERSE OF sub
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF start EQUALS the LENGTH OF s
                APPEND path TO result
                RETURN
            END IF

            FOR end FROM start PLUS one TO the LENGTH OF s INCLUSIVE
                IF is_palindrome(the SUBSTRING FROM position start TO position end MINUS one OF s)
                    CALL backtrack WITH end AND path PLUS the LIST CONTAINING the SUBSTRING FROM position start TO position end MINUS one OF s
                END IF
            END FOR
        END FUNCTION

        SET result TO an EMPTY LIST
        CALL backtrack WITH zero AND an EMPTY LIST
        RETURN result
    END FUNCTION
END CLASS