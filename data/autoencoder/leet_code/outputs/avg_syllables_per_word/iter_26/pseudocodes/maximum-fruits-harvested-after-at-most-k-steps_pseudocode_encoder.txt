CLASS Solution
    FUNCTION maxTotalFruits(fruits AS list of list of integers, startPos AS integer, k AS integer) RETURNS integer
        SET max_fruits TO zero
        SET total_fruits TO zero
        SET left TO zero
        
        FOR right FROM zero TO the LENGTH OF fruits MINUS one INCLUSIVE
            ASSIGN position TO the element at position zero OF the element at position right OF fruits
            ASSIGN amount TO the element at position one OF the element at position right OF fruits
            INCREMENT total_fruits BY amount
            
            WHILE left LESS THAN OR EQUAL TO right AND NOT (
                startPos MINUS k LESS THAN OR EQUAL TO the element at position zero OF the element at position left OF fruits AND
                the element at position zero OF the element at position left OF fruits LESS THAN OR EQUAL TO startPos PLUS k AND
                startPos MINUS k LESS THAN OR EQUAL TO the element at position zero OF the element at position right OF fruits AND
                the element at position zero OF the element at position right OF fruits LESS THAN OR EQUAL TO startPos PLUS k AND
                THE MINIMUM OF the ABSOLUTE VALUE OF the element at position zero OF the element at position right OF fruits MINUS startPos AND the ABSOLUTE VALUE OF the element at position zero OF the element at position left OF fruits MINUS startPos PLUS the element at position zero OF the element at position right OF fruits MINUS the element at position zero OF the element at position left OF fruits LESS THAN OR EQUAL TO k
            )
                DECREMENT total_fruits BY the element at position one OF the element at position left OF fruits
                INCREMENT left BY one
            END WHILE
            
            SET max_fruits TO THE MAXIMUM OF max_fruits AND total_fruits
        END FOR
        
        RETURN max_fruits
    END FUNCTION
END CLASS