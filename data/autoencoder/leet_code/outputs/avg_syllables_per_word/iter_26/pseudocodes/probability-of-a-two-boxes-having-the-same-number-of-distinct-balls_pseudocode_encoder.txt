CLASS Solution
    FUNCTION getProbability(balls AS List)
        FUNCTION dfs(i AS integer, j AS integer, diff AS integer)
            IF i GREATER THAN OR EQUAL TO k THEN
                IF j EQUALS zero AND diff EQUALS zero THEN
                    RETURN one
                ELSE
                    RETURN zero
                END IF
            END IF
            IF j LESS THAN zero THEN
                RETURN zero
            END IF
            SET ans TO zero
            FOR x FROM zero TO element at position i OF balls INCLUSIVE
                IF x EQUALS element at position i OF balls THEN
                    SET y TO one
                ELSE IF x EQUALS zero THEN
                    SET y TO negative one
                ELSE
                    SET y TO zero
                END IF
                INCREMENT ans BY dfs(i PLUS one, j MINUS x, diff PLUS y) MULTIPLIED BY the COMBINATION OF element at position i OF balls CHOOSE x
            END FOR
            RETURN ans
        END FUNCTION

        SET n TO the SUM OF all elements OF balls DIVIDED BY two
        SET k TO the LENGTH OF balls
        RETURN dfs(zero, n, zero) DIVIDED BY the COMBINATION OF n MULTIPLIED BY two CHOOSE n
    END FUNCTION
END CLASS