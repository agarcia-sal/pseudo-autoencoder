CLASS Solution
    FUNCTION scheduleCourse(courses LIST OF LIST OF integer)
        SORT courses BY THE SECOND ELEMENT OF each course IN ASCENDING ORDER
        SET max_heap TO an empty list
        SET current_end_day TO zero

        FOR each pair OF duration AND last_day IN courses
            IF current_end_day PLUS duration LESS THAN OR EQUAL TO last_day
                ADD the NEGATION OF duration TO max_heap USING HEAP PUSH PROCEDURE
                INCREMENT current_end_day BY duration
            ELSE
                IF max_heap IS NOT EMPTY AND the NEGATION OF the FIRST ELEMENT OF max_heap GREATER THAN duration
                    INCREMENT current_end_day BY duration PLUS REMOVE the SMALLEST ELEMENT FROM max_heap USING HEAP POP PROCEDURE
                    ADD the NEGATION OF duration TO max_heap USING HEAP PUSH PROCEDURE
                END IF
            END IF
        END FOR

        RETURN the LENGTH OF max_heap
    END FUNCTION
END CLASS