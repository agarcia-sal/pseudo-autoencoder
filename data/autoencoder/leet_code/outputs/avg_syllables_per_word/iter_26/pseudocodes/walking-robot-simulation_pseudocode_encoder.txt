CLASS Solution
    FUNCTION robotSim(commands AS list_of_integers, obstacles AS list_of_list_of_integers) RETURNS integer
        SET directions TO list containing tuples of zero and one, one and zero, zero and negative one, negative one and zero
        SET x TO zero
        SET y TO zero
        SET dir_index TO zero
        SET obstacles_set TO the set containing each tuple converted from each element of obstacles
        SET max_distance TO zero

        FOR each command IN commands
            IF command EQUALS negative two
                SET dir_index TO the result of dir_index MINUS one MODULO four
            ELSE IF command EQUALS negative one
                SET dir_index TO the result of dir_index PLUS one MODULO four
            ELSE
                SET dx TO the first element of the element at position dir_index OF directions
                SET dy TO the second element of the element at position dir_index OF directions
                FOR counting_variable FROM one TO command INCLUSIVE
                    SET next_x TO x PLUS dx
                    SET next_y TO y PLUS dy
                    IF the tuple of next_x and next_y IS IN obstacles_set
                        BREAK out of the inner loop
                    END IF
                    SET x TO next_x
                    SET y TO next_y
                END FOR
                SET current_distance TO the quantity of x MULTIPLIED BY x PLUS y MULTIPLIED BY y
                IF current_distance GREATER THAN max_distance
                    SET max_distance TO current_distance
                END IF
            END IF
        END FOR
        
        RETURN max_distance
    END FUNCTION
END CLASS