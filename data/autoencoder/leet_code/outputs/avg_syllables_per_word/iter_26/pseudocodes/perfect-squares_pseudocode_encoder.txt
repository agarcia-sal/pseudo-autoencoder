CLASS Solution
    FUNCTION numSquares(n)
        SET dp TO a list containing the infinite value repeated for each number FROM zero TO n INCLUSIVE
        SET the element at position zero OF dp TO zero
        
        SET squares TO an empty list
        SET i TO one
        WHILE i MULTIPLIED BY i IS LESS THAN OR EQUAL TO n HOLDS
            APPEND i MULTIPLIED BY i TO squares
            INCREMENT i BY one
        END WHILE
        
        FOR i FROM one TO n INCLUSIVE
            FOR each square IN squares
                IF i IS LESS THAN square THEN
                    BREAK out of the inner loop
                END IF
                SET dp at position i TO the smaller value BETWEEN current dp at position i AND dp at position i MINUS square PLUS one
            END FOR
        END FOR
        
        RETURN the element at position n OF dp
    END FUNCTION
END CLASS