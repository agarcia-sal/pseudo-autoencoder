CLASS ListNode
    FUNCTION __init__(self, val EQUALS zero, next EQUALS none)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values)
    IF NOT values HOLDS
        RETURN none
    END IF
    SET head TO A NEW ListNode WITH the element at position one OF values
    SET p TO head
    FOR each val IN the SUBLIST OF values FROM position two TO the END
        SET node TO A NEW ListNode WITH val
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 EQUALS none AND p2 EQUALS none HOLDS
        RETURN true
    END IF
    IF NOT p1 HOLDS OR NOT p2 HOLDS
        RETURN false
    END IF
    RETURN p1.val EQUALS p2.val AND is_same_list(p1.next, p2.next)
END FUNCTION

CLASS Solution
    FUNCTION rotateRight(head, k)
        IF NOT head HOLDS OR NOT head.next HOLDS OR k EQUALS zero HOLDS
            RETURN head
        END IF

        SET length TO one
        SET tail TO head
        WHILE tail.next HOLDS
            SET tail TO tail.next
            INCREMENT length BY one
        END WHILE

        SET tail.next TO head

        SET k TO k MODULO length
        SET steps_to_new_tail TO length MINUS k MINUS one

        SET new_tail TO head
        FOR index FROM one TO steps_to_new_tail INCLUSIVE
            SET new_tail TO new_tail.next
        END FOR

        SET new_head TO new_tail.next
        SET new_tail.next TO none

        RETURN new_head
    END FUNCTION
END CLASS