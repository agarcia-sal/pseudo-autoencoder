CLASS Solution
    FUNCTION kthSmallestProduct(nums1, nums2, k)
        FUNCTION count(p)
            SET cnt TO zero
            SET n TO the LENGTH OF nums2
            FOR each element x IN nums1
                IF x GREATER THAN zero THEN
                    INCREMENT cnt BY the POSITION TO THE RIGHT WHERE p DIVIDED BY x WOULD BE INSERTED IN nums2
                ELSE IF x LESS THAN zero THEN
                    INCREMENT cnt BY n MINUS the POSITION TO THE LEFT WHERE p DIVIDED BY x WOULD BE INSERTED IN nums2
                ELSE
                    INCREMENT cnt BY n MULTIPLIED BY the BOOLEAN VALUE THAT p GREATER THAN OR EQUAL TO zero
                END IF
            END FOR
            RETURN cnt
        END FUNCTION

        SET mx TO the MAXIMUM OF the ABSOLUTE VALUE OF the FIRST ELEMENT OF nums1 AND the ABSOLUTE VALUE OF the LAST ELEMENT OF nums1 MULTIPLIED BY the MAXIMUM OF the ABSOLUTE VALUE OF the FIRST ELEMENT OF nums2 AND the ABSOLUTE VALUE OF the LAST ELEMENT OF nums2
        RETURN the POSITION TO THE LEFT WHERE k WOULD BE INSERTED IN the RANGE FROM NEGATIVE mx TO mx INCLUSIVE USING count AS KEY MINUS mx
    END FUNCTION
END CLASS