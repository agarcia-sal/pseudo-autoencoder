CLASS Solution
    FUNCTION maxPoints(points)
        FUNCTION slope(p1, p2)
            IF element at position zero OF p1 EQUALS element at position zero OF p2
                RETURN positive infinity
            END IF
            RETURN element at position one OF p1 MINUS element at position one OF p2 DIVIDED BY element at position zero OF p1 MINUS element at position zero OF p2
        END FUNCTION

        SET max_points TO zero

        FOR i FROM zero TO the LENGTH OF points MINUS one INCLUSIVE
            ASSIGN slopes TO a new mapping with default value zero for each key
            FOR j FROM zero TO the LENGTH OF points MINUS one INCLUSIVE
                IF i NOT EQUALS j
                    SET s TO slope of element at position i OF points AND element at position j OF points
                    INCREMENT the value associated with key s IN slopes BY one
                    SET max_points TO the GREATER VALUE OF max_points AND the value associated with key s IN slopes
                END IF
            END FOR
        END FOR

        IF points IS NOT empty
            RETURN max_points PLUS one
        ELSE
            RETURN zero
        END IF
    END FUNCTION
END CLASS