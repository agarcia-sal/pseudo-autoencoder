CLASS ListNode
    FUNCTION __init__(self, val EQUALS zero, next EQUALS none)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values AS list)
    IF values IS NOT PRESENT
        RETURN none
    END IF
    SET head TO a new ListNode CREATED WITH the element at position zero OF values
    SET p TO head
    FOR each val IN the elements of values FROM the position one TO the end
        SET node TO a new ListNode CREATED WITH val
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 IS none AND p2 IS none
        RETURN true
    END IF
    IF p1 IS NOT PRESENT OR p2 IS NOT PRESENT
        RETURN false
    END IF
    RETURN self.val EQUALS p2.val AND is_same_list(the element at position next OF p1, the element at position next OF p2)
END FUNCTION

CLASS Solution
    FUNCTION plusOne(self, head AS Optional OF ListNode) RETURNS Optional OF ListNode

        FUNCTION reverseList(node AS ListNode) RETURNS ListNode
            SET prev TO none
            WHILE node IS PRESENT
                SET next_node TO the element at position next OF node
                SET the element at position next OF node TO prev
                SET prev TO node
                SET node TO next_node
            END WHILE
            RETURN prev
        END FUNCTION
        
        SET reversed_head TO reverseList(head)
        
        SET carry TO one
        SET current TO reversed_head
        
        WHILE current IS PRESENT AND carry HOLDS
            SET the element at position val OF current TO the element at position val OF current PLUS carry
            SET carry TO the element at position val OF current DIVIDED BY ten
            SET the element at position val OF current TO the element at position val OF current MODULO ten
            
            IF the element at position next OF current IS NOT PRESENT AND carry HOLDS
                SET the element at position next OF current TO a new ListNode CREATED WITH carry
                SET carry TO zero
            END IF
            
            SET prev TO current
            SET current TO the element at position next OF current
        END WHILE
        
        RETURN reverseList(reversed_head)
    END FUNCTION
END CLASS