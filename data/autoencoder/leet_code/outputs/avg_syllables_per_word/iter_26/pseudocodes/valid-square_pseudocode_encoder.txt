CLASS Solution
    FUNCTION validSquare(p1, p2, p3, p4)
        FUNCTION squared_distance(point_one, point_two)
            RETURN the SQUARED VALUE OF the DIFFERENCE BETWEEN the element AT position zero OF point_one AND the element AT position zero OF point_two PLUS the SQUARED VALUE OF the DIFFERENCE BETWEEN the element AT position one OF point_one AND the element AT position one OF point_two
        END FUNCTION

        SET points TO list CONTAINING p1 AND p2 AND p3 AND p4

        SET distances TO empty set

        FOR index_i FROM zero TO three INCLUSIVE
            FOR index_j FROM index_i PLUS one TO three INCLUSIVE
                SET dist TO CALL squared_distance WITH the element AT position index_i OF points AND the element AT position index_j OF points
                IF dist EQUALS zero THEN
                    RETURN false
                END IF
                ADD dist TO distances
            END FOR
        END FOR

        RETURN the SIZE OF distances EQUALS two
    END FUNCTION
END CLASS