CLASS Solution
    FUNCTION largestIsland(grid)
        IF grid IS NOT PRESENT OR the FIRST element OF grid IS NOT PRESENT
            RETURN zero
        END IF

        SET n TO the LENGTH OF grid
        SET directions TO the LIST OF the PAIRS zero and one PLUS one and zero PLUS zero and MINUS one PLUS MINUS one and zero

        FUNCTION is_valid(x, y)
            RETURN x GREATER THAN OR EQUAL TO zero AND x LESS THAN n AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN n
        END FUNCTION

        FUNCTION dfs(x, y, index)
            SET area TO one
            SET the element at position x OF grid AT position y TO index
            FOR each pair dx, dy IN directions
                SET nx TO x PLUS dx
                SET ny TO y PLUS dy
                IF is_valid(nx, ny) HOLDS AND the element at position nx OF grid AT position ny EQUALS one
                    INCREMENT area BY dfs(nx, ny, index)
                END IF
            END FOR
            RETURN area
        END FUNCTION

        SET island_areas TO an empty MAP
        SET index TO two

        FOR i FROM zero TO n MINUS one INCLUSIVE
            FOR j FROM zero TO n MINUS one INCLUSIVE
                IF the element at position i OF grid AT position j EQUALS one
                    SET the element at key index OF island_areas TO dfs(i, j, index)
                    INCREMENT index BY one
                END IF
            END FOR
        END FOR

        IF island_areas IS EMPTY
            RETURN one
        END IF

        SET max_island_size TO the MAXIMUM VALUE IN island_areas

        FOR i FROM zero TO n MINUS one INCLUSIVE
            FOR j FROM zero TO n MINUS one INCLUSIVE
                IF the element at position i OF grid AT position j EQUALS zero
                    SET neighbors TO an empty SET
                    FOR each pair dx, dy IN directions
                        SET nx TO i PLUS dx
                        SET ny TO j PLUS dy
                        IF is_valid(nx, ny) HOLDS AND the element at position nx OF grid AT position ny GREATER THAN one
                            ADD the element at position nx OF grid AT position ny TO neighbors
                        END IF
                    END FOR
                    SET current_island_size TO one PLUS the SUM OF the VALUES at KEYS from neighbors IN island_areas
                    SET max_island_size TO the MAXIMUM OF max_island_size AND current_island_size
                END IF
            END FOR
        END FOR

        RETURN max_island_size
    END FUNCTION
END CLASS