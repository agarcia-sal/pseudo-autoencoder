CLASS Solution
    FUNCTION findAnagrams(parameter s AS string, parameter p AS string) RETURNS list of integers
        SET length_of_s TO the LENGTH OF s
        SET length_of_p TO the LENGTH OF p

        IF length_of_p GREATER THAN length_of_s THEN
            RETURN an EMPTY list
        END IF

        SET p_count TO the FREQUENCY COUNTER OF characters IN p
        SET s_count TO the FREQUENCY COUNTER OF characters IN the SUBSTRING FROM position zero TO position length_of_p MINUS one OF s

        SET anagrams TO an EMPTY list

        IF s_count EQUALS p_count THEN
            APPEND zero TO anagrams
        END IF

        FOR i FROM length_of_p TO length_of_s MINUS one INCLUSIVE
            INCREMENT the FREQUENCY COUNT OF the element at position i OF s IN s_count BY one
            DECREMENT the FREQUENCY COUNT OF the element at position i MINUS length_of_p OF s IN s_count BY one

            IF the FREQUENCY COUNT OF the element at position i MINUS length_of_p OF s IN s_count EQUALS zero THEN
                REMOVE the element at position i MINUS length_of_p OF s FROM s_count
            END IF

            IF s_count EQUALS p_count THEN
                APPEND i MINUS length_of_p PLUS one TO anagrams
            END IF
        END FOR

        RETURN anagrams
    END FUNCTION
END CLASS