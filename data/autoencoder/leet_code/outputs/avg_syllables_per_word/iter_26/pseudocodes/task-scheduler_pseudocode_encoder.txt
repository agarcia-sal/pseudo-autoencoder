CLASS Solution
    FUNCTION leastInterval(tasks AS List OF string, n AS integer) RETURNS integer
        SET task_counts TO the COUNT FREQUENCY OF each ELEMENT IN tasks
        SET max_heap TO an EMPTY list
        FOR each count IN the VALUES OF task_counts
            APPEND the NEGATIVE OF count TO max_heap
        END FOR
        APPLY the HEAPIFY OPERATION TO max_heap

        SET time TO zero
        SET queue TO an EMPTY list

        WHILE max_heap IS NOT empty OR queue IS NOT empty
            WHILE queue IS NOT empty AND the FIRST element AT position zero OF queue AND position zero OF that element EQUALS time
                REMOVE the FIRST element FROM queue AND ASSIGN IT TO a temporary PAIR OF variables ignored_time AND count
                IF count IS LESS THAN zero
                    PUSH count INTO max_heap USING HEAPPUSH OPERATION
                END IF
            END WHILE

            IF max_heap IS NOT empty
                REMOVE the SMALLEST element FROM max_heap USING HEAPPOP AND ASSIGN TO count
                SET count TO count PLUS one
                IF count IS LESS THAN zero
                    APPEND a PAIR OF (time PLUS n PLUS one, count) TO queue
                END IF
            END IF

            INCREMENT time BY one
        END WHILE

        RETURN time
    END FUNCTION
END CLASS