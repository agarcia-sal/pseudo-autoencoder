CLASS Solution
    FUNCTION longestIncreasingPath(matrix)
        IF matrix EQUALS empty OR element at position zero OF matrix EQUALS empty
            RETURN zero
        END IF

        SET m TO the LENGTH OF matrix
        SET n TO the LENGTH OF element at position zero OF matrix
        SET directions TO the COLLECTION OF tuples consisting of one AND zero, MINUS one AND zero, zero AND one, zero AND MINUS one
        SET dp TO a COLLECTION of m elements where each element is a COLLECTION of n elements each set TO negative one

        FUNCTION dfs(x, y)
            IF element at position x OF dp AND element at position y OF that dp NOT EQUALS negative one
                RETURN element at position x OF dp AND element at position y OF that dp
            END IF

            SET max_length TO one
            FOR each pair dx, dy IN directions
                SET nx TO x PLUS dx
                SET ny TO y PLUS dy
                IF nx GREATER THAN OR EQUAL TO zero AND nx LESS THAN m AND ny GREATER THAN OR EQUAL TO zero AND ny LESS THAN n AND element at position nx OF matrix AND element at position ny OF that matrix GREATER THAN element at position x OF matrix AND element at position y OF that matrix
                    SET max_length TO the GREATER VALUE BETWEEN max_length AND one PLUS dfs(nx, ny)
                END IF
            END FOR

            SET element at position x OF dp AND element at position y OF that dp TO max_length
            RETURN max_length
        END FUNCTION

        SET longest_path TO zero
        FOR i FROM zero TO m MINUS one INCLUSIVE
            FOR j FROM zero TO n MINUS one INCLUSIVE
                SET longest_path TO the GREATER VALUE BETWEEN longest_path AND dfs(i, j)
            END FOR
        END FOR

        RETURN longest_path
    END FUNCTION
END CLASS