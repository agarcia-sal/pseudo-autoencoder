CLASS Solution
    FUNCTION minCost(houses, cost, m, n, target)
        FUNCTION dp(i, prev_color, groups)
            IF i EQUALS m
                IF groups EQUALS target
                    RETURN zero
                ELSE
                    RETURN positive infinity
                END IF
            END IF

            IF element at position i OF houses NOT EQUALS zero
                SET new_groups TO groups PLUS one IF element at position i OF houses NOT EQUALS prev_color OTHERWISE zero
                RETURN dp(i PLUS one, element at position i OF houses, new_groups)
            END IF

            SET min_cost TO positive infinity
            FOR color FROM one TO n INCLUSIVE
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color OTHERWISE zero
                SET current_cost TO element at position i OF cost AT position color MINUS one PLUS dp(i PLUS one, color, new_groups)
                IF current_cost LESS THAN min_cost
                    SET min_cost TO current_cost
                END IF
            END FOR

            RETURN min_cost
        END FUNCTION

        SET result TO dp(zero, zero, zero)
        IF result NOT EQUALS positive infinity
            RETURN result
        ELSE
            RETURN negative one
        END IF
    END FUNCTION
END CLASS