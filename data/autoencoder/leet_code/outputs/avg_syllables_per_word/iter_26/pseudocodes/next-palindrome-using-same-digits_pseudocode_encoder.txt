CLASS Solution
    FUNCTION nextPalindrome(num)
        SET n TO the LENGTH OF num
        SET half TO the SUBSTRING FROM position zero TO the DIVISION OF n BY two OF num
        
        SET half_list TO the LIST OF ELEMENTS OF half
        SET k TO negative one
        SET l TO negative one
        
        FOR i FROM the LENGTH OF half_list MINUS two DOWN TO zero INCLUSIVE
            IF the ELEMENT at position i OF half_list IS LESS THAN the ELEMENT at position i PLUS one OF half_list
                SET k TO i
                BREAK out of the loop
            END IF
        END FOR
        
        IF k EQUALS negative one
            RETURN an empty string
        END IF
        
        FOR i FROM the LENGTH OF half_list MINUS one DOWN TO k PLUS one INCLUSIVE IN REVERSE ORDER
            IF the ELEMENT at position i OF half_list IS GREATER THAN the ELEMENT at position k OF half_list
                SET l TO i
                BREAK out of the loop
            END IF
        END FOR
        
        SET a temporary reference TO the ELEMENT at position l OF half_list
        SET the ELEMENT at position l OF half_list TO the ELEMENT at position k OF half_list
        SET the ELEMENT at position k OF half_list TO the temporary reference
        
        SET half_list TO the CONCATENATION OF the SUBLIST OF half_list FROM position zero TO k PLUS one AND the SORTED LIST OF the SUBLIST OF half_list FROM position k PLUS one TO the END
        
        SET new_half TO the JOINED STRING OF all ELEMENTS IN half_list
        
        IF n DIVIDED BY two MULTIPLIED BY two EQUALS n
            RETURN the CONCATENATION OF new_half AND the REVERSED SEQUENCE OF new_half
        ELSE
            RETURN the CONCATENATION OF new_half, the ELEMENT at position the DIVISION OF n BY two OF num, AND the REVERSED SEQUENCE OF new_half
        END IF
    END FUNCTION
END CLASS