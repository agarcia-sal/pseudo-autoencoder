CLASS Solution
    FUNCTION candyCrush(board AS List OF List OF Integer) RETURNS List OF List OF Integer
        SET R TO the LENGTH OF board
        SET C TO the LENGTH OF element at position zero OF board
        SET stable TO FALSE

        WHILE stable EQUALS FALSE HOLDS
            SET stable TO TRUE
            SET to_crush TO an EMPTY SET

            FOR each r FROM zero TO R MINUS one INCLUSIVE
                FOR each c FROM zero TO C MINUS three INCLUSIVE
                    IF THE ABSOLUTE VALUE OF element at position r OF board AT position c EQUALS THE ABSOLUTE VALUE OF element at position r OF board AT position c PLUS one AND
                       THE ABSOLUTE VALUE OF element at position r OF board AT position c EQUALS THE ABSOLUTE VALUE OF element at position r OF board AT position c PLUS two AND
                       THE ABSOLUTE VALUE OF element at position r OF board AT position c IS NOT EQUAL TO zero
                    THEN
                        SET stable TO FALSE
                        ADD the TUPLES of r AND c, r AND c PLUS one, and r AND c PLUS two TO to_crush
                    END IF
                END FOR
            END FOR

            FOR each r FROM zero TO R MINUS three INCLUSIVE
                FOR each c FROM zero TO C MINUS one INCLUSIVE
                    IF THE ABSOLUTE VALUE OF element at position r OF board AT position c EQUALS THE ABSOLUTE VALUE OF element at position r PLUS one OF board AT position c AND
                       THE ABSOLUTE VALUE OF element at position r OF board AT position c EQUALS THE ABSOLUTE VALUE OF element at position r PLUS two OF board AT position c AND
                       THE ABSOLUTE VALUE OF element at position r OF board AT position c IS NOT EQUAL TO zero
                    THEN
                        SET stable TO FALSE
                        ADD the TUPLES of r AND c, r PLUS one AND c, and r PLUS two AND c TO to_crush
                    END IF
                END FOR
            END FOR

            FOR each r AND c IN to_crush
                SET element at position r OF board AT position c TO zero
            END FOR

            FOR each c FROM zero TO C MINUS one INCLUSIVE
                SET wr TO R MINUS one
                FOR each r FROM R MINUS one DOWN TO zero INCLUSIVE
                    IF element at position r OF board AT position c IS NOT EQUAL TO zero
                    THEN
                        SET element at position wr OF board AT position c TO element at position r OF board AT position c
                        DECREMENT wr BY one
                    END IF
                END FOR
                FOR each wr FROM wr DOWN TO zero INCLUSIVE
                    SET element at position wr OF board AT position c TO zero
                END FOR
            END FOR
        END WHILE

        RETURN board
    END FUNCTION
END CLASS