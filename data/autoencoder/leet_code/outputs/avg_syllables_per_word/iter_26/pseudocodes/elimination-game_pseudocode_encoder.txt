CLASS Solution
    FUNCTION lastRemaining(n)
        SET remaining TO n
        SET step TO one
        SET left_to_right TO TRUE
        SET head TO one
        
        WHILE remaining GREATER THAN one HOLDS
            IF left_to_right OR remaining MODULO two EQUALS one
                INCREMENT head BY step
            END IF
            SET step TO step MULTIPLIED BY two
            SET remaining TO the INTEGER DIVISION OF remaining BY two
            SET left_to_right TO the LOGICAL NOT of left_to_right
        END WHILE
        
        RETURN head
    END FUNCTION
END CLASS