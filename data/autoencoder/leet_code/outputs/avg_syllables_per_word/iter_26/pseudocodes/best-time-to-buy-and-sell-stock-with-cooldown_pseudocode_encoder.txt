CLASS Solution
    FUNCTION maxProfit(prices)
        IF prices IS empty
            RETURN zero
        END IF

        SET n TO the LENGTH OF prices

        IF n EQUALS one
            RETURN zero
        END IF

        SET hold TO negative infinity
        SET sold TO zero
        SET rest TO zero

        FOR each price IN prices
            SET new_hold TO THE MAXIMUM OF hold AND rest MINUS price
            SET new_sold TO hold PLUS price
            SET new_rest TO THE MAXIMUM OF rest AND sold

            SET hold TO new_hold
            SET sold TO new_sold
            SET rest TO new_rest
        END FOR

        RETURN THE MAXIMUM OF sold AND rest
    END FUNCTION
END CLASS