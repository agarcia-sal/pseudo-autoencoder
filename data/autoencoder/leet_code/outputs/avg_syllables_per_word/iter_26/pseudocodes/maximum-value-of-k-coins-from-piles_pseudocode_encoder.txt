CLASS Solution
    FUNCTION maxValueOfCoins(parameter piles AS List of List of integers, parameter k AS integer) RETURNS integer
        SET number_of_piles TO the LENGTH OF piles
        # dp at position i and j WILL BE the maximum value that CAN BE obtained by considering the first i piles AND picking exactly j coins
        SET dp TO a list CONTAINING number_of_piles PLUS one elements EACH BEING a list OF k PLUS one zeros
        
        FOR index i FROM one TO number_of_piles INCLUSIVE
            FOR index j FROM one TO k INCLUSIVE
                # CAN CHOOSE TO pick zero TO the MINIMUM OF j AND the LENGTH OF the pile at position i MINUS one OF piles coins FROM the ith pile
                SET current_pile TO the element at position i MINUS one OF piles
                SET current_value TO zero
                FOR index l FROM zero TO the MINIMUM OF j AND the LENGTH OF current_pile INCLUSIVE
                    IF l GREATER THAN zero THEN
                        INCREMENT current_value BY the element at position l MINUS one OF current_pile
                    END IF
                    SET dp at position i and j TO the GREATER OF dp at position i and j AND dp at position i MINUS one and j MINUS l PLUS current_value
                END FOR
            END FOR
        END FOR
        
        RETURN dp at position number_of_piles and k
    END FUNCTION
END CLASS