CLASS Solution
    FUNCTION minimumMoves(parameter arr AS List OF integers)
        SET n TO the LENGTH OF arr
        SET dp TO a two dimensional list OF zeros WITH dimensions n BY n

        FOR index i FROM zero TO n MINUS one INCLUSIVE
            SET the element at position i AND position i OF dp TO one
        END FOR

        FOR index i FROM zero TO n MINUS two INCLUSIVE
            IF the element at position i OF arr EQUALS the element at position i PLUS one OF arr
                SET the element at position i AND position i PLUS one OF dp TO one
            ELSE
                SET the element at position i AND position i PLUS one OF dp TO two
            END IF
        END FOR

        FOR length FROM three TO n INCLUSIVE
            FOR index i FROM zero TO n MINUS length INCLUSIVE
                SET j TO i PLUS length MINUS one
                IF the element at position i OF arr EQUALS the element at position j OF arr
                    SET the element at position i AND position j OF dp TO the element at position i PLUS one AND position j MINUS one OF dp
                ELSE
                    SET the element at position i AND position j OF dp TO positive infinity
                    FOR index k FROM i TO j MINUS one INCLUSIVE
                        SET the element at position i AND position j OF dp TO the MINIMUM OF the current element at position i AND position j OF dp AND the sum OF the element at position i AND position k OF dp PLUS the element at position k PLUS one AND position j OF dp
                    END FOR
                END IF
            END FOR
        END FOR

        RETURN the element at position zero AND position n MINUS one OF dp
    END FUNCTION
END CLASS