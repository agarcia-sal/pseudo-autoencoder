CLASS Solution
    FUNCTION largestPathValue(colors, edges)
        SET number_of_nodes TO the LENGTH OF colors
        ASSIGN reference TO a default dictionary of lists NAMED graph
        ASSIGN reference TO a list OF zeroes WITH THE LENGTH OF number_of_nodes NAMED in_degree
        
        FOR each pair OF nodes u and v IN edges
            APPEND v TO the list AT key u IN graph
            INCREMENT the element AT position v OF in_degree BY one
        END FOR
        
        ASSIGN reference TO a double ended queue INITIALIZED WITH all indices i FROM zero TO number_of_nodes MINUS one INCLUSIVE WHERE the element AT position i OF in_degree EQUALS zero NAMED queue
        ASSIGN reference TO a two dimensional list OF zeroes WITH number_of_nodes ROWS AND twenty six COLUMNS NAMED dp
        SET visited TO zero
        SET max_color_value TO zero
        
        WHILE the queue HOLDS elements
            REMOVE and ASSIGN the first element OF queue TO node
            INCREMENT the element AT position of the character code OF the element AT position node OF colors MINUS the character code OF lowercase a IN the list AT position node OF dp BY one
            SET max_color_value TO the GREATER OF max_color_value AND the element AT position of the character code OF the element AT position node OF colors MINUS the character code OF lowercase a IN the list AT position node OF dp
            INCREMENT visited BY one
            
            FOR each neighbor IN the list AT position node IN graph
                FOR each color_index FROM zero TO twenty five INCLUSIVE
                    SET the element AT position color_index IN the list AT position neighbor OF dp TO the GREATER OF the element AT position color_index IN the list AT position neighbor OF dp AND the element AT position color_index IN the list AT position node OF dp
                END FOR
                DECREMENT the element AT position neighbor OF in_degree BY one
                IF the element AT position neighbor OF in_degree EQUALS zero
                    APPEND neighbor TO queue
                END IF
            END FOR
        END WHILE
        
        IF visited EQUALS number_of_nodes
            RETURN max_color_value
        ELSE
            RETURN the negative one value
        END IF
    END FUNCTION
END CLASS