CLASS Solution
    FUNCTION numSubarrayBoundedMax(list_of_numbers, left_boundary, right_boundary)
        FUNCTION count(max_value)
            SET total_count TO zero
            SET current_consecutive_length TO zero
            FOR each number IN list_of_numbers
                IF number LESS THAN OR EQUAL TO max_value
                    INCREMENT current_consecutive_length BY one
                    INCREMENT total_count BY current_consecutive_length
                ELSE
                    SET current_consecutive_length TO zero
                END IF
            END FOR
            RETURN total_count
        END FUNCTION
        RETURN the RESULT OF count WITH right_boundary MINUS the RESULT OF count WITH left_boundary MINUS one
    END FUNCTION
END CLASS