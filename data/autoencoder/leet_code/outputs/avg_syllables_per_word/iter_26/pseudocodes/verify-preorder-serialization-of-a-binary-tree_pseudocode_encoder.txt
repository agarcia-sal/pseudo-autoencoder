CLASS Solution
    FUNCTION isValidSerialization(preorder)
        SET nodes TO the LIST OF SUBSTRINGS OBTAINED BY SPLITTING preorder BY the COMMA CHARACTER
        SET slots TO one

        FOR each node IN nodes
            IF slots EQUALS zero
                RETURN false
            END IF
            DECREMENT slots BY one

            IF node NOT EQUALS the HASH CHARACTER
                INCREMENT slots BY two
            END IF
        END FOR

        RETURN slots EQUALS zero
    END FUNCTION
END CLASS