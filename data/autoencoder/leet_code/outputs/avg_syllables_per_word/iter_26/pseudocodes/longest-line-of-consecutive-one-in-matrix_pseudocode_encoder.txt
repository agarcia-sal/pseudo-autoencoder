CLASS Solution
    FUNCTION longestLine(matrix)
        IF matrix EQUALS nothing OR the ELEMENT at position zero OF matrix EQUALS nothing
            RETURN zero
        END IF

        SET m TO the LENGTH OF matrix
        SET n TO the LENGTH OF the ELEMENT at position zero OF matrix

        SET directions TO a list containing the pairs ZERO AND ONE, ONE AND ZERO, ONE AND ONE, ONE AND MINUS ONE

        SET max_length TO zero

        FUNCTION check(x, y, delta_x, delta_y)
            SET length TO zero
            WHILE x GREATER THAN OR EQUAL TO zero AND x LESS THAN m AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN n AND the ELEMENT at position x OF matrix AT position y EQUALS one
                INCREMENT length BY one
                INCREMENT x BY delta_x
                INCREMENT y BY delta_y
            END WHILE
            RETURN length
        END FUNCTION

        FOR i FROM zero TO m MINUS one INCLUSIVE
            FOR j FROM zero TO n MINUS one INCLUSIVE
                IF the ELEMENT at position i OF matrix AT position j EQUALS one
                    FOR each pair delta_x, delta_y IN directions
                        IF i MINUS delta_x LESS THAN zero OR j MINUS delta_y LESS THAN zero OR j MINUS delta_y GREATER THAN OR EQUAL TO n OR the ELEMENT at position i MINUS delta_x OF matrix AT position j MINUS delta_y EQUALS zero
                            SET max_length TO the GREATER OF max_length AND the RESULT OF check WITH PARAMETERS i, j, delta_x, delta_y
                        END IF
                    END FOR
                END IF
            END FOR
        END FOR

        RETURN max_length
    END FUNCTION
END CLASS