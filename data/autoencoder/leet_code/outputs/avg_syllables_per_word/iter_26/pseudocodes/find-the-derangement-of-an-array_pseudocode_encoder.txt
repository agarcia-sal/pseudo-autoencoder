CLASS Solution
    FUNCTION findDerangement(n)
        SET MODULO TO one billion PLUS seven
        
        IF n EQUALS one
            RETURN zero
        END IF
        
        IF n EQUALS two
            RETURN one
        END IF
        
        SET previous_previous_value TO one
        SET previous_value TO zero
        
        FOR index FROM three TO n INCLUSIVE
            SET current_value TO index MINUS one MULTIPLIED BY the SUM OF previous_value AND previous_previous_value MODULO MODULO
            SET previous_previous_value TO previous_value
            SET previous_value TO current_value
        END FOR
        
        RETURN previous_value
    END FUNCTION
END CLASS