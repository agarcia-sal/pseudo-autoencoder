CLASS Solution
    FUNCTION countComponents(parameter n, parameter edges)
        SET graph TO an empty mapping FROM each integer FROM zero TO parameter n MINUS one TO an empty list
        FOR each pair consisting of element a AND element b IN parameter edges
            APPEND element b TO the list associated WITH element a IN graph
            APPEND element a TO the list associated WITH element b IN graph
        END FOR

        SET visited TO an empty collection that holds unique elements

        FUNCTION dfs(parameter node)
            IF parameter node IS IN visited THEN
                RETURN
            END IF
            ADD parameter node TO visited
            FOR each neighbor IN the list associated WITH parameter node IN graph
                CALL dfs WITH argument neighbor
            END FOR
        END FUNCTION

        SET components TO zero
        FOR each node FROM zero TO parameter n MINUS one INCLUSIVE
            IF node IS NOT IN visited THEN
                CALL dfs WITH argument node
                INCREMENT components BY one
            END IF
        END FOR

        RETURN components
    END FUNCTION
END CLASS