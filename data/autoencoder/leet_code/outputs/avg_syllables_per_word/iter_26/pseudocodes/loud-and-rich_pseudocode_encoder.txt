CLASS Solution
    FUNCTION loudAndRich(richer AS list of list of integers, quiet AS list of integers) AS list of integers
        SET graph TO a new default dictionary mapping each key TO an empty list
        FOR each pair of elements a AND b IN richer
            APPEND a TO the list associated WITH key b IN graph
        END FOR

        SET n TO the LENGTH OF quiet
        SET answer TO a list of size n WHERE each element IS negative one

        FUNCTION dfs(person AS integer) AS integer
            IF the element at position person OF answer EQUALS negative one THEN
                SET the element at position person OF answer TO person
                FOR each neighbor IN the list associated WITH key person IN graph
                    SET candidate TO THE RESULT OF dfs(neighbor)
                    IF the element at position candidate OF quiet IS LESS THAN the element at position answer AT position person OF quiet THEN
                        SET the element at position person OF answer TO candidate
                    END IF
                END FOR
            END IF
            RETURN the element at position person OF answer
        END FUNCTION

        FOR i FROM zero TO n MINUS one INCLUSIVE
            CALL dfs WITH argument i
        END FOR

        RETURN answer
    END FUNCTION
END CLASS