CLASS Solution
    FUNCTION palindromePartition(s, k)
        FUNCTION min_changes_to_palindrome(sub)
            SET i TO zero
            SET j TO the LENGTH OF sub MINUS one
            SET changes TO zero
            WHILE i LESS THAN j HOLDS
                IF the element at position i OF sub NOT EQUALS the element at position j OF sub
                    INCREMENT changes BY one
                END IF
                INCREMENT i BY one
                DECREMENT j BY one
            END WHILE
            RETURN changes
        END FUNCTION

        SET n TO the LENGTH OF s
        SET dp TO a two dimensional list WITH the outer dimension being the number FROM zero TO n INCLUSIVE AND the inner dimension being the number FROM zero TO k INCLUSIVE WHERE each element IS initialized TO positive infinity
        SET the element at position zero OF dp AND position zero OF that element TO zero

        FOR i FROM one TO n INCLUSIVE
            FOR j FROM one TO the smaller OF k AND i INCLUSIVE
                FOR start FROM zero TO i MINUS one INCLUSIVE
                    SET changes TO the RESULT OF min_changes_to_palindrome APPLIED TO the substring FROM position start TO position i MINUS one OF s
                    SET dp at position i AND position j TO the smaller OF the current dp at position i AND position j AND the SUM OF dp at position start AND position j MINUS one AND changes
                END FOR
            END FOR
        END FOR

        RETURN the element at position n OF dp AND position k
    END FUNCTION
END CLASS