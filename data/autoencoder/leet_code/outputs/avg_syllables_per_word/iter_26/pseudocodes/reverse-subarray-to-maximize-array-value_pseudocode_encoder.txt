CLASS Solution
    FUNCTION maxValueAfterReverse(nums)
        SET n TO the LENGTH OF nums
        IF n EQUALS two
            RETURN the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position zero OF nums AND the ELEMENT at position one OF nums
        END IF

        SET initial_value TO zero
        FOR index FROM one TO n MINUS one INCLUSIVE
            INCREMENT initial_value BY the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position index OF nums AND the ELEMENT at position index MINUS one OF nums
        END FOR

        SET max_edge_gain TO zero
        FOR index FROM one TO n MINUS one INCLUSIVE
            SET candidate_gain TO the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position zero OF nums AND the ELEMENT at position index OF nums MINUS the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position index OF nums AND the ELEMENT at position index MINUS one OF nums
            SET max_edge_gain TO the MAXIMUM OF max_edge_gain AND candidate_gain
        END FOR

        FOR index FROM zero TO n MINUS two INCLUSIVE
            SET candidate_gain TO the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position n MINUS one OF nums AND the ELEMENT at position index OF nums MINUS the ABSOLUTE VALUE OF the DIFFERENCE BETWEEN the ELEMENT at position index PLUS one OF nums AND the ELEMENT at position index OF nums
            SET max_edge_gain TO the MAXIMUM OF max_edge_gain AND candidate_gain
        END FOR

        SET min_pair TO the MINIMUM OF the MAXIMUMS of the PAIRS OF ELEMENTS at positions index AND index PLUS one OF nums FOR each index FROM zero TO n MINUS two INCLUSIVE
        SET max_pair TO the MAXIMUM OF the MINIMUMS of the PAIRS OF ELEMENTS at positions index AND index PLUS one OF nums FOR each index FROM zero TO n MINUS two INCLUSIVE

        SET general_gain TO the MAXIMUM OF zero AND the PRODUCT OF two AND the DIFFERENCE BETWEEN max_pair AND min_pair

        RETURN initial_value PLUS the MAXIMUM OF max_edge_gain AND general_gain
    END FUNCTION
END CLASS