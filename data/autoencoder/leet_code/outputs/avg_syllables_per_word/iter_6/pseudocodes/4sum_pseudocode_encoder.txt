CLASS Solution  
    FUNCTION fourSum(nums, target)  
        CALL nums SORT  
        SET n TO LENGTH OF nums  
        SET quadruplets TO empty list  
        
        FOR i FROM 0 TO n MINUS 4  
            IF i GREATER THAN 0 AND nums AT i EQUALS nums AT i MINUS 1  
                CONTINUE  
            FOR j FROM i PLUS 1 TO n MINUS 3  
                IF j GREATER THAN i PLUS 1 AND nums AT j EQUALS nums AT j MINUS 1  
                    CONTINUE  
                SET left TO j PLUS 1  
                SET right TO n MINUS 1  
                WHILE left LESS THAN right  
                    SET total TO nums AT i PLUS nums AT j PLUS nums AT left PLUS nums AT right  
                    IF total EQUALS target  
                        APPEND list containing nums AT i, nums AT j, nums AT left, nums AT right TO quadruplets  
                        WHILE left LESS THAN right AND nums AT left EQUALS nums AT left PLUS 1  
                            INCREMENT left BY 1  
                        WHILE left LESS THAN right AND nums AT right EQUALS nums AT right MINUS 1  
                            DECREMENT right BY 1  
                        INCREMENT left BY 1  
                        DECREMENT right BY 1  
                    ELSE IF total LESS THAN target  
                        INCREMENT left BY 1  
                    ELSE  
                        DECREMENT right BY 1  
        
        RETURN quadruplets  
    END FUNCTION  
END CLASS