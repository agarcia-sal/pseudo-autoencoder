CLASS Solution  
    FUNCTION maximumRequests(n, requests)  
        SET max_requests TO 0  
        SET num_requests TO LENGTH OF requests  
        
        FOR mask FROM 0 TO (2 MULTIPLIED BY num_requests) MINUS 1  
            SET balance TO list OF n ZEROS  
            SET count TO 0  
            
            FOR i FROM 0 TO num_requests MINUS 1  
                IF mask AND (1 MULTIPLIED BY 2 RAISED TO i) IS NOT EQUAL TO 0 THEN  
                    SET from_building, to_building TO requests AT INDEX i  
                    DECREMENT balance AT INDEX from_building BY 1  
                    INCREMENT balance AT INDEX to_building BY 1  
                    INCREMENT count BY 1  
            
            SET valid TO TRUE  
            FOR each b IN balance  
                IF b IS NOT EQUAL TO 0 THEN  
                    SET valid TO FALSE  
                    BREAK  
            
            IF valid IS TRUE THEN  
                IF count GREATER THAN max_requests THEN  
                    SET max_requests TO count  
        
        RETURN max_requests  
    END FUNCTION  
END CLASS