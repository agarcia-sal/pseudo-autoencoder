CLASS Solution  
    FUNCTION largestOverlap(img1, img2)  
        SET n TO LENGTH OF img1  
        SET points1 TO EMPTY LIST  
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF VALUE AT img1 POSITION i, j EQUALS 1  
                    APPEND PAIR i, j TO points1  
        SET points2 TO EMPTY LIST  
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF VALUE AT img2 POSITION i, j EQUALS 1  
                    APPEND PAIR i, j TO points2  
        SET overlap_count TO EMPTY DICTIONARY WITH DEFAULT VALUE 0  
        FOR each x1, y1 IN points1  
            FOR each x2, y2 IN points2  
                SET dx TO x2 MINUS x1  
                SET dy TO y2 MINUS y1  
                INCREMENT overlap_count AT KEY (dx, dy) BY 1  
        RETURN MAXIMUM VALUE IN overlap_count VALUES OR 0 IF EMPTY  
    END FUNCTION  
END CLASS