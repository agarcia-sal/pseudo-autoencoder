CLASS Solution  
    FUNCTION hIndex(citations)  
        CALL citations SORTED IN DESCENDING ORDER  
        FOR index FROM 0 TO LENGTH OF citations MINUS 1  
            SET citation TO citations AT index  
            IF citation LESS THAN index PLUS 1  
                RETURN index  
        RETURN LENGTH OF citations  
    END FUNCTION  
END CLASS