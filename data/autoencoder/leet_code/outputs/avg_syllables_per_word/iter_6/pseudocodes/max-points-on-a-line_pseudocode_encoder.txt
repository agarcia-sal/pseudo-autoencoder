CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF p1 at index 0 EQUALS p2 at index 0  
                RETURN positive infinity  
            RETURN difference of p1 at index 1 AND p2 at index 1 DIVIDED BY difference of p1 at index 0 AND p2 at index 0  
        END FUNCTION  

        SET max_points TO 0  

        FOR i FROM 0 TO LENGTH OF points MINUS 1  
            SET slopes TO new default dictionary of integers  
            FOR j FROM 0 TO LENGTH OF points MINUS 1  
                IF i NOT EQUALS j  
                    SET s TO CALL slope WITH points at i AND points at j  
                    INCREMENT slopes at key s BY 1  
                    IF slopes at key s GREATER THAN max_points  
                        SET max_points TO slopes at key s  
        IF points IS NOT EMPTY  
            RETURN max_points PLUS 1  
        ELSE  
            RETURN 0  
    END FUNCTION  
END CLASS