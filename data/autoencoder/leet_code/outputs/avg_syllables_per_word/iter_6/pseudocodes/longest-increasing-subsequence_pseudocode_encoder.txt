CLASS Solution  
    FUNCTION lengthOfLIS(nums)  
        IF nums IS EMPTY  
            RETURN 0  
        
        SET dp TO empty list  
        
        FOR each num IN nums  
            CALL binary search to find insertion index idx for num in dp  
            
            IF idx EQUALS LENGTH OF dp  
                APPEND num TO dp  
            ELSE  
                SET element at idx in dp TO num  
        
        RETURN LENGTH OF dp  
    END FUNCTION  
END CLASS