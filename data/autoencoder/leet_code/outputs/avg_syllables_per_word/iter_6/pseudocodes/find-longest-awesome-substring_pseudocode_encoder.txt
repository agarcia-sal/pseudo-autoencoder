CLASS Solution  
    FUNCTION longestAwesome(s)  
        SET prefix_map TO map containing key 0 with value -1  
        SET prefix_xor TO 0  
        SET max_length TO 0  
        
        FOR i FROM 0 TO LENGTH OF s MINUS 1  
            SET char TO character at position i in s  
            SET digit TO integer value of char  
            TOGGLE bit at position digit in prefix_xor  
            
            IF prefix_xor EXISTS IN prefix_map THEN  
                SET max_length TO greater value BETWEEN max_length AND difference of i AND value from prefix_map at prefix_xor  
            END IF  
            
            FOR j FROM 0 TO 9  
                SET flipped TO result of toggling bit j in prefix_xor  
                IF flipped EXISTS IN prefix_map THEN  
                    SET max_length TO greater value BETWEEN max_length AND difference of i AND value from prefix_map at flipped  
                END IF  
            END FOR  
            
            IF prefix_xor NOT EXISTS IN prefix_map THEN  
                ADD key prefix_xor WITH value i TO prefix_map  
            END IF  
        END FOR  
        
        RETURN max_length  
    END FUNCTION  
END CLASS