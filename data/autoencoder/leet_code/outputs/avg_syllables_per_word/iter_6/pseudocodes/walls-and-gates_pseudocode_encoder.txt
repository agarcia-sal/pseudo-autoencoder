CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms IS EMPTY OR rooms AT INDEX ZERO IS EMPTY  
            RETURN  
        SET rows TO LENGTH OF rooms  
        SET cols TO LENGTH OF rooms AT INDEX ZERO  
        SET queue TO NEW deque  
        
        FOR r FROM 0 TO rows MINUS 1  
            FOR c FROM 0 TO cols MINUS 1  
                IF rooms AT r AND c EQUALS 0  
                    APPEND tuple OF r AND c TO queue  
        
        SET directions TO list OF tuples (0, 1), (1, 0), (0, -1), (-1, 0)  
        
        WHILE queue IS NOT EMPTY  
            SET r, c TO REMOVE FIRST ELEMENT FROM queue  
            FOR each dr, dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                IF nr GREATER THAN OR EQUAL TO 0 AND nr LESS THAN rows AND nc GREATER THAN OR EQUAL TO 0 AND nc LESS THAN cols AND rooms AT nr AND nc EQUALS 2147483647  
                    SET rooms AT nr AND nc TO rooms AT r AND c PLUS 1  
                    APPEND tuple OF nr AND nc TO queue  
    END FUNCTION  
END CLASS