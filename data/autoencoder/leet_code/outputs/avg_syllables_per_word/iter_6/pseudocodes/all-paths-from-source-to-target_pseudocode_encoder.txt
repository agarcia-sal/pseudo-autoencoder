CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO LENGTH OF graph  
        SET q TO deque CONTAINING list WITH element zero  
        SET ans TO empty list  
        WHILE q IS NOT empty  
            SET path TO REMOVE leftmost element FROM q  
            SET u TO last element IN path  
            IF u EQUALS n MINUS 1  
                APPEND path TO ans  
                CONTINUE  
            FOR each v IN element u OF graph  
                APPEND path PLUS v TO q  
        RETURN ans  
    END FUNCTION  
END CLASS