CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MOD TO one billion plus seven  
        
        INITIALIZE dp AS three-dimensional list with dimensions (n plus one) by 6 by (maximum value in rollMax plus one), FILLED WITH zero  
        
        FOR j FROM zero TO five  
            SET dp at index one, j, one TO one  
        
        FOR i FROM two TO n  
            FOR j FROM zero TO five  
                FOR k FROM one TO rollMax at index j  
                    IF k GREATER THAN one  
                        SET dp at i, j, k TO dp at (i minus one), j, (k minus one)  
                    ELSE  
                        SET dp at i, j, k TO zero  
                        FOR x FROM zero TO five  
                            IF x NOT EQUALS j  
                                FOR y FROM one TO rollMax at index x  
                                    INCREMENT dp at i, j, k BY dp at (i minus one), x, y  
                        SET dp at i, j, k TO dp at i, j, k MODULO MOD  
        
        SET result TO zero  
        FOR j FROM zero TO five  
            FOR k FROM one TO rollMax at j  
                INCREMENT result BY dp at n, j, k  
        SET result TO result MODULO MOD  
        RETURN result  
    END FUNCTION  
END CLASS