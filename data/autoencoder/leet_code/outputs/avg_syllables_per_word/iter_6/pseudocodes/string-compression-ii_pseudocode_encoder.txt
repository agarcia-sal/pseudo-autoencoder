CLASS Solution  
    FUNCTION getLengthOfOptimalCompression(s, k)  
        FUNCTION dp(i, k, prev_char, prev_count)  
            IF k LESS THAN 0 THEN  
                RETURN infinity  
            IF i EQUALS length of s THEN  
                RETURN 0  
            IF character at position i in s EQUALS prev_char THEN  
                SET increment TO 1 IF prev_count EQUALS 1 OR prev_count EQUALS 9 OR prev_count EQUALS 99 ELSE 0  
                RETURN increment PLUS CALL dp WITH arguments (i PLUS 1, k, prev_char, prev_count PLUS 1)  
            ELSE  
                SET keep TO 1 PLUS CALL dp WITH arguments (i PLUS 1, k, character at position i in s, 1)  
                SET delete TO CALL dp WITH arguments (i PLUS 1, k MINUS 1, prev_char, prev_count)  
                RETURN minimum of keep AND delete  
        END FUNCTION  
        
        RETURN CALL dp WITH arguments (0, k, empty string, 0)  
    END FUNCTION  
END CLASS