CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO LENGTH OF nums DIVIDED BY 3  
        
        SET min_heap TO empty list  
        SET min_sums TO list of zeros with length (2 MULTIPLIED BY n PLUS 1)  
        
        FOR i FROM 0 TO (2 MULTIPLIED BY n MINUS 1)  
            CALL push NEGATIVE nums[i] INTO min_heap  
            IF LENGTH OF min_heap GREATER THAN n  
                CALL pop min_heap  
            IF LENGTH OF min_heap EQUALS n  
                SET min_sums[i] TO NEGATIVE sum of all elements in min_heap  
        
        SET max_heap TO empty list  
        SET max_sums TO list of zeros with length (2 MULTIPLIED BY n PLUS 1)  
        
        FOR i FROM (3 MULTIPLIED BY n MINUS 1) DOWN TO n  
            CALL push nums[i] INTO max_heap  
            IF LENGTH OF max_heap GREATER THAN n  
                CALL pop max_heap  
            IF LENGTH OF max_heap EQUALS n  
                SET max_sums[i] TO sum of all elements in max_heap  
        
        SET min_diff TO infinity  
        FOR i FROM (n MINUS 1) TO (2 MULTIPLIED BY n MINUS 1)  
            IF min_diff GREATER THAN (min_sums[i] MINUS max_sums[i PLUS 1])  
                SET min_diff TO (min_sums[i] MINUS max_sums[i PLUS 1])  
        
        RETURN min_diff  
    END FUNCTION  
END CLASS