CLASS Solution  
    FUNCTION sumOfFlooredPairs(nums)  
        SET MOD TO ten raised to the power of nine PLUS seven  
        SET max_num TO the greatest number IN nums  
        SET count TO a mapping of numbers to their frequencies IN nums  
        INITIALIZE prefix_sum AS a list of zeros WITH length max_num PLUS one  
        
        FOR each num IN count  
            INCREMENT prefix_sum at index num BY count at num  
        
        FOR index FROM one TO max_num  
            INCREMENT prefix_sum at index BY prefix_sum at index MINUS one  
        
        SET result TO zero  
        
        FOR each num IN count  
            FOR multiple FROM one TO the integer division of max_num BY num  
                SET start TO num MULTIPLIED BY multiple  
                SET end TO the lesser of num MULTIPLIED BY (multiple PLUS one) MINUS one AND max_num  
                SET multiples_count TO prefix_sum at index end MINUS prefix_sum at index start MINUS one  
                INCREMENT result BY multiples_count MULTIPLIED BY multiple MULTIPLIED BY count at num  
                SET result TO result MODULO MOD  
        
        RETURN result  
    END FUNCTION  
END CLASS