CLASS Solution  
    FUNCTION compress(chars)  
        IF chars IS EMPTY  
            RETURN 0  
        END IF  
        
        SET write_index TO 0  
        SET read_index TO 0  
        
        WHILE read_index LESS THAN LENGTH OF chars  
            SET char TO chars AT read_index  
            SET count TO 0  
            
            WHILE read_index LESS THAN LENGTH OF chars AND chars AT read_index EQUALS char  
                INCREMENT read_index BY 1  
                INCREMENT count BY 1  
            END WHILE  
            
            SET chars AT write_index TO char  
            INCREMENT write_index BY 1  
            
            IF count GREATER THAN 1  
                FOR each digit IN string representation OF count  
                    SET chars AT write_index TO digit  
                    INCREMENT write_index BY 1  
                END FOR  
            END IF  
        END WHILE  
        
        RETURN write_index  
    END FUNCTION  
END CLASS