CLASS Solution  
    FUNCTION parseBoolExpr(expression)  
        INITIALIZE stk AS empty list  
        FOR each character c IN expression  
            IF c EQUALS 't' OR c EQUALS 'f' OR c EQUALS '!' OR c EQUALS '&' OR c EQUALS '|'  
                APPEND c TO stk  
            ELSE IF c EQUALS ')'  
                SET t TO 0  
                SET f TO 0  
                WHILE last element of stk EQUALS 't' OR last element of stk EQUALS 'f'  
                    IF last element of stk EQUALS 't'  
                        INCREMENT t BY 1  
                    ELSE  
                        INCREMENT f BY 1  
                    REMOVE last element FROM stk  
                SET op TO last element of stk  
                REMOVE last element FROM stk  
                IF op EQUALS '!'  
                    IF f GREATER THAN 0  
                        SET c TO 't'  
                    ELSE  
                        SET c TO 'f'  
                ELSE IF op EQUALS '&'  
                    IF f GREATER THAN 0  
                        SET c TO 'f'  
                    ELSE  
                        SET c TO 't'  
                ELSE IF op EQUALS '|'  
                    IF t GREATER THAN 0  
                        SET c TO 't'  
                    ELSE  
                        SET c TO 'f'  
                APPEND c TO stk  
        RETURN first element of stk EQUALS 't'  
    END FUNCTION  
END CLASS