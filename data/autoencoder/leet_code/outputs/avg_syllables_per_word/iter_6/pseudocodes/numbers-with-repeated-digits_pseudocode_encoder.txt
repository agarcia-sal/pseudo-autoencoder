CLASS Solution  
    FUNCTION numDupDigitsAtMostN(n)  
        FUNCTION count_unique_digits(x)  
            SET s TO string representation of x  
            SET length TO length of s  
            SET count TO 0  
            FOR i FROM 1 TO length MINUS 1  
                INCREMENT count BY 9 MULTIPLIED BY CALL perm WITH arguments 9 AND i MINUS 1  
            SET seen TO empty set  
            FOR i FROM 0 TO length MINUS 1  
                SET digit TO numeric value of character at position i in s  
                FOR d FROM (IF i EQUALS 0 THEN 1 ELSE 0) TO digit MINUS 1  
                    IF d NOT IN seen THEN  
                        INCREMENT count BY CALL perm WITH arguments (9 MINUS i) AND (length MINUS i MINUS 1)  
                IF digit IN seen THEN  
                    BREAK out of FOR loop  
                ADD digit TO seen  
            ELSE  
                INCREMENT count BY 1  
            RETURN count  
        END FUNCTION  
        RETURN n MINUS CALL count_unique_digits WITH argument n  
    END FUNCTION  

    FUNCTION perm(m, n)  
        IF n EQUALS 0 THEN  
            RETURN 1  
        SET result TO 1  
        FOR i FROM 0 TO n MINUS 1  
            SET result TO result MULTIPLIED BY (m MINUS i)  
        RETURN result  
    END FUNCTION  
END CLASS