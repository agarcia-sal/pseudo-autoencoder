CLASS Solution  
    FUNCTION minimumTime(n, relations, time)  
        INITIALIZE graph AS a mapping with default empty list  
        FOR each pair prevCourse, nextCourse IN relations  
            APPEND prevCourse TO graph AT nextCourse  
        
        INITIALIZE memo AS list of size n PLUS 1 FILLED WITH value MINUS 1  
        
        FUNCTION dfs(course)  
            IF memo AT course NOT EQUALS MINUS 1 THEN  
                RETURN memo AT course  
            
            SET max_prerequisite_time TO 0  
            FOR each prevCourse IN graph AT course  
                SET current_prerequisite_time TO CALL dfs WITH prevCourse  
                IF current_prerequisite_time GREATER THAN max_prerequisite_time THEN  
                    SET max_prerequisite_time TO current_prerequisite_time  
            
            SET memo AT course TO max_prerequisite_time PLUS time AT course MINUS 1  
            RETURN memo AT course  
        END FUNCTION  
        
        SET total_minimum_time TO 0  
        FOR course FROM 1 TO n  
            SET current_time TO CALL dfs WITH course  
            IF current_time GREATER THAN total_minimum_time THEN  
                SET total_minimum_time TO current_time  
        
        RETURN total_minimum_time  
    END FUNCTION  
END CLASS