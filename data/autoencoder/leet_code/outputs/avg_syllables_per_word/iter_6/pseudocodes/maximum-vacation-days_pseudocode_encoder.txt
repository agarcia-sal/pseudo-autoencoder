CLASS Solution  
    FUNCTION maxVacationDays(flights, days)  
        SET n TO LENGTH OF flights  
        SET k TO LENGTH OF first element IN days  
        
        SET dp TO list of size n filled with -1  
        SET dp at index 0 TO 0  
        
        SET graph TO dictionary mapping each index from 0 TO n MINUS 1 TO empty list  
        FOR each i FROM 0 TO n MINUS 1  
            FOR each j FROM 0 TO n MINUS 1  
                IF flights at i and j EQUALS 1  
                    APPEND j TO graph at i  
        
        FOR each week FROM 0 TO k MINUS 1  
            SET new_dp TO list of size n filled with -1  
            FOR each i FROM 0 TO n MINUS 1  
                IF dp at i EQUALS -1  
                    CONTINUE  
                SET new_dp at i TO maximum of new_dp at i AND dp at i PLUS days at i and week  
                FOR each j IN graph at i  
                    SET new_dp at j TO maximum of new_dp at j AND dp at i PLUS days at j and week  
            SET dp TO new_dp  
        
        RETURN maximum value IN dp  
    END FUNCTION  
END CLASS