CLASS Solution  
    FUNCTION subdomainVisits(cpdomains)  
        SET domain_count TO empty mapping with default zero  
        
        FOR each cpdomain IN cpdomains  
            CALL SPLIT cpdomain BY whitespace INTO count_string AND domain  
            SET count TO integer value of count_string  
            CALL SPLIT domain BY period INTO subdomains  
            
            FOR index FROM zero TO LENGTH OF subdomains MINUS one  
                CALL JOIN subdomains FROM index TO end WITH period INTO subdomain  
                INCREMENT domain_count AT subdomain BY count  
        
        SET result TO empty list  
        FOR each domain AND count IN domain_count  
            CALL CONCATENATE count AS string, single space, and domain INTO entry  
            APPEND entry TO result  
        
        RETURN result  
    END FUNCTION  
END CLASS