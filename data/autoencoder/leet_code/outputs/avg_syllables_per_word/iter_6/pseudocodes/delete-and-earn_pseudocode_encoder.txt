CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO CALL Counter WITH nums  
        SET unique_nums TO sorted keys FROM count  
        SET dp TO list of zeros WITH LENGTH LENGTH OF unique_nums PLUS 1  
        SET dp AT 1 TO unique_nums AT 0 MULTIPLIED BY count AT unique_nums AT 0  
        FOR i FROM 2 TO LENGTH OF unique_nums PLUS 1  
            SET num TO unique_nums AT i MINUS 1  
            IF num EQUALS unique_nums AT i MINUS 2 PLUS 1  
                SET dp AT i TO GREATER OF dp AT i MINUS 1 AND dp AT i MINUS 2 PLUS num MULTIPLIED BY count AT num  
            ELSE  
                SET dp AT i TO dp AT i MINUS 1 PLUS num MULTIPLIED BY count AT num  
            END IF  
        END FOR  
        RETURN dp AT LAST INDEX  
    END FUNCTION  
END CLASS