CLASS Solution  
    FUNCTION countCornerRectangles(grid)  
        IF grid IS EMPTY OR first element of grid IS EMPTY THEN  
            RETURN 0  
        SET m TO LENGTH OF grid  
        SET n TO LENGTH OF first element of grid  
        SET count TO 0  
        FOR i FROM 0 TO m MINUS 1  
            FOR j FROM i PLUS 1 TO m MINUS 1  
                SET cols_with_ones TO 0  
                FOR k FROM 0 TO n MINUS 1  
                    IF element at row i and column k OF grid EQUALS 1 AND element at row j and column k OF grid EQUALS 1 THEN  
                        INCREMENT cols_with_ones BY 1  
                IF cols_with_ones GREATER THAN OR EQUAL TO 2 THEN  
                    INCREMENT count BY cols_with_ones MULTIPLIED BY cols_with_ones MINUS 1 DIVIDED BY 2  
        RETURN count  
    END FUNCTION  
END CLASS