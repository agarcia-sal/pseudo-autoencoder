CLASS Solution  
    FUNCTION maximalSquare(matrix)  
        IF matrix IS EMPTY OR matrix AT FIRST ELEMENT IS EMPTY  
            RETURN 0  
        
        SET m TO LENGTH OF matrix  
        SET n TO LENGTH OF matrix AT FIRST ELEMENT  
        INITIALIZE dp AS TWO-DIMENSIONAL LIST OF ZEROS WITH DIMENSIONS (m PLUS 1) BY (n PLUS 1)  
        SET max_side TO 0  
        
        FOR i FROM 1 TO m  
            FOR j FROM 1 TO n  
                IF matrix AT POSITION (i MINUS 1) AND (j MINUS 1) EQUALS '1'  
                    SET dp AT POSITION i AND j TO MINIMUM OF dp AT (i MINUS 1, j), dp AT (i, j MINUS 1), dp AT (i MINUS 1, j MINUS 1) PLUS 1  
                    SET max_side TO MAXIMUM OF max_side AND dp AT POSITION i AND j  
        
        RETURN max_side MULTIPLIED BY max_side  
    END FUNCTION  
END CLASS