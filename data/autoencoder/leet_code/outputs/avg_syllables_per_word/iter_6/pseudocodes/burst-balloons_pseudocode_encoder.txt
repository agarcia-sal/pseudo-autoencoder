CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO list with 1 prepended and 1 appended to original nums  
        SET n TO length of nums  
        
        CREATE dp as two-dimensional list of size n by n filled with zeros  
        
        FOR length FROM 2 TO n MINUS 1  
            FOR i FROM 0 TO n MINUS length MINUS 1  
                SET j TO i PLUS length  
                FOR k FROM i PLUS 1 TO j MINUS 1  
                    SET coins TO nums at i MULTIPLIED BY nums at k MULTIPLIED BY nums at j PLUS dp at i and k PLUS dp at k and j  
                    SET dp at i and j TO maximum of dp at i and j AND coins  
                
        RETURN dp at 0 and n MINUS 1  
    END FUNCTION  
END CLASS