CLASS Solution  
    FUNCTION findCircleNum(isConnected)  
        FUNCTION dfs(city)  
            FOR neighbor FROM 0 TO n MINUS 1  
                IF isConnected AT city AND neighbor EQUALS 1 AND visited AT neighbor IS FALSE  
                    SET visited AT neighbor TO TRUE  
                    CALL dfs WITH neighbor  
            END FOR  
        END FUNCTION  

        SET n TO LENGTH OF isConnected  
        SET visited TO list of FALSE values OF LENGTH n  
        SET province_count TO 0  

        FOR city FROM 0 TO n MINUS 1  
            IF visited AT city IS FALSE  
                CALL dfs WITH city  
                INCREMENT province_count BY 1  
            END IF  
        END FOR  

        RETURN province_count  
    END FUNCTION  
END CLASS