CLASS ListNode  
    FUNCTION __init__(self, val DEFAULT 0, next DEFAULT None)  
        SET self.val TO val  
        SET self.next TO next  
    END FUNCTION  
END CLASS  

FUNCTION list_node(values)  
    IF values IS EMPTY  
        RETURN None  
    SET head TO new ListNode WITH val values AT INDEX 0  
    SET p TO head  
    FOR each val IN values FROM INDEX 1 TO END  
        SET node TO new ListNode WITH val val  
        SET p.next TO node  
        SET p TO node  
    RETURN head  
END FUNCTION  

FUNCTION is_same_list(p1, p2)  
    IF p1 IS None AND p2 IS None  
        RETURN True  
    IF p1 IS None OR p2 IS None  
        RETURN False  
    RETURN p1.val EQUALS p2.val AND CALL is_same_list WITH p1.next AND p2.next  
END FUNCTION  

CLASS Solution  
    FUNCTION rotateRight(self, head, k)  
        IF head IS None OR head.next IS None OR k EQUALS 0  
            RETURN head  
        
        SET length TO 1  
        SET tail TO head  
        WHILE tail.next IS NOT None  
            SET tail TO tail.next  
            INCREMENT length BY 1  
        
        SET tail.next TO head  
        
        SET k TO k MODULO length  
        SET steps_to_new_tail TO length MINUS k MINUS 1  
        
        SET new_tail TO head  
        FOR index FROM 0 TO steps_to_new_tail  
            SET new_tail TO new_tail.next  
        
        SET new_head TO new_tail.next  
        
        SET new_tail.next TO None  
        
        RETURN new_head  
    END FUNCTION  
END CLASS