CLASS Solution  
    FUNCTION maxNiceDivisors(primeFactors)  
        SET MOD TO one billion plus seven  
        
        IF primeFactors LESS THAN OR EQUAL TO three  
            RETURN primeFactors  
        
        SET num_threes TO primeFactors DIVIDED BY three  
        SET remainder TO primeFactors MODULO three  
        
        IF remainder EQUALS zero  
            RETURN three RAISED TO THE POWER OF num_threes MODULO MOD  
        ELSE IF remainder EQUALS one  
            RETURN three RAISED TO THE POWER OF (num_threes MINUS one) MULTIPLIED BY four MODULO MOD  
        ELSE  
            RETURN three RAISED TO THE POWER OF num_threes MULTIPLIED BY two MODULO MOD  
    END FUNCTION  
END CLASS