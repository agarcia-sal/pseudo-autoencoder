CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each building WITH left, right, height IN buildings  
            APPEND tuple of left, negative height, right TO events  
            APPEND tuple of right, zero, zero TO events  
  
        SORT events by first element ascending, then by second element ascending  
  
        SET result TO list containing list of zero and zero  
        SET max_heap TO list containing tuple of zero and infinity  
  
        FOR each x, negH, r IN events  
            WHILE the second element of first tuple IN max_heap IS LESS THAN OR EQUAL TO x  
                REMOVE the first tuple FROM max_heap using heap removal  
            IF negH IS NOT EQUAL TO zero  
                INSERT tuple of negH and r INTO max_heap using heap insertion  
            IF second element of last list IN result IS NOT EQUAL TO negative of first element of first tuple IN max_heap  
                APPEND list of x and negative of first element of first tuple IN max_heap TO result  
  
        IF first list IN result EQUALS list of zero and zero  
            REMOVE first list FROM result  
  
        RETURN result  
    END FUNCTION  
END CLASS