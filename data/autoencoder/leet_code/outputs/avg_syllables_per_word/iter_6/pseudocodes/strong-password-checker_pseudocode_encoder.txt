CLASS Solution  
    FUNCTION strongPasswordChecker(password)  
        SET n TO LENGTH OF password  

        SET has_lower TO FALSE  
        SET has_upper TO FALSE  
        SET has_digit TO FALSE  
        FOR each character IN password  
            IF character IS LOWERCASE  
                SET has_lower TO TRUE  
            ELSE IF character IS UPPERCASE  
                SET has_upper TO TRUE  
            ELSE IF character IS DIGIT  
                SET has_digit TO TRUE  

        SET missing_types TO 3 MINUS (has_lower PLUS has_upper PLUS has_digit)  

        SET replace TO 0  
        SET one TO 0  
        SET two TO 0  
        SET i TO 2  
        WHILE i LESS THAN n  
            IF character AT index i EQUALS character AT index i MINUS 1 AND character AT index i EQUALS character AT index i MINUS 2  
                SET length TO 2  
                WHILE i LESS THAN n AND character AT index i EQUALS character AT index i MINUS 1  
                    INCREMENT length BY 1  
                    INCREMENT i BY 1  
                SET replace TO replace PLUS (length DIVIDED BY 3)  
                IF length MODULO 3 EQUALS 0  
                    INCREMENT one BY 1  
                ELSE IF length MODULO 3 EQUALS 1  
                    INCREMENT two BY 1  
            ELSE  
                INCREMENT i BY 1  

        IF n LESS THAN 6  
            RETURN maximum OF missing_types AND (6 MINUS n)  

        ELSE IF n LESS THAN OR EQUAL TO 20  
            RETURN maximum OF missing_types AND replace  

        ELSE  
            SET delete TO n MINUS 20  

            SET replace TO replace MINUS minimum OF delete AND one  
            SET replace TO replace MINUS (minimum OF (maximum OF (delete MINUS one) AND 0) AND (two MULTIPLIED BY 2)) DIVIDED BY 2  
            SET replace TO replace MINUS (maximum OF (delete MINUS one MINUS (2 MULTIPLIED BY two)) AND 0) DIVIDED BY 3  

            RETURN delete PLUS maximum OF missing_types AND replace  
    END FUNCTION  
END CLASS