CLASS Solution  
    FUNCTION findMinHeightTrees(n, edges)  
        IF n EQUALS 1  
            RETURN list containing 0  
        END IF  

        SET graph TO a mapping from node to list of adjacent nodes  
        SET degree TO list of zeros with length n  

        FOR each pair u, v IN edges  
            APPEND v TO graph at key u  
            APPEND u TO graph at key v  
            INCREMENT degree at index u BY 1  
            INCREMENT degree at index v BY 1  
        END FOR  

        SET leaves TO a queue containing each index i FROM 0 TO n MINUS 1 WHERE degree at i EQUALS 1  

        SET remaining_nodes TO n  

        WHILE remaining_nodes GREATER THAN 2  
            SET leaves_count TO length of leaves  
            DECREMENT remaining_nodes BY leaves_count  

            FOR count FROM 1 TO leaves_count  
                REMOVE leaf FROM front of leaves  
                FOR each neighbor IN graph at key leaf  
                    DECREMENT degree at neighbor BY 1  
                    IF degree at neighbor EQUALS 1  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  

        RETURN list converted from leaves  
    END FUNCTION  
END CLASS