CLASS Solution  
    FUNCTION isBipartite(graph)  
        SET n TO LENGTH OF graph  
        SET color TO list of zeros of length n  
        
        FUNCTION dfs(node, c)  
            SET color at node TO c  
            FOR each neighbor IN graph at node  
                IF color at neighbor EQUALS c  
                    RETURN False  
                IF color at neighbor EQUALS 0  
                    IF NOT CALL dfs WITH neighbor AND negative c  
                        RETURN False  
            RETURN True  
        END FUNCTION  
        
        FOR i FROM 0 TO n MINUS 1  
            IF color at i EQUALS 0  
                IF NOT CALL dfs WITH i AND 1  
                    RETURN False  
        RETURN True  
    END FUNCTION  
END CLASS