CLASS Solution  
    FUNCTION numSquares(n)  
        SET dp TO list of length n PLUS 1 with all elements set to infinity  
        SET dp at index 0 TO 0  
        
        SET squares TO empty list  
        SET i TO 1  
        WHILE i MULTIPLIED BY i IS LESS THAN OR EQUAL TO n IS TRUE  
            APPEND i MULTIPLIED BY i TO squares  
            INCREMENT i BY 1  
        
        FOR i FROM 1 TO n  
            FOR each square IN squares  
                IF i IS LESS THAN square THEN  
                    BREAK  
                SET dp at index i TO minimum of dp at index i AND dp at index (i MINUS square) PLUS 1  
        
        RETURN dp at index n  
    END FUNCTION  
END CLASS