CLASS Solution  
    FUNCTION checkRecord(n)  
        SET MOD TO 10 RAISED TO THE POWER OF 9 PLUS 7  
        
        INITIALIZE dp AS three-dimensional list WITH DIMENSIONS (n PLUS 1) BY 2 BY 3 FILLED WITH 0  
        
        SET dp AT 0, 0, 0 TO 1  
        
        FOR i FROM 1 TO n  
            FOR j FROM 0 TO 1  
                FOR k FROM 0 TO 2  
                    ADD dp AT i MINUS 1, j, k TO dp AT i, j, 0 AND TAKE MODULO MOD  
                    
                    IF j EQUALS 0 THEN  
                        ADD dp AT i MINUS 1, 0, k TO dp AT i, 1, 0 AND TAKE MODULO MOD  
                    END IF  
                    
                    IF k LESS THAN 2 THEN  
                        ADD dp AT i MINUS 1, j, k TO dp AT i, j, k PLUS 1 AND TAKE MODULO MOD  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        
        SET result TO 0  
        FOR j FROM 0 TO 1  
            FOR k FROM 0 TO 2  
                ADD dp AT n, j, k TO result AND TAKE MODULO MOD  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS