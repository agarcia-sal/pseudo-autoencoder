CLASS Solution  
    FUNCTION findMaxValueOfEquation(points, k)  
        SET max_value TO negative infinity  
        INITIALIZE deque_ AS empty double-ended queue  
        
        FOR each xj, yj IN points  
            WHILE deque_ IS NOT empty AND xj MINUS second element of front of deque_ GREATER THAN k  
                REMOVE front element FROM deque_  
            
            IF deque_ IS NOT empty  
                SET max_value TO maximum OF max_value AND yj PLUS xj PLUS first element of front of deque_  
            
            WHILE deque_ IS NOT empty AND yj MINUS xj GREATER THAN OR EQUAL TO first element of last element of deque_  
                REMOVE last element FROM deque_  
            
            APPEND pair of (yj MINUS xj, xj) TO deque_  
        
        RETURN max_value  
    END FUNCTION  
END CLASS