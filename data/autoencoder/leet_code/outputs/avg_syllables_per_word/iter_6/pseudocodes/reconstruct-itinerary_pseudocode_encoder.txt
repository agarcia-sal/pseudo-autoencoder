CLASS Solution  
    FUNCTION findItinerary(tickets)  
        SET graph TO new mapping from each key to an empty list  
        FOR each pair frm and to IN tickets sorted in descending order  
            APPEND to TO graph associated with frm  
        
        SET itinerary TO empty list  
        
        FUNCTION visit(airport)  
            WHILE graph associated with airport IS NOT empty  
                SET next_destination TO REMOVE last element from graph associated with airport  
                CALL visit WITH next_destination  
            APPEND airport TO itinerary  
        END FUNCTION  
        
        CALL visit WITH "JFK"  
        SET result TO itinerary reversed  
        RETURN result  
    END FUNCTION  
END CLASS