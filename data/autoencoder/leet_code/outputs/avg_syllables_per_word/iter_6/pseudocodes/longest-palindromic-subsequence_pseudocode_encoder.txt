CLASS Solution  
    FUNCTION longestPalindromeSubseq(s)  
        SET n TO LENGTH OF s  
        CREATE 2D ARRAY dp OF SIZE n BY n WITH ALL VALUES SET TO 0  
        
        FOR i FROM 0 TO n MINUS 1  
            SET dp AT POSITION i,i TO 1  
        
        FOR length FROM 2 TO n  
            FOR i FROM 0 TO n MINUS length  
                SET j TO i PLUS length MINUS 1  
                IF CHARACTER AT s POSITION i EQUALS CHARACTER AT s POSITION j  
                    SET dp AT POSITION i,j TO dp AT POSITION i PLUS 1,j MINUS 1 PLUS 2  
                ELSE  
                    SET dp AT POSITION i,j TO MAXIMUM OF dp AT POSITION i PLUS 1,j AND dp AT POSITION i,j MINUS 1  
        
        RETURN dp AT POSITION 0,n MINUS 1  
    END FUNCTION  
END CLASS