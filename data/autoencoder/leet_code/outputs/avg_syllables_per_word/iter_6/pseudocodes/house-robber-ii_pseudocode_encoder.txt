CLASS Solution  
    FUNCTION rob(nums)  
        FUNCTION rob_linear(houses)  
            IF houses IS EMPTY  
                RETURN 0  
            ELSE IF LENGTH OF houses EQUALS 1  
                RETURN first element OF houses  
            END IF  

            CREATE list dp WITH LENGTH EQUAL TO LENGTH OF houses FILLED WITH 0  
            SET first element OF dp TO first element OF houses  
            SET second element OF dp TO GREATER VALUE BETWEEN first and second elements OF houses  

            FOR index FROM 2 TO LENGTH OF houses MINUS 1  
                SET element AT index OF dp TO GREATER VALUE BETWEEN element AT index MINUS 1 OF dp AND element AT index MINUS 2 OF dp PLUS element AT index OF houses  
            END FOR  

            RETURN last element OF dp  
        END FUNCTION  

        IF nums IS EMPTY  
            RETURN 0  
        ELSE IF LENGTH OF nums EQUALS 1  
            RETURN first element OF nums  
        END IF  

        RETURN GREATER VALUE BETWEEN CALL rob_linear WITH elements OF nums EXCLUDING last AND CALL rob_linear WITH elements OF nums EXCLUDING first  
    END FUNCTION  
END CLASS