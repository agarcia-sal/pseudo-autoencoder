CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        CREATE char_positions AS a dictionary with default empty list  
        FOR index FROM 0 TO LENGTH OF ring MINUS 1  
            APPEND index TO char_positions AT key ring AT index  
        
        SET n TO LENGTH OF ring  
        
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS LENGTH OF key THEN  
                RETURN 0  
            END IF  
            
            SET min_steps TO infinity  
            FOR each pos IN char_positions AT key AT index i  
                SET clockwise TO pos MINUS prev_pos MODULO n  
                SET anticlockwise TO prev_pos MINUS pos MODULO n  
                SET steps TO minimum of clockwise AND anticlockwise PLUS 1 PLUS CALL dp WITH i PLUS 1 AND pos  
                IF steps LESS THAN min_steps THEN  
                    SET min_steps TO steps  
                END IF  
            END FOR  
            RETURN min_steps  
        END FUNCTION  
        
        RETURN CALL dp WITH 0 AND 0  
    END FUNCTION  
END CLASS