CLASS Solution  
    FUNCTION minSwapsCouples(row)  
        SET position TO EMPTY DICTIONARY  
        FOR index FROM 0 TO LENGTH OF row MINUS 1  
            SET position OF row AT index TO index  
        SET swaps TO 0  
        
        FOR i FROM 0 TO LENGTH OF row MINUS 1 STEP 2  
            SET correct_pair TO row AT i XOR 1  
            
            IF row AT i PLUS 1 NOT EQUALS correct_pair  
                SET swap_idx TO position AT correct_pair  
                
                SET temp TO row AT i PLUS 1  
                SET row AT i PLUS 1 TO row AT swap_idx  
                SET row AT swap_idx TO temp  
                
                SET position AT row AT swap_idx TO swap_idx  
                SET position AT row AT i PLUS 1 TO i PLUS 1  
                
                INCREMENT swaps BY 1  
        RETURN swaps  
    END FUNCTION  
END CLASS