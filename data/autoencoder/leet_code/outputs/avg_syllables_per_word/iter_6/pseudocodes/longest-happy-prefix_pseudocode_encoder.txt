CLASS Solution  
    FUNCTION longestPrefix(s)  
        SET n TO LENGTH OF s  
        SET lps TO list OF n ZEROS  
        SET j TO 0  

        FOR i FROM 1 TO n MINUS 1  
            WHILE j GREATER THAN 0 AND character AT s POSITION i NOT EQUALS character AT s POSITION j  
                SET j TO lps VALUE AT POSITION j MINUS 1  
            END WHILE  

            IF character AT s POSITION i EQUALS character AT s POSITION j  
                INCREMENT j BY 1  
                SET lps VALUE AT POSITION i TO j  
            END IF  
        END FOR  

        SET longest_happy_prefix_length TO lps VALUE AT POSITION n MINUS 1  
        RETURN SUBSTRING OF s FROM START TO longest_happy_prefix_length  
    END FUNCTION  
END CLASS