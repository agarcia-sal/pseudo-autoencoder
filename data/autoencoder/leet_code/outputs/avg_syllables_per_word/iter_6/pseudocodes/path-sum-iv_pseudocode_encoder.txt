CLASS Solution  
    FUNCTION pathSum(nums)  
        SET tree TO empty dictionary  
        
        FOR each num IN nums  
            SET depth TO num DIVIDED BY 100  
            SET pos TO num DIVIDED BY 10 MODULO 10  
            SET value TO num MODULO 10  
            SET tree AT (depth, pos) TO value  
        
        FUNCTION dfs(depth, pos, path_sum)  
            SET current_value TO value from tree AT (depth, pos)  
            IF current_value IS NONE  
                RETURN 0  
            
            SET new_path_sum TO path_sum PLUS current_value  
            
            SET left_child TO (depth PLUS 1, pos MULTIPLIED BY 2 MINUS 1)  
            SET right_child TO (depth PLUS 1, pos MULTIPLIED BY 2)  
            
            IF left_child NOT IN tree AND right_child NOT IN tree  
                RETURN new_path_sum  
            
            SET left_sum TO CALL dfs WITH left_child depth, left_child pos, new_path_sum  
            SET right_sum TO CALL dfs WITH right_child depth, right_child pos, new_path_sum  
            
            RETURN left_sum PLUS right_sum  
        END FUNCTION  
        
        RETURN CALL dfs WITH 1, 1, 0  
    END FUNCTION  
END CLASS