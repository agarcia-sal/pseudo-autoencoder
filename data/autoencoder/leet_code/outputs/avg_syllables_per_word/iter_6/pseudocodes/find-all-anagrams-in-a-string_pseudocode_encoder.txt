CLASS Solution  
    FUNCTION findAnagrams(s, p)  
        SET len_s TO LENGTH OF s  
        SET len_p TO LENGTH OF p  

        IF len_p GREATER THAN len_s  
            RETURN empty list  
        END IF  

        SET p_count TO CALL Counter WITH p  
        SET s_count TO CALL Counter WITH substring of s FROM start TO len_p  

        SET anagrams TO empty list  

        IF s_count EQUALS p_count  
            APPEND 0 TO anagrams  
        END IF  

        FOR i FROM len_p TO len_s MINUS 1  
            INCREMENT count of character s at position i IN s_count BY 1  
            DECREMENT count of character s at position i MINUS len_p IN s_count BY 1  

            IF count of character s at position i MINUS len_p IN s_count EQUALS 0  
                REMOVE character s at position i MINUS len_p FROM s_count  
            END IF  

            IF s_count EQUALS p_count  
                APPEND i MINUS len_p PLUS 1 TO anagrams  
            END IF  
        END FOR  

        RETURN anagrams  
    END FUNCTION  
END CLASS