CLASS Solution  
    FUNCTION isScramble(s1, s2)  
        IF s1 EQUALS s2 THEN  
            RETURN True  
        END IF  

        IF sorted characters of s1 NOT EQUALS sorted characters of s2 THEN  
            RETURN False  
        END IF  

        SET n TO length of s1  
        FOR i FROM 1 TO n MINUS 1  
            IF CALL isScramble WITH s1 from start TO i AND s2 from start TO i IS True  
               AND CALL isScramble WITH s1 from i TO end AND s2 from i TO end IS True THEN  
                RETURN True  
            END IF  

            IF CALL isScramble WITH s1 from start TO i AND s2 from end minus i TO end IS True  
               AND CALL isScramble WITH s1 from i TO end AND s2 from start TO end minus i IS True THEN  
                RETURN True  
            END IF  
        END FOR  

        RETURN False  
    END FUNCTION  
END CLASS