CLASS Solution  
    FUNCTION numMusicPlaylists(n, goal, k)  
        SET MOD TO one billion PLUS seven  
        
        INITIALIZE dp AS two-dimensional list of zeros WITH dimensions (goal PLUS one) BY (n PLUS one)  
        SET dp at index zero zero TO one  
        
        FOR i FROM one TO goal  
            FOR j FROM one TO n  
                SET dp at i j TO dp at (i MINUS one) (j MINUS one) MULTIPLIED BY (n MINUS (j MINUS one)) PLUS dp at i j  
                SET dp at i j TO dp at i j MODULO MOD  
                
                IF j GREATER THAN k THEN  
                    SET dp at i j TO dp at i j PLUS dp at (i MINUS one) j MULTIPLIED BY (j MINUS k)  
                    SET dp at i j TO dp at i j MODULO MOD  
        
        RETURN dp at goal n  
    END FUNCTION  
END CLASS