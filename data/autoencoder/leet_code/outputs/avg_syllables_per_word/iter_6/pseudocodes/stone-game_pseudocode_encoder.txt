CLASS Solution  
    FUNCTION stoneGame(piles)  
        FUNCTION dfs(i, j)  
            IF i GREATER THAN j  
                RETURN 0  
            ELSE  
                SET left_choice TO piles AT i MINUS CALL dfs WITH i PLUS 1 AND j  
                SET right_choice TO piles AT j MINUS CALL dfs WITH i AND j MINUS 1  
                RETURN maximum OF left_choice AND right_choice  
            END IF  
        END FUNCTION  

        RETURN CALL dfs WITH 0 AND LENGTH OF piles MINUS 1 GREATER THAN 0  
    END FUNCTION  
END CLASS