CLASS Solution  
    FUNCTION palindromePartition(s, k)  
        FUNCTION min_changes_to_palindrome(sub)  
            SET i TO 0  
            SET j TO LENGTH OF sub MINUS 1  
            SET changes TO 0  
            WHILE i LESS THAN j  
                IF character AT sub POSITION i NOT EQUALS character AT sub POSITION j  
                    INCREMENT changes BY 1  
                INCREMENT i BY 1  
                DECREMENT j BY 1  
            RETURN changes  
        END FUNCTION  

        SET n TO LENGTH OF s  
        INITIALIZE dp AS two dimensional list of size (n PLUS 1) BY (k PLUS 1) FILLED WITH infinity  
        SET dp AT 0 POSITION 0 TO 0  

        FOR i FROM 1 TO n  
            FOR j FROM 1 TO MINIMUM OF k AND i  
                FOR start FROM 0 TO i MINUS 1  
                    SET changes TO CALL min_changes_to_palindrome WITH substring of s FROM start TO i (exclusive)  
                    SET dp AT i POSITION j TO MINIMUM OF dp AT i POSITION j AND dp AT start POSITION j MINUS 1 PLUS changes  
        RETURN dp AT n POSITION k  
    END FUNCTION  
END CLASS