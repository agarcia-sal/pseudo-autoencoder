CLASS Solution  
    FUNCTION maxHeight(cuboids)  
        FOR each cuboid IN cuboids  
            CALL cuboid.sort  
        CALL cuboids.sort  
        SET n TO LENGTH OF cuboids  
        INITIALIZE dp AS list WITH n zeros  
        FOR i FROM 0 TO n MINUS 1  
            SET dp[i] TO cuboids[i][2]  
            FOR j FROM 0 TO i MINUS 1  
                IF cuboids[j][0] LESS THAN OR EQUAL TO cuboids[i][0] AND cuboids[j][1] LESS THAN OR EQUAL TO cuboids[i][1] AND cuboids[j][2] LESS THAN OR EQUAL TO cuboids[i][2]  
                    SET dp[i] TO THE GREATER OF dp[i] AND dp[j] PLUS cuboids[i][2]  
        SET result TO THE MAXIMUM VALUE IN dp  
        RETURN result  
    END FUNCTION  
END CLASS