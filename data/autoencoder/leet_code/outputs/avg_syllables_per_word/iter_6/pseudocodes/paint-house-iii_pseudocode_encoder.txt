CLASS Solution  
    FUNCTION minCost(houses, cost, m, n, target)  
        FUNCTION dp(i, prev_color, groups)  
            IF i EQUALS m  
                IF groups EQUALS target  
                    RETURN 0  
                ELSE  
                    RETURN infinity  
            END IF  
            
            IF houses AT i NOT EQUALS 0  
                SET new_groups TO groups PLUS (1 IF houses AT i NOT EQUALS prev_color ELSE 0)  
                RETURN CALL dp WITH (i PLUS 1, houses AT i, new_groups)  
            END IF  
            
            SET min_cost TO infinity  
            FOR color FROM 1 TO n  
                SET new_groups TO groups PLUS (1 IF color NOT EQUALS prev_color ELSE 0)  
                SET current_cost TO cost AT i AT (color MINUS 1) PLUS CALL dp WITH (i PLUS 1, color, new_groups)  
                IF current_cost LESS THAN min_cost  
                    SET min_cost TO current_cost  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        SET result TO CALL dp WITH (0, 0, 0)  
        IF result EQUALS infinity  
            RETURN -1  
        ELSE  
            RETURN result  
        END IF  
    END FUNCTION  
END CLASS