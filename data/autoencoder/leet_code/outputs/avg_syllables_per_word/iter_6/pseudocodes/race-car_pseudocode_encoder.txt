CLASS Solution  
    FUNCTION racecar(target)  
        INITIALIZE queue WITH element (position EQUALS 0, speed EQUALS 1, steps EQUALS 0)  
        INITIALIZE visited AS set containing (position EQUALS 0, speed EQUALS 1)  
        
        WHILE queue IS NOT empty  
            REMOVE element FROM queue AND DESTRUCTURE AS position, speed, steps  
            
            IF position EQUALS target  
                RETURN steps  
            
            SET next_position TO position PLUS speed  
            SET next_speed TO speed MULTIPLIED BY 2  
            IF (next_position, next_speed) NOT IN visited AND next_position GREATER THAN OR EQUAL TO 0 AND next_position LESS THAN 2 MULTIPLIED BY target  
                ADD (next_position, next_speed) TO visited  
                APPEND (next_position, next_speed, steps PLUS 1) TO queue  
            
            IF speed GREATER THAN 0  
                SET next_speed TO -1  
            ELSE  
                SET next_speed TO 1  
            IF (position, next_speed) NOT IN visited AND position GREATER THAN OR EQUAL TO 0 AND position LESS THAN 2 MULTIPLIED BY target  
                ADD (position, next_speed) TO visited  
                APPEND (position, next_speed, steps PLUS 1) TO queue  
    END FUNCTION  
END CLASS