CLASS Solution  
    FUNCTION replaceWords(dictionary, sentence)  
        CALL dictionary SORT BY LENGTH  
        SET words TO CALL sentence SPLIT INTO WORDS  
        
        FUNCTION replace(word)  
            FOR each root IN dictionary  
                IF word STARTS WITH root  
                    RETURN root  
            RETURN word  
        END FUNCTION  
        
        SET replaced_words TO EMPTY LIST  
        FOR each word IN words  
            APPEND CALL replace WITH word TO replaced_words  
        
        RETURN CALL replaced_words JOIN WITH SPACE  
    END FUNCTION  
END CLASS