CLASS Solution  
    FUNCTION sumScores(s)  
        SET n TO LENGTH OF s  
        SET lcp TO list of zeros with length n  

        SET l TO 0  
        SET r TO 0  
        FOR i FROM 1 TO n MINUS 1  
            IF i LESS THAN OR EQUAL TO r THEN  
                SET lcp at index i TO MINIMUM of (r MINUS i PLUS 1) AND lcp at index (i MINUS l)  
            END IF  

            WHILE (i PLUS lcp at index i) LESS THAN n AND character at index lcp at index i in s EQUALS character at index (i PLUS lcp at index i) in s  
                INCREMENT lcp at index i BY 1  
            END WHILE  

            IF (i PLUS lcp at index i MINUS 1) GREATER THAN r THEN  
                SET l TO i  
                SET r TO (i PLUS lcp at index i MINUS 1)  
            END IF  
        END FOR  

        RETURN SUM of all elements in lcp PLUS n  
    END FUNCTION  
END CLASS