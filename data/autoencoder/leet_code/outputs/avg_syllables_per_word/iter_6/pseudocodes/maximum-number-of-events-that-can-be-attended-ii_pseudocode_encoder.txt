CLASS Solution  
    FUNCTION maxValue(events, k)  
        CALL events SORTED BY end day  
        SET n TO LENGTH OF events  
        INITIALIZE dp AS two-dimensional list with dimensions (n PLUS 1) BY (k PLUS 1) FILLED WITH zeroes  
        
        FOR i FROM 1 TO n  
            SET start, end, value TO elements OF events AT position i MINUS 1  
            
            SET j TO FIND position USING binary search IN events WHERE event end day IS GREATER THAN OR EQUAL TO start  
            
            FOR l FROM 1 TO k  
                SET dp AT i AND l TO MAXIMUM OF dp AT i MINUS 1 AND l AND dp AT j AND l MINUS 1 PLUS value  
        
        RETURN dp AT n AND k  
    END FUNCTION  
END CLASS