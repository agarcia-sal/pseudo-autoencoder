CLASS Solution  
    FUNCTION nextPalindrome(num)  
        SET n TO LENGTH OF num  
        SET half TO SUBSTRING OF num FROM START TO n DIVIDED BY 2  
        
        SET half_list TO CONVERT half TO LIST OF CHARACTERS  
        SET k TO -1  
        SET l TO -1  
        
        FOR i FROM LENGTH OF half_list MINUS 2 DOWN TO 0  
            IF half_list AT i LESS THAN half_list AT i PLUS 1  
                SET k TO i  
                BREAK  
        
        IF k EQUALS -1  
            RETURN EMPTY STRING  
        
        FOR i FROM LENGTH OF half_list MINUS 1 DOWN TO k PLUS 1  
            IF half_list AT i GREATER THAN half_list AT k  
                SET l TO i  
                BREAK  
        
        SWAP half_list AT k WITH half_list AT l  
        SET half_list TO CONCATENATION OF half_list FROM START TO k PLUS 1 WITH SORTED sublist of half_list FROM k PLUS 1 TO END  
        
        SET new_half TO JOIN half_list INTO STRING  
        
        IF n MODULO 2 EQUALS 0  
            RETURN CONCATENATION OF new_half WITH REVERSE OF new_half  
        ELSE  
            RETURN CONCATENATION OF new_half WITH CHARACTER AT num AT n DIVIDED BY 2 WITH REVERSE OF new_half  
    END FUNCTION  
END CLASS