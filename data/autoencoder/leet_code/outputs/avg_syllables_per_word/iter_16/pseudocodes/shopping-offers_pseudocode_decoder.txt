CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO list of offers IN special WHERE the SUM of elements at all positions EXCEPT the last position of offer IS GREATER THAN zero AND the element at the last position of offer IS LESS THAN the SUM of products of corresponding elements at each position of price AND offer at all positions EXCEPT the last position  
        
        FUNCTION dfs(needs)  
            SET min_cost TO the SUM of products of corresponding elements at each position of price AND needs  
            
            FOR each offer IN special  
                SET new_needs TO list of elements where each element IS the difference between element at the corresponding position of needs AND element at the corresponding position EXCEPT the last position of offer  
                IF all elements IN new_needs ARE GREATER THAN OR EQUAL TO zero  
                    SET recursive_cost TO the result of calling dfs WITH tuple converted FROM new_needs  
                    SET min_cost TO the lesser value BETWEEN min_cost AND the sum of element at the last position of offer AND recursive_cost  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN the result of calling dfs WITH tuple converted FROM needs  
    END FUNCTION  
END CLASS