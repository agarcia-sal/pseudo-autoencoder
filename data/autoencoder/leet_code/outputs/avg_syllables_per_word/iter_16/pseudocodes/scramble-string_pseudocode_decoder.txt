CLASS Solution  
    FUNCTION isScramble(s1 AS string, s2 AS string) RETURNS boolean  
        IF s1 EQUALS s2 THEN  
            RETURN TRUE  
        END IF  
        
        IF the characters of s1 SORTED DO NOT EQUAL the characters of s2 SORTED THEN  
            RETURN FALSE  
        END IF  
        
        SET n TO the LENGTH OF s1  
        FOR i FROM one TO n MINUS one  
            IF the RESULT OF calling isScramble WITH the substring from position one TO i of s1 AND the substring from position one TO i of s2 IS TRUE  
            AND the RESULT OF calling isScramble WITH the substring from position i PLUS one TO n of s1 AND the substring from position i PLUS one TO n of s2 IS TRUE THEN  
                RETURN TRUE  
            END IF  
            
            IF the RESULT OF calling isScramble WITH the substring from position one TO i of s1 AND the substring from position n MINUS i PLUS one TO n of s2 IS TRUE  
            AND the RESULT OF calling isScramble WITH the substring from position i PLUS one TO n of s1 AND the substring from position one TO n MINUS i of s2 IS TRUE THEN  
                RETURN TRUE  
            END IF  
        END FOR  
        
        RETURN FALSE  
    END FUNCTION  
END CLASS