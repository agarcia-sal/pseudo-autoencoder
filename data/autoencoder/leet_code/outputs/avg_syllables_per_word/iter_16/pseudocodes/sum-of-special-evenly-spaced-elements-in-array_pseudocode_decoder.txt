CLASS Solution  
    FUNCTION solve(nums, queries)  
        SET MODULO TO one billion PLUS seven  
        SET count_of_numbers TO the LENGTH OF nums  
        
        SET maximum_step TO the MAXIMUM value of the second element IN each pair OF queries  
        SET prefix_sums TO a LIST of LISTS with count_of_numbers zeros EACH and the NUMBER OF LISTS equal TO maximum_step PLUS one  
        
        FOR step FROM one TO maximum_step  
            FOR index FROM count_of_numbers MINUS one DOWN TO zero  
                IF index PLUS step IS LESS THAN count_of_numbers  
                    SET the element at position index of the list at position step of prefix_sums TO the element at position index of nums PLUS the element at position index PLUS step of the list at position step of prefix_sums  
                ELSE  
                    SET the element at position index of the list at position step of prefix_sums TO the element at position index of nums  
                END IF  
            END FOR  
        END FOR  
        
        SET answer_list TO an empty list  
        FOR each pair x and y IN queries  
            APPEND the remainder of the element at position x of the list at position y of prefix_sums DIVIDED BY MODULO TO answer_list  
        END FOR  
        
        RETURN answer_list  
    END FUNCTION  
END CLASS