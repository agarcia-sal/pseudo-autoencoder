CLASS Solution  
    FUNCTION partition WITH PARAMETERS s  
        FUNCTION is_palindrome WITH PARAMETERS sub  
            RETURN sub EQUALS reverse THE ENTIRE STRING sub  
        END FUNCTION  
  
        FUNCTION backtrack WITH PARAMETERS start path  
            IF start EQUALS the LENGTH OF s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
  
            FOR end FROM start PLUS one TO the LENGTH OF s INCLUSIVE  
                IF is_palindrome WITH THE STRING from position start TO end MINUS one of s THEN  
                    CALL backtrack WITH PARAMETERS end AND the list formed by CONCATENATING path AND the STRING from position start TO end MINUS one of s  
                END IF  
            END FOR  
        END FUNCTION  
  
        SET result TO an empty list  
        CALL backtrack WITH PARAMETERS zero AND an empty list  
        RETURN result  
    END FUNCTION  
END CLASS