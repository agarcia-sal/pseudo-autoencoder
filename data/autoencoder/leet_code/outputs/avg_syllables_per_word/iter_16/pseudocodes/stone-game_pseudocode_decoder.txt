CLASS Solution  
    FUNCTION stoneGame WITH parameter piles  
        FUNCTION dfs WITH parameters i AND j  
            IF i IS GREATER THAN j  
                RETURN zero  
            END IF  
            RETURN the maximum OF the element at position i of piles MINUS dfs OF i PLUS one AND j AND the element at position j of piles MINUS dfs OF i AND j MINUS one  
        END FUNCTION  
        RETURN dfs OF zero AND the LENGTH OF piles MINUS one IS GREATER THAN zero  
    END FUNCTION  
END CLASS