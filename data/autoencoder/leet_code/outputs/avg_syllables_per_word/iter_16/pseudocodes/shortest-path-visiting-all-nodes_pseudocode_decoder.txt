CLASS Solution  
    FUNCTION shortestPathLength WITH PARAMETER graph  
        IF graph EQUALS no value  
            RETURN zero  
        END IF  
        SET n TO the LENGTH OF graph  
        SET queue TO a double-ended queue OF pairs CONSISTING OF each node FROM zero TO n MINUS one AND one LEFT SHIFTED BY the value of node  
        SET visited TO a set CONTAINING each pair OF node FROM zero TO n MINUS one AND one LEFT SHIFTED BY the value of node  
        SET steps TO zero  
        SET all_nodes_visited TO one LEFT SHIFTED BY n MINUS one  
        WHILE the queue IS NOT empty  
            FOR each index FROM zero TO the LENGTH OF queue MINUS one  
                REMOVE the FIRST element FROM queue AND ASSIGN TO current_node AND visited_nodes  
                IF visited_nodes EQUALS all_nodes_visited  
                    RETURN steps  
                END IF  
                FOR each neighbor IN the element at position current_node OF graph  
                    SET next_visited_nodes TO visited_nodes OR one LEFT SHIFTED BY neighbor  
                    SET next_state TO the pair OF neighbor AND next_visited_nodes  
                    IF next_state IS NOT IN visited  
                        ADD next_state TO visited  
                        ADD next_state TO the END OF queue  
                    END IF  
                END FOR  
            END FOR  
            INCREMENT steps BY one  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS