CLASS Solution  
    FUNCTION findAnagrams WITH PARAMETERS s AS string AND p AS string RETURNS list of integers  
        SET len_s TO the LENGTH OF string s  
        SET len_p TO the LENGTH OF string p  
        IF len_p GREATER THAN len_s  
            RETURN an empty list  
        END IF  
        SET p_count TO the CHARACTER FREQUENCY COUNTER OF string p  
        SET s_count TO the CHARACTER FREQUENCY COUNTER OF the substring from position zero TO the value len_p MINUS one of string s  
        SET anagrams TO an empty list  
        IF s_count EQUALS p_count  
            APPEND zero TO the list anagrams  
        END IF  
        FOR i FROM the value len_p TO the value len_s MINUS one  
            INCREMENT the FREQUENCY COUNT IN s_count of the character at position i of string s BY one  
            DECREMENT the FREQUENCY COUNT IN s_count of the character at position i MINUS len_p of string s BY one  
            IF the FREQUENCY COUNT IN s_count of the character at position i MINUS len_p of string s EQUALS zero  
                REMOVE the character at position i MINUS len_p of string s FROM s_count  
            END IF  
            IF s_count EQUALS p_count  
                APPEND the value i MINUS len_p PLUS one TO the list anagrams  
            END IF  
        END FOR  
        RETURN the list anagrams  
    END FUNCTION  
END CLASS