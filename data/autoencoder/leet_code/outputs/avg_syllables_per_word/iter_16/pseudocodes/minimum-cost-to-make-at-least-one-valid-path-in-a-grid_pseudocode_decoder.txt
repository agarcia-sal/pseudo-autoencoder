CLASS Solution  
    FUNCTION minCost(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET directions TO the list of tuples zero one zero minus one one zero minus one zero  
        SET costs TO a list containing m elements each being a list containing n elements each set TO infinity  
        SET element at position zero of element at position zero of costs TO zero  
        SET priority queue TO a list containing a tuple zero zero zero  
        SET visited TO an empty set  
        WHILE priority queue is not empty  
            REMOVE and RETURN the smallest element FROM priority queue AND ASSIGN TO cost i j  
            IF the tuple i j IS in visited  
                CONTINUE to the next iteration  
            END IF  
            ADD the tuple i j TO visited  
            IF i EQUALS m MINUS one AND j EQUALS n MINUS one  
                RETURN cost  
            END IF  
            FOR each index k AND tuple di dj IN directions with index  
                SET ni TO i PLUS di  
                SET nj TO j PLUS dj  
                IF zero LESS THAN OR EQUAL TO ni AND ni LESS THAN m AND zero LESS THAN OR EQUAL TO nj AND nj LESS THAN n  
                    IF k PLUS one NOT EQUALS the element at position j of element at position i of grid  
                        SET additional cost TO one  
                    ELSE  
                        SET additional cost TO zero  
                    END IF  
                    SET new cost TO cost PLUS additional cost  
                    IF new cost LESS THAN the element at position nj of element at position ni of costs  
                        SET element at position nj of element at position ni of costs TO new cost  
                        ADD the tuple new cost ni nj TO priority queue  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS