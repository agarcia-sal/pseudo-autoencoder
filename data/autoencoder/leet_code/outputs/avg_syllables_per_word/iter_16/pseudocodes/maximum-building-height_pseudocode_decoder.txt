CLASS Solution  
    FUNCTION maxBuilding WITH PARAMETERS n AND restrictions  
        APPEND a list containing one AND zero TO restrictions  
        SORT restrictions in ascending order  
        FOR index FROM one TO the LENGTH OF restrictions MINUS one  
            ASSIGN variable idx TO element at position index of restrictions at position zero  
            ASSIGN variable height TO element at position index of restrictions at position one  
            ASSIGN variable prev_idx TO element at position index MINUS one of restrictions at position zero  
            ASSIGN variable prev_height TO element at position index MINUS one of restrictions at position one  
            SET element at position index of restrictions at position one TO the MINIMUM BETWEEN height AND prev_height PLUS idx MINUS prev_idx  
        END FOR  
        FOR index FROM the LENGTH OF restrictions MINUS two DOWN TO zero BY negative one  
            ASSIGN variable idx TO element at position index of restrictions at position zero  
            ASSIGN variable height TO element at position index of restrictions at position one  
            ASSIGN variable next_idx TO element at position index PLUS one of restrictions at position zero  
            ASSIGN variable next_height TO element at position index PLUS one of restrictions at position one  
            SET element at position index of restrictions at position one TO the MINIMUM BETWEEN height AND next_height PLUS next_idx MINUS idx  
        END FOR  
        SET variable max_height TO zero  
        ASSIGN variable prev_idx TO element at position zero of restrictions at position zero  
        ASSIGN variable prev_height TO element at position zero of restrictions at position one  
        FOR index FROM one TO the LENGTH OF restrictions MINUS one  
            ASSIGN variable idx TO element at position index of restrictions at position zero  
            ASSIGN variable height TO element at position index of restrictions at position one  
            SET max_height TO the MAXIMUM BETWEEN max_height AND the INTEGER DIVISION OF idx MINUS prev_idx PLUS prev_height PLUS height BY two  
            ASSIGN prev_idx TO idx  
            ASSIGN prev_height TO height  
        END FOR  
        SET max_height TO the MAXIMUM BETWEEN max_height AND prev_height PLUS n MINUS prev_idx  
        RETURN max_height  
    END FUNCTION  
END CLASS