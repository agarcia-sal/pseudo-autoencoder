CLASS Solution  
    FUNCTION numDupDigitsAtMostN(n)  
        FUNCTION count_unique_digits(x)  
            SET s TO the string conversion of x  
            SET length TO the LENGTH OF s  
            SET count TO zero  
            FOR integer i FROM one TO length MINUS one  
                INCREMENT count BY nine MULTIPLIED BY perm of nine AND i MINUS one  
            END FOR  
            SET seen TO an empty set  
            FOR each position i AND digit_character digit IN the enumeration of s  
                FOR integer d FROM zero TO the integer value of digit MINUS one  
                    IF position i EQUALS zero  
                        SET lower_bound TO one  
                    ELSE  
                        SET lower_bound TO zero  
                    END IF  
                    IF d IS GREATER THAN OR EQUAL TO lower_bound AND d NOT IN seen  
                        INCREMENT count BY perm of nine MINUS i AND length MINUS i MINUS one  
                    END IF  
                END FOR  
                IF the integer value of digit IS IN seen  
                    BREAK the loop  
                END IF  
                ADD the integer value of digit TO the set seen  
            END FOR  
            IF the loop was NOT broken by the previous condition  
                INCREMENT count BY one  
            END IF  
            RETURN count  
        END FUNCTION  

        SET unique_digits_count TO count_unique_digits of n  
        SET result TO n MINUS unique_digits_count  
        RETURN result  
    END FUNCTION  

    FUNCTION perm(m, n)  
        IF n EQUALS zero  
            RETURN one  
        END IF  
        SET result TO one  
        FOR integer i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY m MINUS i  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS