CLASS Solution  
    FUNCTION getLengthOfOptimalCompression(s, k)  
        DEFINE dp WITH PARAMETERS i, k, prev_char, prev_count WITH memoization  
            IF k IS LESS THAN zero  
                RETURN infinite value  
            END IF  
            IF i IS EQUAL TO the LENGTH OF s  
                RETURN zero  
            END IF  
            IF character at position i of s IS EQUAL TO prev_char  
                SET increment TO one IF prev_count IS EQUAL TO one OR prev_count IS EQUAL TO nine OR prev_count IS EQUAL TO ninety nine OTHERWISE zero  
                RETURN increment PLUS result of dp WITH PARAMETERS i PLUS one, k, prev_char, prev_count PLUS one  
            ELSE  
                SET keep TO one PLUS result of dp WITH PARAMETERS i PLUS one, k, character at position i of s, one  
                SET delete TO result of dp WITH PARAMETERS i PLUS one, k MINUS one, prev_char, prev_count  
                RETURN the MINIMUM OF keep AND delete  
            END IF  
        END FUNCTION  
        RETURN result of dp WITH PARAMETERS zero, k, empty string, zero  
    END FUNCTION  
END CLASS