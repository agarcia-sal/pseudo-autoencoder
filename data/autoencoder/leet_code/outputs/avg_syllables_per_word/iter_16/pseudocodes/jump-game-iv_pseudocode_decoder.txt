CLASS Solution  
    FUNCTION minJumps(arr)  
        SET n TO the LENGTH OF arr  
        IF n EQUALS one  
            RETURN zero  
        END IF  
        
        SET value indices TO a DEFAULT DICTIONARY mapping values TO lists of indices  
        FOR each pair of position i AND the element value IN arr with enumeration  
            APPEND position i TO the list ASSOCIATED WITH value IN value indices  
        END FOR  
        
        SET queue TO a DOUBLE ENDED QUEUE initialized with the PAIR of zero AND zero representing current index zero AND current steps zero  
        SET visited TO a SET containing zero  
        
        WHILE queue IS NOT EMPTY  
            SET current index AND steps TO the ELEMENT REMOVED FROM THE LEFT OF queue  
            
            IF current index EQUALS n MINUS one  
                RETURN steps  
            END IF  
            
            SET next indices TO a LIST containing current index PLUS one, current index MINUS one, AND all positions ASSOCIATED WITH the ELEMENT AT position current index IN arr FROM value indices  
            
            FOR each next index IN next indices  
                IF next index IS GREATER THAN OR EQUAL TO zero AND next index IS LESS THAN n AND next index IS NOT IN visited  
                    ADD next index TO visited  
                    APPEND the PAIR of next index AND steps PLUS one TO queue  
                END IF  
            END FOR  
            
            SET the list ASSOCIATED WITH the ELEMENT AT position current index IN arr IN value indices TO an EMPTY LIST  
        END WHILE  
        
        RETURN MINUS one  
    END FUNCTION  
END CLASS