CLASS Solution  
    FUNCTION maximumCost(n, highways, k)  
        CREATE an adjacency list called graph that maps each city TO a list of pairs of neighboring city and toll  
        FOR each element IN highways where element represents city1 city2 and toll  
            APPEND the pair of city2 and toll TO the list at key city1 in graph  
            APPEND the pair of city1 and toll TO the list at key city2 in graph  
        END FOR  

        DEFINE FUNCTION dfs(city, visited, cost, highways_used)  
            ACCESS the variable max_cost declared in the enclosing scope  
            IF highways_used EQUALS k  
                SET max_cost TO the maximum value BETWEEN max_cost AND cost  
                RETURN  
            END IF  
            FOR each pair of neighbor and toll IN the list of neighbors at key city in graph  
                IF neighbor IS NOT IN visited  
                    ADD neighbor TO visited  
                    CALL dfs WITH neighbor, visited, cost PLUS toll, highways_used PLUS one  
                    REMOVE neighbor FROM visited  
                END IF  
            END FOR  
        END FUNCTION  

        SET max_cost TO negative one  
        FOR each start_city FROM zero TO n MINUS one  
            SET visited TO a set containing start_city  
            CALL dfs WITH start_city, visited, zero, zero  
        END FOR  
        RETURN max_cost  
    END FUNCTION  
END CLASS