CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i of trees  
            SET b TO element at position j of trees  
            SET c TO element at position k of trees  
            RETURN the result of the quantity of element at position zero of b MINUS element at position zero of a MULTIPLIED BY the quantity of element at position one of c MINUS element at position one of b MINUS the quantity of element at position one of b MINUS element at position one of a MULTIPLIED BY the quantity of element at position zero of c MINUS element at position zero of b  
        END FUNCTION  
        
        SET n TO the LENGTH OF trees  
        IF n LESS THAN four  
            RETURN trees  
        END IF  
        
        SORT the list trees in ascending order  
        SET vis TO a list of BOOLEAN FALSE of length n  
        SET stk TO a list containing zero as its single element  
        
        FOR i FROM one TO n MINUS one  
            WHILE the LENGTH OF stk GREATER THAN one AND the result of cross with arguments element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, and i LESS THAN zero holds  
                SET element at position element at position LENGTH OF stk MINUS one of stk REMOVED FROM stk in vis TO BOOLEAN FALSE  
            END WHILE  
            SET element at position i of vis TO BOOLEAN TRUE  
            APPEND i TO stk  
        END FOR  
        
        SET m TO the LENGTH OF stk  
        
        FOR i FROM n MINUS two DOWN TO zero BY stepping minus one  
            IF element at position i of vis IS BOOLEAN TRUE  
                CONTINUE TO the next iteration  
            END IF  
            WHILE the LENGTH OF stk GREATER THAN m AND the result of cross with arguments element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, and i LESS THAN zero holds  
                REMOVE element at position LENGTH OF stk MINUS one FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
        
        REMOVE element at position LENGTH OF stk MINUS one FROM stk  
        
        RETURN a list of elements at position i of trees for each i in stk  
    END FUNCTION  
END CLASS