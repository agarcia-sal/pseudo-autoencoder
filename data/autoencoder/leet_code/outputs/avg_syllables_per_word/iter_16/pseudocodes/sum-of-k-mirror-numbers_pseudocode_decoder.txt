CLASS Solution  
    FUNCTION kMirror WITH PARAMETERS k AND n  
        FUNCTION is_palindrome WITH PARAMETER s  
            RETURN s EQUALS the REVERSED ORDER OF s  
        END FUNCTION  

        FUNCTION to_base_k WITH PARAMETERS num AND k  
            IF num EQUALS zero  
                RETURN the STRING REPRESENTATION OF zero  
            END IF  
            SET digits TO an EMPTY LIST  
            WHILE num IS NOT zero  
                APPEND the INTEGER RESULT OF num MODULO k TO digits  
                SET num TO the INTEGER RESULT OF num DIVIDED BY k  
            END WHILE  
            RETURN the CONCATENATION OF EACH ELEMENT AS STRING IN digits IN REVERSED ORDER  
        END FUNCTION  

        FUNCTION generate_palindromes WITH PARAMETER length  
            IF length EQUALS one  
                FOR each i FROM one TO nine  
                    YIELD the STRING REPRESENTATION OF i  
                END FOR  
            ELSE  
                SET start TO ten RAISED TO THE INTEGER RESULT OF (length MINUS one) DIVIDED BY two  
                SET end TO ten RAISED TO THE INTEGER RESULT OF (length PLUS one) DIVIDED BY two  
                FOR each half FROM start TO one LESS THAN end  
                    SET half_str TO the STRING REPRESENTATION OF half  
                    IF length MODULO two EQUALS zero  
                        SET full TO half_str CONCATENATED WITH THE REVERSED ORDER OF half_str  
                    ELSE  
                        SET full TO half_str CONCATENATED WITH THE REVERSED ORDER OF the SUBSTRING FROM POSITION one TO one LESS THAN THE LENGTH OF half_str OF half_str  
                    END IF  
                    YIELD full  
                END FOR  
            END IF  
        END FUNCTION  

        SET k_mirror_numbers TO an EMPTY LIST  
        SET length TO one  
        WHILE the LENGTH OF k_mirror_numbers IS LESS THAN n  
            FOR each pal FROM generate_palindromes WITH length  
                SET num TO the INTEGER REPRESENTATION OF pal  
                IF is_palindrome WITH to_base_k OF num AND k RETURNS true  
                    APPEND num TO k_mirror_numbers  
                    IF the LENGTH OF k_mirror_numbers EQUALS n  
                        BREAK OUT OF LOOP  
                    END IF  
                END IF  
            END FOR  
            INCREMENT length BY one  
        END WHILE  

        RETURN the SUM OF ALL ELEMENTS IN k_mirror_numbers  
    END FUNCTION  
END CLASS