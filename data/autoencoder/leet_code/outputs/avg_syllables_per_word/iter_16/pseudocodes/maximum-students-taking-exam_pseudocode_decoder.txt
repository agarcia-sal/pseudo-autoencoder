CLASS Solution  
    FUNCTION maxStudents(seats)  
        SET m TO the LENGTH OF seats  
        SET n TO the LENGTH OF element at position zero of seats  
        
        SET broken TO a list containing zero repeated m times  
        
        FOR each index i FROM zero TO m MINUS one  
            FOR each index j FROM zero TO n MINUS one  
                IF element at position j of element at position i of seats EQUALS the character symbol representing a broken seat  
                    SET element at position i of broken TO element at position i of broken BITWISE OR WITH one LEFT SHIFTED BY j  
                END IF  
            END FOR  
        END FOR  
        
        FUNCTION is_valid(arrangement)  
            RETURN the CONDITION that arrangement BITWISE AND WITH arrangement RIGHT SHIFTED BY one EQUALS zero  
        END FUNCTION  
        
        SET dp TO a list of m elements each being an empty dictionary  
        
        FOR each integer arrangement FROM zero TO two RAISED TO THE POWER OF n MINUS one  
            IF is_valid(arrangement) IS TRUE AND arrangement BITWISE AND element at position zero of broken EQUALS zero  
                SET value at key arrangement in element at position zero of dp TO the COUNT OF ones in the binary representation of arrangement  
            END IF  
        END FOR  
        
        FOR each integer i FROM one TO m MINUS one  
            FOR each integer arrangement FROM zero TO two RAISED TO THE POWER OF n MINUS one  
                IF is_valid(arrangement) IS TRUE AND arrangement BITWISE AND element at position i of broken EQUALS zero  
                    SET max_students TO zero  
                    FOR each prev_arrangement KEY IN element at position i MINUS one of dp  
                        IF arrangement BITWISE AND prev_arrangement RIGHT SHIFTED BY one EQUALS zero AND arrangement BITWISE AND prev_arrangement LEFT SHIFTED BY one EQUALS zero  
                            IF value at key prev_arrangement in element at position i MINUS one of dp GREATER THAN max_students  
                                SET max_students TO value at key prev_arrangement in element at position i MINUS one of dp  
                            END IF  
                        END IF  
                    END FOR  
                    SET value at key arrangement in element at position i of dp TO max_students PLUS the COUNT OF ones in the binary representation of arrangement  
                END IF  
            END FOR  
        END FOR  
        
        IF element at position m MINUS one of dp IS NOT EMPTY  
            RETURN the MAXIMUM VALUE among values in element at position m MINUS one of dp  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS