CLASS Solution  
    FUNCTION longestPrefix WITH PARAMETER s  
        SET n TO the LENGTH OF s  
        SET lps TO a list of zeroes with size n  
        SET j TO zero  
        FOR i FROM one TO n MINUS one  
            WHILE j GREATER THAN zero AND the element at position i of s NOT EQUALS the element at position j of s  
                SET j TO the element at position j MINUS one of lps  
            END WHILE  
            IF the element at position i of s EQUALS the element at position j of s  
                INCREMENT j BY one  
                SET the element at position i of lps TO j  
            END IF  
        END FOR  
        SET longest_happy_prefix_length TO the element at position n MINUS one of lps  
        RETURN the substring from position zero TO longest_happy_prefix_length of s  
    END FUNCTION  
END CLASS