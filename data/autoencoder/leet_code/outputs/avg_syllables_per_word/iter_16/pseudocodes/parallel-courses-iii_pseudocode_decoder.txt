CLASS Solution  
    FUNCTION minimumTime(n, relations, time)  
        SET graph TO a new mapping from keys to lists with default empty list  
        FOR each pair consisting of previous course and next course IN relations  
            APPEND previous course TO the list associated with next course in graph  
        END FOR  
  
        SET memo TO a list of length n plus one with all elements set to negative one  
  
        FUNCTION dfs(course)  
            IF the element at position course of memo IS NOT EQUAL TO negative one  
                RETURN the element at position course of memo  
            END IF  
  
            SET max prerequisite time TO zero  
            FOR each previous course IN the list associated with course in graph  
                SET candidate time TO dfs(previous course)  
                IF candidate time IS GREATER THAN max prerequisite time  
                    SET max prerequisite time TO candidate time  
                END IF  
            END FOR  
  
            SET the element at position course of memo TO max prerequisite time PLUS the element at position course MINUS one of time  
            RETURN the element at position course of memo  
        END FUNCTION  
  
        SET total minimum time TO zero  
        FOR course FROM one TO n  
            SET candidate time TO dfs(course)  
            IF candidate time IS GREATER THAN total minimum time  
                SET total minimum time TO candidate time  
            END IF  
        END FOR  
  
        RETURN total minimum time  
    END FUNCTION  
END CLASS