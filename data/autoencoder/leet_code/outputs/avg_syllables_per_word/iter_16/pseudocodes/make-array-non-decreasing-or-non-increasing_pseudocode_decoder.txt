CLASS Solution  
    FUNCTION convertArray(nums)  
        FUNCTION min_operations_to_non_decreasing(nums)  
            SET max_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF max_heap IS NOT empty AND the negative of element at position zero of max_heap IS GREATER THAN num  
                    INCREMENT operations BY the difference between the negative of the element REMOVED FROM max_heap AND num  
                    APPEND the negative of num TO max_heap  
                END IF  
                APPEND the negative of num TO max_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        FUNCTION min_operations_to_non_increasing(nums)  
            SET min_heap TO empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF min_heap IS NOT empty AND element at position zero of min_heap IS LESS THAN num  
                    INCREMENT operations BY the difference between num AND the element REMOVED FROM min_heap  
                    APPEND num TO min_heap  
                END IF  
                APPEND num TO min_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        RETURN the minimum OF the result OF min_operations_to_non_decreasing APPLIED TO nums AND the result OF min_operations_to_non_increasing APPLIED TO nums  
    END FUNCTION  
END CLASS