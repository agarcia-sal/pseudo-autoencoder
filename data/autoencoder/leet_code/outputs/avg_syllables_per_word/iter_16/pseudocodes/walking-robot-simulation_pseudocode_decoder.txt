CLASS Solution  
    FUNCTION robotSim(commands AS List of integers, obstacles AS List of List of integers) RETURNS integer  
        SET directions TO a list of tuples representing pairs of zero and one in the order zero and one zero zero and minus one minus one and zero  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero  
        SET obstacles_set TO the set that contains each element converted to a tuple from obstacles  
        SET max_distance TO zero  
        FOR each command IN commands  
            IF command EQUALS minus two  
                SET dir_index TO the remainder when dir_index MINUS one is divided BY four  
            ELSE IF command EQUALS minus one  
                SET dir_index TO the remainder when dir_index PLUS one is divided BY four  
            ELSE  
                SET dx and dy TO the element at position dir_index of directions  
                FOR each repetition FROM one TO command  
                    SET next_x TO x PLUS dx  
                    SET next_y TO y PLUS dy  
                    IF the tuple consisting of next_x and next_y IS IN obstacles_set  
                        BREAK the inner loop  
                    END IF  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET max_distance TO the greater of max_distance AND the sum of x MULTIPLIED BY x AND y MULTIPLIED BY y  
            END IF  
        END FOR  
        RETURN max_distance  
    END FUNCTION  
END CLASS