CLASS Solution  
    FUNCTION validSquare(p1 WITH TYPE List OF INTEGER, p2 WITH TYPE List OF INTEGER, p3 WITH TYPE List OF INTEGER, p4 WITH TYPE List OF INTEGER) RETURNING BOOLEAN  
        FUNCTION squared_distance(p1, p2)  
            SET difference at position zero of p1 MINUS difference at position zero of p2 TO delta_x  
            SET difference at position one of p1 MINUS difference at position one of p2 TO delta_y  
            SET result TO delta_x MULTIPLIED BY delta_x PLUS delta_y MULTIPLIED BY delta_y  
            RETURN result  
        END FUNCTION  
  
        SET points TO list containing p1, p2, p3, p4  
        SET distances TO empty set  
  
        FOR index i FROM zero TO three  
            FOR index j FROM i PLUS one TO three  
                SET dist TO squared_distance of element at position i of points AND element at position j of points  
                IF dist EQUALS zero THEN  
                    RETURN False  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
  
        IF the SIZE OF distances EQUALS two THEN  
            RETURN True  
        ELSE  
            RETURN False  
        END IF  
    END FUNCTION  
END CLASS