CLASS Solution  
    FUNCTION maxValue WITH parameters events OF TYPE List of List of Integer AND k OF TYPE Integer  
        PERFORM sort ON events BY the second element of each event representing the end day  
        SET n TO the LENGTH OF events  
        INITIALIZE dp AS a list with the number of elements equal TO n PLUS one  
        EACH element OF dp IS a list with the number of elements equal TO k PLUS one FILLED WITH zero  
        
        FOR each i FROM one TO n inclusive  
            SET start TO the first element of the event at position i MINUS one in events  
            SET end TO the second element of the event at position i MINUS one in events  
            SET value TO the third element of the event at position i MINUS one in events  
            
            FIND j AS the position in events where the end day is LESS THAN the start using a binary search ON the end day field  
            
            FOR each l FROM one TO k inclusive  
                SET dp at position i and l TO the maximum BETWEEN dp at position i MINUS one and l  
                AND the sum of dp at position j and l MINUS one PLUS value  
            END FOR  
        END FOR  
        
        RETURN dp at position n and k  
    END FUNCTION  
END CLASS