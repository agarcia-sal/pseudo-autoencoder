CLASS Solution  
    FUNCTION maxIncreaseKeepingSkyline WITH PARAMETERS grid  
        SET n TO the LENGTH OF grid  
        SET row_maxes TO an empty list  
        FOR each row IN grid  
            APPEND the MAXIMUM value of the row TO row_maxes  
        END FOR  
        SET col_maxes TO an empty list  
        FOR each column formed by grouping elements at each position from all rows in grid  
            APPEND the MAXIMUM value of the column TO col_maxes  
        END FOR  
        
        SET total_increase TO zero  
        FOR each index i FROM zero TO n MINUS one  
            FOR each index j FROM zero TO n MINUS one  
                SET max_height TO the MINIMUM of the element at position i of row_maxes AND the element at position j of col_maxes  
                INCREMENT total_increase BY the MAXIMUM of zero AND max_height MINUS the element at position j of the element at position i of grid  
            END FOR  
        END FOR  
        
        RETURN total_increase  
    END FUNCTION  
END CLASS