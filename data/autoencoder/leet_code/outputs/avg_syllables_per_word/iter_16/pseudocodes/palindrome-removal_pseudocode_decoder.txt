CLASS Solution  
    FUNCTION minimumMoves(arr)  
        SET n TO the LENGTH OF arr  
        SET dp TO a list of lists each containing zero repeated n times and having n such lists representing a two dimensional structure  
          
        FOR index FROM zero TO n MINUS one  
            SET element at position index and position index of dp TO one  
        END FOR  
          
        FOR index FROM zero TO n MINUS two  
            IF element at position index of arr EQUALS element at position index PLUS one of arr  
                SET element at position index and position index PLUS one of dp TO one  
            ELSE  
                SET element at position index and position index PLUS one of dp TO two  
            END IF  
        END FOR  
          
        FOR length FROM three TO n  
            FOR i FROM zero TO n MINUS length  
                SET j TO i PLUS length MINUS one  
                IF element at position i of arr EQUALS element at position j of arr  
                    SET element at position i and position j of dp TO element at position i PLUS one and position j MINUS one of dp  
                ELSE  
                    SET element at position i and position j of dp TO infinite value  
                    FOR k FROM i TO j MINUS one  
                        SET element at position i and position j of dp TO the MINIMUM OF element at position i and position j of dp AND the SUM OF element at position i and position k of dp PLUS element at position k PLUS one and position j of dp  
                    END FOR  
                END IF  
            END FOR  
        END FOR  
          
        RETURN element at position zero and position n MINUS one of dp  
    END FUNCTION  
END CLASS