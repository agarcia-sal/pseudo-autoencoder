CLASS Solution  
    FUNCTION replaceWords(dictionary WITH TYPE List of strings, sentence WITH TYPE string) RETURNS string  
        CALL SORT ON dictionary BY the LENGTH OF each root  
        SET words TO the LIST of words obtained by SPLITTING sentence by spaces  
        FUNCTION replace(word) RETURNS string  
            FOR each root IN dictionary  
                IF word STARTS WITH root THEN  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
        SET replaced_words TO the LIST obtained by APPLYING replace TO each word IN words  
        SET result_sentence TO the STRING obtained by JOINING replaced_words WITH spaces  
        RETURN result_sentence  
    END FUNCTION  
END CLASS