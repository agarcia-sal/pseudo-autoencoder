CLASS Solution  
    FUNCTION solveNQueens(n)  
        FUNCTION is_not_under_attack(row, col)  
            RETURN NOT the SUM OF element at position col of cols PLUS element at position row MINUS col of hills PLUS element at position row PLUS col of dales IS GREATER THAN zero  
        END FUNCTION  

        FUNCTION place_queen(row, col)  
            ADD the TUPLE of row and col TO queens  
            SET element at position col of cols TO one  
            SET element at position row MINUS col of hills TO one  
            SET element at position row PLUS col of dales TO one  
        END FUNCTION  

        FUNCTION remove_queen(row, col)  
            REMOVE the TUPLE of row and col FROM queens  
            SET element at position col of cols TO zero  
            SET element at position row MINUS col of hills TO zero  
            SET element at position row PLUS col of dales TO zero  
        END FUNCTION  

        FUNCTION add_solution()  
            SET solution TO empty list  
            FOR each pair _ and col IN the SORTED elements of queens  
                APPEND a string composed of a sequence of the period character repeated col times PLUS the character Q PLUS a sequence of the period character repeated n MINUS col MINUS one times TO solution  
            END FOR  
            APPEND solution TO output  
        END FUNCTION  

        FUNCTION backtrack(row EQUALS zero)  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack(row, col)  
                    CALL place_queen WITH row AND col  
                    IF row PLUS one EQUALS n  
                        CALL add_solution()  
                    ELSE  
                        CALL backtrack WITH row PLUS one  
                    END IF  
                    CALL remove_queen WITH row AND col  
                END IF  
            END FOR  
        END FUNCTION  

        SET cols TO a list of zeros with the LENGTH OF n  
        SET hills TO a list of zeros with the LENGTH OF two MULTIPLIED BY n MINUS one  
        SET dales TO a list of zeros with the LENGTH OF two MULTIPLIED BY n MINUS one  
        SET queens TO an empty set  
        SET output TO an empty list  
        CALL backtrack()  
        RETURN output  
    END FUNCTION  
END CLASS