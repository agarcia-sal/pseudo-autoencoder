CLASS Solution  
    FUNCTION rob(self, nums)  
        FUNCTION rob_linear(houses)  
            IF houses IS EMPTY THEN  
                RETURN 0  
            END IF  
            IF length of houses EQUALS 1 THEN  
                RETURN first element of houses  
            END IF  
            
            INITIALIZE dp AS list of zeros with length equal to length of houses  
            SET first element of dp TO first element of houses  
            SET second element of dp TO greater value BETWEEN first element of houses AND second element of houses  
            
            FOR index FROM 2 TO length of houses MINUS 1  
                SET dp at index TO greater value BETWEEN dp at index MINUS 1 AND sum of dp at index MINUS 2 AND element at index of houses  
            END FOR  
            
            RETURN last element of dp  
        END FUNCTION  
        
        IF nums IS EMPTY THEN  
            RETURN 0  
        END IF  
        IF length of nums EQUALS 1 THEN  
            RETURN first element of nums  
        END IF  
        
        RETURN greater value BETWEEN rob_linear applied to all elements of nums except last AND rob_linear applied to all elements of nums except first  
    END FUNCTION  
END CLASS