CLASS Solution  
    FUNCTION validIPAddress(self, queryIP)  
        FUNCTION is_valid_ipv4_block(block)  
            IF block consists only of digits THEN  
                SET num TO integer value of block  
                IF num LESS THAN OR EQUAL TO 255 AND string form of num EQUALS block THEN  
                    RETURN True  
                ELSE  
                    RETURN False  
                END IF  
            ELSE  
                RETURN False  
            END IF  
        END FUNCTION  

        FUNCTION is_valid_ipv6_block(block)  
            IF length of block GREATER THAN OR EQUAL TO 1 AND length of block LESS THAN OR EQUAL TO 4 THEN  
                TRY  
                    CONVERT block TO integer assuming hexadecimal base  
                    RETURN True  
                CATCH ValueError  
                    RETURN False  
                END TRY  
            ELSE  
                RETURN False  
            END IF  
        END FUNCTION  

        SET parts_ipv4 TO list obtained by splitting queryIP by dot character  
        SET parts_ipv6 TO list obtained by splitting queryIP by colon character  

        IF length of parts_ipv4 EQUALS 4 AND all blocks in parts_ipv4 satisfy is_valid_ipv4_block THEN  
            RETURN string "IPv4"  
        ELSE IF length of parts_ipv6 EQUALS 8 AND all blocks in parts_ipv6 satisfy is_valid_ipv6_block THEN  
            RETURN string "IPv6"  
        ELSE  
            RETURN string "Neither"  
        END IF  
    END FUNCTION  
END CLASS