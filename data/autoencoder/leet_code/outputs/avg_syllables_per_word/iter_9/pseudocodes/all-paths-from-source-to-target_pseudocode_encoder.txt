CLASS Solution  
    FUNCTION allPathsSourceTarget(self, graph)  
        SET n TO length of graph  
        SET q TO a double-ended queue initialized with a list containing zero  
        SET ans TO an empty list  
        WHILE q is not empty DO  
            SET path TO first element removed from q  
            SET u TO last element in path  
            IF u EQUALS n MINUS one THEN  
                APPEND path TO ans  
                CONTINUE to next iteration of WHILE loop  
            END IF  
            FOR each v IN graph at position u DO  
                APPEND concatenation of path and list containing v TO q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS