CLASS Solution  
    FUNCTION cherryPickup(self, grid)  
        SET rows TO length of grid  
        SET cols TO length of first element of grid  
        
        FUNCTION dp(r, c1, c2)  
            IF c1 LESS THAN zero OR c1 GREATER THAN OR EQUAL TO cols OR c2 LESS THAN zero OR c2 GREATER THAN OR EQUAL TO cols THEN  
                RETURN zero  
            END IF  
            
            IF c1 EQUALS c2 THEN  
                SET cherries TO element at row r and column c1 of grid  
            ELSE  
                SET cherries TO element at row r and column c1 of grid PLUS element at row r and column c2 of grid  
            END IF  
            
            IF r EQUALS rows MINUS one THEN  
                RETURN cherries  
            END IF  
            
            SET max_cherries TO zero  
            FOR each dc1 IN list of negative one, zero, one  
                FOR each dc2 IN list of negative one, zero, one  
                    SET candidate TO dp with parameters r PLUS one, c1 PLUS dc1, c2 PLUS dc2  
                    IF candidate GREATER THAN max_cherries THEN  
                        SET max_cherries TO candidate  
                    END IF  
                END FOR  
            END FOR  
            
            RETURN cherries PLUS max_cherries  
        END FUNCTION  
        
        RETURN dp with parameters zero, zero, cols MINUS one  
    END FUNCTION  
END CLASS