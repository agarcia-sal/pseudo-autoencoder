CLASS Solution  
    FUNCTION largestSumOfAverages(self, nums, k)  
        SET n TO length of nums  
        SET prefix_sum TO list with n PLUS one elements initialized to zero  
        FOR i FROM zero TO n MINUS one  
            SET prefix_sum at position i PLUS one TO prefix_sum at position i PLUS nums at position i  
        END FOR  

        FUNCTION average(i, j)  
            RETURN prefix_sum at position j PLUS one MINUS prefix_sum at position i DIVIDED BY j MINUS i PLUS one  
        END FUNCTION  

        SET dp TO two dimensional list with n PLUS one rows and k PLUS one columns initialized to zero  

        FOR i FROM zero TO n MINUS one  
            SET dp at position i at position one TO average(i, n MINUS one)  
        END FOR  

        FOR i FROM n MINUS one DOWN TO zero  
            FOR partitions FROM two TO k  
                FOR j FROM i PLUS one TO n MINUS one  
                    SET value TO dp at position j at position partitions MINUS one PLUS average(i, j MINUS one)  
                    IF value GREATER THAN dp at position i at position partitions THEN  
                        SET dp at position i at position partitions TO value  
                    END IF  
                END FOR  
            END FOR  
        END FOR  

        RETURN dp at position zero at position k  
    END FUNCTION  
END CLASS