CLASS Solution  
    FUNCTION validSquare(self, p1, p2, p3, p4)  
        FUNCTION squared_distance(point1, point2)  
            SET difference_in_first_coordinate TO point1 at index zero MINUS point2 at index zero  
            SET difference_in_second_coordinate TO point1 at index one MINUS point2 at index one  
            SET squared_difference_first TO difference_in_first_coordinate MULTIPLIED BY difference_in_first_coordinate  
            SET squared_difference_second TO difference_in_second_coordinate MULTIPLIED BY difference_in_second_coordinate  
            RETURN squared_difference_first PLUS squared_difference_second  
        END FUNCTION  
        
        SET points TO list containing p1, p2, p3, p4  
        SET distances TO empty set  
        
        FOR index i FROM zero TO three  
            FOR index j FROM i plus one TO three  
                SET dist TO result of squared_distance called with points at index i and points at index j  
                IF dist EQUALS zero THEN  
                    RETURN False  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        
        IF size of distances EQUALS two THEN  
            RETURN True  
        ELSE  
            RETURN False  
        END IF  
    END FUNCTION  
END CLASS