CLASS Solution  
    FUNCTION findMaxValueOfEquation(self, points, k)  
        SET max_value TO negative infinity  
        SET deque_ TO empty double-ended queue  

        FOR each pair xj, yj IN points  
            WHILE deque_ is not empty AND xj MINUS the second element of the first pair IN deque_ GREATER THAN k  
                REMOVE first element FROM deque_  
            END WHILE  

            IF deque_ is not empty THEN  
                SET max_value TO the greater of max_value AND yj PLUS xj PLUS the first element of the first pair IN deque_  
            END IF  

            WHILE deque_ is not empty AND yj MINUS xj GREATER THAN OR EQUAL TO the first element of the last pair IN deque_  
                REMOVE last element FROM deque_  
            END WHILE  

            APPEND the pair of yj MINUS xj and xj TO deque_  
        END FOR  

        RETURN max_value  
    END FUNCTION  
END CLASS