CLASS Solution  
    FUNCTION findAnagrams(self, s, p)  
        SET len_s TO length of s  
        SET len_p TO length of p  
        
        IF len_p GREATER THAN len_s THEN  
            RETURN empty list  
        END IF  
        
        SET p_count TO frequency count of characters in p  
        SET s_count TO frequency count of characters in substring of s from start to position len_p EXCLUSIVE  
        
        SET anagrams TO empty list  
        
        IF s_count EQUALS p_count THEN  
            APPEND zero TO anagrams  
        END IF  
        
        FOR i FROM len_p TO len_s MINUS one  
            INCREMENT the count of character at position i in s_count BY one  
            DECREMENT the count of character at position (i MINUS len_p) in s_count BY one  
            
            IF the count of character at position (i MINUS len_p) in s_count EQUALS zero THEN  
                REMOVE the character at position (i MINUS len_p) FROM s_count  
            END IF  
            
            IF s_count EQUALS p_count THEN  
                APPEND (i MINUS len_p PLUS one) TO anagrams  
            END IF  
        END FOR  
        
        RETURN anagrams  
    END FUNCTION  
END CLASS