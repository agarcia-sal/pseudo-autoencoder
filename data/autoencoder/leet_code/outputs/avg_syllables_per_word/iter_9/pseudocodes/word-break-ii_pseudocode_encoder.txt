CLASS Solution  
    FUNCTION wordBreak(self, s, wordDict)  
        SET wordSet TO the set containing all elements from wordDict  
        SET memo TO an empty dictionary  

        FUNCTION backtrack(start)  
            IF start IS a key in memo THEN  
                RETURN the value in memo at key start  
            END IF  

            IF start EQUALS the length of s THEN  
                RETURN a list containing the empty string  
            END IF  

            SET res TO an empty list  
            FOR end FROM start PLUS one TO the length of s PLUS one  
                SET word TO the substring of s from index start UP TO but NOT INCLUDING index end  
                IF word IS contained in wordSet THEN  
                    FOR each sentence IN the result of backtrack called with end  
                        IF sentence IS NOT empty THEN  
                            APPEND the concatenation of word, a single space, and sentence TO res  
                        ELSE  
                            APPEND word TO res  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
            SET memo at key start TO res  
            RETURN res  
        END FUNCTION  

        RETURN backtrack called with zero  
    END FUNCTION  
END CLASS