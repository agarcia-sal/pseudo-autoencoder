CLASS Solution  
    FUNCTION loudAndRich(self, richer, quiet)  
        SET graph TO a new default dictionary mapping to empty list  
        FOR each pair a, b IN richer  
            APPEND a TO graph at key b  
        END FOR  

        SET n TO length of quiet  
        SET answer TO list of length n filled with minus one  

        FUNCTION dfs(person)  
            IF answer at index person EQUALS minus one THEN  
                SET answer at index person TO person  
                FOR each neighbor IN graph at key person  
                    SET candidate TO result of dfs with neighbor  
                    IF quiet at index candidate LESS THAN quiet at index answer at index person THEN  
                        SET answer at index person TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN answer at index person  
        END FUNCTION  

        FOR each i FROM zero TO n minus one  
            CALL dfs with i  
        END FOR  

        RETURN answer  
    END FUNCTION  
END CLASS