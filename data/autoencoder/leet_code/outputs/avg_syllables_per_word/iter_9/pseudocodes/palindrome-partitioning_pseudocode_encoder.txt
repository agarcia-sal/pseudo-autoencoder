CLASS Solution  
    FUNCTION partition(self, s)  
        FUNCTION is_palindrome(sub)  
            RETURN sub EQUALS sub REVERSED  
        END FUNCTION  
      
        FUNCTION backtrack(start, path)  
            IF start EQUALS length of s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO length of s PLUS one  
                IF is_palindrome(substring of s FROM start TO end) THEN  
                    CALL backtrack(with end and path APPENDED WITH substring of s FROM start TO end)  
                END IF  
            END FOR  
        END FUNCTION  
      
        SET result TO empty list  
        CALL backtrack WITH zero and empty list  
        RETURN result  
    END FUNCTION  
END CLASS