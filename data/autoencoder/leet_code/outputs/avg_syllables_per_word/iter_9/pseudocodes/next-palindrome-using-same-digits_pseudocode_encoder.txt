CLASS Solution  
    FUNCTION nextPalindrome(self, num)  
        SET n TO length of num  
        SET half TO substring of num from start TO n divided by 2 (integer division)  
        
        SET half_list TO list of characters in half  
        SET k TO negative one  
        SET l TO negative one  
        
        FOR i FROM length of half_list MINUS two DOWN TO zero  
            IF element at index i in half_list LESS THAN element at index i plus one in half_list THEN  
                SET k TO i  
                BREAK  
            END IF  
        END FOR  
        
        IF k EQUALS negative one THEN  
            RETURN empty string  
        END IF  
        
        FOR i FROM length of half_list MINUS one DOWN TO k plus one  
            IF element at index i in half_list GREATER THAN element at index k in half_list THEN  
                SET l TO i  
                BREAK  
            END IF  
        END FOR  
        
        SWAP element at index k in half_list WITH element at index l in half_list  
        SET half_list TO concatenation of first k plus one elements of half_list WITH sorted elements of half_list from index k plus one to end  
        
        SET new_half TO concatenation of elements in half_list into string  
        
        IF n modulo two EQUALS zero THEN  
            RETURN concatenation of new_half WITH reverse of new_half  
        ELSE  
            RETURN concatenation of new_half WITH character at index n divided by two in num WITH reverse of new_half  
        END IF  
    END FUNCTION  
END CLASS