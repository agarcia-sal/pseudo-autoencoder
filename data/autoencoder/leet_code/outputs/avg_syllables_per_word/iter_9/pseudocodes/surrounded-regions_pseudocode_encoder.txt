CLASS Solution  
    FUNCTION solve(self, board)  
        IF board IS empty OR first element of board IS empty THEN  
            RETURN  
        END IF  

        SET m TO length of board  
        SET n TO length of first element of board  

        FUNCTION dfs(x, y)  
            IF x LESS THAN zero OR x GREATER THAN OR EQUAL TO m OR y LESS THAN zero OR y GREATER THAN OR EQUAL TO n OR element at position x, y of board NOT EQUALS 'O' THEN  
                RETURN  
            END IF  
            SET element at position x, y of board TO 'S'  
            CALL dfs with arguments x PLUS one, y  
            CALL dfs with arguments x MINUS one, y  
            CALL dfs with arguments x, y PLUS one  
            CALL dfs with arguments x, y MINUS one  
        END FUNCTION  

        FOR each i FROM zero TO m MINUS one  
            CALL dfs with arguments i, zero  
            CALL dfs with arguments i, n MINUS one  
        END FOR  

        FOR each j FROM zero TO n MINUS one  
            CALL dfs with arguments zero, j  
            CALL dfs with arguments m MINUS one, j  
        END FOR  

        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i, j of board EQUALS 'O' THEN  
                    SET element at position i, j of board TO 'X'  
                END IF  
            END FOR  
        END FOR  

        FOR each i FROM zero TO m MINUS one  
            FOR each j FROM zero TO n MINUS one  
                IF element at position i, j of board EQUALS 'S' THEN  
                    SET element at position i, j of board TO 'O'  
                END IF  
            END FOR  
        END FOR  
    END FUNCTION  
END CLASS