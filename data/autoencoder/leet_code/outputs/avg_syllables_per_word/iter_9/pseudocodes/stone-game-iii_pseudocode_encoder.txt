CLASS Solution  
    FUNCTION stoneGameIII(self, stoneValue)  
        SET n TO length of stoneValue  
        INITIALIZE dp AS list of zeros with length n PLUS one  
        
        FOR i FROM n MINUS one DOWN TO zero  
            SET dp at index i TO stoneValue at index i MINUS dp at index i PLUS one  
            IF i PLUS two LESS THAN OR EQUAL TO n THEN  
                SET dp at index i TO the maximum BETWEEN dp at index i AND stoneValue at index i PLUS stoneValue at index i PLUS one MINUS dp at index i PLUS two  
            END IF  
            IF i PLUS three LESS THAN OR EQUAL TO n THEN  
                SET dp at index i TO the maximum BETWEEN dp at index i AND stoneValue at index i PLUS stoneValue at index i PLUS one PLUS stoneValue at index i PLUS two MINUS dp at index i PLUS three  
            END IF  
        END FOR  
        
        IF dp at index zero GREATER THAN zero THEN  
            RETURN "Alice"  
        ELSE IF dp at index zero LESS THAN zero THEN  
            RETURN "Bob"  
        ELSE  
            RETURN "Tie"  
        END IF  
    END FUNCTION  
END CLASS