CLASS Solution  
    FUNCTION findRotateSteps(self, ring, key)  
        DEFINE char_positions AS dictionary with default empty list for each character  
        FOR each index AND character IN ring  
            APPEND index TO char_positions at character  
        END FOR  
  
        SET n TO length of ring  
  
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS length of key THEN  
                RETURN 0  
            END IF  
  
            SET min_steps TO infinite value  
  
            FOR each position IN char_positions at key at index i  
                SET clockwise TO remainder of position MINUS prev_pos divided by n  
                SET anticlockwise TO remainder of prev_pos MINUS position divided by n  
                SET steps TO minimum of clockwise AND anticlockwise PLUS one PLUS dp of i PLUS one AND position  
                IF steps LESS THAN min_steps THEN  
                    SET min_steps TO steps  
                END IF  
            END FOR  
  
            RETURN min_steps  
        END FUNCTION  
  
        RETURN dp of zero AND zero  
    END FUNCTION  
END CLASS