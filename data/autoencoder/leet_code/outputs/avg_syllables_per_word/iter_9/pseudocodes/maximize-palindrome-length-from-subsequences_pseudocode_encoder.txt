CLASS Solution  
    FUNCTION longestPalindrome(self, word1, word2)  
        SET s TO concatenation of word1 and word2  
        SET n TO length of s  
        SET dp TO two dimensional list of size n by n filled with zeros  
  
        FOR i FROM zero TO n MINUS one  
            SET dp at position i, i TO one  
        END FOR  
  
        SET max_len TO zero  
        FOR length FROM two TO n  
            FOR i FROM zero TO n MINUS length  
                SET j TO i PLUS length MINUS one  
                IF character at position i in s EQUALS character at position j in s THEN  
                    SET dp at position i, j TO dp at position i plus one, j minus one PLUS two  
                    IF i LESS THAN length of word1 AND j GREATER THAN OR EQUAL TO length of word1 THEN  
                        SET max_len TO maximum of max_len and dp at position i, j  
                    END IF  
                ELSE  
                    SET dp at position i, j TO maximum of dp at position i plus one, j and dp at position i, j minus one  
                END IF  
            END FOR  
        END FOR  
  
        RETURN max_len  
    END FUNCTION  
END CLASS