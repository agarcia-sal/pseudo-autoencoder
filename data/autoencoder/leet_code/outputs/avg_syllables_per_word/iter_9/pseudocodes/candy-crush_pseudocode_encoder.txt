CLASS Solution  
    FUNCTION candyCrush(self, board)  
        SET R TO length of board  
        SET C TO length of first element in board  
        SET stable TO False  

        WHILE stable IS NOT True  
            SET stable TO True  
            SET to_crush TO empty set  

            FOR each r FROM zero TO R MINUS one  
                FOR each c FROM zero TO C MINUS three  
                    IF absolute value of board at r, c EQUALS absolute value of board at r, c plus one AND EQUALS absolute value of board at r, c plus two AND absolute value of board at r, c NOT EQUALS zero THEN  
                        SET stable TO False  
                        ADD tuple of r and c TO to_crush  
                        ADD tuple of r and c plus one TO to_crush  
                        ADD tuple of r and c plus two TO to_crush  
                    END IF  
                END FOR  
            END FOR  

            FOR each r FROM zero TO R MINUS three  
                FOR each c FROM zero TO C MINUS one  
                    IF absolute value of board at r, c EQUALS absolute value of board at r plus one, c AND EQUALS absolute value of board at r plus two, c AND absolute value of board at r, c NOT EQUALS zero THEN  
                        SET stable TO False  
                        ADD tuple of r and c TO to_crush  
                        ADD tuple of r plus one and c TO to_crush  
                        ADD tuple of r plus two and c TO to_crush  
                    END IF  
                END FOR  
            END FOR  

            FOR each pair r, c IN to_crush  
                SET board at r, c TO zero  
            END FOR  

            FOR each c FROM zero TO C MINUS one  
                SET wr TO R MINUS one  
                FOR each r FROM R MINUS one DOWN TO zero  
                    IF board at r, c NOT EQUALS zero THEN  
                        SET board at wr, c TO board at r, c  
                        DECREMENT wr BY one  
                    END IF  
                END FOR  

                FOR each wr FROM wr DOWN TO zero  
                    SET board at wr, c TO zero  
                END FOR  
            END FOR  
        END WHILE  

        RETURN board  
    END FUNCTION  
END CLASS