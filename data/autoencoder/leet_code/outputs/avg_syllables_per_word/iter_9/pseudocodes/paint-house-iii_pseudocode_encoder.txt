CLASS Solution  
    FUNCTION minCost(self, houses, cost, m, n, target)  
        FUNCTION dp(i, prev_color, groups)  
            IF i EQUALS m THEN  
                IF groups EQUALS target THEN  
                    RETURN zero  
                ELSE  
                    RETURN infinity  
                END IF  
            END IF  
              
            IF houses AT i NOT EQUALS zero THEN  
                SET new_groups TO groups PLUS one IF houses AT i NOT EQUALS prev_color ELSE groups  
                RETURN dp(i PLUS one, houses AT i, new_groups)  
            END IF  
              
            SET min_cost TO infinity  
            FOR color FROM one TO n DO  
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color ELSE groups  
                SET min_cost TO minimum OF min_cost AND sum of cost AT i AT color MINUS one AND dp(i PLUS one, color, new_groups)  
            END FOR  
              
            RETURN min_cost  
        END FUNCTION  
          
        SET result TO dp(zero, zero, zero)  
        IF result NOT EQUALS infinity THEN  
            RETURN result  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
END CLASS