CLASS Solution  
    FUNCTION maxNumOfSubstrings(self, s)  
        SET first TO empty map  
        SET last TO empty map  

        FOR each index i AND character c IN s  
            IF c NOT IN first THEN  
                SET first[c] TO i  
            END IF  
            SET last[c] TO i  
        END FOR  

        SET intervals TO empty list  
        FOR each character c IN first  
            SET start TO first[c]  
            SET end TO last[c]  
            SET i TO start  
            WHILE i LESS THAN OR EQUAL TO end  
                IF first[s[i]] LESS THAN start THEN  
                    BREAK  
                END IF  
                SET end TO the greater of end AND last[s[i]]  
                INCREMENT i BY one  
            END WHILE  
            IF the WHILE loop did not break THEN  
                APPEND tuple of start AND end TO intervals  
            END IF  
        END FOR  

        SORT intervals BY their second element in ascending order  

        SET result TO empty list  
        SET prev_end TO minus one  
        FOR each tuple of start AND end IN intervals  
            IF start GREATER THAN prev_end THEN  
                APPEND the substring of s from start TO end TO result  
                SET prev_end TO end  
            END IF  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS