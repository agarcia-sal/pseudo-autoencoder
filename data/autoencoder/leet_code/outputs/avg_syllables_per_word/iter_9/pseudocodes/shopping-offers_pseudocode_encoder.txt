CLASS Solution  
    FUNCTION shoppingOffers(self, price, special, needs)  
        SET special TO empty list  
        FOR each offer IN original special  
            IF sum of all elements in offer except last GREATER THAN zero AND last element of offer LESS THAN sum of each price element MULTIPLIED BY corresponding element in offer except last THEN  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO sum of each price element MULTIPLIED BY corresponding element in needs  
            
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR each pair of n and o IN needs and offer except last  
                    SET difference TO n MINUS o  
                    APPEND difference TO new_needs  
                END FOR  
                
                IF all elements in new_needs GREATER THAN OR EQUAL TO zero THEN  
                    SET current_cost TO last element of offer PLUS dfs(tuple converted from new_needs)  
                    IF current_cost LESS THAN min_cost THEN  
                        SET min_cost TO current_cost  
                    END IF  
                END IF  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(tuple converted from needs)  
    END FUNCTION  
END CLASS