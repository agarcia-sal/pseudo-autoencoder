CLASS Solution  
    FUNCTION maxValue(self, events, k)  
        CALL sort events BY the end day of each event  
        SET n TO the number of events  
        
        CALL initialize dp AS a two dimensional list of size (n plus one) BY (k plus one) FILLED WITH zeroes  
        
        FOR i FROM one TO n  
            SET start, end, value TO the elements of events at position i MINUS one  
            
            CALL find j AS the position in events WHERE the end day IS at least start USING a search BY the end day  
            
            FOR l FROM one TO k  
                SET dp at i and l TO the greater value BETWEEN dp at i minus one and l AND dp at j and l minus one PLUS value  
            END FOR  
        END FOR  
        
        RETURN dp at n and k  
    END FUNCTION  
END CLASS