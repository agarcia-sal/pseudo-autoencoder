CLASS Solution  
    FUNCTION longestPrefix(self, s)  
        SET n TO length of s  
        SET lps TO list of size n with all elements set to zero  
        SET j TO zero  

        FOR i FROM one TO n MINUS one  
            WHILE j GREATER THAN zero AND character at s at position i NOT EQUALS character at s at position j  
                SET j TO element at lps at position j MINUS one  
            END WHILE  

            IF character at s at position i EQUALS character at s at position j THEN  
                INCREMENT j BY one  
                SET element at lps at position i TO j  
            END IF  
        END FOR  

        SET longest_happy_prefix_length TO element at lps at position n MINUS one  
        RETURN substring of s from start TO longest_happy_prefix_length  
    END FUNCTION  
END CLASS