CLASS Solution
    FUNCTION numMusicPlaylists(self, n, goal, k)
        SET MOD TO ten raised to the power of nine PLUS one

        DEFINE dp AS a two-dimensional list of size (goal PLUS one) by (n PLUS one) filled with zeros
        SET dp at position zero zero TO one

        FOR i FROM one TO goal
            FOR j FROM one TO n
                SET dp at position i j TO dp at position i minus one j minus one MULTIPLIED BY (n MINUS (j MINUS one)) PLUS dp at position i j
                SET dp at position i j TO dp at position i j MODULO MOD

                IF j GREATER THAN k THEN
                    SET dp at position i j TO dp at position i j PLUS dp at position i minus one j MULTIPLIED BY (j MINUS k)
                    SET dp at position i j TO dp at position i j MODULO MOD
                END IF
            END FOR
        END FOR

        RETURN dp at position goal n
    END FUNCTION
END CLASS