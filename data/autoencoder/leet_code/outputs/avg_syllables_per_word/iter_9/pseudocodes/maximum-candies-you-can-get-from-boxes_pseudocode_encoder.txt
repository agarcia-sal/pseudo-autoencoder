CLASS Solution  
    FUNCTION maxCandies(self, status, candies, keys, containedBoxes, initialBoxes)  
        SET boxes_we_have TO a set containing elements from initialBoxes  
        SET keys_we_have TO an empty set  
        SET total_candies TO zero  
        SET progress_made TO true  
        WHILE progress_made IS true DO  
            SET progress_made TO false  
            FOR each box IN a list converted from boxes_we_have DO  
                IF the element of status at position box EQUALS one OR box IS an element of keys_we_have THEN  
                    INCREMENT total_candies BY the element of candies at position box  
                    ADD all elements from the element of keys at position box TO keys_we_have  
                    ADD all elements from the element of containedBoxes at position box TO boxes_we_have  
                    REMOVE box FROM boxes_we_have  
                    SET progress_made TO true  
                END IF  
            END FOR  
        END WHILE  
        RETURN total_candies  
    END FUNCTION  
END CLASS