CLASS Solution  
    FUNCTION validUtf8(self, data)  
        FUNCTION get_byte_count(byte)  
            IF byte BITWISE RIGHT SHIFTED BY seven EQUALS zero THEN  
                RETURN one  
            ELSE IF byte BITWISE RIGHT SHIFTED BY five EQUALS binary one one zero THEN  
                RETURN two  
            ELSE IF byte BITWISE RIGHT SHIFTED BY four EQUALS binary one one one zero THEN  
                RETURN three  
            ELSE IF byte BITWISE RIGHT SHIFTED BY three EQUALS binary one one one one zero THEN  
                RETURN four  
            ELSE  
                RETURN negative one  
            END IF  
        END FUNCTION  

        SET i TO zero  
        WHILE i LESS THAN length OF data DO  
            SET byte_count TO get_byte_count(data AT i)  
            IF byte_count EQUALS negative one THEN  
                RETURN False  
            END IF  
            IF i PLUS byte_count GREATER THAN length OF data THEN  
                RETURN False  
            END IF  
            FOR j FROM i PLUS one TO i PLUS byte_count MINUS one DO  
                IF data AT j BITWISE RIGHT SHIFTED BY six NOT EQUALS binary one zero THEN  
                    RETURN False  
                END IF  
            END FOR  
            INCREMENT i BY byte_count  
        END WHILE  
        RETURN True  
    END FUNCTION  
END CLASS