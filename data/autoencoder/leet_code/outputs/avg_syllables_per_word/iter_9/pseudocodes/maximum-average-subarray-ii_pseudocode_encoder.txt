CLASS Solution  
    FUNCTION findMaxAverage(self, nums, k)  
        FUNCTION canFindAverage(mid)  
            SET prefix_sums TO list of zeros of length equal to length of nums PLUS one  
            SET min_prefix_sum TO list of zeros of length equal to length of nums PLUS one  
            
            FOR index FROM zero TO length of nums MINUS one  
                SET prefix_sums at position index PLUS one TO prefix_sums at position index PLUS nums at position index MINUS mid  
                
                IF index GREATER THAN OR EQUAL TO k THEN  
                    SET min_prefix_sum at position index PLUS one TO minimum of min_prefix_sum at position index AND prefix_sums at position index PLUS one MINUS k  
                ELSE  
                    SET min_prefix_sum at position index PLUS one TO min_prefix_sum at position index  
                END IF  
                
                IF index GREATER THAN OR EQUAL TO k MINUS one AND prefix_sums at position index PLUS one MINUS min_prefix_sum at position index PLUS one GREATER THAN OR EQUAL TO zero THEN  
                    RETURN True  
                END IF  
            END FOR  
            RETURN False  
        END FUNCTION  
        
        SET low TO minimum value in nums  
        SET high TO maximum value in nums  
        
        WHILE high MINUS low GREATER THAN one divided by hundred thousand  
            SET mid TO low PLUS high DIVIDED BY two  
            IF canFindAverage(mid) THEN  
                SET low TO mid  
            ELSE  
                SET high TO mid  
            END IF  
        END WHILE  
        
        RETURN low  
    END FUNCTION  
END CLASS