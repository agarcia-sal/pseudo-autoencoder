CLASS Solution  
    FUNCTION palindromePartition(self, s, k)  
        FUNCTION min_changes_to_palindrome(sub)  
            SET i TO 0  
            SET j TO length of sub MINUS 1  
            SET changes TO 0  
            WHILE i LESS THAN j  
                IF element at index i in sub NOT EQUALS element at index j in sub THEN  
                    INCREMENT changes BY 1  
                END IF  
                INCREMENT i BY 1  
                DECREMENT j BY 1  
            END WHILE  
            RETURN changes  
        END FUNCTION  

        SET n TO length of s  
        INITIALIZE dp AS two-dimensional list with dimensions (n plus 1) by (k plus 1) FILLED WITH infinity value  
        SET dp at index 0,0 TO 0  

        FOR i FROM 1 TO n  
            FOR j FROM 1 TO minimum of k and i  
                FOR start FROM 0 TO i MINUS 1  
                    SET changes TO result of min_changes_to_palindrome with substring of s from start TO i  
                    SET dp at index i,j TO minimum of dp at index i,j AND sum of dp at index start,j MINUS 1 AND changes  
                END FOR  
            END FOR  
        END FOR  

        RETURN dp at index n,k  
    END FUNCTION  
END CLASS