CLASS Solution  
    FUNCTION numSquares(self, n)  
        SET dp TO a list of size n PLUS one, each element SET TO infinity  
        SET dp at index zero TO zero  

        SET squares TO an empty list  
        SET i TO one  
        WHILE i MULTIPLIED BY i LESS THAN OR EQUAL TO n DO  
            APPEND i MULTIPLIED BY i TO squares  
            INCREMENT i BY one  
        END WHILE  

        FOR i FROM one TO n DO  
            FOR each square IN squares DO  
                IF i LESS THAN square THEN  
                    BREAK the inner loop  
                END IF  
                SET dp at index i TO the smaller value between dp at index i AND dp at index i MINUS square PLUS one  
            END FOR  
        END FOR  

        RETURN dp at index n  
    END FUNCTION  
END CLASS