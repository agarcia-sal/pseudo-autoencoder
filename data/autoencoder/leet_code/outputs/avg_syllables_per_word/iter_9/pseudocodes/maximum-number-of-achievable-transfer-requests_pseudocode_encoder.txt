CLASS Solution  
    FUNCTION maximumRequests(self, n, requests)  
        SET max_requests TO zero  
        SET num_requests TO length of requests  
        
        FOR mask FROM zero TO two RAISED TO num_requests MINUS one  
            SET balance TO list of zeros with length n  
            SET count TO zero  
            
            FOR i FROM zero TO num_requests MINUS one  
                IF mask BITWISE AND two RAISED TO i IS NOT zero THEN  
                    SET from_building TO first element of requests at index i  
                    SET to_building TO second element of requests at index i  
                    DECREMENT balance at from_building BY one  
                    INCREMENT balance at to_building BY one  
                    INCREMENT count BY one  
                END IF  
            END FOR  
            
            IF all elements b IN balance ARE EQUALS zero THEN  
                SET max_requests TO the greater of max_requests AND count  
            END IF  
        END FOR  
        
        RETURN max_requests  
    END FUNCTION  
END CLASS