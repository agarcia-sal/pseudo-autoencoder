CLASS Solution  
    FUNCTION subarraysWithKDistinct(self, nums, k)  
        FUNCTION atMostKDistinct(t)  
            SET count TO empty mapping with default integer zero  
            SET left TO zero  
            SET result TO zero  
            FOR right FROM zero TO length of nums MINUS one  
                INCREMENT count value for nums at index right BY one  
                WHILE number of keys in count GREATER THAN t DO  
                    DECREMENT count value for nums at index left BY one  
                    IF count value for nums at index left EQUALS zero THEN  
                        REMOVE entry for nums at index left FROM count  
                    END IF  
                    INCREMENT left BY one  
                END WHILE  
                INCREMENT result BY right MINUS left PLUS one  
            END FOR  
            RETURN result  
        END FUNCTION  

        RETURN result of atMostKDistinct with argument k MINUS result of atMostKDistinct with argument k MINUS one  
    END FUNCTION  
END CLASS