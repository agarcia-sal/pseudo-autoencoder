CLASS Solution  
    FUNCTION minimumMountainRemovals(self, nums)  
        SET n TO length of nums  
        
        SET lis TO a list of size n with each element set to one  
        FOR each i FROM zero TO n minus one  
            FOR each j FROM zero TO i minus one  
                IF element at nums at index i GREATER THAN element at nums at index j THEN  
                    SET lis at index i TO the greater value between lis at index i and lis at index j PLUS one  
                END IF  
            END FOR  
        END FOR  
        
        SET lds TO a list of size n with each element set to one  
        FOR each i FROM n minus one DOWN TO zero  
            FOR each j FROM i PLUS one TO n minus one  
                IF element at nums at index i GREATER THAN element at nums at index j THEN  
                    SET lds at index i TO the greater value between lds at index i and lds at index j PLUS one  
                END IF  
            END FOR  
        END FOR  
        
        SET max_mountain_length TO zero  
        FOR each i FROM one TO n minus two  
            IF lis at index i GREATER THAN one AND lds at index i GREATER THAN one THEN  
                SET max_mountain_length TO the greater value between max_mountain_length and lis at index i PLUS lds at index i MINUS one  
            END IF  
        END FOR  
        
        RETURN n MINUS max_mountain_length  
    END FUNCTION  
END CLASS