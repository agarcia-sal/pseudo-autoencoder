CLASS Solution  
    FUNCTION countComponents(self, n, edges)  
        SET graph TO empty mapping from each integer in range from zero TO n MINUS one TO empty list  
        FOR each pair a, b IN edges  
            APPEND b TO graph at key a  
            APPEND a TO graph at key b  
        END FOR  

        SET visited TO empty set  

        FUNCTION dfs(node)  
            IF node IN visited THEN  
                RETURN  
            END IF  
            ADD node TO visited  
            FOR each neighbor IN graph at key node  
                CALL dfs(neighbor)  
            END FOR  
        END FUNCTION  

        SET components TO zero  
        FOR each node IN range from zero TO n MINUS one  
            IF node NOT IN visited THEN  
                CALL dfs(node)  
                INCREMENT components BY one  
            END IF  
        END FOR  

        RETURN components  
    END FUNCTION  
END CLASS