CLASS Solution  
    FUNCTION tilingRectangle(self, n, m)  
        FUNCTION backtrack(heights, moves)  
            DECLARE min_moves AS nonlocal  
            IF all elements in heights EQUALS n THEN  
                SET min_moves TO minimum of min_moves AND moves  
                RETURN  
            END IF  
              
            IF moves GREATER THAN OR EQUAL TO min_moves THEN  
                RETURN  
            END IF  
              
            SET min_height TO minimum element in heights  
            SET left TO index of first occurrence of min_height in heights  
            SET right TO left  
            WHILE right LESS THAN m AND heights at right EQUALS min_height DO  
                INCREMENT right BY one  
            END WHILE  
              
            FOR size FROM right MINUS left DOWN TO one DO  
                IF for each i FROM zero TO size MINUS one, heights at (left PLUS i) PLUS size LESS THAN OR EQUAL TO n THEN  
                    SET new_heights TO a copy of heights  
                    FOR i FROM zero TO size MINUS one DO  
                        INCREMENT new_heights at (left PLUS i) BY size  
                    END FOR  
                    CALL backtrack(new_heights, moves PLUS one)  
                END IF  
            END FOR  
        END FUNCTION  
          
        SET min_moves TO positive infinity  
        CALL backtrack(a list of zero repeated m times, zero)  
        RETURN min_moves  
    END FUNCTION  
END CLASS