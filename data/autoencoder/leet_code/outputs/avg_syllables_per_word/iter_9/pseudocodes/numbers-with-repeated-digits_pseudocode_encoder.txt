CLASS Solution  
    FUNCTION numDupDigitsAtMostN(self, n)  
        FUNCTION count_unique_digits(x)  
            SET s TO string representation of x  
            SET length TO length of s  
            SET count TO zero  
            
            FOR each integer i FROM one TO length MINUS one  
                SET count TO count PLUS nine MULTIPLIED BY perm(9, i MINUS one)  
            END FOR  
            
            SET seen TO empty set  
            FOR each index i AND digit character digit IN s  
                FOR each integer d FROM (if i EQUALS zero THEN one ELSE zero) TO digit converted to integer MINUS one  
                    IF d NOT IN seen THEN  
                        SET count TO count PLUS perm(nine MINUS i, length MINUS i MINUS one)  
                    END IF  
                END FOR  
                IF digit converted to integer IN seen THEN  
                    EXIT loop  
                END IF  
                ADD digit converted to integer TO seen  
            END FOR  
            OTHERWISE  
                SET count TO count PLUS one  
            END IF  
            
            RETURN count  
        END FUNCTION  
        
        RETURN n MINUS count_unique_digits(n)  
    END FUNCTION  

    FUNCTION perm(self, m, n)  
        IF n EQUALS zero THEN  
            RETURN one  
        END IF  
        SET result TO one  
        FOR each integer i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY (m MINUS i)  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS