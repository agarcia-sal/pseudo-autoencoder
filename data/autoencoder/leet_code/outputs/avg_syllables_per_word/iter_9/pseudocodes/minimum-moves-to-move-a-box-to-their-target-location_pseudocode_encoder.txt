CLASS Solution  
    FUNCTION minPushBox(self, grid)  
        SET directions TO list of tuples: each is one step UP, DOWN, LEFT, RIGHT  
        
        FOR i FROM zero TO length of grid MINUS one  
            FOR j FROM zero TO length of first element in grid MINUS one  
                IF grid element at row i and column j EQUALS 'S' THEN  
                    SET player_start TO tuple of i and j  
                ELSE IF grid element at row i and column j EQUALS 'B' THEN  
                    SET box_start TO tuple of i and j  
                ELSE IF grid element at row i and column j EQUALS 'T' THEN  
                    SET target TO tuple of i and j  
                END IF  
            END FOR  
        END FOR  
        
        SET queue TO a deque initialized with tuple of player_start, box_start, and zero  
        SET visited TO an empty set  
        ADD tuple of player_start and box_start TO visited  
        
        WHILE queue is not empty  
            REMOVE leftmost element FROM queue and unpack as player_pos, box_pos, push_count  
            
            IF box_pos EQUALS target THEN  
                RETURN push_count  
            END IF  
            
            FOR EACH dx, dy IN directions  
                SET new_player_pos TO tuple of player_pos first element PLUS dx, player_pos second element PLUS dy  
                
                IF self.is_valid_position(new_player_pos, grid) THEN  
                    IF new_player_pos EQUALS box_pos THEN  
                        SET new_box_pos TO tuple of box_pos first element PLUS dx, box_pos second element PLUS dy  
                        
                        IF self.is_valid_position(new_box_pos, grid) AND tuple of new_player_pos and new_box_pos NOT IN visited THEN  
                            ADD tuple of new_player_pos and new_box_pos TO visited  
                            APPEND tuple of new_player_pos, new_box_pos, push_count PLUS one TO queue  
                        END IF  
                    ELSE  
                        IF tuple of new_player_pos and box_pos NOT IN visited THEN  
                            ADD tuple of new_player_pos and box_pos TO visited  
                            APPEND tuple of new_player_pos, box_pos, push_count TO queue  
                        END IF  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
    
    FUNCTION is_valid_position(self, position, grid)  
        SET x TO first element of position  
        SET y TO second element of position  
        RETURN x GREATER THAN OR EQUAL TO zero AND x LESS THAN length of grid  
            AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN length of first element in grid  
            AND grid element at row x and column y NOT EQUALS '#'  
    END FUNCTION  
END CLASS