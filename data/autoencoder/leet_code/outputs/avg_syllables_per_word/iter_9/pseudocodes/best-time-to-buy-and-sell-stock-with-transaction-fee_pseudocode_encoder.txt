CLASS Solution  
    FUNCTION maxProfit(self, prices, fee)  
        SET cash TO zero  
        SET hold TO negative infinity  

        FOR each price IN prices  
            SET cash TO maximum of cash AND hold PLUS price MINUS fee  
            SET hold TO maximum of hold AND cash MINUS price  
        END FOR  

        RETURN cash  
    END FUNCTION  
END CLASS