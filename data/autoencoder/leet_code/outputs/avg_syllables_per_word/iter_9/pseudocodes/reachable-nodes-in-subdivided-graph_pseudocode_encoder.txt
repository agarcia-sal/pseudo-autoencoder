CLASS Solution  
    FUNCTION reachableNodes(self, edges, maxMoves, n)  
        SET graph TO empty mapping from integer to list  
        FOR index FROM zero TO n MINUS one  
            SET graph at index TO empty list  
        END FOR  
        FOR each element IN edges  
            SET u TO first element of element  
            SET v TO second element of element  
            SET cnt TO third element of element  
            APPEND pair of v and cnt TO graph at u  
            APPEND pair of u and cnt TO graph at v  
        END FOR  

        SET distances TO list of size n FILLED WITH infinity value  
        SET distances at zero TO zero  
        SET priority_queue TO list containing pair of zero and zero  

        WHILE priority_queue is not empty  
            REMOVE and SET dist, node TO element with smallest distance FROM priority_queue  
            IF dist GREATER THAN distances at node THEN  
                CONTINUE to next iteration  
            END IF  
            FOR each neighbor_pair IN graph at node  
                SET neighbor TO first element of neighbor_pair  
                SET cnt TO second element of neighbor_pair  
                SET new_dist TO dist PLUS cnt PLUS one  
                IF new_dist LESS THAN distances at neighbor THEN  
                    SET distances at neighbor TO new_dist  
                    ADD pair of new_dist and neighbor TO priority_queue  
                END IF  
            END FOR  
        END WHILE  

        SET reachable_nodes TO zero  

        FOR each d IN distances  
            IF d LESS THAN OR EQUAL TO maxMoves THEN  
                INCREMENT reachable_nodes BY one  
            END IF  
        END FOR  

        SET used_edges TO empty mapping  
        FOR each element IN edges  
            SET u TO first element of element  
            SET v TO second element of element  
            SET cnt TO third element of element  
            SET moves_u TO maximum of zero and maxMoves MINUS distances at u  
            SET moves_v TO maximum of zero and maxMoves MINUS distances at v  
            SET reachable_new_nodes TO minimum of cnt and moves_u PLUS moves_v  
            INCREMENT reachable_nodes BY reachable_new_nodes  
            SET used_edges at pair of u and v TO reachable_new_nodes  
        END FOR  

        RETURN reachable_nodes  
    END FUNCTION  
END CLASS