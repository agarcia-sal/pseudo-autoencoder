CLASS Solution  
    FUNCTION replaceWords(self, dictionary, sentence)  
        SORT dictionary BY length  
        SET words TO list of words obtained by splitting sentence  
          
        FUNCTION replace(word)  
            FOR each root IN dictionary  
                IF word STARTS WITH root THEN  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
          
        SET replaced_words TO empty list  
        FOR each word IN words  
            APPEND replace(word) TO replaced_words  
        END FOR  
          
        RETURN concatenation of replaced_words separated by a single space  
    END FUNCTION  
END CLASS