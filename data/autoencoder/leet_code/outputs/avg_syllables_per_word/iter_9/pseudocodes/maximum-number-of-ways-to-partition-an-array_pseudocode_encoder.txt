CLASS Solution  
    FUNCTION waysToPartition(self, nums, k)  
        SET total_sum TO sum of all elements in nums  
        SET n TO length of nums  
          
        INITIALIZE left_diff as a dictionary with default integer value  
        INITIALIZE right_diff as a dictionary with default integer value  
          
        SET current_sum TO zero  
        FOR index FROM zero TO n MINUS one  
            INCREMENT current_sum BY element at index in nums  
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            INCREMENT right_diff at diff BY one  
        END FOR  
          
        SET max_ways TO value in right_diff at zero  
          
        SET current_sum TO zero  
        FOR index FROM zero TO n MINUS one  
            INCREMENT current_sum BY element at index in nums  
              
            SET diff_change TO k MINUS element at index in nums  
              
            SET new_ways TO sum of left_diff at negative diff_change AND right_diff at diff_change  
            IF new_ways GREATER THAN max_ways THEN  
                SET max_ways TO new_ways  
            END IF  
              
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            DECREMENT right_diff at diff BY one  
            INCREMENT left_diff at diff BY one  
        END FOR  
          
        RETURN max_ways  
    END FUNCTION  
END CLASS