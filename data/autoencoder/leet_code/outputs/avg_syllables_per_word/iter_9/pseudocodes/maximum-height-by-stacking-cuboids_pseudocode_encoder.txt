CLASS Solution  
    FUNCTION maxHeight(self, cuboids)  
        FOR each cuboid IN cuboids  
            SORT dimensions of cuboid in ascending order  
        END FOR  

        SORT cuboids lexicographically by their dimensions  

        SET n TO count of cuboids  
        INITIALIZE dp as a list of size n with all elements set to zero  

        FOR i FROM zero TO n MINUS one  
            SET dp at position i TO the third dimension of cuboids at position i  

            FOR j FROM zero TO i MINUS one  
                IF first dimension of cuboids at position j LESS THAN OR EQUAL TO first dimension of cuboids at position i AND  
                   second dimension of cuboids at position j LESS THAN OR EQUAL TO second dimension of cuboids at position i AND  
                   third dimension of cuboids at position j LESS THAN OR EQUAL TO third dimension of cuboids at position i THEN  
                    SET dp at position i TO the maximum of dp at position i AND sum of dp at position j AND third dimension of cuboids at position i  
                END IF  
            END FOR  
        END FOR  

        RETURN the maximum value in dp  
    END FUNCTION  
END CLASS