CLASS Solution  
    FUNCTION isSelfCrossing(self, distance)  
        SET n TO length of distance  
        IF n LESS THAN 4 THEN  
            RETURN False  
        END IF  
        
        FOR i FROM 3 TO n MINUS 1  
            IF distance at i GREATER THAN OR EQUAL TO distance at i MINUS 2 AND distance at i MINUS 1 LESS THAN OR EQUAL TO distance at i MINUS 3 THEN  
                RETURN True  
            END IF  
            
            IF i GREATER THAN OR EQUAL TO 4 AND distance at i MINUS 1 EQUALS distance at i MINUS 3 AND distance at i PLUS distance at i MINUS 4 GREATER THAN OR EQUAL TO distance at i MINUS 2 THEN  
                RETURN True  
            END IF  
            
            IF i GREATER THAN OR EQUAL TO 5 AND distance at i MINUS 2 GREATER THAN OR EQUAL TO distance at i MINUS 4 AND distance at i MINUS 3 GREATER THAN OR EQUAL TO distance at i MINUS 1 AND distance at i MINUS 1 PLUS distance at i MINUS 5 GREATER THAN OR EQUAL TO distance at i MINUS 3 AND distance at i PLUS distance at i MINUS 4 GREATER THAN OR EQUAL TO distance at i MINUS 2 THEN  
                RETURN True  
            END IF  
        END FOR  
        
        RETURN False  
    END FUNCTION  
END CLASS