CLASS Solution  
    FUNCTION maxPoints(self, points)  
        FUNCTION slope(p1, p2)  
            IF p1 at index zero EQUALS p2 at index zero THEN  
                RETURN infinity  
            END IF  
            RETURN (value at index one in p1 MINUS value at index one in p2) DIVIDED BY (value at index zero in p1 MINUS value at index zero in p2)  
        END FUNCTION  

        SET max_points TO zero  

        FOR i FROM zero TO length of points MINUS one  
            SET slopes TO a new mapping with default zero for each key  
            FOR j FROM zero TO length of points MINUS one  
                IF i NOT EQUALS j THEN  
                    SET s TO slope(value at index i in points, value at index j in points)  
                    INCREMENT slopes at key s BY one  
                    IF slopes at key s GREATER THAN max_points THEN  
                        SET max_points TO slopes at key s  
                    END IF  
                END IF  
            END FOR  
        END FOR  

        IF points IS NOT empty THEN  
            RETURN max_points PLUS one  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS