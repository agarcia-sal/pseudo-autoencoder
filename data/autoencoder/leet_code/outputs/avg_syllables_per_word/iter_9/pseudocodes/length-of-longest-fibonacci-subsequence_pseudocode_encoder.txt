CLASS Solution  
    FUNCTION lenLongestFibSubseq(self, arr)  
        SET index TO an empty mapping from element to its position in arr  
        FOR each position i and element x IN arr  
            SET index at key x TO i  
        END FOR  
        SET dp TO an empty mapping from pairs of positions to lengths  
        SET max_length TO zero  
        
        FOR each position k FROM zero TO length of arr MINUS one  
            FOR each position j FROM zero TO k MINUS one  
                SET i TO the value from index at key arr at position k MINUS arr at position j, or minus one if not found  
                IF i GREATER THAN OR EQUAL TO zero AND i LESS THAN j THEN  
                    SET dp at key pair (j, k) TO the value from dp at key pair (i, j), or two if not found, PLUS one  
                    IF dp at key pair (j, k) GREATER THAN max_length THEN  
                        SET max_length TO dp at key pair (j, k)  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        IF max_length GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS