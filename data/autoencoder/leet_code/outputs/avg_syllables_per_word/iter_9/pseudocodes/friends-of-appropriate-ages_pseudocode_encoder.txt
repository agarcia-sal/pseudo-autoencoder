CLASS Solution  
    FUNCTION numFriendRequests(self, ages)  
        FUNCTION request_will_be_sent(age_x, age_y)  
            RETURN NOT (age_y LESS THAN OR EQUAL TO age_x MULTIPLIED BY one half PLUS seven OR age_y GREATER THAN age_x OR (age_y GREATER THAN one hundred AND age_x LESS THAN one hundred))  
        END FUNCTION  

        SET count TO list OF length one hundred twenty one FILLED WITH zeros  
        FOR each age IN ages  
            INCREMENT count AT position age BY one  
        END FOR  

        SET total_requests TO zero  
        FOR age_x FROM one TO one hundred twenty  
            FOR age_y FROM one TO one hundred twenty  
                IF request_will_be_sent(age_x, age_y) THEN  
                    INCREMENT total_requests BY count AT position age_x MULTIPLIED BY (count AT position age_y MINUS (one IF age_x EQUALS age_y ELSE zero))  
                END IF  
            END FOR  
        END FOR  

        RETURN total_requests  
    END FUNCTION  
END CLASS