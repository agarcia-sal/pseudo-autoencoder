CLASS Solution  
    FUNCTION maskPII(self, s)  
        IF s CONTAINS the character at symbol THEN  
            SET local AND domain TO the two parts of s split at the at symbol  
            SET masked_local TO the first character of local CONCATENATED WITH five times the character star CONCATENATED WITH the last character of local  
            RETURN lowercase version of masked_local CONCATENATED WITH the at symbol CONCATENATED WITH lowercase version of domain  
        ELSE  
            SET digits TO all digit characters extracted from s by removing non-digit characters  
            SET local_number TO the string of three stars DASH three stars DASH the last four characters of digits  
            IF length of digits EQUALS ten THEN  
                RETURN local_number  
            ELSE  
                SET country_code_length TO length of digits MINUS ten  
                SET country_code TO plus sign CONCATENATED WITH country_code_length times the character star CONCATENATED WITH DASH  
                RETURN country_code CONCATENATED WITH local_number  
            END IF  
        END IF  
    END FUNCTION  
END CLASS