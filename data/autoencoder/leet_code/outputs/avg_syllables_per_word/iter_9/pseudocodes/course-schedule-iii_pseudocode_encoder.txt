CLASS Solution  
    FUNCTION scheduleCourse(self, courses)  
        SORT courses BY their second element (end day) IN ascending order  
        SET max_heap TO empty list  
        SET current_end_day TO zero  
        
        FOR each element IN courses  
            SET duration TO first element of element  
            SET last_day TO second element of element  
            
            IF current_end_day PLUS duration LESS THAN OR EQUAL TO last_day THEN  
                ADD negative duration TO max_heap USING heap push operation  
                INCREMENT current_end_day BY duration  
            ELSE  
                IF max_heap NOT empty AND negative of first element of max_heap GREATER THAN duration THEN  
                    INCREMENT current_end_day BY duration PLUS heap pop operation removing first element from max_heap  
                    ADD negative duration TO max_heap USING heap push operation  
                END IF  
            END IF  
        END FOR  
        
        RETURN count of elements in max_heap  
    END FUNCTION  
END CLASS