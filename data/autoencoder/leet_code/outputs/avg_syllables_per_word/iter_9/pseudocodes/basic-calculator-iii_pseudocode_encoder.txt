CLASS Solution  
    FUNCTION calculate(self, s)  
        FUNCTION helper(s)  
            SET stack TO an empty list  
            SET num TO zero  
            SET sign TO plus symbol  
            WHILE length of s GREATER THAN zero  
                SET char TO removing first element FROM s  
                IF char IS a digit THEN  
                    SET num TO num MULTIPLIED BY ten PLUS numeric value of char  
                END IF  
                IF char EQUALS open parenthesis THEN  
                    SET num TO result of calling helper WITH s  
                END IF  
                IF char IS one of plus, minus, multiply, divide, open parenthesis, close parenthesis OR length of s EQUALS zero THEN  
                    IF sign EQUALS plus symbol THEN  
                        APPEND num TO stack  
                    ELSE IF sign EQUALS minus symbol THEN  
                        APPEND negation of num TO stack  
                    ELSE IF sign EQUALS multiply symbol THEN  
                        SET last element of stack TO last element of stack MULTIPLIED BY num  
                    ELSE IF sign EQUALS divide symbol THEN  
                        SET last element of stack TO integer truncation towards zero of (last element of stack DIVIDED BY num)  
                    END IF  
                    SET sign TO char  
                    SET num TO zero  
                END IF  
                IF char EQUALS close parenthesis THEN  
                    BREAK the loop  
                END IF  
            END WHILE  
            RETURN sum of all elements in stack  
        END FUNCTION  
          
        SET s TO list of characters from s  
        RETURN result of calling helper WITH s  
    END FUNCTION  
END CLASS