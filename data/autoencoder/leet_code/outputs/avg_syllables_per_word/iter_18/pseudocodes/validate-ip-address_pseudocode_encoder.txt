CLASS Solution  
    FUNCTION validIPAddress(queryIP)  
        FUNCTION is_valid_ipv4_block(block)  
            IF block CONSISTS OF digits ONLY THEN  
                SET numerical_value TO CONVERSION OF block TO integer  
                IF numerical_value IS LESS THAN OR EQUAL TO two hundred and fifty five AND block IS EXACTLY EQUAL TO CONVERSION OF numerical_value TO string THEN  
                    RETURN True  
                ELSE  
                    RETURN False  
                END IF  
            ELSE  
                RETURN False  
            END IF  
        END FUNCTION  
  
        FUNCTION is_valid_ipv6_block(block)  
            IF LENGTH OF block IS GREATER THAN OR EQUAL TO one AND LENGTH OF block IS LESS THAN OR EQUAL TO four THEN  
                TRY  
                    CONVERT block TO integer USING BASE sixteen  
                    RETURN True  
                CATCH conversion failure  
                    RETURN False  
                END TRY  
            ELSE  
                RETURN False  
            END IF  
        END FUNCTION  
  
        SET parts_ipv4 TO RESULT OF SPLITTING queryIP BY dot  
        SET parts_ipv6 TO RESULT OF SPLITTING queryIP BY colon  
  
        IF LENGTH OF parts_ipv4 IS EQUAL TO four AND FOR each part IN parts_ipv4 the RESULT OF is_valid_ipv4_block(part) IS True FOR ALL parts_ipv4 THEN  
            RETURN string indicating IPv4  
        ELSE IF LENGTH OF parts_ipv6 IS EQUAL TO eight AND FOR each part IN parts_ipv6 the RESULT OF is_valid_ipv6_block(part) IS True FOR ALL parts_ipv6 THEN  
            RETURN string indicating IPv6  
        ELSE  
            RETURN string indicating Neither  
        END IF  
    END FUNCTION  
END CLASS