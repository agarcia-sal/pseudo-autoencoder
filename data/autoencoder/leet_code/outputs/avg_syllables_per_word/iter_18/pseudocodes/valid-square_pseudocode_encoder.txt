CLASS Solution  
    FUNCTION validSquare WITH PARAMETERS p1 AS List OF integer p2 AS List OF integer p3 AS List OF integer p4 AS List OF integer RETURNS boolean  
        FUNCTION squared_distance WITH PARAMETERS point1 AS List OF integer point2 AS List OF integer RETURNS integer  
            SET difference_of_first_coordinates TO element at position zero of point1 MINUS element at position zero of point2  
            SET difference_of_second_coordinates TO element at position one of point1 MINUS element at position one of point2  
            SET squared_diff_first TO difference_of_first_coordinates MULTIPLIED BY difference_of_first_coordinates  
            SET squared_diff_second TO difference_of_second_coordinates MULTIPLIED BY difference_of_second_coordinates  
            SET sum_of_squares TO squared_diff_first PLUS squared_diff_second  
            RETURN sum_of_squares  
        END FUNCTION  
        
        SET points TO list containing p1 p2 p3 p4  
        SET distances TO empty set  
        
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET current_distance TO CALL squared_distance WITH element at position index_i of points AND element at position index_j of points  
                IF current_distance EQUALS zero THEN  
                    RETURN false  
                END IF  
                ADD current_distance TO distances  
            END FOR  
        END FOR  
        
        SET number_of_unique_distances TO the LENGTH OF distances  
        IF number_of_unique_distances EQUALS two THEN  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS