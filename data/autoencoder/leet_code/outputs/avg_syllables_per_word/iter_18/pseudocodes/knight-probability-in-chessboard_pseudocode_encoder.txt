CLASS Solution  
    FUNCTION knightProbability(n AS integer PARAMETER k AS integer PARAMETER row AS integer PARAMETER column AS integer) RETURNS float  
        SET moves TO the collection consisting of the pairs negative two and negative one negative two and one negative one and negative two negative one and two one and negative two one and two two and negative one two and one  
        SET dp TO a two dimensional collection of zeros with dimensions n by n  
        SET the element at position row and column of dp TO one  
        FOR each move_number FROM one TO k  
            SET new_dp TO a two dimensional collection of zeros with dimensions n by n  
            FOR each r FROM zero TO one less than n  
                FOR each c FROM zero TO one less than n  
                    IF the element at position r and c of dp EQUALS zero  
                        CONTINUE to the next iteration of the inner loop  
                    END IF  
                    FOR each pair dr and dc IN moves  
                        SET nr TO r PLUS dr  
                        SET nc TO c PLUS dc  
                        IF nr GREATER THAN OR EQUAL TO zero AND nr LESS THAN n AND nc GREATER THAN OR EQUAL TO zero AND nc LESS THAN n  
                            INCREMENT the element at position nr and nc of new_dp BY the element at position r and c of dp DIVIDED BY eight  
                        END IF  
                    END FOR  
                END FOR  
            END FOR  
            SET dp TO new_dp  
        END FOR  
        SET total_probability TO zero  
        FOR each row_element IN dp  
            FOR each probability_value IN row_element  
                INCREMENT total_probability BY probability_value  
            END FOR  
        END FOR  
        RETURN total_probability  
    END FUNCTION  
END CLASS