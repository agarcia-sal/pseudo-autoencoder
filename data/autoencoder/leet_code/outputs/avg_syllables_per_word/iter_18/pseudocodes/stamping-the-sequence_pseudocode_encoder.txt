CLASS Solution  
    FUNCTION movesToStamp WITH PARAMETERS stamp string AND target string RETURNS List of integer  
        SET m TO the LENGTH OF stamp  
        SET n TO the LENGTH OF target  
        SET indeg TO a list containing m repeated as many times as the quantity of n MINUS m PLUS one  
        INITIALIZE q AS an empty double-ended queue  
        SET g TO a list containing empty lists repeated as many times as the quantity of n  
        FOR i FROM zero TO n MINUS m PLUS one EXCLUSIVE  
            FOR each j and c IN each index and character OF stamp  
                IF character at position i PLUS j of target EQUALS character c THEN  
                    DECREMENT element at position i of indeg BY one  
                    IF element at position i of indeg EQUALS zero THEN  
                        APPEND i TO q  
                    END IF  
                ELSE  
                    APPEND i TO element at position i PLUS j of g  
                END IF  
            END FOR  
        END FOR  
        SET ans TO an empty list  
        SET vis TO a list containing logical false repeated as many times as the quantity of n  
        WHILE q is not empty  
            REMOVE and RETURN the element from the left side of q AND ASSIGN TO i  
            APPEND i TO ans  
            FOR j FROM zero TO m EXCLUSIVE  
                IF element at position i PLUS j of vis EQUALS logical false THEN  
                    SET element at position i PLUS j of vis TO logical true  
                    FOR each k IN element at position i PLUS j of g  
                        DECREMENT element at position k of indeg BY one  
                        IF element at position k of indeg EQUALS zero THEN  
                            APPEND k TO q  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
        END WHILE  
        IF all elements of vis ARE logical true THEN  
            RETURN ans IN REVERSE ORDER  
        ELSE  
            RETURN an empty list  
        END IF  
    END FUNCTION  
END CLASS