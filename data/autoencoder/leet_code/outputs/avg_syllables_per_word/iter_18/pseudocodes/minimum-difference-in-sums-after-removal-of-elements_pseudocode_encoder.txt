CLASS Solution  
    FUNCTION minimumDifference(nums)  
        SET n TO the LENGTH OF nums DIVIDED BY three  
        
        SET min_heap TO an empty list  
        SET min_sums TO a list of zero repeated two TIMES n PLUS one number of TIMES  
        
        FOR index FROM zero TO two TIMES n MINUS one  
            EXECUTE auxiliary FUNCTION heappush WITH min_heap AND the NEGATION OF element at position index of nums  
            IF the LENGTH OF min_heap GREATER THAN n THEN  
                EXECUTE auxiliary FUNCTION heappop WITH min_heap  
            END IF  
            IF the LENGTH OF min_heap EQUALS n THEN  
                SET element at position index of min_sums TO the NEGATION OF the TOTAL SUM OF elements in min_heap  
            END IF  
        END FOR  
        
        SET max_heap TO an empty list  
        SET max_sums TO a list of zero repeated two TIMES n PLUS one number of TIMES  
        
        FOR index FROM three TIMES n MINUS one DOWN TO n  
            EXECUTE auxiliary FUNCTION heappush WITH max_heap AND element at position index of nums  
            IF the LENGTH OF max_heap GREATER THAN n THEN  
                EXECUTE auxiliary FUNCTION heappop WITH max_heap  
            END IF  
            IF the LENGTH OF max_heap EQUALS n THEN  
                SET element at position index of max_sums TO the TOTAL SUM OF elements in max_heap  
            END IF  
        END FOR  
        
        SET min_diff TO positive infinity  
        FOR index FROM n MINUS one TO two TIMES n MINUS one  
            IF element at position index of min_sums MINUS element at position index PLUS one of max_sums LESS THAN min_diff THEN  
                SET min_diff TO element at position index of min_sums MINUS element at position index PLUS one of max_sums  
            END IF  
        END FOR  
        
        RETURN min_diff  
    END FUNCTION  
END CLASS