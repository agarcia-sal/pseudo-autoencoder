CLASS Solution  
    FUNCTION replaceWords(dictionary AS List of strings, sentence AS string) RETURNS string  
        CALL dictionary SORTED BY the LENGTH OF each element IN ascending order  
        SET words TO the SPLIT of sentence BY whitespace  
          
        FUNCTION replace(word AS string) RETURNS string  
            FOR each root IN dictionary  
                IF the word BEGINS WITH root THEN  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
          
        SET replaced_words TO an EMPTY list  
        FOR each word IN words  
            APPEND the RESULT OF replace WITH word TO replaced_words  
        END FOR  
          
        SET result_sentence TO the JOIN of replaced_words WITH a single space AS separator  
        RETURN result_sentence  
    END FUNCTION  
END CLASS