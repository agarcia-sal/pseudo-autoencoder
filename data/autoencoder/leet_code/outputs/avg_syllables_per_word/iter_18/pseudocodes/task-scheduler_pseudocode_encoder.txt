CLASS Solution  
    FUNCTION leastInterval(tasks AS List OF string, n AS integer) AS integer  
        SET task_counts TO the result of invoking the auxiliary FUNCTION Counter with tasks as argument  
        SET max_heap TO an empty list  
        FOR each count IN the values of task_counts  
            APPEND the NEGATIVE of count TO max_heap  
        END FOR  
        INVOKE the auxiliary FUNCTION heapify with max_heap as argument  
        
        SET time TO zero  
        SET queue TO an empty list  
        
        WHILE max_heap is not empty OR queue is not empty  
            WHILE queue is not empty AND the first element at position zero of queue at position zero EQUALS time  
                REMOVE the first element FROM queue and ASSIGN the element at position one of this removed element TO count  
                IF count is LESS THAN zero  
                    INVOKE the auxiliary FUNCTION heappush with max_heap and count as arguments  
                END IF  
            END WHILE  
            
            IF max_heap is not empty  
                ASSIGN the result of invoking the auxiliary FUNCTION heappop with max_heap as argument TO count  
                SET count TO count PLUS one  
                IF count is LESS THAN zero  
                    APPEND a tuple consisting of time PLUS n PLUS one and count TO queue  
                END IF  
            END IF  
            
            INCREMENT time BY one  
        END WHILE  
        
        RETURN time  
    END FUNCTION  
END CLASS