CLASS Solution  
    FUNCTION createSortedArray(instructions)  
        SET MOD TO ten raised to the power of nine PLUS one  
        SET MAX TO the maximum element in instructions PLUS one  
        SET bit TO a list of zero repeated MAX times  

        FUNCTION update(idx, val)  
            WHILE idx is less than MAX holds  
                INCREMENT element at position idx of bit BY val  
                SET idx TO idx PLUS the bitwise AND of idx and the negation of idx interpreted naturally  
            END WHILE  
        END FUNCTION  

        FUNCTION query(idx)  
            SET total TO zero  
            WHILE idx is greater than zero holds  
                INCREMENT total BY element at position idx of bit  
                SET idx TO idx MINUS the bitwise AND of idx and the negation of idx interpreted naturally  
            END WHILE  
            RETURN total  
        END FUNCTION  

        SET total_cost TO zero  
        FOR each index and number IN instructions with index  
            SET less_than TO query of number MINUS one  
            SET greater_than TO index MINUS query of number  
            IF less_than is less than greater_than THEN  
                SET cost TO less_than  
            ELSE  
                SET cost TO greater_than  
            END IF  
            SET total_cost TO the remainder of total_cost PLUS cost divided by MOD  
            CALL update with parameters number and one  
        END FOR  

        RETURN total_cost  
    END FUNCTION  
END CLASS