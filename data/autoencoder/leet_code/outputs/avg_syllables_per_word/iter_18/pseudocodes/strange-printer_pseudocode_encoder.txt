CLASS Solution  
    FUNCTION strangePrinter WITH PARAMETER s  
        FUNCTION dp WITH PARAMETERS i j memo  
            IF i GREATER THAN j THEN  
                RETURN zero  
            END IF  
            IF tuple of i and j IS IN memo THEN  
                RETURN value at key tuple of i and j in memo  
            END IF  
            SET result TO CALL dp WITH PARAMETERS i and j MINUS one and memo PLUS one  
            FOR each k FROM i TO j MINUS one  
                IF character at position k of s EQUALS character at position j of s THEN  
                    SET candidate TO CALL dp WITH PARAMETERS i and k MINUS one and memo PLUS CALL dp WITH PARAMETERS k and j MINUS one and memo  
                    IF candidate LESS THAN result THEN  
                        SET result TO candidate  
                    END IF  
                END IF  
            END FOR  
            SET value at key tuple of i and j in memo TO result  
            RETURN result  
        END FUNCTION  
        RETURN CALL dp WITH PARAMETERS zero and length of s MINUS one and empty mapping  
    END FUNCTION  
END CLASS