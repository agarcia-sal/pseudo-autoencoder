CLASS Solution  
    FUNCTION numDupDigitsAtMostN WITH PARAMETER n  
        FUNCTION count_unique_digits WITH PARAMETER x  
            SET string_representation TO string form of x  
            SET length_of_string TO the LENGTH OF string_representation  
            SET count TO the SUM OF the PRODUCT OF nine AND perm OF nine AND the difference BETWEEN current index AND one FOR each index FROM one TO the difference BETWEEN length_of_string AND one  
            SET seen_digits_set TO an empty set  
            FOR each index and character_digit IN enumeration OF string_representation  
                FOR each digit_value FROM zero OR one DEPENDING ON WHETHER index EQUALS zero TO the VALUE OF character_digit MINUS one  
                    IF digit_value IS NOT IN seen_digits_set  
                        INCREMENT count BY perm OF the difference BETWEEN nine AND index AND the difference BETWEEN length_of_string AND index AND one  
                    END IF  
                END FOR  
                IF the VALUE OF character_digit IS IN seen_digits_set  
                    BREAK the FOR loop  
                END IF  
                APPEND the VALUE OF character_digit TO seen_digits_set  
            END FOR  
            IF the FOR loop completed WITHOUT BREAK  
                INCREMENT count BY one  
            END IF  
            RETURN count  
        END FUNCTION  
        SET total_numbers TO n  
        SET numbers_with_unique_digits TO CALL count_unique_digits WITH n  
        SET result TO total_numbers MINUS numbers_with_unique_digits  
        RETURN result  
    END FUNCTION  
      
    FUNCTION perm WITH PARAMETERS m AND n  
        IF n EQUALS zero  
            RETURN one  
        END IF  
        SET result TO one  
        FOR index FROM zero TO the difference BETWEEN n AND one  
            SET result TO result MULTIPLIED BY the difference BETWEEN m AND index  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS