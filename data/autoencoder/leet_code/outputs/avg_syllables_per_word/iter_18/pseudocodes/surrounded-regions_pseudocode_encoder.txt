CLASS Solution  
    FUNCTION solve WITH PARAMETERS board  
        IF board IS empty OR element at position zero of board IS empty  
            RETURN  
        END IF  
        
        SET m TO the LENGTH OF board  
        SET n TO the LENGTH OF element at position zero of board  
        
        FUNCTION dfs WITH PARAMETERS x y  
            IF x IS LESS THAN zero OR x IS GREATER THAN OR EQUAL TO m OR y IS LESS THAN zero OR y IS GREATER THAN OR EQUAL TO n OR element at position x of board at position y IS NOT EQUAL TO letter O  
                RETURN  
            END IF  
            SET element at position x of board at position y TO letter S  
            CALL dfs WITH ARGUMENTS x PLUS one y  
            CALL dfs WITH ARGUMENTS x MINUS one y  
            CALL dfs WITH ARGUMENTS x y PLUS one  
            CALL dfs WITH ARGUMENTS x y MINUS one  
        END FUNCTION  
        
        FOR index i FROM zero TO m MINUS one  
            CALL dfs WITH ARGUMENTS i zero  
            CALL dfs WITH ARGUMENTS i n MINUS one  
        END FOR  
        
        FOR index j FROM zero TO n MINUS one  
            CALL dfs WITH ARGUMENTS zero j  
            CALL dfs WITH ARGUMENTS m MINUS one j  
        END FOR  
        
        FOR index i FROM zero TO m MINUS one  
            FOR index j FROM zero TO n MINUS one  
                IF element at position i of board at position j EQUALS letter O  
                    SET element at position i of board at position j TO letter X  
                END IF  
            END FOR  
        END FOR  
        
        FOR index i FROM zero TO m MINUS one  
            FOR index j FROM zero TO n MINUS one  
                IF element at position i of board at position j EQUALS letter S  
                    SET element at position i of board at position j TO letter O  
                END IF  
            END FOR  
        END FOR  
    END FUNCTION  
END CLASS