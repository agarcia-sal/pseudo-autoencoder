CLASS Solution  
    FUNCTION characterReplacement WITH PARAMETERS s k  
        IMPORT collections mapping with default integer values named count  
        SET max_length TO zero  
        SET max_count TO zero  
        SET left TO zero  
        FOR right FROM zero TO LENGTH OF s MINUS one  
            INCREMENT count at key character at position right of s BY one  
            SET max_count TO the greater between max_count AND count at key character at position right of s  
            IF the quantity of right MINUS left PLUS one MINUS max_count IS GREATER THAN k  
                DECREMENT count at key character at position left of s BY one  
                INCREMENT left BY one  
            END IF  
            SET max_length TO the greater between max_length AND the quantity of right MINUS left PLUS one  
        END FOR  
        RETURN max_length  
    END FUNCTION  
END CLASS