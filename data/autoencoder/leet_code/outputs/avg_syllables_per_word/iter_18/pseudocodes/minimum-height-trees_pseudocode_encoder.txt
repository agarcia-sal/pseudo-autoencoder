CLASS Solution  
    FUNCTION findMinHeightTrees WITH PARAMETERS n AND edges  
        IF n EQUALS one  
            RETURN list containing zero  
        END IF  
      
        SET graph TO result of invoking auxiliary FUNCTION build_defaultdict_list  
        SET degree TO result of invoking auxiliary FUNCTION create_list_of_zeros_with_length n  
      
        FOR each pair u and v IN edges  
            APPEND v TO list in graph at key u  
            APPEND u TO list in graph at key v  
            INCREMENT element at position u in degree BY one  
            INCREMENT element at position v in degree BY one  
        END FOR  
      
        SET leaves TO result of invoking auxiliary FUNCTION create_deque_of_integers_for_each_i_from_zero_to_less_than_n_WHERE_element_at_position_i_of_degree EQUALS one  
      
        SET remaining_nodes TO n  
        WHILE remaining_nodes GREATER THAN two  
            SET leaves_count TO result of invoking length OF leaves  
            DECREMENT remaining_nodes BY leaves_count  
            FOR each iteration FROM one TO leaves_count  
                SET leaf TO result of invoking popleft OF leaves  
                FOR each neighbor IN list in graph at key leaf  
                    DECREMENT element at position neighbor in degree BY one  
                    IF element at position neighbor in degree EQUALS one  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  
      
        RETURN result of converting leaves to list  
    END FUNCTION  
END CLASS