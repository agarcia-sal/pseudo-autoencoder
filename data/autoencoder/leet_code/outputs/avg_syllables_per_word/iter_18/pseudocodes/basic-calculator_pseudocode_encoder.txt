CLASS Solution  
    FUNCTION calculate WITH PARAMETER s OF TYPE string RETURNS integer  
        FUNCTION helper WITH PARAMETER s RETURNS integer  
            SET stack TO empty list  
            SET sign TO plus symbol  
            SET num TO zero  
            WHILE the LENGTH OF s IS GREATER THAN zero HOLDS  
                SET char TO element at position zero of s REMOVED FROM s  
                IF char IS a digit character THEN  
                    SET num TO num MULTIPLIED BY ten PLUS the integer value of char  
                END IF  
                IF char IS an opening parenthesis symbol THEN  
                    SET num TO THE RESULT OF CALLING helper WITH PARAMETER s  
                END IF  
                IF char IS NOT a digit character AND char IS NOT a whitespace character OR THE LENGTH OF s IS EQUAL TO zero THEN  
                    IF sign IS the plus symbol THEN  
                        APPEND num TO stack  
                    ELSE IF sign IS the minus symbol THEN  
                        APPEND the NEGATION OF num TO stack  
                    ELSE IF sign IS the multiplication symbol THEN  
                        SET the last element of stack TO the last element of stack MULTIPLIED BY num  
                    ELSE IF sign IS the division symbol THEN  
                        SET the last element of stack TO THE INTEGER PART OF the last element of stack DIVIDED BY num  
                    END IF  
                    SET sign TO char  
                    SET num TO zero  
                END IF  
                IF char IS a closing parenthesis symbol THEN  
                    BREAK  
                END IF  
            END WHILE  
            RETURN THE SUM OF all elements in stack  
        END FUNCTION  
        RETURN THE RESULT OF CALLING helper WITH PARAMETER THE CONVERSION OF s TO A LIST OF CHARACTERS  
    END FUNCTION  
END CLASS