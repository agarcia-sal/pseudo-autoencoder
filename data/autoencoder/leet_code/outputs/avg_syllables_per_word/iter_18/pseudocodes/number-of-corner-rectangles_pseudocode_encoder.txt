CLASS Solution
    FUNCTION countCornerRectangles WITH PARAMETER grid AS list of list of integer
        IF grid IS empty OR first element of grid IS empty THEN
            RETURN zero
        END IF

        SET number_of_rows TO the LENGTH OF grid
        SET number_of_columns TO the LENGTH OF the first element of grid
        SET count TO zero

        FOR each index_i FROM zero TO number_of_rows MINUS one
            FOR each index_j FROM index_i PLUS one TO number_of_rows MINUS one
                SET columns_with_ones TO zero
                FOR each index_k FROM zero TO number_of_columns MINUS one
                    IF element at position index_i of grid at position index_k EQUALS one AND element at position index_j of grid at position index_k EQUALS one THEN
                        INCREMENT columns_with_ones BY one
                    END IF
                END FOR

                IF columns_with_ones IS GREATER THAN OR EQUAL TO two THEN
                    INCREMENT count BY columns_with_ones MULTIPLIED BY columns_with_ones MINUS one DIVIDED BY two
                END IF
            END FOR
        END FOR

        RETURN count
    END FUNCTION
END CLASS