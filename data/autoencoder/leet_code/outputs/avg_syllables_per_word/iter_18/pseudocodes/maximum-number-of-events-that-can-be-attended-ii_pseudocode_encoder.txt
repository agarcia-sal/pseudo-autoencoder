CLASS Solution  
    FUNCTION maxValue(events LIST OF LIST OF INTEGER k INTEGER) RETURNS INTEGER  
        CALL sort_list events BY the END DAY of each event  
        SET n TO the LENGTH OF events  
        SET dp TO a two dimensional list of zero filled rows where the number of rows IS n INCREMENTED BY one and the number of columns IS k INCREMENTED BY one  
        FOR i FROM one TO n  
            SET start TO the FIRST element at position i DECREMENTED BY one of events  
            SET end TO the SECOND element at position i DECREMENTED BY one of events  
            SET value TO the THIRD element at position i DECREMENTED BY one of events  
            SET j TO the POSITION returned BY bisect_left ON events USING start AS SEARCH VALUE AND the END DAY of each event AS KEY  
            FOR l FROM one TO k  
                SET dp element at position i and l TO the GREATER VALUE BETWEEN dp element at position i DECREMENTED BY one and l AND the SUM OF dp element at position j and l DECREMENTED BY one AND value  
            END FOR  
        END FOR  
        RETURN dp element at position n and k  
    END FUNCTION  
END CLASS