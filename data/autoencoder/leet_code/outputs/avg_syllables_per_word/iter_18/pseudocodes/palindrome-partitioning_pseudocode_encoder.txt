CLASS Solution  
    FUNCTION partition WITH PARAMETERS s  
        FUNCTION is_palindrome WITH PARAMETER sub  
            RETURN sub EQUALS the REVERSED FORM OF sub  
        END FUNCTION  

        FUNCTION backtrack WITH PARAMETERS start and path  
            IF start EQUALS the LENGTH OF s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end_position FROM start PLUS one TO the LENGTH OF s PLUS one  
                IF is_palindrome OF the ELEMENTS FROM start TO end_position OF s THEN  
                    CALL backtrack WITH PARAMETERS end_position AND path PLUS the ELEMENTS FROM start TO end_position OF s  
                END IF  
            END FOR  
        END FUNCTION  

        SET result TO an EMPTY LIST  
        CALL backtrack WITH PARAMETERS zero AND an EMPTY LIST  
        RETURN result  
    END FUNCTION  
END CLASS