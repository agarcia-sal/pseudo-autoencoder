CLASS Solution  
    FUNCTION stoneGameV(stoneValue AS List OF integer) RETURNS integer  
        DEFINE prefix_sum AS List OF integer  
        CALL initialize_prefix_sum(stoneValue, prefix_sum)  
          
        FUNCTION get_range_sum(left AS integer, right AS integer) RETURNS integer  
            RETURN element at position right PLUS one of prefix_sum MINUS element at position left of prefix_sum  
        END FUNCTION  
          
        FUNCTION dp(left AS integer, right AS integer) RETURNS integer  
            IF left EQUALS right THEN  
                RETURN zero  
            END IF  
            SET max_score TO zero  
            FOR index FROM left TO right MINUS one  
                SET left_sum TO get_range_sum(left, index)  
                SET right_sum TO get_range_sum(index PLUS one, right)  
                IF left_sum LESS THAN right_sum THEN  
                    SET max_score TO the greater value BETWEEN max_score AND left_sum PLUS dp(left, index)  
                ELSE IF left_sum GREATER THAN right_sum THEN  
                    SET max_score TO the greater value BETWEEN max_score AND right_sum PLUS dp(index PLUS one, right)  
                ELSE  
                    SET max_score TO the greatest value AMONG max_score AND left_sum PLUS dp(left, index) AND right_sum PLUS dp(index PLUS one, right)  
                END IF  
            END FOR  
            RETURN max_score  
        END FUNCTION  
          
        RETURN dp(zero, the LENGTH OF stoneValue MINUS one)  
    END FUNCTION  
      
    FUNCTION initialize_prefix_sum(stone_list AS List OF integer, prefix_list AS List OF integer)  
        SET prefix_list TO a List of zeroes WITH LENGTH the LENGTH OF stone_list PLUS one  
        FOR position FROM zero TO the LENGTH OF stone_list MINUS one  
            SET element at position position PLUS one of prefix_list TO element at position position of prefix_list PLUS element at position position of stone_list  
        END FOR  
    END FUNCTION  
END CLASS