CLASS Solution  
    FUNCTION hIndex WITH PARAMETER citations AS List OF integer  
        CALL the auxiliary FUNCTION sort_citations_descending WITH PARAMETER citations  
        FOR each index_and_citation AS pair OF index AND citation IN enumeration OF citations  
            IF citation LESS THAN index PLUS one  
                RETURN index  
            END IF  
        END FOR  
        SET total_papers TO the LENGTH OF citations  
        RETURN total_papers  
    END FUNCTION  

    FUNCTION sort_citations_descending WITH PARAMETER citations AS List OF integer  
        PERFORM sorting OF citations IN descending order WITHOUT returning  
    END FUNCTION  
END CLASS