CLASS Solution  
    FUNCTION calcEquation WITH parameters equations list of list of string values list of floating point queries list of list of string RETURNS list of floating point  
        SET graph TO a default mapping where each key maps to a mapping  
        FOR each pair composed of variable a and variable b, and corresponding value IN zipped pairs of equations and values  
            SET element at key b in mapping at key a of graph TO value  
            SET element at key a in mapping at key b of graph TO one DIVIDED BY value  
        END FOR  
        
        FUNCTION dfs WITH parameters start string end string visited set RETURNS floating point  
            IF start is NOT IN keys of graph OR end is NOT IN keys of graph  
                RETURN negative one point zero  
            END IF  
            IF start EQUALS end  
                RETURN one point zero  
            END IF  
            ADD start TO visited  
            FOR each neighbor and weight IN items of mapping at key start of graph  
                IF neighbor is NOT IN visited  
                    SET result TO dfs WITH arguments neighbor end visited  
                    IF result is NOT EQUAL TO negative one point zero  
                        RETURN weight MULTIPLIED BY result  
                    END IF  
                END IF  
            END FOR  
            REMOVE start FROM visited  
            RETURN negative one point zero  
        END FUNCTION  
        
        SET results TO an empty list  
        FOR each query IN queries  
            SET start TO element at position zero of query  
            SET end TO element at position one of query  
            SET visited TO an empty set  
            SET result TO dfs WITH arguments start end visited  
            APPEND result TO results  
        END FOR  
        
        RETURN results  
    END FUNCTION  
END CLASS