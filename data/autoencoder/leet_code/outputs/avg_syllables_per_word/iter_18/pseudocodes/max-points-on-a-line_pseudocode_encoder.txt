CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF the horizontal coordinate at position zero of p1 EQUALS the horizontal coordinate at position zero of p2  
                RETURN infinite value representing vertical line  
            END IF  
            SET vertical_difference TO the vertical coordinate at position one of p1 MINUS the vertical coordinate at position one of p2  
            SET horizontal_difference TO the horizontal coordinate at position zero of p1 MINUS the horizontal coordinate at position zero of p2  
            RETURN vertical_difference DIVIDED BY horizontal_difference  
        END FUNCTION  
        
        SET max_points TO zero  
        
        FOR index i FROM zero TO the length of points MINUS one  
            SET slopes TO a new mapping from default integer zero  
            FOR index j FROM zero TO the length of points MINUS one  
                IF i NOT EQUALS j  
                    SET s TO slope of the element at position i of points and the element at position j of points  
                    INCREMENT the value in slopes at key s BY one  
                    SET max_points TO the greater value BETWEEN max_points AND the value in slopes at key s  
                END IF  
            END FOR  
        END FOR  
        
        IF the length of points GREATER THAN zero  
            RETURN max_points PLUS one  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS