CLASS Solution  
    FUNCTION reorganizeString WITH PARAMETER s  
        SET count TO RESULT OF CALLING Counter WITH PARAMETER s  
        SET max_heap TO EMPTY LIST  
        FOR each character AND frequency IN count  
            APPEND TUPLE OF NEGATIVE frequency AND character TO max_heap  
        END FOR  
        INVOKE auxiliary FUNCTION heapify WITH PARAMETER max_heap  
        
        SET prev_char TO none  
        SET prev_freq TO zero  
        SET result TO EMPTY LIST  
        
        WHILE max_heap IS NOT EMPTY OR prev_freq IS LESS THAN zero  
            IF max_heap IS EMPTY AND prev_freq IS LESS THAN zero  
                RETURN EMPTY STRING  
            END IF  
            
            SET frequency AND character TO RESULT OF REMOVING SMALLEST ELEMENT FROM max_heap  
            APPEND character TO result  
            
            INCREMENT frequency BY one  
            
            IF prev_freq IS LESS THAN zero  
                INSERT TUPLE OF prev_freq AND prev_char INTO max_heap  
            END IF  
            
            SET prev_char TO character  
            SET prev_freq TO frequency  
        END WHILE  
        
        RETURN CONCATENATION OF ELEMENTS IN result  
    END FUNCTION  
END CLASS