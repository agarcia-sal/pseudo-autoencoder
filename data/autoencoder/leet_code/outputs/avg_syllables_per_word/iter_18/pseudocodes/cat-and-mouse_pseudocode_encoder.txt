CLASS Solution  
    FUNCTION catMouseGame(graph AS List OF List OF Integer) RETURNS Integer  
        SET DRAW TO zero  
        SET MOUSE_WIN TO one  
        SET CAT_WIN TO two  
        SET n TO the LENGTH OF graph  
        
        FUNCTION dfs(turn AS Integer, mouse_pos AS Integer, cat_pos AS Integer) RETURNS Integer  
            IF turn EQUALS two MULTIPLIED BY n THEN  
                RETURN DRAW  
            END IF  
            IF mouse_pos EQUALS zero THEN  
                RETURN MOUSE_WIN  
            END IF  
            IF mouse_pos EQUALS cat_pos THEN  
                RETURN CAT_WIN  
            END IF  
            
            IF turn MODULO two EQUALS zero THEN  
                SET current_player TO mouse  
            ELSE  
                SET current_player TO cat  
            END IF  
            
            IF current_player EQUALS mouse THEN  
                SET result TO CAT_WIN  
                FOR each next_pos IN element at position mouse_pos of graph  
                    SET next_result TO CALL dfs WITH turn PLUS one AND next_pos AND cat_pos  
                    IF next_result EQUALS MOUSE_WIN THEN  
                        RETURN MOUSE_WIN  
                    ELSE IF next_result EQUALS DRAW THEN  
                        SET result TO DRAW  
                    END IF  
                END FOR  
                RETURN result  
            ELSE  
                SET result TO MOUSE_WIN  
                FOR each next_pos IN element at position cat_pos of graph  
                    IF next_pos EQUALS zero THEN  
                        CONTINUE  
                    END IF  
                    SET next_result TO CALL dfs WITH turn PLUS one AND mouse_pos AND next_pos  
                    IF next_result EQUALS CAT_WIN THEN  
                        RETURN CAT_WIN  
                    ELSE IF next_result EQUALS DRAW THEN  
                        SET result TO DRAW  
                    END IF  
                END FOR  
                RETURN result  
            END IF  
        END FUNCTION  
        
        RETURN CALL dfs WITH zero AND one AND two  
    END FUNCTION  
END CLASS