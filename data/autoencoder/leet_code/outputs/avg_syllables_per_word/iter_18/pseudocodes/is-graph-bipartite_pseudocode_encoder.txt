CLASS Solution  
    FUNCTION isBipartite WITH PARAMETERS graph  
        SET n TO the LENGTH OF graph  
        SET color TO a list OF n elements each EQUAL TO zero  
        
        FUNCTION dfs WITH PARAMETERS node c  
            SET element at position node of color TO c  
            FOR each neighbor IN element at position node of graph  
                IF element at position neighbor of color EQUALS c THEN  
                    RETURN false  
                END IF  
                IF element at position neighbor of color EQUALS zero THEN  
                    IF NOT dfs WITH PARAMETERS neighbor AND the NEGATIVE OF c THEN  
                        RETURN false  
                    END IF  
                END IF  
            END FOR  
            RETURN true  
        END FUNCTION  
        
        FOR index i FROM zero TO n MINUS one  
            IF element at position i of color EQUALS zero THEN  
                IF NOT dfs WITH PARAMETERS i AND one THEN  
                    RETURN false  
                END IF  
            END IF  
        END FOR  
        
        RETURN true  
    END FUNCTION  
END CLASS