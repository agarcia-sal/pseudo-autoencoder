CLASS Solution  
    FUNCTION findNumOfValidWords(words AS List of strings, puzzles AS List of strings) RETURNS List of integers  
        FUNCTION to_mask(s AS string) RETURNS integer  
            SET mask TO zero  
            FOR each character IN s  
                SET mask TO mask OR one LEFT SHIFTED BY numeric position of character MINUS numeric position of character a  
            END FOR  
            RETURN mask  
        END FUNCTION  
        
        SET word_count TO a new mapping of integer to integer with default value zero  
        
        FOR each word IN words  
            SET mask TO to_mask applied to word  
            IF the number of bits set in mask IS LESS THAN OR EQUAL TO seven THEN  
                INCREMENT the value at key mask of word_count BY one  
            END IF  
        END FOR  
        
        SET result TO a new empty list of integers  
        
        FOR each puzzle IN puzzles  
            SET first_char_mask TO one LEFT SHIFTED BY numeric position of the first character at position zero of puzzle MINUS numeric position of character a  
            SET puzzle_mask TO to_mask applied to the substring of puzzle beginning at position one and including all remaining characters  
            SET count TO the value at key first_char_mask of word_count  
            
            SET subset TO puzzle_mask  
            WHILE subset holds truth  
                SET count TO count PLUS the value at key subset OR first_char_mask of word_count  
                SET subset TO the result of subset MINUS one ANDED WITH puzzle_mask  
            END WHILE  
            
            APPEND count TO result  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS