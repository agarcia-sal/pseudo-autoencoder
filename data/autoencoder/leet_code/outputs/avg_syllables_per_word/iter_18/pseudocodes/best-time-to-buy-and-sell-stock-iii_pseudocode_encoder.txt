CLASS Solution  
    FUNCTION maxProfit(prices)  
        IF prices EQUALS an empty list THEN  
            RETURN zero  
        END IF  
          
        SET min_price1 TO infinity  
        SET min_price2 TO infinity  
        SET max_profit1 TO zero  
        SET max_profit2 TO zero  
          
        FOR each price IN prices  
            SET min_price1 TO the lesser value between min_price1 AND price  
            SET max_profit1 TO the greater value between max_profit1 AND the difference between price AND min_price1  
              
            SET min_price2 TO the lesser value between min_price2 AND the difference between price AND max_profit1  
            SET max_profit2 TO the greater value between max_profit2 AND the difference between price AND min_price2  
        END FOR  
          
        RETURN max_profit2  
    END FUNCTION  
END CLASS