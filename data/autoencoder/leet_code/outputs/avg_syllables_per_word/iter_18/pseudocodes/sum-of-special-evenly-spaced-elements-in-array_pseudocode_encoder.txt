CLASS Solution  
    FUNCTION solve(nums AS List of Integers COMMA queries AS List of List of Integers) RETURNS List of Integers  
        SET MOD TO ten raised to the power of nine PLUS one  
        SET n TO the LENGTH OF nums  
        
        SET max_y TO the MAXIMUM value of the second element in each pair in queries  
        SET prefix_sums TO a collection of lists each containing zeros of length n with the number of lists equal to max_y PLUS one  
        
        FOR each y FROM one TO max_y  
            FOR each i FROM n MINUS one DOWN TO zero  
                IF i PLUS y IS LESS THAN n THEN  
                    SET the element at position i of the list at position y of prefix_sums TO the element at position i of nums PLUS the element at position i PLUS y of the list at position y of prefix_sums  
                ELSE  
                    SET the element at position i of the list at position y of prefix_sums TO the element at position i of nums  
                END IF  
            END FOR  
        END FOR  
        
        SET answer TO an empty list  
        
        FOR each pair x and y IN queries  
            APPEND the remainder of the element at position x of the list at position y of prefix_sums DIVIDED BY MOD TO answer  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS