CLASS Solution  
    FUNCTION findCheapestPrice WITH PARAMETERS n flights src dst k  
        SET graph TO an empty mapping from each integer index from zero TO n MINUS one TO an empty list  
        FOR each u v w IN flights  
            APPEND the pair consisting of v AND w TO the list at key u in graph  
        END FOR  
        
        SET min_heap TO a list containing a single tuple consisting of zero cost AND negative one stops AND src city  
        SET min_cost TO a mapping with key src AND value negative one  
        
        WHILE min_heap is not empty  
            REMOVE AND RETURN the tuple consisting of cost stops city with the smallest cost FROM min_heap  
            
            IF city EQUALS dst  
                RETURN cost  
            END IF  
            
            IF stops IS GREATER THAN OR EQUAL TO k  
                CONTINUE to the next iteration of the loop  
            END IF  
            
            FOR each neighbor price IN the list at key city in graph  
                SET next_cost TO cost PLUS price  
                SET next_stops TO stops PLUS one  
                
                IF neighbor IS NOT IN min_cost OR next_stops IS LESS THAN the value at neighbor IN min_cost OR next_cost IS LESS THAN the cost COMPONENT OF the tuple at position zero OF min_heap  
                    SET the value at key neighbor IN min_cost TO next_stops  
                    INSERT the tuple consisting of next_cost next_stops neighbor INTO min_heap according to heap order  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS