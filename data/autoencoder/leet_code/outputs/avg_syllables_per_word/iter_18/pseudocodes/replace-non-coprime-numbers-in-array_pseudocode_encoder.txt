CLASS Solution  
    FUNCTION replaceNonCoprimes WITH PARAMETER nums AS list of integers RETURNS list of integers  
        SET stack TO empty list  
        FOR each num IN nums  
            WHILE stack is not empty  
                SET g TO gcd of element at last position of stack AND num  
                IF g EQUALS one  
                    BREAK the loop  
                END IF  
                SET num TO element at last position of stack MULTIPLIED BY num DIVIDED BY g  
                REMOVE element at last position FROM stack  
            END WHILE  
            APPEND num TO stack  
        END FOR  
        RETURN stack  
    END FUNCTION  
END CLASS