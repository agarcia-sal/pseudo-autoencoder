CLASS Solution  
    FUNCTION wordBreak WITH PARAMETERS s AS string AND wordDict AS list of string RETURNS list of string  
        SET wordSet TO the SET OF wordDict  
        SET memo TO an EMPTY MAPPING  
        
        FUNCTION backtrack WITH PARAMETER start  
            IF start EXISTS IN memo THEN  
                RETURN the VALUE ASSOCIATED WITH start IN memo  
            END IF  
            IF start IS EQUAL TO the LENGTH OF s THEN  
                RETURN a LIST CONTAINING an EMPTY STRING  
            END IF  
            
            SET res TO an EMPTY LIST  
            FOR end FROM start PLUS one TO the LENGTH OF s PLUS one  
                SET word TO the SUBSTRING OF s FROM start TO end EXCLUSIVE  
                IF word EXISTS IN wordSet THEN  
                    FOR each sentence IN backtrack WITH end AS PARAMETER  
                        IF sentence IS NOT EMPTY THEN  
                            APPEND THE CONCATENATION OF word PLUS a SINGLE SPACE PLUS sentence TO res  
                        ELSE  
                            APPEND word TO res  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
            
            SET memo AT start TO res  
            RETURN res  
        END FUNCTION  
        
        RETURN backtrack WITH zero AS PARAMETER  
    END FUNCTION  
END CLASS