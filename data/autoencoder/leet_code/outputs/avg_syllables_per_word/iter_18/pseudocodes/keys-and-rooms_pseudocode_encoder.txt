CLASS Solution  
    FUNCTION canVisitAllRooms WITH parameter rooms AS list of list of integers  
        SET visited TO empty set  
        SET stack TO list containing the zero integer value  
        WHILE stack holds elements  
            SET current_room TO element removed from the end of stack  
            ADD current_room TO visited  
            FOR each key IN element at position current_room of rooms  
                IF key is not an element of visited  
                    APPEND key TO stack  
                END IF  
            END FOR  
        END WHILE  
        IF the number of elements in visited EQUALS the number of elements in rooms  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS