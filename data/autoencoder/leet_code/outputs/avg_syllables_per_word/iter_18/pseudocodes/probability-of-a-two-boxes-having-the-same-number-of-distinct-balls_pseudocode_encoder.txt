CLASS Solution  
    FUNCTION getProbability(balls)  
        FUNCTION dfs(i j diff)  
            IF i GREATER THAN OR EQUAL TO k THEN  
                IF j EQUALS zero AND diff EQUALS zero THEN  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
            IF j LESS THAN zero THEN  
                RETURN zero  
            END IF  
            SET ans TO zero  
            FOR x FROM zero TO element at position i of balls PLUS one MINUS one  
                IF x EQUALS element at position i of balls THEN  
                    SET y TO one  
                ELSE IF x EQUALS zero THEN  
                    SET y TO negative one  
                ELSE  
                    SET y TO zero  
                END IF  
                INCREMENT ans BY dfs(i PLUS one j MINUS x diff PLUS y) MULTIPLIED BY comb(element at position i of balls x)  
            END FOR  
            RETURN ans  
        END FUNCTION  

        SET n TO sum of balls DIVIDED BY two  
        SET k TO LENGTH OF balls  
        RETURN dfs(zero n zero) DIVIDED BY comb(n MULTIPLIED BY two n)  
    END FUNCTION  
END CLASS