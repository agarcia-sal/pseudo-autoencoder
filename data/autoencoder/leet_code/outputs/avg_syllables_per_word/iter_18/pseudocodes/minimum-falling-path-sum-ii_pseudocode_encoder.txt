CLASS Solution  
    FUNCTION minFallingPathSum WITH PARAMETER grid AS list of list of integers  
        IF grid IS EMPTY OR element at position zero of grid IS EMPTY THEN  
            RETURN zero  
        END IF  

        SET n TO the LENGTH OF grid  

        IF n EQUALS one THEN  
            RETURN the MINIMUM element IN element at position zero of grid  
        END IF  

        SET dp TO a COPY OF element at position zero of grid  

        FOR index i FROM one TO n MINUS one  
            SET new_dp TO a list OF n elements EACH SET TO zero  
            SET min1 TO a value REPRESENTING infinity  
            SET min2 TO a value REPRESENTING infinity  
            SET min1_index TO negative one  

            FOR index j FROM zero TO n MINUS one  
                IF element at position j of dp IS LESS THAN min1 THEN  
                    SET min2 TO min1  
                    SET min1 TO element at position j of dp  
                    SET min1_index TO j  
                ELSE IF element at position j of dp IS LESS THAN min2 THEN  
                    SET min2 TO element at position j of dp  
                END IF  
            END FOR  

            FOR index j FROM zero TO n MINUS one  
                IF j EQUALS min1_index THEN  
                    SET element at position j of new_dp TO element at position i of grid at position j PLUS min2  
                ELSE  
                    SET element at position j of new_dp TO element at position i of grid at position j PLUS min1  
                END IF  
            END FOR  

            SET dp TO a COPY OF new_dp  
        END FOR  

        RETURN the MINIMUM element IN dp  
    END FUNCTION  
END CLASS