CLASS Solution  
    FUNCTION maximumRequests WITH PARAMETERS n AND requests  
        SET max_requests TO zero  
        SET num_requests TO the LENGTH OF requests  
        FOR each mask FROM zero TO the TOTAL NUMBER OF INTEGER VALUES EQUAL TO two RAISED TO THE POWER OF num_requests MINUS one  
            SET balance TO a LIST OF zeroes OF LENGTH n  
            SET count TO zero  
            FOR each i FROM zero TO num_requests MINUS one  
                IF the BITWISE AND OF mask AND two RAISED TO THE POWER OF i IS NOT EQUAL TO zero THEN  
                    ASSIGN from_building AND to_building TO the ELEMENT AT POSITION i OF requests  
                    DECREMENT the ELEMENT AT POSITION from_building OF balance BY one  
                    INCREMENT the ELEMENT AT POSITION to_building OF balance BY one  
                    INCREMENT count BY one  
                END IF  
            END FOR  
            IF for every element b IN balance the VALUE b EQUALS zero THEN  
                SET max_requests TO the GREATER OF max_requests AND count  
            END IF  
        END FOR  
        RETURN max_requests  
    END FUNCTION  
END CLASS