CLASS Solution  
    FUNCTION maxIncreaseKeepingSkyline(grid AS list of list of integers) RETURNS integer  
        SET n TO the LENGTH OF grid  
        SET row_maxes TO AN EMPTY list  
        FOR each row IN grid  
            SET current_row_max TO the GREATEST value IN row  
            APPEND current_row_max TO row_maxes  
        END FOR  
        SET col_maxes TO AN EMPTY list  
        FOR each column_index FROM zero TO n MINUS one  
            SET current_column TO AN EMPTY list  
            FOR each row_index FROM zero TO n MINUS one  
                APPEND element at position column_index of element at position row_index of grid TO current_column  
            END FOR  
            SET current_col_max TO the GREATEST value IN current_column  
            APPEND current_col_max TO col_maxes  
        END FOR  
        SET total_increase TO zero  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                SET max_height TO the LESSER value BETWEEN element at position i of row_maxes AND element at position j of col_maxes  
                SET potential_increase TO max_height MINUS element at position i at position j of grid  
                IF potential_increase GREATER THAN zero THEN  
                    INCREMENT total_increase BY potential_increase  
                END IF  
            END FOR  
        END FOR  
        RETURN total_increase  
    END FUNCTION  
END CLASS