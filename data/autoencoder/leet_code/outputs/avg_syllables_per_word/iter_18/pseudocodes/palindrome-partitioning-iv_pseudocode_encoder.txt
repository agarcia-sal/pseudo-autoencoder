CLASS Solution  
    FUNCTION checkPartitioning WITH PARAMETER s  
        FUNCTION is_palindrome WITH PARAMETER sub  
            IF sub EQUALS sub IN REVERSE ORDER  
                RETURN true  
            ELSE  
                RETURN false  
            END IF  
        END FUNCTION  
        
        SET n TO the LENGTH OF s  
        
        SET is_pal TO a TWO DIMENSIONAL LIST of size n by n FILLED WITH false  
        
        FOR index_i FROM n MINUS one DOWN TO zero  
            FOR index_j FROM index_i TO n MINUS one  
                IF character at position index_i of s EQUALS character at position index_j of s AND (the DIFFERENCE BETWEEN index_j AND index_i IS LESS THAN OR EQUAL TO one OR the VALUE at position row index_i PLUS one and column index_j MINUS one in is_pal IS true)  
                    SET the VALUE at position row index_i and column index_j in is_pal TO true  
                END IF  
            END FOR  
        END FOR  
        
        FOR index_i FROM one TO n MINUS two  
            IF the VALUE at position row zero and column index_i MINUS one in is_pal IS true  
                FOR index_j FROM index_i TO n MINUS two  
                    IF the VALUE at position row index_i and column index_j in is_pal IS true AND the VALUE at position row index_j PLUS one and column n MINUS one in is_pal IS true  
                        RETURN true  
                    END IF  
                END FOR  
            END IF  
        END FOR  
        
        RETURN false  
    END FUNCTION  
END CLASS