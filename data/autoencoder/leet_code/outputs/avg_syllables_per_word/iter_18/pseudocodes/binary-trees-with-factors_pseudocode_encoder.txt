CLASS Solution  
    FUNCTION numFactoredBinaryTrees(arr AS list OF integer) RETURNS integer  
        SET MODULO_DIVISOR TO ten RAISED TO THE power OF nine PLUS one  
        SORT arr IN ASCENDING ORDER  
        SET dynamic_mapping TO an empty mapping  
        FOR each number IN arr  
            SET dynamic_mapping at key number TO one  
        END FOR  
        FOR each index i FROM zero TO the length of arr MINUS one  
            SET number TO element at position i of arr  
            FOR each index j FROM zero TO i MINUS one  
                SET factor_candidate TO element at position j of arr  
                IF number MODULO factor_candidate EQUALS zero THEN  
                    SET complementary_factor TO number DIVIDED BY factor_candidate  
                    IF complementary_factor IS IN dynamic_mapping THEN  
                        SET dynamic_mapping at key number TO dynamic_mapping at key number PLUS dynamic_mapping at key factor_candidate MULTIPLIED BY dynamic_mapping at key complementary_factor MODULO MODULO_DIVISOR  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        SET total_count TO zero  
        FOR each value IN the values of dynamic_mapping  
            INCREMENT total_count BY value  
        END FOR  
        SET result TO total_count MODULO MODULO_DIVISOR  
        RETURN result  
    END FUNCTION  
END CLASS