CLASS Solution  
    FUNCTION visiblePoints(points AS List OF List OF Integer  angle AS Integer  location AS List OF Integer) RETURNS Integer  
        SET angles TO empty list  
        SET extra_points TO zero  

        FOR each point WITH coordinates x and y IN points  
            IF x EQUALS element at position zero of location AND y EQUALS element at position one of location  
                INCREMENT extra_points BY one  
                CONTINUE  
            END IF  
            SET angle_in_radians TO the arc tangent of the difference between y and the element at position one of location DIVIDED BY the difference between x and the element at position zero of location  
            SET angle_in_degrees TO the conversion to degrees of angle_in_radians  
            APPEND angle_in_degrees TO angles  
        END FOR  

        SORT angles in ascending order  

        SET extended_angles TO a new list consisting of all elements in angles followed by each element in angles INCREMENTED BY three hundred sixty  
        ASSIGN angles TO extended_angles  

        SET max_visible TO zero  
        SET left TO zero  

        FOR each right FROM zero TO the length of angles MINUS one  
            WHILE the difference between element at position right of angles AND element at position left of angles GREATER THAN angle  
                INCREMENT left BY one  
            END WHILE  
            SET current_window_size TO right MINUS left PLUS one  
            IF current_window_size GREATER THAN max_visible  
                SET max_visible TO current_window_size  
            END IF  
        END FOR  

        RETURN the sum of max_visible AND extra_points  
    END FUNCTION  
END CLASS