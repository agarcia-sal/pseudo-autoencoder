CLASS Solution  
    FUNCTION minOperations WITH PARAMETERS target AS List OF integers AND arr AS List OF integers RETURNS integer  
        SET index_map TO an empty mapping FROM integer TO integer  
        FOR each index AND value IN the enumeration of target  
            SET the key value in index_map TO the corresponding index  
        END FOR  
  
        SET transformed_arr TO an empty list OF integers  
        FOR each value IN arr  
            IF the key value EXISTS in index_map THEN  
                APPEND the element at key value in index_map TO transformed_arr  
            END IF  
        END FOR  
  
        SET lis TO an empty list OF integers  
        FOR each number IN transformed_arr  
            SET pos TO the smallest position at which number CAN BE INSERTED maintaining sorted order in lis USING binary search on lis FOR number  
            IF pos EQUALS the LENGTH OF lis THEN  
                APPEND number TO lis  
            ELSE  
                SET the element at position pos of lis TO number  
            END IF  
        END FOR  
  
        SET lcs_length TO the LENGTH OF lis  
        SET minimum_operations TO the LENGTH OF target MINUS lcs_length  
        RETURN minimum_operations  
    END FUNCTION  
END CLASS