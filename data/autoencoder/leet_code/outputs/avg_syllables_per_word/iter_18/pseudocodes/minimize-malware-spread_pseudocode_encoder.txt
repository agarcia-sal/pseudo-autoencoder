CLASS Solution  
    FUNCTION minMalwareSpread(graph AS list of list of integer COMMA initial AS list of integer)  
        FUNCTION dfs(node AS integer COMMA component AS set of integer)  
            IF node is an element of visited THEN  
                RETURN  
            END IF  
            APPEND node TO visited  
            APPEND node TO component  
            FOR neighbor FROM zero TO the LENGTH OF graph MINUS one  
                IF the element at position node of graph AT position neighbor EQUALS one AND neighbor is NOT an element of visited THEN  
                    CALL dfs WITH neighbor COMMA component  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET visited TO an empty set  
        SET components TO an empty list  
        FOR node FROM zero TO the LENGTH OF graph MINUS one  
            IF node is NOT an element of visited THEN  
                SET component TO an empty set  
                CALL dfs WITH node COMMA component  
                APPEND component TO components  
            END IF  
        END FOR  
        
        SET infected_count TO a list of zeros with the LENGTH OF graph elements  
        FOR each node IN initial  
            SET the element at position node OF infected_count TO one  
        END FOR  
        
        SET component_infected_count TO a list of zeros with the LENGTH OF components elements  
        FOR each node IN initial  
            FOR i FROM zero TO the LENGTH OF components MINUS one  
                SET component TO the element at position i OF components  
                IF node is an element of component THEN  
                    INCREMENT the element at position i OF component_infected_count BY one  
                END IF  
            END FOR  
        END FOR  
        
        SET max_saving TO zero  
        SET best_node TO the smallest element in initial  
        FOR each node IN initial  
            FOR i FROM zero TO the LENGTH OF components MINUS one  
                SET component TO the element at position i OF components  
                IF node is an element of component AND the element at position i OF component_infected_count EQUALS one THEN  
                    SET saving TO the LENGTH OF component  
                    IF saving GREATER THAN max_saving OR (saving EQUALS max_saving AND node LESS THAN best_node) THEN  
                        SET max_saving TO saving  
                        SET best_node TO node  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        
        RETURN best_node  
    END FUNCTION  
END CLASS