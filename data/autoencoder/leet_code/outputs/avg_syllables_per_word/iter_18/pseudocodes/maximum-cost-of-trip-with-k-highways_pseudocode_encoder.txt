CLASS Solution  
    FUNCTION maximumCost(n PARAMETER, highways PARAMETER, k PARAMETER)  
        IMPORT a default dictionary FROM collections AS graph_creator  
        SET graph TO a default dictionary of list USING graph_creator  
        
        FOR each element containing city1 parameter and city2 parameter and toll parameter IN highways PARAMETER  
            APPEND a tuple containing city2 parameter and toll parameter TO the list at key city1 parameter in graph  
            APPEND a tuple containing city1 parameter and toll parameter TO the list at key city2 parameter in graph  
        END FOR  
        
        FUNCTION dfs(city PARAMETER, visited PARAMETER, cost PARAMETER, highways_used PARAMETER)  
            IF highways_used PARAMETER EQUALS k PARAMETER  
                SET max_cost TO the greater value BETWEEN max_cost AND cost PARAMETER  
                RETURN  
            END IF  
            
            FOR each element containing neighbor parameter and toll parameter IN the list at key city PARAMETER in graph  
                IF neighbor parameter NOT IN visited PARAMETER  
                    ADD neighbor parameter TO visited PARAMETER  
                    CALL dfs WITH neighbor parameter AND visited PARAMETER AND cost PARAMETER PLUS toll parameter AND highways_used PARAMETER PLUS one  
                    REMOVE neighbor parameter FROM visited PARAMETER  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET max_cost TO negative one  
        FOR each start_city parameter FROM zero TO n MINUS one  
            SET visited TO a set containing start_city parameter  
            CALL dfs WITH start_city parameter AND visited AND zero AND zero  
        END FOR  
        
        RETURN max_cost  
    END FUNCTION  
END CLASS