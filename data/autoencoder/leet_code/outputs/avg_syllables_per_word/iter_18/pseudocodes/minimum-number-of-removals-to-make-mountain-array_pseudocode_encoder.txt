CLASS Solution  
    FUNCTION minimumMountainRemovals(nums AS list of integer) RETURNS integer  
        SET n TO the LENGTH OF nums  
        
        SET lis TO a new list of size n FILLED WITH one  
        FOR index_i FROM zero TO n MINUS one  
            FOR index_j FROM zero TO index_i MINUS one  
                IF the element at position index_i of nums IS GREATER THAN the element at position index_j of nums  
                    SET lis at position index_i TO the GREATER VALUE BETWEEN the element at position index_i of lis AND the element at position index_j of lis PLUS one  
                END IF  
            END FOR  
        END FOR  
        
        SET lds TO a new list of size n FILLED WITH one  
        FOR index_i FROM n MINUS one DOWN TO zero  
            FOR index_j FROM index_i PLUS one TO n MINUS one  
                IF the element at position index_i of nums IS GREATER THAN the element at position index_j of nums  
                    SET lds at position index_i TO the GREATER VALUE BETWEEN the element at position index_i of lds AND the element at position index_j of lds PLUS one  
                END IF  
            END FOR  
        END FOR  
        
        SET max_mountain_length TO zero  
        FOR index_i FROM one TO n MINUS two  
            IF the element at position index_i of lis IS GREATER THAN one AND the element at position index_i of lds IS GREATER THAN one  
                SET max_mountain_length TO the GREATER VALUE BETWEEN max_mountain_length AND the element at position index_i of lis PLUS the element at position index_i of lds MINUS one  
            END IF  
        END FOR  
        
        SET result TO n MINUS max_mountain_length  
        RETURN result  
    END FUNCTION  
END CLASS