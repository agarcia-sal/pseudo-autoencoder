CLASS Solution  
    FUNCTION numSquares WITH PARAMETER n  
        SET dp TO a list of size n PLUS one with each element set to infinity  
        SET element at position zero of dp TO zero  
        SET squares TO an empty list  
        SET i TO one  
        WHILE the product of i AND i is less than or equal to n holds  
            APPEND the product of i AND i TO squares  
            INCREMENT i BY one  
        END WHILE  
        FOR i FROM one TO n  
            FOR each square IN squares  
                IF i is less than square THEN  
                    BREAK  
                END IF  
                SET element at position i of dp TO the minimum of element at position i of dp AND element at position i MINUS square of dp PLUS one  
            END FOR  
        END FOR  
        RETURN element at position n of dp  
    END FUNCTION  
END CLASS