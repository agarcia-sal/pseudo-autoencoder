CLASS Solution  
    FUNCTION maxHeight WITH PARAMETERS cuboids AS list of list of integers  
        FOR each cuboid IN cuboids  
            PERFORM auxiliary FUNCTION sort_dimensions ON cuboid  
        END FOR  
        PERFORM auxiliary FUNCTION sort_lexicographically ON cuboids  
        SET n TO the LENGTH OF cuboids  
        INITIALIZE dp AS list OF zero repeated n times  
        FOR index i FROM zero TO n MINUS one  
            SET element at position i OF dp TO the element at position three of cuboid at position i  
            FOR index j FROM zero TO i MINUS one  
                IF the element at position one of cuboid at position j LESS THAN OR EQUAL TO the element at position one of cuboid at position i AND the element at position two of cuboid at position j LESS THAN OR EQUAL TO the element at position two of cuboid at position i AND the element at position three of cuboid at position j LESS THAN OR EQUAL TO the element at position three of cuboid at position i THEN  
                    SET element at position i OF dp TO the GREATER OF element at position i OF dp AND element at position j OF dp PLUS the element at position three of cuboid at position i  
                END IF  
            END FOR  
        END FOR  
        SET maximum_height TO the GREATEST value IN dp  
        RETURN maximum_height  
    END FUNCTION  
END CLASS