CLASS Solution  
    FUNCTION canSeePersonsCount WITH parameter heights AS List OF integer  
        SET n TO the LENGTH OF heights  
        SET answer TO a list of zero elements repeated n times  
        SET stack TO an empty list  
        
        FOR i FROM zero TO n MINUS one  
            WHILE the LENGTH OF stack GREATER THAN zero AND the element at position last element of stack IN heights LESS THAN the element at position i IN heights  
                INCREMENT the element at position stack popped FROM stack IN answer BY one  
            END WHILE  
            IF the LENGTH OF stack GREATER THAN zero  
                INCREMENT the element at position last element of stack IN answer BY one  
            END IF  
            APPEND i TO stack  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS