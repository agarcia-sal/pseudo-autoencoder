CLASS Solution  
    FUNCTION areConnected WITH PARAMETERS n threshold queries  
        IF threshold EQUALS zero THEN  
            SET true_list TO a list containing True repeated the LENGTH OF queries times  
            RETURN true_list  
        END IF  
        
        SET parent TO a list of integers FROM zero TO n INCLUSIVE  
        
        FUNCTION find WITH PARAMETER x  
            IF element at position x of parent NOT EQUALS x THEN  
                SET value_at_position_x_of_parent TO find OF element at position x of parent  
                SET element at position x of parent TO value_at_position_x_of_parent  
            END IF  
            RETURN element at position x of parent  
        END FUNCTION  
        
        FUNCTION union WITH PARAMETERS x y  
            SET rootX TO find OF x  
            SET rootY TO find OF y  
            IF rootX NOT EQUALS rootY THEN  
                SET element at position rootY of parent TO rootX  
            END IF  
        END FUNCTION  
        
        FOR i FROM threshold PLUS one TO n INCLUSIVE  
            FOR j FROM i MULTIPLIED BY two TO n INCLUSIVE STEPPING BY i  
                CALL union WITH i AND j  
            END FOR  
        END FOR  
        
        SET result TO an empty list  
        FOR each pair a and b IN queries  
            SET connected_status TO EQUALITY of find OF a AND find OF b  
            APPEND connected_status TO result  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS