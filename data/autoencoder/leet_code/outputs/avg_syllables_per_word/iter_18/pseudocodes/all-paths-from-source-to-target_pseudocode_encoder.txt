CLASS Solution  
    FUNCTION allPathsSourceTarget(graph AS list of list of integer) RETURNS list of list of integer  
        SET n TO the LENGTH OF graph  
        SET q TO a double-ended queue INITIALIZED WITH a list CONTAINING zero  
        SET ans TO an empty list  
        WHILE the double-ended queue q HOLDS elements  
            SET path TO the element at the FRONT of q REMOVED  
            SET u TO the element at the last position of path  
            IF u EQUALS n MINUS one  
                APPEND path TO ans  
                CONTINUE to the next iteration of the WHILE loop  
            END IF  
            FOR each v IN the element at position u of graph  
                APPEND the concatenation of path and a list CONTAINING v TO the double-ended queue q  
            END FOR  
        END WHILE  
        RETURN ans  
    END FUNCTION  
END CLASS