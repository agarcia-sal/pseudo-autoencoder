CLASS Solution  
    FUNCTION createSortedArray(instructions)  
        SET MOD TO 10 raised to the power of 9 plus 7  
        SET MAX TO maximum value in instructions plus 1  
        INITIALIZE bit AS list of zeros with length MAX  

        FUNCTION update(idx, val)  
            WHILE idx LESS THAN MAX  
                INCREMENT bit at position idx BY val  
                SET idx TO idx PLUS (idx BITWISE AND negative idx)  
            END WHILE  
        END FUNCTION  

        FUNCTION query(idx)  
            SET total TO 0  
            WHILE idx GREATER THAN 0  
                INCREMENT total BY bit at position idx  
                SET idx TO idx MINUS (idx BITWISE AND negative idx)  
            END WHILE  
            RETURN total  
        END FUNCTION  

        SET total_cost TO 0  
        FOR i AND num IN enumeration of instructions  
            SET less_than TO result of query with input num MINUS 1  
            SET greater_than TO i MINUS result of query with input num  
            SET cost TO minimum of less_than AND greater_than  
            SET total_cost TO (total_cost PLUS cost) MODULO MOD  
            CALL update WITH arguments num AND 1  
        END FOR  

        RETURN total_cost  
    END FUNCTION  
END CLASS