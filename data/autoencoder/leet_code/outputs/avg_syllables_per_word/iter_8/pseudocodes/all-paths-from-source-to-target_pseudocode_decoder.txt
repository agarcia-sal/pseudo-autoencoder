CLASS Solution  
    FUNCTION allPathsSourceTarget(graph)  
        SET n TO LENGTH OF graph  
        INITIALIZE q WITH A QUEUE CONTAINING A LIST WITH 0  
        INITIALIZE ans AS AN EMPTY LIST  
        WHILE q IS NOT EMPTY  
            SET path TO q REMOVE FIRST ELEMENT  
            SET u TO LAST ELEMENT OF path  
            IF u EQUALS n MINUS 1  
                APPEND path TO ans  
                CONTINUE TO NEXT ITERATION  
            FOR EACH v IN graph AT INDEX u  
                APPEND path CONCATENATED WITH LIST OF v TO q  
        RETURN ans  
    END FUNCTION  
END CLASS