CLASS Solution  
    FUNCTION champagneTower(poured, query_row, query_glass)  
        SET current_row TO list containing poured  
        FOR each row FROM 1 TO query_row INCLUSIVE  
            SET next_row TO list of zeros with length row plus 1  
            FOR each index i IN indices of current_row  
                IF current_row at i IS GREATER THAN 1  
                    SET excess TO (current_row at i MINUS 1) DIVIDED BY 2  
                    INCREMENT next_row at i BY excess  
                    INCREMENT next_row at i plus 1 BY excess  
            SET current_row TO next_row  
        RETURN the smaller value BETWEEN current_row at query_glass AND 1  
    END FUNCTION  
END CLASS