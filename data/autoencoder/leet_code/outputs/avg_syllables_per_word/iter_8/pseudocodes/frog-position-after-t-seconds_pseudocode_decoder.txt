CLASS Solution  
    FUNCTION frogPosition(n, edges, t, target)  
        IF n EQUALS 1 THEN  
            RETURN 1.0  
        END IF  

        SET graph TO new mapping with default empty list  
        FOR each u, v IN edges  
            APPEND v TO graph at key u  
            APPEND u TO graph at key v  
        END FOR  

        SET queue TO new double-ended queue containing tuple (1, 1.0, 0)  
        SET visited TO new set containing 1  

        WHILE queue is not empty  
            REMOVE first element from queue INTO current_node, current_probability, current_time  

            IF current_time EQUALS t OR (current_node NOT EQUALS 1 AND LENGTH of graph at current_node EQUALS 1) THEN  
                IF current_node EQUALS target THEN  
                    RETURN current_probability  
                ELSE  
                    CONTINUE  
                END IF  
            END IF  

            IF current_node EQUALS 1 THEN  
                SET possible_moves TO LENGTH of graph at current_node  
            ELSE  
                SET possible_moves TO LENGTH of graph at current_node MINUS 1  
            END IF  

            FOR each neighbor IN graph at current_node  
                IF neighbor NOT IN visited THEN  
                    ADD neighbor TO visited  
                    APPEND tuple (neighbor, current_probability DIVIDED BY possible_moves, current_time PLUS 1) TO queue  
                END IF  
            END FOR  
        END WHILE  

        RETURN 0.0  
    END FUNCTION  
END CLASS