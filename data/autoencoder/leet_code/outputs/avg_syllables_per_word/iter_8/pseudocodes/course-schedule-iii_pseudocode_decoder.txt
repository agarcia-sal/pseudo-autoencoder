CLASS Solution  
    FUNCTION scheduleCourse(courses)  
        SORT courses BY their end day  
        INITIALIZE max_heap AS empty list  
        SET current_end_day TO 0  
        
        FOR EACH course IN courses  
            SET duration TO course's duration  
            SET last_day TO course's last day  
            
            IF current_end_day PLUS duration IS LESS THAN OR EQUAL TO last_day THEN  
                ADD negative duration TO max_heap  
                INCREMENT current_end_day BY duration  
            ELSE  
                IF max_heap IS NOT empty AND negative of first element in max_heap IS GREATER THAN duration THEN  
                    INCREMENT current_end_day BY duration PLUS REMOVE first element from max_heap  
                    ADD negative duration TO max_heap  
        END FOR  
        
        RETURN LENGTH OF max_heap  
    END FUNCTION  
END CLASS