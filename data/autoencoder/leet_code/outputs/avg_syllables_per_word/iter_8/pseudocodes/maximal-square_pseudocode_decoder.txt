CLASS Solution  
    FUNCTION maximalSquare(matrix)  
        IF matrix IS EMPTY OR first element of matrix IS EMPTY  
            RETURN 0  
        SET m TO LENGTH OF matrix  
        SET n TO LENGTH OF first element of matrix  
        SET dp TO matrix of zeros with dimensions (m plus 1) by (n plus 1)  
        SET max_side TO 0  
        FOR i FROM 1 TO m  
            FOR j FROM 1 TO n  
                IF element at row (i minus 1), column (j minus 1) of matrix EQUALS '1'  
                    SET dp at position (i, j) TO minimum of dp at (i minus 1, j), dp at (i, j minus 1), dp at (i minus 1, j minus 1) plus 1  
                    SET max_side TO maximum of max_side and dp at (i, j)  
        RETURN max_side multiplied BY max_side  
    END FUNCTION  
END CLASS