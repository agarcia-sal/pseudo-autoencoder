CLASS Solution  
    FUNCTION maximumANDSum(nums, numSlots)  
        FUNCTION dp(index, slots)  
            IF index EQUALS LENGTH OF nums  
                RETURN 0  
            END IF  
            
            SET max_and_sum TO 0  
            SET slots_list TO list converted from slots  
            
            FOR i FROM 0 TO numSlots MINUS 1  
                IF slots_list at i LESS THAN 2  
                    INCREMENT slots_list at i BY 1  
                    SET and_sum TO bitwise AND of nums at index and (i PLUS 1) PLUS dp called with (index PLUS 1, tuple converted from slots_list)  
                    SET max_and_sum TO greater of max_and_sum and and_sum  
                    DECREMENT slots_list at i BY 1  
                END IF  
            END FOR  
            
            RETURN max_and_sum  
        END FUNCTION  
        
        SET initial_slots TO tuple of zeros with length numSlots  
        RETURN dp called with (0, initial_slots)  
    END FUNCTION  
END CLASS