CLASS Solution  
    FUNCTION subdomainVisits(cpdomains)  
        SET domain_count TO a new mapping with default integer value  
        
        FOR each cpdomain IN cpdomains  
            SPLIT cpdomain INTO count and domain  
            CONVERT count TO integer  
            SPLIT domain INTO subdomains by delimiter '.'  
            
            FOR index FROM 0 TO LENGTH OF subdomains MINUS 1  
                SET subdomain TO JOIN subdomains FROM index TO END WITH delimiter '.'  
                INCREMENT domain_count[subdomain] BY count  
        
        SET result TO EMPTY LIST  
        FOR each domain, count IN domain_count items  
            APPEND concatenation of count, a space, and domain TO result  
        
        RETURN result  
    END FUNCTION  
END CLASS