CLASS Solution  
    FUNCTION maxVacationDays(flights, days)  
        SET n TO LENGTH OF flights  
        SET k TO LENGTH OF days AT INDEX ZERO  
        
        SET dp TO LIST OF SIZE n FILLED WITH -1  
        SET dp AT INDEX ZERO TO 0  
        
        SET graph TO EMPTY DICTIONARY  
        FOR i FROM 0 TO n MINUS 1  
            SET graph AT i TO EMPTY LIST  
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF flights AT i AT j EQUALS 1  
                    APPEND j TO graph AT i  
        
        FOR week FROM 0 TO k MINUS 1  
            SET new_dp TO LIST OF SIZE n FILLED WITH -1  
            FOR i FROM 0 TO n MINUS 1  
                IF dp AT i EQUALS -1  
                    CONTINUE  
                SET new_dp AT i TO MAXIMUM OF new_dp AT i AND dp AT i PLUS days AT i AT week  
                FOR j IN graph AT i  
                    SET new_dp AT j TO MAXIMUM OF new_dp AT j AND dp AT i PLUS days AT j AT week  
            SET dp TO new_dp  
        
        RETURN MAXIMUM VALUE IN dp  
    END FUNCTION  
END CLASS