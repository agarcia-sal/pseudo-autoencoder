CLASS Solution  
    FUNCTION compress(chars)  
        IF chars IS empty THEN  
            RETURN 0  
        END IF  
        
        SET write_index TO 0  
        SET read_index TO 0  
        
        WHILE read_index IS LESS THAN LENGTH OF chars DO  
            SET char TO chars AT read_index  
            SET count TO 0  
            
            WHILE read_index IS LESS THAN LENGTH OF chars AND chars AT read_index IS EQUAL TO char DO  
                INCREMENT read_index BY 1  
                INCREMENT count BY 1  
            END WHILE  
            
            SET chars AT write_index TO char  
            INCREMENT write_index BY 1  
            
            IF count IS GREATER THAN 1 THEN  
                FOR each digit IN STRING REPRESENTATION OF count DO  
                    SET chars AT write_index TO digit  
                    INCREMENT write_index BY 1  
                END FOR  
            END IF  
        END WHILE  
        
        RETURN write_index  
    END FUNCTION  
END CLASS