CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO list of offers FROM special WHERE sum of offer quantities EXCLUDING last element IS GREATER THAN 0 AND last element of offer IS LESS THAN sum of corresponding price TIMES offer quantities EXCLUDING last element  

        FUNCTION dfs(needs)  
            SET min_cost TO sum of price TIMES needs element-wise  

            FOR each offer IN special  
                SET new_needs TO list of needs MINUS offer quantities EXCLUDING last element element-wise  
                IF all elements in new_needs ARE GREATER THAN OR EQUAL TO 0 THEN  
                    SET min_cost TO minimum of min_cost AND offer last element PLUS dfs of new_needs converted to tuple  
            RETURN min_cost  
        END FUNCTION  

        RETURN dfs of needs converted to tuple  
END CLASS