CLASS Solution  
    FUNCTION uniquePathsWithObstacles(obstacleGrid)  
        IF obstacleGrid IS EMPTY OR obstacleGrid AT 0 0 EQUALS 1 THEN  
            RETURN 0  
        SET m TO LENGTH OF obstacleGrid  
        SET n TO LENGTH OF obstacleGrid AT 0  
        SET dp TO TWO_DIMENSIONAL LIST OF ZEROS WITH DIMENSIONS m BY n  
        SET dp AT 0 0 TO 1  
        FOR j FROM 1 TO n MINUS 1 DO  
            IF obstacleGrid AT 0 j EQUALS 0 THEN  
                SET dp AT 0 j TO dp AT 0 j MINUS 1  
        FOR i FROM 1 TO m MINUS 1 DO  
            IF obstacleGrid AT i 0 EQUALS 0 THEN  
                SET dp AT i 0 TO dp AT i MINUS 1 0  
        FOR i FROM 1 TO m MINUS 1 DO  
            FOR j FROM 1 TO n MINUS 1 DO  
                IF obstacleGrid AT i j EQUALS 0 THEN  
                    SET dp AT i j TO dp AT i MINUS 1 j PLUS dp AT i j MINUS 1  
        RETURN dp AT m MINUS 1 n MINUS 1  
    END FUNCTION  
END CLASS