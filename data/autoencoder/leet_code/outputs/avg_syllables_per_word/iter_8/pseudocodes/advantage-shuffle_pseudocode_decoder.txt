CLASS Solution  
    FUNCTION advantageCount(nums1, nums2)  
        SORT nums1 IN ascending order  
        SET nums2_with_indices TO list of pairs (value, original_index) from nums2  
        SORT nums2_with_indices IN descending order by value  
        SET result TO list of zeros with length equal to length of nums1  
        SET left TO 0  
        SET right TO length of nums1 MINUS 1  
        FOR each value, index IN nums2_with_indices  
            IF element at nums1[right] GREATER THAN value  
                SET result at position index TO element at nums1[right]  
                DECREMENT right BY 1  
            ELSE  
                SET result at position index TO element at nums1[left]  
                INCREMENT left BY 1  
        RETURN result  
    END FUNCTION  
END CLASS