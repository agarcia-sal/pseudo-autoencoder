CLASS Solution  
    FUNCTION findDiagonalOrder(mat)  
        IF mat IS empty OR mat at index 0 IS empty THEN  
            RETURN empty list  
        
        SET m TO length of mat  
        SET n TO length of mat at index 0  
        SET result TO empty list  
        SET r TO 0  
        SET c TO 0  
        SET direction TO 1  # 1 means up-right, -1 means down-left  
        
        FOR each _ IN range from 0 TO m multiplied BY n MINUS 1  
            APPEND mat at r and c TO result  
            IF direction EQUALS 1 THEN  
                SET new_r TO r MINUS 1  
                SET new_c TO c PLUS 1  
            ELSE  
                SET new_r TO r PLUS 1  
                SET new_c TO c MINUS 1  
            
            IF new_r LESS THAN 0 OR new_r EQUALS m OR new_c LESS THAN 0 OR new_c EQUALS n THEN  
                IF direction EQUALS 1 THEN  
                    IF new_c EQUALS n THEN  
                        SET new_r TO r PLUS 1  
                        SET new_c TO c  
                    ELSE  
                        SET new_r TO 0  
                        SET new_c TO c PLUS 1  
                ELSE  
                    IF new_r EQUALS m THEN  
                        SET new_r TO r  
                        SET new_c TO c PLUS 1  
                    ELSE  
                        SET new_r TO r PLUS 1  
                        SET new_c TO 0  
                SET direction TO negative direction  
            
            SET r TO new_r  
            SET c TO new_c  
        
        RETURN result  
    END FUNCTION  
END CLASS