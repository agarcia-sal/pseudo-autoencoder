CLASS Solution  
    FUNCTION isBipartite(graph)  
        SET n TO LENGTH OF graph  
        SET color TO LIST OF n ELEMENTS EACH SET TO 0  

        FUNCTION dfs(node, c)  
            SET color AT node TO c  
            FOR each neighbor IN graph AT node  
                IF color AT neighbor EQUALS c THEN  
                    RETURN False  
                IF color AT neighbor EQUALS 0 THEN  
                    IF dfs(neighbor, NEGATION OF c) IS False THEN  
                        RETURN False  
            RETURN True  
        END FUNCTION  

        FOR i FROM 0 TO n MINUS 1  
            IF color AT i EQUALS 0 THEN  
                IF dfs(i, 1) IS False THEN  
                    RETURN False  
        RETURN True  
    END FUNCTION  
END CLASS