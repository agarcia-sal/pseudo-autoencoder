CLASS Solution  
    FUNCTION openLock(deadends, target)  
        SET deadends_set TO set of deadends  
        
        IF "0000" IS IN deadends_set  
            RETURN negative one  
        END IF  
        
        IF target EQUALS "0000"  
            RETURN zero  
        END IF  
        
        SET queue TO deque with tuple of "0000" and zero  
        SET visited TO set containing "0000"  
        
        FUNCTION neighbors(state)  
            SET result TO empty list  
            FOR i FROM zero TO three  
                SET digit TO integer value of character at index i in state  
                FOR move IN list of negative one and one  
                    SET new_digit TO (digit PLUS move) MODULO ten  
                    SET new_state TO concatenation of substring of state before i, string of new_digit, and substring of state after i  
                    APPEND new_state TO result  
                END FOR  
            END FOR  
            RETURN result  
        END FUNCTION  
        
        WHILE queue IS NOT empty  
            SET current_state, steps TO element removed from left of queue  
            
            FOR neighbor IN neighbors(current_state)  
                IF neighbor NOT IN visited AND neighbor NOT IN deadends_set  
                    IF neighbor EQUALS target  
                        RETURN steps PLUS one  
                    END IF  
                    ADD neighbor TO visited  
                    APPEND tuple of neighbor and steps PLUS one TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS