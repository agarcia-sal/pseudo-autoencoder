CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY each event's end day  
        SET n TO LENGTH OF events  
        
        INITIALIZE dp AS TWO-DIMENSIONAL LIST WITH (n PLUS 1) ROWS AND (k PLUS 1) COLUMNS FILLED WITH 0  
        
        FOR i FROM 1 TO n  
            SET start, end, value TO events AT POSITION i MINUS 1  
            
            SET j TO POSITION OF THE LEFTMOST EVENT IN events WHERE event's end day IS GREATER THAN OR EQUAL TO start  
            
            FOR l FROM 1 TO k  
                SET dp AT POSITION i AND l TO MAXIMUM OF dp AT POSITION (i MINUS 1) AND l, AND dp AT POSITION j AND (l MINUS 1) PLUS value  
        
        RETURN dp AT POSITION n AND k  
    END FUNCTION  
END CLASS