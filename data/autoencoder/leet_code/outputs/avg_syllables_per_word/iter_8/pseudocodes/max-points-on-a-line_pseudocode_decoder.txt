CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF p1 at position 0 EQUALS p2 at position 0  
                RETURN positive infinity  
            RETURN difference of p1 at position 1 and p2 at position 1 DIVIDED BY difference of p1 at position 0 and p2 at position 0  
        END FUNCTION  
        
        SET max_points TO 0  
        
        FOR each index i FROM 0 UP TO length of points MINUS 1  
            SET slopes TO an empty mapping with default integer value  
            FOR each index j FROM 0 UP TO length of points MINUS 1  
                IF i NOT EQUAL TO j  
                    SET s TO slope BETWEEN points at i AND points at j  
                    INCREMENT slopes at s BY 1  
                    SET max_points TO maximum of max_points AND slopes at s  
        
        IF points is not empty  
            RETURN max_points PLUS 1  
        ELSE  
            RETURN 0  
    END FUNCTION  
END CLASS