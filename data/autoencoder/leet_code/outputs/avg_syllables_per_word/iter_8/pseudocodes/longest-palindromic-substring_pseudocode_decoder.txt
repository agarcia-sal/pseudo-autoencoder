CLASS Solution  
    FUNCTION longestPalindrome(s)  
        SET n TO LENGTH OF s  
        SET f TO TWO-DIMENSIONAL LIST OF SIZE n BY n WITH ALL VALUES TRUE  
        SET k TO 0  
        SET mx TO 1  
        FOR i FROM n MINUS 2 DOWN TO 0  
            FOR j FROM i PLUS 1 TO n MINUS 1  
                SET f AT i, j TO FALSE  
                IF CHARACTER AT s AT i EQUALS CHARACTER AT s AT j THEN  
                    SET f AT i, j TO VALUE OF f AT i PLUS 1, j MINUS 1  
                    IF f AT i, j IS TRUE AND mx LESS THAN j MINUS i PLUS 1 THEN  
                        SET k TO i  
                        SET mx TO j MINUS i PLUS 1  
        RETURN SUBSTRING OF s FROM k TO k PLUS mx  
    END FUNCTION  
END CLASS