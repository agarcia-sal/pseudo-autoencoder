CLASS Solution  
    FUNCTION maxHeight(cuboids)  
        FOR each cuboid IN cuboids  
            SORT dimensions of cuboid  
        SORT cuboids lexicographically  
        SET n TO LENGTH OF cuboids  
        INITIALIZE dp AS list of size n with all values 0  
        FOR i FROM 0 TO n MINUS 1  
            SET dp AT i TO cuboids AT i AT index 2  
            FOR j FROM 0 TO i MINUS 1  
                IF cuboids AT j AT index 0 LESS THAN OR EQUAL TO cuboids AT i AT index 0 AND  
                   cuboids AT j AT index 1 LESS THAN OR EQUAL TO cuboids AT i AT index 1 AND  
                   cuboids AT j AT index 2 LESS THAN OR EQUAL TO cuboids AT i AT index 2  
                    SET dp AT i TO MAXIMUM OF dp AT i AND dp AT j PLUS cuboids AT i AT index 2  
        RETURN MAXIMUM VALUE IN dp  
    END FUNCTION  
END CLASS