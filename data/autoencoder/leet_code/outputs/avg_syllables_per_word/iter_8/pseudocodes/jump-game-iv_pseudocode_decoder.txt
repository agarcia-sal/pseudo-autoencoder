CLASS Solution  
    FUNCTION minJumps(arr)  
        SET n TO LENGTH OF arr  
        IF n EQUALS 1  
            RETURN 0  
        
        SET value_indices TO a mapping from values to empty lists  
        FOR each index i and value IN arr  
            APPEND i TO value_indices[value]  
        
        SET queue TO a double-ended queue containing tuple (0, 0)  
        SET visited TO a set containing 0  
        
        WHILE queue IS NOT empty  
            REMOVE the first element from queue into current_index and steps  
            
            IF current_index EQUALS n MINUS 1  
                RETURN steps  
            
            SET next_indices TO list containing current_index PLUS 1, current_index MINUS 1, concatenated with value_indices[arr[current_index]]  
            
            FOR each next_index IN next_indices  
                IF next_index IS AT LEAST 0 AND LESS THAN n AND next_index NOT IN visited  
                    ADD next_index TO visited  
                    APPEND tuple (next_index, steps PLUS 1) TO queue  
            
            SET value_indices[arr[current_index]] TO empty list  
        
        RETURN -1  
    END FUNCTION  
END CLASS