CLASS Solution  
    FUNCTION findMaxValueOfEquation(points, k)  
        SET max_value TO negative infinity  
        INITIALIZE deque_ AS empty double-ended queue  
        
        FOR each (xj, yj) IN points  
            WHILE deque_ is not empty AND xj MINUS deque_ front element's second value GREATER THAN k  
                REMOVE front element FROM deque_  
            
            IF deque_ is not empty THEN  
                SET max_value TO maximum of max_value AND (yj PLUS xj PLUS deque_ front element's first value)  
            
            WHILE deque_ is not empty AND (yj MINUS xj) GREATER THAN OR EQUAL TO deque_ back element's first value  
                REMOVE back element FROM deque_  
            
            APPEND pair (yj MINUS xj, xj) TO deque_  
        
        RETURN max_value  
    END FUNCTION  
END CLASS