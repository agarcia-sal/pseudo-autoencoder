CLASS Solution  
    FUNCTION racecar(target)  
        SET queue TO new deque containing (0, 1, 0)  # position, speed, steps  
        SET visited TO new set containing (0, 1)  
        
        WHILE queue is not empty  
            REMOVE first element from queue INTO position, speed, steps  
            
            IF position EQUALS target  
                RETURN steps  
            END IF  
            
            SET next_position TO position PLUS speed  
            SET next_speed TO speed MULTIPLIED BY 2  
            IF tuple of (next_position, next_speed) NOT IN visited AND next_position GREATER THAN OR EQUAL TO 0 AND next_position LESS THAN 2 MULTIPLIED BY target  
                ADD tuple of (next_position, next_speed) TO visited  
                APPEND tuple of (next_position, next_speed, steps PLUS 1) TO queue  
            END IF  
            
            IF speed GREATER THAN 0  
                SET next_speed TO negative 1  
            ELSE  
                SET next_speed TO 1  
            END IF  
            
            IF tuple of (position, next_speed) NOT IN visited AND position GREATER THAN OR EQUAL TO 0 AND position LESS THAN 2 MULTIPLIED BY target  
                ADD tuple of (position, next_speed) TO visited  
                APPEND tuple of (position, next_speed, steps PLUS 1) TO queue  
            END IF  
        END WHILE  
    END FUNCTION  
END CLASS