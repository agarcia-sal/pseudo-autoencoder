CLASS Solution  
    FUNCTION maxValueAfterReverse(nums)  
        SET n TO LENGTH OF nums  
        IF n EQUALS 2  
            RETURN absolute value of nums at 0 MINUS nums at 1  
        END IF  
        
        SET initial_value TO 0  
        FOR i FROM 1 TO n MINUS 1  
            INCREMENT initial_value BY absolute value of nums at i MINUS nums at i MINUS 1  
        END FOR  
        
        SET max_edge_gain TO 0  
        FOR i FROM 1 TO n MINUS 1  
            SET potential_gain TO absolute value of nums at 0 MINUS nums at i MINUS absolute value of nums at i MINUS nums at i MINUS 1  
            IF potential_gain GREATER THAN max_edge_gain  
                SET max_edge_gain TO potential_gain  
            END IF  
        END FOR  
        
        FOR i FROM 0 TO n MINUS 2  
            SET potential_gain TO absolute value of nums at n MINUS 1 MINUS nums at i MINUS absolute value of nums at i PLUS 1 MINUS nums at i  
            IF potential_gain GREATER THAN max_edge_gain  
                SET max_edge_gain TO potential_gain  
            END IF  
        END FOR  
        
        SET min_pair TO the minimum of maximum of nums at i and nums at i PLUS 1 for each i FROM 0 TO n MINUS 2  
        SET max_pair TO the maximum of minimum of nums at i and nums at i PLUS 1 for each i FROM 0 TO n MINUS 2  
        
        SET general_gain TO the greater of 0 AND 2 TIMES (max_pair MINUS min_pair)  
        
        RETURN initial_value PLUS the greater of max_edge_gain AND general_gain  
    END FUNCTION  
END CLASS