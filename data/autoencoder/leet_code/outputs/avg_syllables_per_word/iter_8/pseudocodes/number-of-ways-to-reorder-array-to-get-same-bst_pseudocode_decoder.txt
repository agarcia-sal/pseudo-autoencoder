CLASS Solution  
    FUNCTION numOfWays(nums)  
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7  
  
        FUNCTION count_ways(arr)  
            IF LENGTH OF arr LESS THAN OR EQUAL TO 1  
                RETURN 1  
            END IF  
  
            SET root TO FIRST ELEMENT OF arr  
            SET left_subtree TO LIST OF ELEMENTS IN arr THAT ARE LESS THAN root  
            SET right_subtree TO LIST OF ELEMENTS IN arr THAT ARE GREATER THAN root  
  
            SET ways_left TO count_ways(left_subtree)  
            SET ways_right TO count_ways(right_subtree)  
  
            SET total_ways TO COMBINATION OF LENGTH OF left_subtree PLUS LENGTH OF right_subtree CHOOSE LENGTH OF left_subtree  
  
            RETURN ways_left MULTIPLIED BY ways_right MULTIPLIED BY total_ways MODULO MOD  
        END FUNCTION  
  
        RETURN count_ways(nums) MINUS 1 MODULO MOD  
    END FUNCTION  
END CLASS