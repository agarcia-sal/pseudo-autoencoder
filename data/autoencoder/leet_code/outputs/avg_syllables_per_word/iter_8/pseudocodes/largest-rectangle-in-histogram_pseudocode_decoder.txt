CLASS Solution  
    FUNCTION largestRectangleArea(heights)  
        SET stack TO list containing -1  
        SET max_area TO 0  
        APPEND 0 TO heights  
        
        FOR each index i and height h IN heights  
            WHILE last element in stack is not -1 AND h is less than heights at last index in stack  
                SET height TO heights at popped index from stack  
                SET width TO i minus last element in stack minus 1  
                SET max_area TO maximum of max_area and height multiplied by width  
            END WHILE  
            APPEND i TO stack  
        END FOR  
        
        RETURN max_area  
    END FUNCTION  
END CLASS