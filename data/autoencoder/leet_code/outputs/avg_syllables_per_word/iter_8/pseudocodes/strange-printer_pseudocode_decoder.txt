CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j THEN  
                RETURN 0  
            IF memo CONTAINS KEY (i, j) THEN  
                RETURN memo VALUE AT (i, j)  
            SET result TO dp(i, j MINUS 1, memo) PLUS 1  
            FOR k FROM i TO j MINUS 1  
                IF s CHARACTER AT k EQUALS s CHARACTER AT j THEN  
                    SET candidate TO dp(i, k MINUS 1, memo) PLUS dp(k, j MINUS 1, memo)  
                    IF candidate LESS THAN result THEN  
                        SET result TO candidate  
            SET memo VALUE AT (i, j) TO result  
            RETURN result  
        END FUNCTION  
        RETURN dp(0, LENGTH OF s MINUS 1, EMPTY DICTIONARY)  
    END FUNCTION  
END CLASS