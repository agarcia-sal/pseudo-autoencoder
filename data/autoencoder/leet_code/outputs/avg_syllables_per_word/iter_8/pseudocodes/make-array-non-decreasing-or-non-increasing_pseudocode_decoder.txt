CLASS Solution  
    FUNCTION convertArray(nums)  
        FUNCTION min_operations_to_non_decreasing(nums)  
            SET max_heap TO empty list  
            SET operations TO 0  
            FOR each num IN nums  
                IF max_heap is not empty AND negative value of first element in max_heap is greater than num  
                    SET operations TO operations PLUS (negative value popped from max_heap MINUS num)  
                    PUSH negative num INTO max_heap  
                END IF  
                PUSH negative num INTO max_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        FUNCTION min_operations_to_non_increasing(nums)  
            SET min_heap TO empty list  
            SET operations TO 0  
            FOR each num IN nums  
                IF min_heap is not empty AND first element in min_heap is less than num  
                    SET operations TO operations PLUS (num MINUS value popped from min_heap)  
                    PUSH num INTO min_heap  
                END IF  
                PUSH num INTO min_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  
        
        RETURN minimum of (min_operations_to_non_decreasing(nums), min_operations_to_non_increasing(nums))  
    END FUNCTION  
END CLASS