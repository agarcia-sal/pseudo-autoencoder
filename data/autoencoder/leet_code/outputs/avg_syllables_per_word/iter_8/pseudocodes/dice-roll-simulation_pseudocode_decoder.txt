CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7  
        
        INITIALIZE dp AS A THREE-DIMENSIONAL LIST OF SIZE (n PLUS 1) BY 6 BY (MAXIMUM VALUE IN rollMax PLUS 1) FILLED WITH 0  
        
        FOR j FROM 0 TO 5  
            SET dp AT POSITION 1, j, 1 TO 1  
        
        FOR i FROM 2 TO n  
            FOR j FROM 0 TO 5  
                FOR k FROM 1 TO rollMax AT POSITION j  
                    IF k GREATER THAN 1  
                        SET dp AT POSITION i, j, k TO dp AT POSITION (i MINUS 1), j, (k MINUS 1)  
                    ELSE  
                        SET dp AT POSITION i, j, k TO 0  
                        FOR x FROM 0 TO 5  
                            IF x NOT EQUAL TO j  
                                FOR y FROM 1 TO rollMax AT POSITION x  
                                    INCREMENT dp AT POSITION i, j, k BY dp AT POSITION (i MINUS 1), x, y  
                        SET dp AT POSITION i, j, k TO dp AT POSITION i, j, k MODULO MOD  
        
        SET result TO 0  
        FOR j FROM 0 TO 5  
            FOR k FROM 1 TO rollMax AT POSITION j  
                INCREMENT result BY dp AT POSITION n, j, k  
        SET result TO result MODULO MOD  
        
        RETURN result  
    END FUNCTION  
END CLASS