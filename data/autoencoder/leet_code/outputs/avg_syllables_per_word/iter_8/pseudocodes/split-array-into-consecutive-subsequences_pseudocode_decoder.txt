CLASS Solution  
    FUNCTION isPossible(nums)  
        SET num_count TO count frequencies of each element in nums  
        SET end_with TO empty count mapping of subsequence endings  

        FOR each num IN nums  
            IF value of num_count at num EQUALS 0  
                CONTINUE  

            IF value of end_with at num MINUS 1 GREATER THAN 0  
                DECREMENT value of end_with at num MINUS 1 BY 1  
                INCREMENT value of end_with at num BY 1  
            ELSE IF value of num_count at num PLUS 1 GREATER THAN 0 AND value of num_count at num PLUS 2 GREATER THAN 0  
                DECREMENT value of num_count at num PLUS 1 BY 1  
                DECREMENT value of num_count at num PLUS 2 BY 1  
                INCREMENT value of end_with at num PLUS 2 BY 1  
            ELSE  
                RETURN False  
            END IF  

            DECREMENT value of num_count at num BY 1  
        END FOR  

        RETURN True  
    END FUNCTION  
END CLASS