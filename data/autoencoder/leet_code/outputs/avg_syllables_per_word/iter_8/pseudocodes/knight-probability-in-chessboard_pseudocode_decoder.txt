CLASS Solution  
    FUNCTION knightProbability(n, k, row, column)  
        SET moves TO list of pairs: (-2, -1), (-2, 1), (-1, -2), (-1, 2), (1, -2), (1, 2), (2, -1), (2, 1)  
        
        SET dp TO two-dimensional list of size n by n with all values zero  
        SET dp at position [row][column] TO 1  
        
        FOR each_move FROM 1 TO k DO  
            SET new_dp TO two-dimensional list of size n by n with all values zero  
            
            FOR r FROM 0 TO n minus 1 DO  
                FOR c FROM 0 TO n minus 1 DO  
                    IF dp at [r][c] EQUALS 0 THEN  
                        CONTINUE  
                    END IF  
                    FOR each (dr, dc) IN moves DO  
                        SET nr TO r plus dr  
                        SET nc TO c plus dc  
                        IF nr GREATER THAN OR EQUAL TO 0 AND nr LESS THAN n AND nc GREATER THAN OR EQUAL TO 0 AND nc LESS THAN n THEN  
                            INCREMENT new_dp at [nr][nc] BY dp at [r][c] DIVIDED BY 8  
                        END IF  
                    END FOR  
                END FOR  
            END FOR  
            
            SET dp TO new_dp  
        END FOR  
        
        SET total_probability TO 0  
        FOR each row_list IN dp DO  
            INCREMENT total_probability BY SUM OF row_list  
        END FOR  
        
        RETURN total_probability  
    END FUNCTION  
END CLASS