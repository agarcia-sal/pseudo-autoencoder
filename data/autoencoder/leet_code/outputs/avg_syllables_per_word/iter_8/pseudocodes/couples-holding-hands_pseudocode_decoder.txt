CLASS Solution  
    FUNCTION minSwapsCouples(row)  
        SET position TO map each person TO their index in row  
        SET swaps TO 0  
        
        FOR i FROM 0 TO LENGTH OF row MINUS 1 STEP 2  
            SET correct_pair TO person at row[i] XOR 1  
            
            IF person at row[i + 1] IS NOT correct_pair THEN  
                SET swap_idx TO position of correct_pair  
                
                SWAP person at row[i + 1] WITH person at row[swap_idx]  
                
                SET position of person at row[swap_idx] TO swap_idx  
                SET position of person at row[i + 1] TO i plus 1  
                
                INCREMENT swaps BY 1  
            END IF  
        END FOR  
        
        RETURN swaps  
    END FUNCTION  
END CLASS