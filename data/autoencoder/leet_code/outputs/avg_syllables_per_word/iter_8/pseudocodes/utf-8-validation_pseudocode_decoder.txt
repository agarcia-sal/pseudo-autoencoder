CLASS Solution  
    FUNCTION validUtf8(data)  
        FUNCTION get_byte_count(byte)  
            IF the most significant bit of byte IS 0  
                RETURN 1  
            ELSE IF the first three bits of byte ARE 110  
                RETURN 2  
            ELSE IF the first four bits of byte ARE 1110  
                RETURN 3  
            ELSE IF the first five bits of byte ARE 11110  
                RETURN 4  
            ELSE  
                RETURN -1  
            END IF  
        END FUNCTION  

        SET i TO 0  
        WHILE i IS LESS THAN length of data  
            SET byte_count TO get_byte_count(data at index i)  
            IF byte_count IS EQUAL TO -1  
                RETURN False  
            END IF  
            IF i PLUS byte_count IS GREATER THAN length of data  
                RETURN False  
            END IF  
            FOR j FROM i PLUS 1 TO i PLUS byte_count MINUS 1  
                IF the first two bits of data at index j ARE NOT 10  
                    RETURN False  
                END IF  
            END FOR  
            INCREMENT i BY byte_count  
        END WHILE  
        RETURN True  
    END FUNCTION  
END CLASS