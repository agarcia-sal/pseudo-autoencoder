CLASS Solution  
    FUNCTION maskPII(s)  
        IF s CONTAINS '@' THEN  
            SET local AND domain TO SPLIT s AT '@'  
            SET masked_local TO CONCATENATE first character of local, FIVE asterisks, last character of local  
            RETURN CONCATENATE masked_local IN LOWERCASE, '@', domain IN LOWERCASE  
        ELSE  
            SET digits TO FILTER only digit characters FROM s AND CONCATENATE into a string  
            SET local_number TO CONCATENATE '***-***-', last FOUR characters of digits  
            IF LENGTH OF digits EQUALS 10 THEN  
                RETURN local_number  
            ELSE  
                SET country_code_length TO LENGTH OF digits MINUS 10  
                SET country_code TO CONCATENATE '+', country_code_length TIMES asterisk, '-'  
                RETURN CONCATENATE country_code, local_number  
            END IF  
        END IF  
    END FUNCTION  
END CLASS