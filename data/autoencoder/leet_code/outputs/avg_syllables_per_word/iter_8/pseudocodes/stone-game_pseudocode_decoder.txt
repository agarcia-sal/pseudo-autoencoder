CLASS Solution  
    FUNCTION stoneGame(piles)  
        FUNCTION dfs(i, j)  
            IF i GREATER THAN j THEN  
                RETURN 0  
            END IF  
            SET score_when_taking_i TO piles AT i MINUS dfs(i PLUS 1, j)  
            SET score_when_taking_j TO piles AT j MINUS dfs(i, j MINUS 1)  
            RETURN the maximum of score_when_taking_i AND score_when_taking_j  
        END FUNCTION  
        RETURN dfs(0, LENGTH OF piles MINUS 1) GREATER THAN 0  
    END FUNCTION  
END CLASS