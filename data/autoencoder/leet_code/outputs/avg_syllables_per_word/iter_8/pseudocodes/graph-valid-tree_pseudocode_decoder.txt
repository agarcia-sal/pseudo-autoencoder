CLASS Solution  
    FUNCTION validTree(n, edges)  
        IF LENGTH OF edges IS NOT EQUAL TO n MINUS 1  
            RETURN False  
        
        SET adj_list TO empty mapping FROM integers TO lists  
        FOR i FROM 0 TO n MINUS 1  
            SET adj_list AT i TO empty list  
        FOR each pair a, b IN edges  
            APPEND b TO adj_list AT a  
            APPEND a TO adj_list AT b  
        
        SET visited TO empty set  
        
        FUNCTION dfs(node)  
            IF node IS IN visited  
                RETURN  
            ADD node TO visited  
            FOR each neighbor IN adj_list AT node  
                CALL dfs(neighbor)  
        END FUNCTION  
        
        CALL dfs WITH 0  
        
        RETURN LENGTH OF visited IS EQUAL TO n  
    END FUNCTION  
END CLASS