CLASS Solution  
    FUNCTION rob(nums)  
        FUNCTION rob_linear(houses)  
            IF houses IS EMPTY  
                RETURN 0  
            IF LENGTH OF houses EQUALS 1  
                RETURN FIRST ELEMENT OF houses  
            SET dp TO LIST OF ZEROS WITH LENGTH OF houses  
            SET FIRST ELEMENT OF dp TO FIRST ELEMENT OF houses  
            SET SECOND ELEMENT OF dp TO GREATER OF FIRST AND SECOND ELEMENTS OF houses  
            FOR i FROM 2 TO LENGTH OF houses MINUS 1  
                SET dp AT i TO GREATER OF dp AT i MINUS 1 AND dp AT i MINUS 2 PLUS houses AT i  
            RETURN LAST ELEMENT OF dp  
        END FUNCTION  
        IF nums IS EMPTY  
            RETURN 0  
        IF LENGTH OF nums EQUALS 1  
            RETURN FIRST ELEMENT OF nums  
        RETURN GREATER OF rob_linear(nums EXCLUDING LAST ELEMENT) AND rob_linear(nums EXCLUDING FIRST ELEMENT)  
    END FUNCTION  
END CLASS