CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO mapping of each number TO its frequency in nums  
        SET unique_nums TO sorted list of keys in count  
        
        SET dp TO list of zeros with length equal TO length of unique_nums PLUS one  
        
        SET dp at position one TO product of first element in unique_nums AND count of that element  
        
        FOR i FROM two TO length of unique_nums PLUS one  
            SET num TO element in unique_nums at position i MINUS one  
            IF num EQUALS element in unique_nums at position i MINUS two PLUS one  
                SET dp at position i TO maximum of dp at position i MINUS one AND sum of dp at position i MINUS two AND product of num AND count of num  
            ELSE  
                SET dp at position i TO sum of dp at position i MINUS one AND product of num AND count of num  
        END FOR  
        
        RETURN last element in dp  
    END FUNCTION  
END CLASS