CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each left, right, height IN buildings  
            APPEND (left, negative height, right) TO events  
            APPEND (right, zero, zero) TO events  
        
        SORT events BY x coordinate ascending, then by height ascending  
        
        SET result TO list containing [0, 0]  
        SET max_heap TO list containing (zero, infinite)  
        
        FOR each x, negH, r IN events  
            WHILE max_heap first element's right edge LESS THAN OR EQUAL TO x  
                REMOVE the first element FROM max_heap  
            
            IF negH NOT EQUAL TO zero  
                ADD (negH, r) TO max_heap  
            
            IF last element in result's height NOT EQUAL TO negative first element in max_heap's height  
                APPEND [x, negative first element in max_heap's height] TO result  
        
        IF first element in result EQUALS [0, 0]  
            REMOVE the first element FROM result  
        
        RETURN result  
    END FUNCTION  
END CLASS