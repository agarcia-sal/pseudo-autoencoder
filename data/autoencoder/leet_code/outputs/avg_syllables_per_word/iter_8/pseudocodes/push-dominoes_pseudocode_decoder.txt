CLASS Solution  
    FUNCTION pushDominoes(dominoes)  
        SET n TO LENGTH OF dominoes  
        SET forces TO list of zeros with length n  

        SET force TO 0  
        FOR i FROM 0 TO n MINUS 1  
            IF character at dominoes position i EQUALS 'R'  
                SET force TO n  
            ELSE IF character at dominoes position i EQUALS 'L'  
                SET force TO 0  
            ELSE  
                SET force TO maximum of force MINUS 1 and 0  
            ADD force TO forces at position i  

        SET force TO 0  
        FOR i FROM n MINUS 1 DOWNTO 0  
            IF character at dominoes position i EQUALS 'L'  
                SET force TO n  
            ELSE IF character at dominoes position i EQUALS 'R'  
                SET force TO 0  
            ELSE  
                SET force TO maximum of force MINUS 1 and 0  
            SUBTRACT force FROM forces at position i  

        SET result TO empty list  
        FOR each f IN forces  
            IF f GREATER THAN 0  
                APPEND 'R' TO result  
            ELSE IF f LESS THAN 0  
                APPEND 'L' TO result  
            ELSE  
                APPEND '.' TO result  

        RETURN concatenation of elements in result  
    END FUNCTION  
END CLASS