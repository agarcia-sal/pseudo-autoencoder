CLASS Solution  
    FUNCTION longestPrefix(s)  
        SET n TO LENGTH OF s  
        SET lps TO LIST OF ZEROS WITH LENGTH n  
        SET j TO 0  

        FOR i FROM 1 TO n MINUS 1  
            WHILE j GREATER THAN 0 AND CHARACTER AT s AT i IS NOT EQUAL TO CHARACTER AT s AT j  
                SET j TO VALUE AT lps AT j MINUS 1  
            END WHILE  

            IF CHARACTER AT s AT i IS EQUAL TO CHARACTER AT s AT j  
                INCREMENT j BY 1  
                SET VALUE AT lps AT i TO j  
            END IF  
        END FOR  

        SET longest_happy_prefix_length TO VALUE AT lps AT n MINUS 1  
        RETURN SUBSTRING OF s FROM START TO longest_happy_prefix_length  
    END FUNCTION  
END CLASS