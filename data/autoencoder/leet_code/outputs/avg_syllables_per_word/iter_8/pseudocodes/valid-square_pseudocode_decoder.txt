CLASS Solution  
    FUNCTION validSquare(p1, p2, p3, p4)  
        FUNCTION squared_distance(point1, point2)  
            RETURN squared difference of first coordinates PLUS squared difference of second coordinates  
        END FUNCTION  
        
        SET points TO list containing p1, p2, p3, p4  
        SET distances TO empty set  
        
        FOR i FROM 0 TO 3  
            FOR j FROM i PLUS 1 TO 3  
                SET dist TO squared_distance(points at i, points at j)  
                IF dist EQUALS 0 THEN  
                    RETURN False  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        
        RETURN whether size of distances EQUALS 2  
    END FUNCTION  
END CLASS