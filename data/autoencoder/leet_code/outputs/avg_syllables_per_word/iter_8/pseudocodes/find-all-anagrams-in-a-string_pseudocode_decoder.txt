CLASS Solution  
    FUNCTION findAnagrams(s, p)  
        SET len_s TO LENGTH OF s  
        SET len_p TO LENGTH OF p  
        
        IF len_p GREATER THAN len_s  
            RETURN empty list  
        
        SET p_count TO frequency count of characters in p  
        SET s_count TO frequency count of characters in first len_p characters of s  
        
        SET anagrams TO empty list  
        
        IF s_count EQUALS p_count  
            APPEND 0 TO anagrams  
        
        FOR i FROM len_p TO len_s MINUS 1  
            INCREMENT frequency of character s AT index i IN s_count BY 1  
            DECREMENT frequency of character s AT index (i MINUS len_p) IN s_count BY 1  
            
            IF frequency of character s AT index (i MINUS len_p) IN s_count EQUALS 0  
                REMOVE character s AT index (i MINUS len_p) FROM s_count  
            
            IF s_count EQUALS p_count  
                APPEND (i MINUS len_p PLUS 1) TO anagrams  
        
        RETURN anagrams  
    END FUNCTION  
END CLASS