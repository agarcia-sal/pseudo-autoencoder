CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO map with default empty list  
        FOR each pair u, v IN edges  
            APPEND tuple of scores at v and v TO graph at u  
            APPEND tuple of scores at u and u TO graph at v  
        FOR each node IN graph  
            SET graph at node TO three largest elements in graph at node by first element of tuple  
        SET max_score TO negative one  
        FOR each pair u, v IN edges  
            FOR each score1, x IN graph at u  
                FOR each score2, y IN graph at v  
                    IF count of unique elements in x, y, u, v EQUALS four  
                        SET max_score TO greater of max_score and sum of score1, score2, scores at u, and scores at v  
        RETURN max_score  
    END FUNCTION  
END CLASS