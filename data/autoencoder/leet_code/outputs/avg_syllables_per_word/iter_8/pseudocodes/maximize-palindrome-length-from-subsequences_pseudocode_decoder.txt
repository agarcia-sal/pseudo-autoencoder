CLASS Solution  
    FUNCTION longestPalindrome(word1, word2)  
        SET s TO concatenation of word1 and word2  
        SET n TO length of s  
        CREATE dp AS two-dimensional list of size n by n FILLED WITH 0  
        
        FOR i FROM 0 TO n MINUS 1  
            SET dp at position [i][i] TO 1  
        
        SET max_len TO 0  
        FOR length FROM 2 TO n  
            FOR i FROM 0 TO n MINUS length  
                SET j TO i PLUS length MINUS 1  
                IF character at s[i] EQUALS character at s[j] THEN  
                    SET dp[i][j] TO dp at [i PLUS 1][j MINUS 1] PLUS 2  
                    IF i LESS THAN length of word1 AND j GREATER THAN OR EQUAL TO length of word1 THEN  
                        SET max_len TO the greater of max_len and dp[i][j]  
                ELSE  
                    SET dp[i][j] TO the greater of dp at [i PLUS 1][j] and dp at [i][j MINUS 1]  
        
        RETURN max_len  
    END FUNCTION  
END CLASS