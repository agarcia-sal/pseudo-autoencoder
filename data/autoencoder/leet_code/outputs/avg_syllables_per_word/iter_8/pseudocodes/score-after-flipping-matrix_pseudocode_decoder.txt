CLASS Solution  
    FUNCTION matrixScore(grid)  
        FOR each row IN grid  
            IF row AT index 0 EQUALS 0  
                FOR i FROM 0 TO LENGTH OF row MINUS 1  
                    SET row AT index i TO 1 MINUS row AT index i  
        
        FOR col FROM 1 TO LENGTH OF grid AT index 0 MINUS 1  
            SET count_ones TO 0  
            FOR row FROM 0 TO LENGTH OF grid MINUS 1  
                INCREMENT count_ones BY grid AT index row AT index col  
            IF count_ones LESS THAN LENGTH OF grid DIVIDED BY 2  
                FOR row FROM 0 TO LENGTH OF grid MINUS 1  
                    SET grid AT index row AT index col TO 1 MINUS grid AT index row AT index col  
        
        SET score TO 0  
        FOR each row IN grid  
            SET binary_number TO concatenation of elements of row AS strings  
            INCREMENT score BY integer value of binary_number INTERPRETED AS binary  
        
        RETURN score  
    END FUNCTION  
END CLASS