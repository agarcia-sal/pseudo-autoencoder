CLASS Solution  
    FUNCTION maximumSwap(num)  
        SET digits TO list of characters in string representation of num  
        SET last TO dictionary mapping each digit converted to integer TO its last index in digits  
        
        FOR each index i and digit d IN digits  
            FOR each digit d2 FROM 9 DOWN TO digit d converted to integer PLUS 1  
                IF last contains d2 AND last[d2] GREATER THAN i  
                    SWAP digits at positions i and last[d2]  
                    RETURN integer converted from joined digits  
        RETURN num  
    END FUNCTION  
END CLASS