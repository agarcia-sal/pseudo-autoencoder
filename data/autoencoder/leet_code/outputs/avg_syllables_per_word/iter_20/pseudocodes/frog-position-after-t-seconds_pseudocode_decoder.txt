CLASS Solution  
    FUNCTION frogPosition WITH PARAMETERS n INTEGER edges LIST OF LIST OF INTEGER t INTEGER target INTEGER  
        IF n EQUALS one  
            RETURN one POINT zero  
        END IF  
        
        SET graph TO a new mapping that returns an empty list for missing keys  
        FOR each pair u AND v IN edges  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        
        SET queue TO a new double-ended queue initialized with a tuple of current node one current probability one POINT zero current time zero  
        SET visited TO a new set containing only one  
        
        WHILE queue is not empty  
            REMOVE the element from the front of queue and ASSIGN elements to current_node current_probability current_time  
            
            IF current_time EQUALS t OR current_node NOT EQUALS one AND the LENGTH OF element at position current_node of graph EQUALS one  
                IF current_node EQUALS target  
                    RETURN current_probability  
                ELSE  
                    CONTINUE to the next iteration of the WHILE loop  
                END IF  
            END IF  
            
            SET possible_moves TO the LENGTH OF element at position current_node of graph MINUS one IF current_node NOT EQUALS one OTHERWISE zero  
            
            FOR each neighbor IN element at position current_node of graph  
                IF neighbor is NOT IN visited  
                    ADD neighbor TO visited  
                    APPEND a tuple of neighbor current_probability DIVIDED BY possible_moves current_time PLUS one TO queue  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN zero POINT zero  
    END FUNCTION  
END CLASS