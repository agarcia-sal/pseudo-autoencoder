CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i of trees  
            SET b TO element at position j of trees  
            SET c TO element at position k of trees  
            RETURN the value of the quantity which is the difference between the product of the difference between the first coordinate of element at position j of trees MINUS the first coordinate of element at position i of trees AND the difference between the second coordinate of element at position k of trees MINUS the second coordinate of element at position j of trees AND the product of the difference between the second coordinate of element at position j of trees MINUS the second coordinate of element at position i of trees AND the difference between the first coordinate of element at position k of trees MINUS the first coordinate of element at position j of trees  
        END FUNCTION  
      
        SET n TO the length of trees  
        IF n IS LESS THAN four  
            RETURN trees  
        END IF  
        
        SORT trees in ascending order according to their natural ordering  
        SET vis TO a list of Boolean false values of length n  
        SET stk TO a list containing the single element zero  
        
        FOR i FROM one TO n MINUS one  
            WHILE the length of stk IS GREATER THAN one AND the value returned by calling cross with arguments element at position two less than the length of stk MINUS two of stk, element at position of stk at position one less than the length of stk, AND i IS LESS THAN zero  
                SET the value at position equal to the element popped from the end of stk in vis TO false  
            END WHILE  
            SET the value at position i of vis TO true  
            APPEND i TO stk  
        END FOR  
        
        SET m TO the length of stk  
        
        FOR i FROM n MINUS two DOWN TO zero  
            IF the value at position i of vis IS true  
                CONTINUE to the next iteration of the loop  
            END IF  
            WHILE the length of stk IS GREATER THAN m AND the value returned by calling cross with arguments element at position two less than the length of stk MINUS two of stk, element at position of stk at position one less than the length of stk, AND i IS LESS THAN zero  
                POP the last element from stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
        
        POP the last element from stk  
        
        RETURN the list constructed by collecting elements at positions indicated by each index in stk from trees  
    END FUNCTION  
END CLASS