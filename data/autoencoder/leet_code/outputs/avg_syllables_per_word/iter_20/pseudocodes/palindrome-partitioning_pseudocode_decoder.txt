CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            RETURN the sub IS EQUAL TO the reversal of the sub  
        END FUNCTION  
  
        FUNCTION backtrack(start, path)  
            IF the start IS EQUAL TO the LENGTH OF s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
            FOR end FROM start PLUS one TO the LENGTH OF s PLUS one  
                IF the substring from position start TO position end MINUS one of s IS A PALINDROME ACCORDING TO is_palindrome THEN  
                    CALL backtrack WITH arguments end AND the concatenation of path AND the substring from position start TO position end MINUS one of s  
                END IF  
            END FOR  
        END FUNCTION  
  
        SET result TO an empty list  
        CALL backtrack WITH arguments zero AND an empty list  
        RETURN result  
    END FUNCTION  
END CLASS