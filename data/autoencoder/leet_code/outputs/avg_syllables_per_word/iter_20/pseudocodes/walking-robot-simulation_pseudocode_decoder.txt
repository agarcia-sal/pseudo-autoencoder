CLASS Solution  
    FUNCTION robotSim(commands, obstacles)  
        SET directions TO a list containing the pairs zero and one then one and zero then zero and minus one then minus one and zero representing North East South and West directions respectively  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero representing starting direction facing North  
        SET obstacles_set TO the set of converting each element of obstacles into a tuple  
        SET max_distance TO zero  
        FOR each command IN commands  
            IF command EQUALS minus two  
                SET dir_index TO the remainder of dir_index minus one divided by four  
            ELSE IF command EQUALS minus one  
                SET dir_index TO the remainder of dir_index plus one divided by four  
            ELSE  
                SET dx TO the element at position dir_index of directions then the first element of that pair  
                SET dy TO the element at position dir_index of directions then the second element of that pair  
                FOR each number from one TO command  
                    SET next_x TO x PLUS dx  
                    SET next_y TO y PLUS dy  
                    IF the pair next_x and next_y IS IN obstacles_set  
                        BREAK out of the current loop  
                    END IF  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET current_distance TO x MULTIPLIED BY x PLUS y MULTIPLIED BY y  
                IF current_distance GREATER THAN max_distance  
                    SET max_distance TO current_distance  
                END IF  
            END IF  
        END FOR  
        RETURN max_distance  
    END FUNCTION  
END CLASS