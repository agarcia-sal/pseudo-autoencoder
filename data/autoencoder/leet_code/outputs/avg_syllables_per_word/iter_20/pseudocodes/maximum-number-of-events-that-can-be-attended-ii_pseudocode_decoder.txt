CLASS Solution  
    FUNCTION maxValue(events AS List OF List OF integer, k AS integer) RETURNS integer  
        SORT the list events IN ascending order BY the end day of each event  
        SET n TO the LENGTH OF the list events  
        INITIALIZE two dimensional list dp WITH zeros HAVING n PLUS one rows AND k PLUS one columns  
  
        FOR index i FROM one TO n  
            SET start TO the element at position one of the element at position i MINUS one of the list events  
            SET end TO the element at position two of the element at position i MINUS one of the list events  
            SET value TO the element at position three of the element at position i MINUS one of the list events  
  
            SET j TO the POSITION found BY locating the leftmost index AT which start CAN BE inserted INTO the list events TO KEEP the events sorted BY their end day  
  
            FOR index l FROM one TO k  
                SET the element at position l of the row i of dp TO the GREATER value BETWEEN the element at position l of the row i MINUS one of dp AND the sum of the element at position l MINUS one of the row j of dp PLUS value  
            END FOR  
        END FOR  
  
        RETURN the element at position k of the row n of dp  
    END FUNCTION  
END CLASS