CLASS Solution  
    FUNCTION scheduleCourse WITH PARAMETER courses OF TYPE List OF List OF Integer  
        SORT courses BY the element at position one of each course  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each course WITH elements duration AND last_day IN courses  
            IF the sum of current_end_day AND duration IS LESS THAN OR EQUAL TO last_day  
                PUSH the negative of duration INTO max_heap USING HEAP PUSH  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap IS NOT EMPTY AND the negation of the element at position zero of max_heap IS GREATER THAN duration  
                INCREMENT current_end_day BY duration PLUS the result of HEAP POP from max_heap  
                PUSH the negative of duration INTO max_heap USING HEAP PUSH  
            END IF  
        END FOR  
        RETURN the LENGTH OF max_heap  
    END FUNCTION  
END CLASS