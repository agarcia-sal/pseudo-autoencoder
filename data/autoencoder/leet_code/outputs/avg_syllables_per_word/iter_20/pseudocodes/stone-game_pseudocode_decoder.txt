CLASS Solution  
    FUNCTION stoneGame WITH parameter piles AS list_of_integers  
        FUNCTION dfs WITH parameters i AS integer AND j AS integer  
            IF i GREATER THAN j  
                RETURN zero  
            END IF  
            RETURN the maximum BETWEEN element at position i of piles MINUS the result of dfs WITH parameters i PLUS one AND j AND element at position j of piles MINUS the result of dfs WITH parameters i AND j MINUS one  
        END FUNCTION  
        RETURN the result of dfs WITH parameters zero AND the LENGTH OF piles MINUS one GREATER THAN zero  
    END FUNCTION  
END CLASS