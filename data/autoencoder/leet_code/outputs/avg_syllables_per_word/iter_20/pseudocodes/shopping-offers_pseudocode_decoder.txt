CLASS Solution  
    FUNCTION shoppingOffers(price LIST OF INTEGER, special LIST OF LIST OF INTEGER, needs LIST OF INTEGER) RETURNS INTEGER  
        SET special TO FILTERED LIST OF offer FROM special WHERE THE SUM OF ELEMENTS FROM FIRST ELEMENT TO THE SECOND LAST ELEMENT OF offer IS GREATER THAN ZERO AND THE LAST ELEMENT OF offer IS LESS THAN THE SUM OF EACH CORRESPONDING ELEMENT OF price MULTIPLIED BY THE CORRESPONDING ELEMENT OF offer FROM FIRST ELEMENT TO THE SECOND LAST ELEMENT  
        
        FUNCTION dfs(needs TUPLE OF INTEGER) RETURNS INTEGER  
            SET min_cost TO THE SUM OF EACH CORRESPONDING ELEMENT OF price MULTIPLIED BY THE CORRESPONDING ELEMENT OF needs  
            FOR each offer IN special  
                SET new_needs TO LIST OF EACH ELEMENT OF needs MINUS THE CORRESPONDING ELEMENT OF offer FROM FIRST ELEMENT TO THE SECOND LAST ELEMENT  
                IF ALL ELEMENTS OF new_needs ARE GREATER THAN OR EQUAL TO ZERO  
                    SET min_cost TO THE MINIMUM OF min_cost AND THE LAST ELEMENT OF offer PLUS THE RESULT OF CALLING dfs WITH new_needs CONVERTED TO TUPLE  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN THE RESULT OF CALLING dfs WITH needs CONVERTED TO TUPLE  
    END FUNCTION  
END CLASS