CLASS Solution  
    FUNCTION longestIncreasingPath(matrix)  
        IF matrix EQUALS empty OR element at position zero of matrix EQUALS empty  
            RETURN zero  
        END IF  

        SET m TO the LENGTH OF matrix  
        SET n TO the LENGTH OF element at position zero of matrix  
        SET directions TO the LIST containing the TUPLE of one and zero and the TUPLE of MINUS one and zero and the TUPLE of zero and one and the TUPLE of zero and MINUS one  
        SET dp TO a LIST of LISTS of MINUS one repeated n times repeated m times  

        FUNCTION dfs(x, y)  
            IF element at position x of dp at position y NOT EQUALS MINUS one  
                RETURN element at position x of dp at position y  
            END IF  

            SET max_length TO one  
            FOR each dx, dy IN directions  
                SET nx TO x PLUS dx  
                SET ny TO y PLUS dy  
                IF nx GREATER THAN OR EQUAL TO zero AND nx LESS THAN m AND ny GREATER THAN OR EQUAL TO zero AND ny LESS THAN n AND element at position nx of matrix at position ny GREATER THAN element at position x of matrix at position y  
                    SET candidate_length TO one PLUS dfs(nx, ny)  
                    IF candidate_length GREATER THAN max_length  
                        SET max_length TO candidate_length  
                    END IF  
                END IF  
            END FOR  

            SET element at position x of dp at position y TO max_length  
            RETURN max_length  
        END FUNCTION  

        SET longest_path TO zero  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                SET candidate_path TO dfs(i, j)  
                IF candidate_path GREATER THAN longest_path  
                    SET longest_path TO candidate_path  
                END IF  
            END FOR  
        END FOR  

        RETURN longest_path  
    END FUNCTION  
END CLASS