CLASS Solution  
    FUNCTION minimumTime(n, relations, time)  
        SET graph TO a mapping from a course to a list of prerequisite courses with default empty list  
        FOR each pair previous course AND next course IN relations  
            APPEND previous course TO the list at next course in graph  
        END FOR  

        SET memo TO a list of length n plus one filled with minus one  

        FUNCTION dfs(course)  
            IF the element at position course of memo DOES NOT EQUAL minus one THEN  
                RETURN the element at position course of memo  
            END IF  

            SET max prerequisite time TO zero  
            FOR each previous course IN the list at course in graph  
                SET max prerequisite time TO the greater of max prerequisite time AND dfs(previous course)  
            END FOR  

            SET the element at position course of memo TO max prerequisite time PLUS the element at position course minus one of time  
            RETURN the element at position course of memo  
        END FUNCTION  

        SET total minimum time TO zero  
        FOR course FROM one TO n  
            SET total minimum time TO the greater of total minimum time AND dfs(course)  
        END FOR  

        RETURN total minimum time  
    END FUNCTION  
END CLASS