CLASS Solution  
    FUNCTION areConnected(n, threshold, queries)  
        IF threshold EQUALS zero  
            RETURN a list of True values with the LENGTH OF queries  
        END IF  

        SET parent TO a list containing the sequence of integers FROM zero TO n inclusive  

        FUNCTION find(x)  
            IF the element at position x of parent DOES NOT EQUAL x  
                SET the element at position x of parent TO the result of find of the element at position x of parent  
            END IF  
            RETURN the element at position x of parent  
        END FUNCTION  

        FUNCTION union(x, y)  
            SET rootX TO the result of find of x  
            SET rootY TO the result of find of y  
            IF rootX DOES NOT EQUAL rootY  
                SET the element at position rootY of parent TO rootX  
            END IF  
        END FUNCTION  

        FOR i FROM threshold PLUS one TO n  
            FOR j FROM two TIMES i TO n IN STEPS OF i  
                CALL union with arguments i and j  
            END FOR  
        END FOR  

        SET result TO an empty list  
        FOR each pair a and b IN queries  
            APPEND the evaluation of the equality of find of a and find of b TO result  
        END FOR  

        RETURN result  
    END FUNCTION  
END CLASS