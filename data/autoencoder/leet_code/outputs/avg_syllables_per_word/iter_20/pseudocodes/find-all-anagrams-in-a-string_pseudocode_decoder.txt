CLASS Solution  
    FUNCTION findAnagrams(s STRING, p STRING) RETURNS LIST OF INTEGER  
        SET length_of_s TO the LENGTH OF s  
        SET length_of_p TO the LENGTH OF p  
        
        IF length_of_p GREATER THAN length_of_s  
            RETURN an EMPTY LIST  
        END IF  
        
        SET p_count TO the FREQUENCY COUNT OF each CHARACTER IN p  
        SET s_count TO the FREQUENCY COUNT OF each CHARACTER IN the SUBSTRING from position zero TO length_of_p MINUS one of s  
        
        SET anagrams TO an EMPTY LIST  
        
        IF the FREQUENCY COUNT s_count EQUALS the FREQUENCY COUNT p_count  
            APPEND zero TO anagrams  
        END IF  
        
        FOR index FROM length_of_p TO length_of_s MINUS one  
            INCREMENT the FREQUENCY COUNT AT the CHARACTER at position index of s BY one IN s_count  
            DECREMENT the FREQUENCY COUNT AT the CHARACTER at position index MINUS length_of_p of s BY one IN s_count  
            
            IF the FREQUENCY COUNT AT the CHARACTER at position index MINUS length_of_p of s EQUALS zero IN s_count  
                REMOVE the CHARACTER at position index MINUS length_of_p of s FROM s_count  
            END IF  
            
            IF the FREQUENCY COUNT s_count EQUALS the FREQUENCY COUNT p_count  
                APPEND the VALUE of index MINUS length_of_p PLUS one TO anagrams  
            END IF  
        END FOR  
        
        RETURN anagrams  
    END FUNCTION  
END CLASS