CLASS Solution  
    FUNCTION countTriplets(nums)  
        SET pair_and_count TO RESULT OF defaultdict FUNCTION WITH parameter integer  
        FOR each i IN nums  
            FOR each j IN nums  
                SET current_key TO bitwise AND of i AND j  
                INCREMENT the element at position current_key of pair_and_count BY one  
            END FOR  
        END FOR  
        SET triplet_count TO zero  
        FOR each k IN nums  
            FOR each key_value_pair IN the items of pair_and_count  
                SET pair_and TO the first element of key_value_pair  
                SET count TO the second element of key_value_pair  
                IF the bitwise AND of pair_and AND k EQUALS zero  
                    INCREMENT triplet_count BY count  
                END IF  
            END FOR  
        END FOR  
        RETURN triplet_count  
    END FUNCTION  
END CLASS