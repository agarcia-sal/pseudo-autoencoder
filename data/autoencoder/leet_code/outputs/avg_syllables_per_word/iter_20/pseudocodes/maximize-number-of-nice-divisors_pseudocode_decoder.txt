CLASS Solution  
    FUNCTION maxNiceDivisors(primeFactors)  
        SET MOD TO one billion PLUS seven  
        
        IF primeFactors LESS THAN OR EQUAL TO three  
            RETURN primeFactors  
        END IF  
        
        SET num_threes TO the result of integer division of primeFactors BY three  
        SET remainder TO the remainder of primeFactors DIVIDED BY three  
        
        IF remainder EQUALS zero  
            RETURN the result of three RAISED TO THE POWER num_threes UNDER MODULO MOD  
        ELSE IF remainder EQUALS one  
            RETURN the result of three RAISED TO THE POWER of num_threes MINUS one UNDER MODULO MOD MULTIPLIED BY four UNDER MODULO MOD  
        ELSE  
            RETURN the result of three RAISED TO THE POWER num_threes UNDER MODULO MOD MULTIPLIED BY two UNDER MODULO MOD  
        END IF  
    END FUNCTION  
END CLASS