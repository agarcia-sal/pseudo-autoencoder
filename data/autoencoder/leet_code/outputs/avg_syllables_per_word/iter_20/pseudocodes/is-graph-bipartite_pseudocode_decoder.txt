CLASS Solution  
    FUNCTION isBipartite(graph AS list of list of integers) RETURNS boolean  
        SET n TO the LENGTH OF graph  
        SET color TO a list of n elements each set TO zero  
        
        FUNCTION dfs(node AS integer, c AS integer) RETURNS boolean  
            SET the element at position node of color TO c  
            FOR each neighbor IN the element at position node of graph  
                IF the element at position neighbor of color EQUALS c THEN  
                    RETURN False  
                END IF  
                IF the element at position neighbor of color EQUALS zero THEN  
                    SET result TO the CALL OF dfs WITH neighbor AND negative c  
                    IF result EQUALS False THEN  
                        RETURN False  
                    END IF  
                END IF  
            END FOR  
            RETURN True  
        END FUNCTION  
        
        FOR i FROM zero TO n MINUS one  
            IF the element at position i of color EQUALS zero THEN  
                SET result TO the CALL OF dfs WITH i AND one  
                IF result EQUALS False THEN  
                    RETURN False  
                END IF  
            END IF  
        END FOR  
        
        RETURN True  
    END FUNCTION  
END CLASS