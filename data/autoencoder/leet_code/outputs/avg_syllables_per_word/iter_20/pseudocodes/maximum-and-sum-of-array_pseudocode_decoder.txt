CLASS Solution  
    FUNCTION maximumANDSum(nums AS List OF Integer, numSlots AS Integer) AS Integer  
        FUNCTION dp(index AS Integer, slots AS Tuple) AS Integer  
            IF index EQUALS the LENGTH OF nums  
                RETURN zero  
            END IF  
            
            SET max_and_sum TO zero  
            SET slots_list TO a LIST converted from slots  
            
            FOR i FROM zero TO numSlots MINUS one  
                IF the element at position i of slots_list LESS THAN two  
                    INCREMENT the element at position i of slots_list BY one  
                    SET and_sum TO the bitwise AND of the element at position index of nums AND i PLUS one PLUS the result of dp with index incremented by one AND the slots_list converted to TUPLE  
                    IF and_sum GREATER THAN max_and_sum  
                        SET max_and_sum TO and_sum  
                    END IF  
                    DECREMENT the element at position i of slots_list BY one  
                END IF  
            END FOR  
            
            RETURN max_and_sum  
        END FUNCTION  
        
        SET initial_slots TO a TUPLE consisting of zeros repeated numSlots times  
        RETURN the result of dp with zero AND initial_slots  
    END FUNCTION  
END CLASS