CLASS Solution  
    FUNCTION minTaps(n AS integer, ranges AS list of integers)  
        SET max_range TO a new list of zeros with LENGTH equal TO n PLUS one  
        FOR index FROM zero TO n INCLUSIVE  
            IF element at position index of ranges IS GREATER THAN zero  
                SET left TO the GREATER OF zero AND subtracting element at position index of ranges FROM index  
                SET right TO the LESSER OF n AND adding element at position index of ranges TO index  
                SET element at position left of max_range TO the GREATER OF element at position left of max_range AND right  
            END IF  
        END FOR  
        SET taps TO zero  
        SET current_end TO zero  
        SET farthest TO zero  
        FOR index FROM zero TO n INCLUSIVE  
            IF index IS GREATER THAN farthest  
                RETURN negative one  
            END IF  
            IF index IS GREATER THAN current_end  
                INCREMENT taps BY one  
                SET current_end TO farthest  
            END IF  
            SET farthest TO the GREATER OF farthest AND element at position index of max_range  
        END FOR  
        RETURN taps  
    END FUNCTION  
END CLASS