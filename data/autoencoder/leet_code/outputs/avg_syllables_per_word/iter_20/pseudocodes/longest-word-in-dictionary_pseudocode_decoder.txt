CLASS Solution  
    FUNCTION longestWord(words)  
        CALL sort ON words WITH key AS function THAT TAKES parameter x AND RETURNS pair CONSISTING OF LENGTH OF x AND x  
        SET valid_words TO empty set  
        SET longest_word TO empty string  
        FOR each word IN words  
            IF LENGTH OF word EQUALS one OR substring from start TO length of word MINUS one of word IS IN valid_words  
                ADD word TO valid_words  
                IF LENGTH OF word GREATER THAN LENGTH OF longest_word  
                    SET longest_word TO word  
                END IF  
            END IF  
        END FOR  
        RETURN longest_word  
    END FUNCTION  
END CLASS