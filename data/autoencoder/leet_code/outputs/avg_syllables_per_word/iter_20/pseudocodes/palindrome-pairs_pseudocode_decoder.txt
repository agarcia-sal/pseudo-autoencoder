CLASS Solution  
    FUNCTION palindromePairs(words)  
        FUNCTION is_palindrome(s)  
            RETURN the condition that string s EQUALS the reverse order of string s  
        END FUNCTION  
        
        SET word_dict TO a dictionary mapping each word IN words TO its index position  
        SET result TO an empty list  
        
        FOR each index i AND word IN the enumerated words  
            IF the word is an empty string THEN  
                CONTINUE to the next iteration  
            END IF  
            
            IF the word_dict contains the empty string key AND is_palindrome of the word holds THEN  
                APPEND a list containing i AND the index position of the empty string FROM word_dict TO result  
                APPEND a list containing the index position of the empty string FROM word_dict AND i TO result  
            END IF  
            
            SET reversed_word TO the reverse order of the word  
            IF the word_dict contains reversed_word AND the index position of reversed_word IN word_dict IS NOT equal TO i THEN  
                APPEND a list containing i AND the index position of reversed_word FROM word_dict TO result  
            END IF  
            
            FOR each j FROM one TO the length of word MINUS one  
                SET prefix TO the substring from position zero TO position j MINUS one of word  
                SET suffix TO the substring from position j TO the last position of word  
                SET reversed_prefix TO the reverse order of prefix  
                SET reversed_suffix TO the reverse order of suffix  
                
                IF is_palindrome of suffix holds AND reversed_prefix is a key IN word_dict THEN  
                    APPEND a list containing i AND the index position of reversed_prefix FROM word_dict TO result  
                END IF  
                
                IF is_palindrome of prefix holds AND reversed_suffix is a key IN word_dict THEN  
                    APPEND a list containing the index position of reversed_suffix FROM word_dict AND i TO result  
                END IF  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS