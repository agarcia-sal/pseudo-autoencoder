CLASS Solution  
    FUNCTION findPairs(nums AS List OF integer, k AS integer) RETURNS integer  
        IF k IS LESS THAN zero  
            RETURN zero  
        END IF  
        
        SET num_counts TO an empty mapping of integer TO integer  
        FOR each num IN nums  
            IF num IS IN num_counts  
                INCREMENT the element at position num of num_counts BY one  
            ELSE  
                SET the element at position num of num_counts TO one  
            END IF  
        END FOR  
        
        SET unique_pairs TO zero  
        FOR each num IN num_counts  
            IF k EQUALS zero  
                IF the element at position num of num_counts IS GREATER THAN one  
                    INCREMENT unique_pairs BY one  
                END IF  
            ELSE  
                IF the element at position the sum of num PLUS k of num_counts EXISTS  
                    INCREMENT unique_pairs BY one  
                END IF  
            END IF  
        END FOR  
        
        RETURN unique_pairs  
    END FUNCTION  
END CLASS