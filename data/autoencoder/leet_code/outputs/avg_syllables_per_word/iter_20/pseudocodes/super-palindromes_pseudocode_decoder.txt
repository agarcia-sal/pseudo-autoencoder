CLASS Solution  
    FUNCTION superpalindromesInRange(left AS string, right AS string) RETURNS integer  
        FUNCTION is_palindrome(num) RETURNS boolean  
            RETURN the string representation of num EQUALS the reverse of the string representation of num  
        END FUNCTION  
          
        FUNCTION generate_palindromes(limit) RETURNS list of integers  
            SET palindromes TO empty list  
            FOR each integer i FROM one TO one hundred thousand MINUS one  
                SET s TO the string representation of i  
                APPEND the integer conversion of the concatenation of s WITH the substring from the second last character TO the first character of s in reverse order TO palindromes  
                APPEND the integer conversion of the concatenation of s WITH the reverse of s TO palindromes  
            END FOR  
            RETURN the list of elements p in palindromes WHERE p IS LESS THAN OR EQUAL TO limit  
        END FUNCTION  
          
        SET left TO the integer conversion of left  
        SET right TO the integer conversion of right  
        SET limit TO the integer conversion of the square root of right PLUS one  
        SET palindromes TO generate_palindromes WITH limit AS argument  
          
        SET count TO zero  
        FOR each element p IN palindromes  
            SET square TO p MULTIPLIED BY p  
            IF square IS GREATER THAN OR EQUAL TO left AND square IS LESS THAN OR EQUAL TO right AND is_palindrome WITH square AS argument RETURNS true  
                INCREMENT count BY one  
            END IF  
        END FOR  
          
        RETURN count  
    END FUNCTION  
END CLASS