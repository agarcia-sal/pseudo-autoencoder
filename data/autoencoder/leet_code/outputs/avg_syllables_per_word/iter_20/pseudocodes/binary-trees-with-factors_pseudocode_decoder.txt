CLASS Solution  
    FUNCTION numFactoredBinaryTrees(arr)  
        SET MOD TO one billion PLUS seven  
        SORT arr IN ASCENDING ORDER  
        SET dp TO a new dictionary WHERE each number IN arr MAPS TO one  
        FOR index i FROM zero TO the LENGTH OF arr MINUS one  
            SET num TO element at position i of arr  
            FOR index j FROM zero TO i MINUS one  
                SET possible_factor TO element at position j of arr  
                IF num MODULO possible_factor EQUALS zero THEN  
                    SET right_child TO num DIVIDED BY possible_factor  
                    IF right_child IS A KEY IN dp THEN  
                        SET dp[num] TO dp[num] PLUS dp[possible_factor] MULTIPLIED BY dp[right_child] MODULO MOD  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        SET result TO the SUM OF all values in dp MODULO MOD  
        RETURN result  
    END FUNCTION  
END CLASS