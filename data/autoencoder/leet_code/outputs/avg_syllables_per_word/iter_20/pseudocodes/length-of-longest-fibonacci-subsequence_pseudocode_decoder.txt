CLASS Solution  
    FUNCTION lenLongestFibSubseq WITH PARAMETER arr  
        CREATE a MAPPING named index THAT maps each element x TO its position i IN arr  
        CREATE an EMPTY COLLECTION named dp  
        SET max_length TO zero  
        
        FOR each position k FROM zero TO the LENGTH OF arr MINUS one  
            FOR each position j FROM zero TO k MINUS one  
                SET i TO the POSITION FROM index WHERE the ELEMENT EQUALS the ELEMENT at position k OF arr MINUS the ELEMENT at position j OF arr OTHERWISE negative one  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j THEN  
                    SET the VALUE at key consisting of j AND k IN dp TO the VALUE at key consisting of i AND j IN dp OR default two PLUS one  
                    SET max_length TO THE GREATER VALUE BETWEEN max_length AND the VALUE at key consisting of j AND k IN dp  
                END IF  
            END FOR  
        END FOR  
        
        IF max_length IS GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS