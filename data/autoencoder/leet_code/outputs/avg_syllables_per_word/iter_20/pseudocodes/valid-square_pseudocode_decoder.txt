CLASS Solution  
    FUNCTION validSquare(p1, p2, p3, p4)  
        FUNCTION squared_distance(point_one, point_two)  
            SET difference_in_x TO element at position zero of point_one MINUS element at position zero of point_two  
            SET difference_in_y TO element at position one of point_one MINUS element at position one of point_two  
            SET squared_distance_result TO difference_in_x MULTIPLIED BY difference_in_x PLUS difference_in_y MULTIPLIED BY difference_in_y  
            RETURN squared_distance_result  
        END FUNCTION  
  
        SET points TO list containing p1 THEN p2 THEN p3 THEN p4  
        SET distances TO empty set  
  
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET dist TO squared_distance(element at position index_i of points, element at position index_j of points)  
                IF dist EQUALS zero  
                    RETURN false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
  
        IF the size of distances EQUALS two  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS