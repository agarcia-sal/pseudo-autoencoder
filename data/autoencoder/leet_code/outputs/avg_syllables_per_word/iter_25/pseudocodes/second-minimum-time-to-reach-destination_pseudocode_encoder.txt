CLASS Solution  
    FUNCTION secondMinimum WITH PARAMETERS n edges time change  
        SET graph TO an empty list of empty lists for each number FROM one TO n plus one inclusive  
        FOR each pair u v IN edges  
            APPEND v TO element at position u of graph  
            APPEND u TO element at position v of graph  
        END FOR  
        SET queue TO a new double-ended queue initialized with a tuple containing one zero zero  
        SET minTimes TO a list containing lists of two elements each set to positive infinity for each number FROM zero TO n inclusive  
        SET element at position one zero of minTimes TO zero  
        WHILE the length of queue is greater than zero  
            REMOVE and RETURN the leftmost element of queue INTO current currentTime count  
            IF current EQUALS n AND count EQUALS one  
                RETURN currentTime  
            END IF  
            IF the integer division of currentTime by change MODULO two EQUALS zero  
                SET nextTime TO currentTime PLUS time  
            ELSE  
                SET nextTime TO the product of the sum of the integer division of currentTime by change PLUS one and change PLUS time  
            END IF  
            FOR each neighbor IN element at position current of graph  
                IF element at position zero of element at position neighbor of minTimes GREATER THAN nextTime  
                    SET element at position one of element at position neighbor of minTimes TO element at position zero of element at position neighbor of minTimes  
                    SET element at position zero of element at position neighbor of minTimes TO nextTime  
                    APPEND a tuple containing neighbor nextTime zero TO queue  
                ELSE IF element at position zero of element at position neighbor of minTimes LESS THAN nextTime AND nextTime LESS THAN element at position one of element at position neighbor of minTimes  
                    SET element at position one of element at position neighbor of minTimes TO nextTime  
                    APPEND a tuple containing neighbor nextTime one TO queue  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS