CLASS Solution  
    FUNCTION findCheapestPrice WITH PARAMETERS n flights src dst k  
        SET graph TO an empty mapping from integers to empty lists for each integer i starting from zero TO n minus one  
        FOR each flight IN flights  
            ASSIGN u TO the first element of flight  
            ASSIGN v TO the second element of flight  
            ASSIGN w TO the third element of flight  
            APPEND the pair consisting of v and w TO the list at key u in graph  
        END FOR  
        SET min_heap TO a list containing a triple consisting of zero cost zero minus one stops and the source city src  
        SET min_cost TO a mapping with key src and value minus one indicating the minimum stops to reach src  
        WHILE min_heap is not empty  
            TAKE the triple cost stops city FROM the smallest element in min_heap by removing it  
            IF city EQUALS dst  
                RETURN cost  
            END IF  
            IF stops IS GREATER THAN OR EQUAL TO k  
                CONTINUE to the next iteration of the WHILE loop  
            END IF  
            FOR each pair neighbor price IN the list at key city in graph  
                SET next_cost TO cost PLUS price  
                SET next_stops TO stops PLUS one  
                IF neighbor is not a key in min_cost OR next_stops IS LESS THAN the value at min_cost for key neighbor OR next_cost IS LESS THAN the first element of the smallest triple in min_heap  
                    SET the value at key neighbor in min_cost TO next_stops  
                    ADD the triple consisting of next_cost next_stops and neighbor TO min_heap with heap property maintained  
                END IF  
            END FOR  
        END WHILE  
        RETURN minus one  
    END FUNCTION  
END CLASS