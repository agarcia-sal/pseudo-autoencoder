CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO a new mapping that defaults to empty lists  
        FOR each pair u and v IN edges  
            APPEND the tuple consisting of the element at position v of scores and the value v TO the list in graph at key u  
            APPEND the tuple consisting of the element at position u of scores and the value u TO the list in graph at key v  
        END FOR  
        FOR each node IN keys of graph  
            SET graph at key node TO the three largest elements in graph at key node ordered by the first element of the tuple  
        END FOR  
        SET max_score TO negative one  
        FOR each pair u and v IN edges  
            FOR each score1 and x IN the list graph at key u  
                FOR each score2 and y IN the list graph at key v  
                    IF the size of the set consisting of x y u and v EQUALS four  
                        IF score1 PLUS score2 PLUS the element at position u of scores PLUS the element at position v of scores GREATER THAN max_score  
                            SET max_score TO score1 PLUS score2 PLUS the element at position u of scores PLUS the element at position v of scores  
                        END IF  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN max_score  
    END FUNCTION  
END CLASS