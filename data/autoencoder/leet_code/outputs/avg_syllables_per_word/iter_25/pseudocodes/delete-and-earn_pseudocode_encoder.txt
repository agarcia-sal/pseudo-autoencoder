CLASS Solution  
    FUNCTION deleteAndEarn WITH parameter nums  
        SET count TO a collection mapping each unique element of nums to the number of its occurrences  
        SET unique_nums TO unique elements of count arranged in ascending order  
        SET dp TO a list consisting of zero repeated the LENGTH OF unique_nums plus one times  
        SET the element at position one of dp TO the element at position zero of unique_nums MULTIPLIED BY the count corresponding to the element at position zero of unique_nums  
        FOR i FROM two TO the LENGTH OF unique_nums plus one  
            SET num TO the element at position i MINUS one of unique_nums  
            IF num EQUALS to the element at position i MINUS two of unique_nums PLUS one  
                SET the element at position i of dp TO the greater value between the element at position i MINUS one of dp AND the sum of the element at position i MINUS two of dp PLUS num MULTIPLIED BY the count corresponding to num  
            ELSE  
                SET the element at position i of dp TO the sum of the element at position i MINUS one of dp PLUS num MULTIPLIED BY the count corresponding to num  
            END IF  
        END FOR  
        RETURN the last element of dp  
    END FUNCTION  
END CLASS