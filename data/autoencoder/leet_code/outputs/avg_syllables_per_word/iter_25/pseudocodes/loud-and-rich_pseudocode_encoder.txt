CLASS Solution  
    FUNCTION loudAndRich WITH PARAMETERS richer AND quiet  
        CREATE an empty default dictionary named graph that maps each key to an empty list  
        FOR each pair a and b IN richer  
            APPEND a TO the list at key b in graph  
        END FOR  
        SET n TO the length of quiet  
        CREATE a list named answer of length n with each element set to negative one  
        FUNCTION dfs WITH PARAMETER person  
            IF the element at index person of answer EQUALS negative one THEN  
                SET the element at index person of answer TO person  
                FOR each neighbor IN the list at key person in graph  
                    SET candidate TO the result of dfs called with neighbor  
                    IF the element at index candidate of quiet LESS THAN the element at index answer at index person of quiet THEN  
                        SET the element at index person of answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN the element at index person of answer  
        END FUNCTION  
        FOR i FROM zero TO n MINUS one  
            CALL dfs WITH PARAMETER i  
        END FOR  
        RETURN answer  
    END FUNCTION  
END CLASS