CLASS Solution  
    FUNCTION lenLongestFibSubseq WITH PARAMETER arr  
        SET index TO new empty dictionary  
        FOR i FROM zero TO the LENGTH OF arr MINUS one  
            SET x TO element at position i of arr  
            SET index element with key x TO i  
        END FOR  
        SET dp TO new empty dictionary  
        SET max_length TO zero  
        FOR k FROM zero TO the LENGTH OF arr MINUS one  
            FOR j FROM zero TO k MINUS one  
                SET i TO the value in index for key equal to the element at position k of arr MINUS the element at position j of arr OR negative one if key not found  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j THEN  
                    SET dp element with key composed of j and k TO the value in dp for key composed of i and j OR two if key not found PLUS one  
                    SET max_length TO the GREATER OF max_length AND dp element with key composed of j and k  
                END IF  
            END FOR  
        END FOR  
        IF max_length IS GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS