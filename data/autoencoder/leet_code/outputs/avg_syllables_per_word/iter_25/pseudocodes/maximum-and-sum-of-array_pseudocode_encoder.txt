CLASS Solution  
    FUNCTION maximumANDSum WITH PARAMETERS nums AND numSlots  
        FUNCTION dp WITH PARAMETERS index AND slots  
            IF index EQUALS the LENGTH OF nums THEN  
                RETURN zero  
            END IF  
            
            SET max_and_sum TO zero  
            SET slots_list TO CONVERT slots TO A LIST  
            
            FOR i FROM zero TO numSlots MINUS one  
                IF the ELEMENT at position i OF slots_list IS LESS THAN two THEN  
                    INCREMENT the ELEMENT at position i OF slots_list BY one  
                    SET and_sum TO THE BITWISE AND OF the ELEMENT at position index OF nums AND the SUM of i PLUS one PLUS THE RESULT OF CALLING dp WITH PARAMETERS index PLUS one AND THE CONVERSION OF slots_list TO A TUPLE  
                    SET max_and_sum TO THE GREATER OF max_and_sum AND and_sum  
                    DECREMENT the ELEMENT at position i OF slots_list BY one  
                END IF  
            END FOR  
            
            RETURN max_and_sum  
        END FUNCTION  
        
        SET initial_slots TO A TUPLE OF ZERO REPEATED numSlots TIMES  
        RETURN THE RESULT OF CALLING dp WITH PARAMETERS zero AND initial_slots  
    END FUNCTION  
END CLASS