CLASS Solution  
    FUNCTION findMinMoves WITH parameter machines  
        SET total_dresses TO the sum of all elements in machines  
        SET n TO the length of machines  
        IF the remainder when total_dresses is divided by n is not equal to zero  
            RETURN negative one  
        END IF  
        SET target TO the integer division of total_dresses by n  
        SET left_sum TO zero  
        SET max_moves TO zero  
        FOR i FROM zero TO n MINUS one  
            SET left_excess TO left_sum MINUS target MULTIPLIED BY i  
            SET right_excess TO total_dresses MINUS left_sum MINUS element at position i of machines MINUS target MULTIPLIED BY (n MINUS i MINUS one)  
            SET current_moves TO the greatest value among the absolute value of left_excess the absolute value of right_excess and element at position i of machines MINUS target  
            SET max_moves TO the greater value between max_moves and current_moves  
            INCREMENT left_sum BY element at position i of machines  
        END FOR  
        RETURN max_moves  
    END FUNCTION  
END CLASS