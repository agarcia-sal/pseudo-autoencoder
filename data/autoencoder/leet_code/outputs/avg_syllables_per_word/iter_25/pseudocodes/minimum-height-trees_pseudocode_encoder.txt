CLASS Solution  
    FUNCTION findMinHeightTrees WITH PARAMETERS n AND edges  
        IF n EQUALS one  
            RETURN a list containing zero  
        END IF  
        SET graph TO a new collection defaulting to an empty list for each key  
        SET degree TO a list of zeros of length n  
        FOR each pair u and v IN edges  
            APPEND v TO the list mapped by u in graph  
            APPEND u TO the list mapped by v in graph  
            INCREMENT the value at index u in degree BY one  
            INCREMENT the value at index v in degree BY one  
        END FOR  
        SET leaves TO a new deque containing all indices i from zero to n MINUS one where the value at index i in degree EQUALS one  
        SET remaining_nodes TO n  
        WHILE remaining_nodes GREATER THAN two  
            SET leaves_count TO the length of leaves  
            DECREMENT remaining_nodes BY leaves_count  
            FOR count FROM one TO leaves_count  
                SET leaf TO the leftmost element removed from leaves  
                FOR each neighbor IN the list mapped by leaf in graph  
                    DECREMENT the value at index neighbor in degree BY one  
                    IF the value at index neighbor in degree EQUALS one  
                        APPEND neighbor TO leaves  
                    END IF  
                END FOR  
            END FOR  
        END WHILE  
        RETURN a list constructed from the elements in leaves  
    END FUNCTION  
END CLASS