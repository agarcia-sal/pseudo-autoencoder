CLASS Solution  
    FUNCTION rob WITH PARAMETER nums  
        FUNCTION rob_linear WITH PARAMETER houses  
            IF houses IS EMPTY THEN  
                RETURN zero  
            END IF  
            IF the LENGTH OF houses EQUALS one THEN  
                RETURN the element at position zero of houses  
            END IF  
            SET dp TO a list of zero repeated the LENGTH OF houses times  
            SET the element at position zero of dp TO the element at position zero of houses  
            SET the element at position one of dp TO the GREATER OF the element at position zero of houses AND the element at position one of houses  
            FOR i FROM two TO the LENGTH OF houses MINUS one  
                SET the element at position i of dp TO the GREATER OF the element at position i MINUS one of dp AND the SUM OF the element at position i MINUS two of dp AND the element at position i of houses  
            END FOR  
            RETURN the element at the last position of dp  
        END FUNCTION  
        IF nums IS EMPTY THEN  
            RETURN zero  
        END IF  
        IF the LENGTH OF nums EQUALS one THEN  
            RETURN the element at position zero of nums  
        END IF  
        RETURN the GREATER OF the CALL TO rob_linear WITH PARAMETER the sublist of nums FROM position zero TO the SECOND TO LAST position AND the CALL TO rob_linear WITH PARAMETER the sublist of nums FROM position one TO the last position  
    END FUNCTION  
END CLASS