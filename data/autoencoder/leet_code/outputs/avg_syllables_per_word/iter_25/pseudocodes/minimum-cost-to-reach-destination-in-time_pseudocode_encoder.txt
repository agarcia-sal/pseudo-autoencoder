CLASS Solution  
    FUNCTION minCost WITH PARAMETERS maxTime passingFees edges  
        SET n TO the LENGTH OF passingFees  
        SET graph TO an empty list containing n empty lists  
        FOR each edge consisting of x y time IN edges  
            APPEND the pair consisting of y and time TO the list at position x of graph  
            APPEND the pair consisting of x and time TO the list at position y of graph  
        END FOR  
        SET pq TO a list containing the tuple consisting of the element at position zero of passingFees the number zero and the number zero  
        SET visited_time TO a list containing n elements each equal to infinity  
        SET the element at position zero of visited_time TO the number zero  
        WHILE pq is not empty  
            EXTRACT the tuple consisting of current_cost current_city current_time FROM pq using heap pop operation  
            IF current_city EQUALS n MINUS one THEN  
                RETURN current_cost  
            END IF  
            FOR each pair consisting of neighbor travel_time IN the list at position current_city of graph  
                SET new_time TO current_time PLUS travel_time  
                SET new_cost TO current_cost PLUS the element at position neighbor of passingFees  
                IF new_time IS LESS THAN OR EQUAL TO maxTime AND new_time IS LESS THAN the element at position neighbor of visited_time OR new_cost IS LESS THAN current_cost THEN  
                    SET the element at position neighbor of visited_time TO new_time  
                    INSERT the tuple consisting of new_cost neighbor new_time INTO pq using heap push operation  
                END IF  
            END FOR  
        END WHILE  
        RETURN MINUS one  
    END FUNCTION  
END CLASS