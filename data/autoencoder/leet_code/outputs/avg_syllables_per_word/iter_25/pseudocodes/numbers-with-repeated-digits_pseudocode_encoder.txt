CLASS Solution  
    FUNCTION numDupDigitsAtMostN WITH PARAMETER n  
        FUNCTION count_unique_digits WITH PARAMETER x  
            SET s TO the string representation of x  
            SET length TO the number of characters in s  
            SET count TO the sum over each i from one TO length MINUS one of nine MULTIPLIED BY perm of nine MINUS i PLUS one AND i MINUS one  
            SET seen TO an empty set  
            FOR each i WITH index AND digit in s  
                FOR each d FROM zero IF i IS zero OTHERWISE one TO the integer value of digit MINUS one  
                    IF d IS not in seen  
                        INCREMENT count BY perm of nine MINUS i AND length MINUS i MINUS one  
                    END IF  
                END FOR  
                IF the integer value of digit IS in seen  
                    BREAK out of the loop  
                END IF  
                ADD the integer value of digit TO seen  
            END FOR  
            ELSE  
                INCREMENT count BY one  
            END ELSE  
            RETURN count  
        END FUNCTION  
        RETURN n MINUS count_unique_digits WITH PARAMETER n  
    END FUNCTION  
  
    FUNCTION perm WITH PARAMETERS m AND n  
        IF n EQUALS zero  
            RETURN one  
        END IF  
        SET result TO one  
        FOR each i FROM zero TO n MINUS one  
            SET result TO result MULTIPLIED BY m MINUS i  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS