CLASS Solution  
    FUNCTION minPushBox(grid)  
        SET directions TO the list containing the pairs minus one zero plus one zero zero minus one zero plus one  
        FOR i FROM zero TO the LENGTH OF grid MINUS one  
            FOR j FROM zero TO the LENGTH OF the element at position zero of grid MINUS one  
                IF element at position i of grid at position j EQUALS the character S  
                    SET player_start TO the pair i j  
                ELSE IF element at position i of grid at position j EQUALS the character B  
                    SET box_start TO the pair i j  
                ELSE IF element at position i of grid at position j EQUALS the character T  
                    SET target TO the pair i j  
                END IF  
            END FOR  
        END FOR  
        SET queue TO a double ended queue containing one tuple consisting of player_start box_start and zero  
        SET visited TO an empty set  
        ADD the tuple consisting of player_start and box_start TO visited  
        WHILE queue is not empty  
            EXTRACT the leftmost element of queue INTO player_pos box_pos and push_count  
            IF box_pos EQUALS target  
                RETURN push_count  
            END IF  
            FOR each pair dx dy IN directions  
                SET new_player_pos TO the pair consisting of the first element of player_pos PLUS dx and the second element of player_pos PLUS dy  
                IF the result of calling is_valid_position on new_player_pos and grid is true  
                    IF new_player_pos EQUALS box_pos  
                        SET new_box_pos TO the pair consisting of the first element of box_pos PLUS dx and the second element of box_pos PLUS dy  
                        IF the result of calling is_valid_position on new_box_pos and grid is true AND the tuple consisting of new_player_pos and new_box_pos is not in visited  
                            ADD the tuple consisting of new_player_pos and new_box_pos TO visited  
                            APPEND to queue the tuple consisting of new_player_pos new_box_pos and push_count PLUS one  
                        END IF  
                    ELSE  
                        IF the tuple consisting of new_player_pos and box_pos is not in visited  
                            ADD the tuple consisting of new_player_pos and box_pos TO visited  
                            APPEND to queue the tuple consisting of new_player_pos box_pos and push_count  
                        END IF  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  

    FUNCTION is_valid_position(position grid)  
        SET x TO the first element of position  
        SET y TO the second element of position  
        RETURN the logical AND of the condition zero LESS THAN OR EQUAL TO x AND x LESS THAN the LENGTH OF grid AND the condition zero LESS THAN OR EQUAL TO y AND y LESS THAN the LENGTH OF the element at position zero of grid AND the condition that the element at position x of grid at position y is not the character number sign  
    END FUNCTION  
END CLASS