CLASS Solution  
    FUNCTION maxNiceDivisors WITH PARAMETER primeFactors  
        SET MOD TO ten MULTIPLIED BY ten MULTIPLIED BY ten MULTIPLIED BY ten MULTIPLIED BY ten MULTIPLIED BY ten MULTIPLIED BY ten PLUS seven  
        
        IF primeFactors LESS THAN OR EQUAL TO three THEN  
            RETURN primeFactors  
        END IF  
        
        SET num_threes TO primeFactors DIVIDED BY three  
        SET remainder TO primeFactors MODULO three  
        
        IF remainder EQUALS zero THEN  
            RETURN three RAISED TO THE POWER OF num_threes MODULO MOD  
        ELSE IF remainder EQUALS one THEN  
            RETURN three RAISED TO THE POWER OF num_threes MINUS one MODULO MOD MULTIPLIED BY four MODULO MOD  
        ELSE  
            RETURN three RAISED TO THE POWER OF num_threes MODULO MOD MULTIPLIED BY two MODULO MOD  
        END IF  
    END FUNCTION  
END CLASS