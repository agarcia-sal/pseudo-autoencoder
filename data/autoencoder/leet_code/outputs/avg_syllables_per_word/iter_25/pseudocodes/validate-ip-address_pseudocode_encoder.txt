CLASS Solution  
    FUNCTION validIPAddress WITH PARAMETER queryIP  
        FUNCTION is_valid_ipv4_block WITH PARAMETER block  
            IF block consists only of digits THEN  
                SET num TO the integer conversion of block  
                IF num is less than or equal to two hundred fifty five AND the string conversion of num equals block THEN  
                    RETURN true  
                ELSE  
                    RETURN false  
                END IF  
            ELSE  
                RETURN false  
            END IF  
        END FUNCTION  

        FUNCTION is_valid_ipv6_block WITH PARAMETER block  
            IF the length of block is greater than or equal to one AND the length of block is less than or equal to four THEN  
                TRY  
                    CONVERT block from hexadecimal representation to integer  
                    RETURN true  
                CATCH ValueError  
                    RETURN false  
                END TRY  
            ELSE  
                RETURN false  
            END IF  
        END FUNCTION  

        SET parts_ipv4 TO the list of substrings of queryIP separated by the period character  
        SET parts_ipv6 TO the list of substrings of queryIP separated by the colon character  

        IF the length of parts_ipv4 equals four AND for every element part in parts_ipv4 the call to is_valid_ipv4_block with argument part returns true THEN  
            RETURN the string IPv4  
        ELSE IF the length of parts_ipv6 equals eight AND for every element part in parts_ipv6 the call to is_valid_ipv6_block with argument part returns true THEN  
            RETURN the string IPv6  
        ELSE  
            RETURN the string Neither  
        END IF  
    END FUNCTION  
END CLASS