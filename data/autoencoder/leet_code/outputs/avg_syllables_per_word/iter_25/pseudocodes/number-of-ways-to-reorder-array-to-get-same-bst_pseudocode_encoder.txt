CLASS Solution  
    FUNCTION numOfWays WITH PARAMETER nums  
        SET MOD TO ten raised to the power of nine PLUS one  
        
        FUNCTION count_ways WITH PARAMETER arr  
            IF the LENGTH OF arr is less than or equal to one THEN  
                RETURN one  
            END IF  
            
            SET root TO the element at position zero of arr  
            SET left_subtree TO a new list containing each element x in arr where x is less than root  
            SET right_subtree TO a new list containing each element x in arr where x is greater than root  
            
            SET ways_left TO the result of calling count_ways with left_subtree as argument  
            SET ways_right TO the result of calling count_ways with right_subtree as argument  
            
            SET total_ways TO the number of combinations of selecting the LENGTH OF left_subtree elements from the sum of the LENGTHS OF left_subtree and right_subtree  
            
            RETURN the remainder of the product of ways_left multiplied by ways_right and then multiplied by total_ways divided by MOD  
        END FUNCTION  
        
        RETURN the remainder of the difference of the result of calling count_ways with nums as argument minus one divided by MOD  
    END FUNCTION  
END CLASS