CLASS Solution  
    FUNCTION convertArray WITH PARAMETER nums  
        FUNCTION min_operations_to_non_decreasing WITH PARAMETER nums  
            SET max_heap TO an empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF max_heap is not empty AND the negative of element at position zero of max_heap is GREATER THAN num  
                    INCREMENT operations BY the difference of the negative of removing the smallest element from max_heap and num  
                    ADD the negative of num TO max_heap  
                END IF  
                ADD the negative of num TO max_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  

        FUNCTION min_operations_to_non_increasing WITH PARAMETER nums  
            SET min_heap TO an empty list  
            SET operations TO zero  
            FOR each num IN nums  
                IF min_heap is not empty AND element at position zero of min_heap is LESS THAN num  
                    INCREMENT operations BY the difference of num and removing the smallest element from min_heap  
                    ADD num TO min_heap  
                END IF  
                ADD num TO min_heap  
            END FOR  
            RETURN operations  
        END FUNCTION  

        RETURN the minimum of calling min_operations_to_non_decreasing with nums and calling min_operations_to_non_increasing with nums  
    END FUNCTION  
END CLASS