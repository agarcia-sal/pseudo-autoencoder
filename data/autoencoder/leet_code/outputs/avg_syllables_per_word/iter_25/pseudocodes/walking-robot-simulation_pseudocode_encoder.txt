CLASS Solution  
    FUNCTION robotSim(commands, obstacles)  
        SET directions TO a list of tuples of zero and one then one and zero then zero and negative one then negative one and zero corresponding to facing north east south and west  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero representing starting facing north  
        SET obstacles_set TO a set of tuples created from each element in obstacles  
        SET max_distance TO zero  
        
        FOR each command IN commands  
            IF command EQUALS negative two indicating turn left  
                SET dir_index TO the remainder of dir_index MINUS one DIVIDED BY four  
            ELSE IF command EQUALS negative one indicating turn right  
                SET dir_index TO the remainder of dir_index PLUS one DIVIDED BY four  
            ELSE indicating move forward  
                SET dx TO the first element of directions at position dir_index  
                SET dy TO the second element of directions at position dir_index  
                FOR counter FROM one TO command  
                    SET next_x TO x PLUS dx  
                    SET next_y TO y PLUS dy  
                    IF the tuple of next_x and next_y IS IN obstacles_set  
                        BREAK out of inner loop  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET max_distance TO the greater of max_distance and x MULTIPLIED BY x PLUS y MULTIPLIED BY y  
        END FOR  
        
        RETURN max_distance  
    END FUNCTION  
END CLASS