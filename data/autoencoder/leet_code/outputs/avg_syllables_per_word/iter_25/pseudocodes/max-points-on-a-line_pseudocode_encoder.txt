CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF the element at position zero of p1 EQUALS the element at position zero of p2  
                RETURN positive infinity  
            END IF  
            RETURN the difference between the element at position one of p1 AND the element at position one of p2 DIVIDED BY the difference between the element at position zero of p1 AND the element at position zero of p2  
        END FUNCTION  
      
        SET max_points TO zero  
      
        FOR i FROM zero TO the LENGTH OF points MINUS one  
            SET slopes TO a new empty mapping from default integer values  
            FOR j FROM zero TO the LENGTH OF points MINUS one  
                IF i NOT EQUALS j  
                    SET s TO the result of calling slope WITH the element at position i of points AND the element at position j of points  
                    INCREMENT the value at key s IN slopes BY one  
                    SET max_points TO the greater of max_points AND the value at key s IN slopes  
                END IF  
            END FOR  
        END FOR  
      
        IF points is not empty  
            RETURN max_points PLUS one  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS