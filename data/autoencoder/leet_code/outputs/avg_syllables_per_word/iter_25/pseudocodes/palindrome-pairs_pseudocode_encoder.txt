CLASS Solution  
    FUNCTION palindromePairs(words)  
        FUNCTION is_palindrome(s)  
            RETURN true if string s is equal to the string s reversed from end to start  
        END FUNCTION  
        
        SET word_dict TO an empty dictionary  
        FOR each index i and each word in the enumeration of words  
            SET the element at word in word_dict TO i  
        END FOR  
        
        SET result TO an empty list  
        
        FOR each index i and each word in the enumeration of words  
            IF word is an empty string THEN  
                CONTINUE to the next iteration  
            END IF  
            
            IF an empty string exists in word_dict AND calling is_palindrome with word returns true THEN  
                APPEND the list containing i and the element at empty string in word_dict TO result  
                APPEND the list containing the element at empty string in word_dict and i TO result  
            END IF  
            
            SET reversed_word TO the string reverse of word by taking characters from end to start  
            IF reversed_word exists in word_dict AND the element at reversed_word in word_dict is not equal to i THEN  
                APPEND the list containing i and the element at reversed_word in word_dict TO result  
            END IF  
            
            FOR integer j FROM one TO the length of word MINUS one  
                SET prefix TO the substring of word from position zero TO position j MINUS one  
                SET suffix TO the substring of word from position j TO the last character  
                SET reversed_prefix TO the string reverse of prefix by taking characters from end to start  
                SET reversed_suffix TO the string reverse of suffix by taking characters from end to start  
                
                IF calling is_palindrome with suffix returns true AND reversed_prefix exists in word_dict THEN  
                    APPEND the list containing i and the element at reversed_prefix in word_dict TO result  
                END IF  
                
                IF calling is_palindrome with prefix returns true AND reversed_suffix exists in word_dict THEN  
                    APPEND the list containing the element at reversed_suffix in word_dict and i TO result  
                END IF  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS