CLASS Solution  
    FUNCTION minimumWeight WITH PARAMETERS n edges src1 src2 dest  
        FUNCTION dijkstra WITH PARAMETERS graph start  
            SET distances TO a list of infinity repeated n times  
            SET element at position start of distances TO zero  
            SET heap TO a list containing a tuple of zero and start  
            WHILE heap is not empty  
                SET current_distance AND current_node TO the result of removing the smallest element from heap  
                IF current_distance is greater than element at position current_node of distances  
                    CONTINUE to next iteration of the loop  
                END IF  
                FOR each neighbor AND weight in the element at position current_node of graph  
                    SET distance TO current_distance PLUS weight  
                    IF distance is less than element at position neighbor of distances  
                        SET element at position neighbor of distances TO distance  
                        ADD the tuple of distance and neighbor to heap  
                    END IF  
                END FOR  
            END WHILE  
            RETURN distances  
        END FUNCTION  
        SET graph TO a list of empty lists repeated n times  
        SET reverse_graph TO a list of empty lists repeated n times  
        FOR each u v w in edges  
            APPEND the tuple of v and w to element at position u of graph  
            APPEND the tuple of u and w to element at position v of reverse_graph  
        END FOR  
        SET dist_from_src1 TO the result of calling dijkstra with graph AND src1  
        SET dist_from_src2 TO the result of calling dijkstra with graph AND src2  
        SET dist_to_dest TO the result of calling dijkstra with reverse_graph AND dest  
        SET min_weight TO infinity  
        FOR each i FROM zero TO n MINUS one  
            IF element at position i of dist_from_src1 is NOT equal to infinity AND element at position i of dist_from_src2 is NOT equal to infinity AND element at position i of dist_to_dest is NOT equal to infinity  
                SET min_weight TO the smaller of min_weight AND the sum of element at position i of dist_from_src1 PLUS element at position i of dist_from_src2 PLUS element at position i of dist_to_dest  
            END IF  
        END FOR  
        IF min_weight is equal to infinity  
            RETURN negative one  
        ELSE  
            RETURN min_weight  
        END IF  
    END FUNCTION  
END CLASS