CLASS Solution  
    FUNCTION numberOfPatterns(m PARAMETER, n PARAMETER)  
        SET jumps TO a mapping where key one and three maps to two and key one and seven maps to four and key one and nine maps to five and key two and eight maps to five and key three and one maps to two and key three and seven maps to five and key three and nine maps to six and key four and six maps to five and key five and five maps to five and key six and four maps to five and key seven and one maps to four and key seven and three maps to five and key seven and nine maps to eight and key eight and two maps to five and key nine and one maps to five and key nine and three maps to six and key nine and seven maps to eight  
        
        FUNCTION countPatternsFromDot(current PARAMETER, visited PARAMETER, length PARAMETER)  
            IF length EQUALS n  
                RETURN one  
            END IF  
            SET count TO one IF length IS GREATER THAN OR EQUAL TO m OTHERWISE zero  
            FOR next_dot FROM one TO nine  
                IF element at position next_dot of visited IS FALSE  
                    SET jump TO element at position current and next_dot of jumps  
                    IF jump IS NOT DEFINED OR element at position jump of visited IS TRUE  
                        SET element at position next_dot of visited TO TRUE  
                        INCREMENT count BY countPatternsFromDot(next_dot, visited, length PLUS one)  
                        SET element at position next_dot of visited TO FALSE  
                    END IF  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  
        
        SET visited TO a list of ten FALSE values  
        SET result TO zero  
        FOR i FROM one TO nine  
            SET element at position i of visited TO TRUE  
            INCREMENT result BY countPatternsFromDot(i, visited, one)  
            SET element at position i of visited TO FALSE  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS