CLASS Solution  
    FUNCTION replaceWords WITH PARAMETERS dictionary AND sentence  
        SORT dictionary BY the LENGTH OF each element from the smallest TO the largest  
        SPLIT sentence INTO words BY spaces  
        FUNCTION replace WITH PARAMETER word  
            FOR each root IN dictionary  
                IF word STARTS WITH root THEN  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
        CREATE replaced_words AS an empty list  
        FOR each word IN words  
            APPEND the result of calling replace WITH word TO replaced_words  
        END FOR  
        JOIN the elements of replaced_words USING spaces INTO replaced_sentence  
        RETURN replaced_sentence  
    END FUNCTION  
END CLASS