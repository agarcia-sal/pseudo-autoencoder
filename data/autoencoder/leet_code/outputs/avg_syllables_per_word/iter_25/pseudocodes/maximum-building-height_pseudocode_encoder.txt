CLASS Solution  
    FUNCTION maxBuilding WITH PARAMETERS n AND restrictions  
        APPEND a list consisting of the integer one and the integer zero TO restrictions  
        SORT restrictions IN ascending order  
        FOR each integer i FROM one TO the length of restrictions MINUS one  
            SET idx TO the element at position zero of the element at position i of restrictions  
            SET height TO the element at position one of the element at position i of restrictions  
            SET prev_idx TO the element at position zero of the element at position i MINUS one of restrictions  
            SET prev_height TO the element at position one of the element at position i MINUS one of restrictions  
            SET the element at position one of the element at position i of restrictions TO the smaller between height AND prev_height PLUS idx MINUS prev_idx  
        END FOR  
        FOR each integer i FROM the length of restrictions MINUS two DOWN TO zero  
            SET idx TO the element at position zero of the element at position i of restrictions  
            SET height TO the element at position one of the element at position i of restrictions  
            SET next_idx TO the element at position zero of the element at position i PLUS one of restrictions  
            SET next_height TO the element at position one of the element at position i PLUS one of restrictions  
            SET the element at position one of the element at position i of restrictions TO the smaller between height AND next_height PLUS next_idx MINUS idx  
        END FOR  
        SET max_height TO zero  
        SET prev_idx TO the element at position zero of the element at position zero of restrictions  
        SET prev_height TO the element at position one of the element at position zero of restrictions  
        FOR each integer i FROM one TO the length of restrictions MINUS one  
            SET idx TO the element at position zero of the element at position i of restrictions  
            SET height TO the element at position one of the element at position i of restrictions  
            SET max_height TO the larger between max_height AND the integer division of idx MINUS prev_idx PLUS prev_height PLUS height BY two  
            SET prev_idx TO idx  
            SET prev_height TO height  
        END FOR  
        SET max_height TO the larger between max_height AND prev_height PLUS n MINUS prev_idx  
        RETURN max_height  
    END FUNCTION  
END CLASS