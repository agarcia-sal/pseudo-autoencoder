CLASS Solution  
    FUNCTION maximumNumberOfOnes WITH PARAMETERS width height sideLength maxOnes  
        INITIALIZE a list called freq WITH length sideLength MULTIPLIED BY sideLength FILLED WITH zero  
        FOR variable i FROM zero TO width MINUS one  
            FOR variable j FROM zero TO height MINUS one  
                CALCULATE position AS the remainder of i DIVIDED BY sideLength MULTIPLIED BY sideLength PLUS the remainder of j DIVIDED BY sideLength  
                INCREMENT element at position of freq BY one  
            END FOR  
        END FOR  
        SORT freq IN order of descending value  
        SET result TO the sum of the first maxOnes elements of freq  
        RETURN result  
    END FUNCTION  
END CLASS