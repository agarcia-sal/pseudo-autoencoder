CLASS Solution  
    FUNCTION topKFrequent(nums PARAMETER, k PARAMETER)  
        SET frequency_map TO a new mapping that returns zero for missing keys  
        FOR each number IN nums  
            INCREMENT the value at key number in frequency_map BY one  
        END FOR  
        SET max_frequency TO the maximum value among all values in frequency_map  
        SET buckets TO a new list of empty lists where the number of empty lists is max_frequency PLUS one  
        FOR each pair of number and frequency IN frequency_map  
            APPEND number TO the element at position frequency of buckets  
        END FOR  
        SET result TO an empty list  
        FOR each frequency FROM max_frequency DOWN TO one DECREMENTING BY one  
            IF the length of the element at position frequency of buckets IS GREATER THAN zero  
                EXTEND result BY all elements in the element at position frequency of buckets  
                IF the length of result IS GREATER THAN OR EQUAL TO k  
                    RETURN the sublist of result from position one TO position k  
                END IF  
            END IF  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS