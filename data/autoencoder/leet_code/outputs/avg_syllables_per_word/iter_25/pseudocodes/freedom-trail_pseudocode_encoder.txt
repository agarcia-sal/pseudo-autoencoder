CLASS Solution  
    FUNCTION findRotateSteps WITH PARAMETERS ring key  
        SET char_positions TO a new dictionary with default empty list for each key  
        FOR each index i and each character char IN ring WITH index  
            APPEND i TO the list at key char of char_positions  
        END FOR  
        SET n TO the length of ring  

        FUNCTION dp WITH PARAMETERS i prev_pos  
            IF i EQUALS the length of key THEN  
                RETURN zero  
            END IF  
            SET min_steps TO infinity  
            FOR each pos IN the list at key character at position i of key in char_positions  
                SET clockwise TO the remainder of pos MINUS prev_pos DIVIDED BY n  
                SET anticlockwise TO the remainder of prev_pos MINUS pos DIVIDED BY n  
                SET steps TO the minimum of clockwise and anticlockwise PLUS one PLUS the result of dp called with arguments i PLUS one and pos  
                SET min_steps TO the minimum of min_steps and steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  

        RETURN the result of dp called with arguments zero and zero  
    END FUNCTION  
END CLASS