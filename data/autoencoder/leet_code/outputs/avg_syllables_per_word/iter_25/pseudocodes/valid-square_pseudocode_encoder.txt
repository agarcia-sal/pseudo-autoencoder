CLASS Solution  
    FUNCTION validSquare WITH PARAMETERS p1 p2 p3 p4  
        FUNCTION squared_distance WITH PARAMETERS p1 p2  
            SET horizontal_difference TO element at position zero of p1 MINUS element at position zero of p2  
            SET vertical_difference TO element at position one of p1 MINUS element at position one of p2  
            SET squared_horizontal TO horizontal_difference MULTIPLIED BY horizontal_difference  
            SET squared_vertical TO vertical_difference MULTIPLIED BY vertical_difference  
            RETURN squared_horizontal PLUS squared_vertical  
        END FUNCTION  
      
        SET points TO a list containing p1 p2 p3 p4  
        SET distances TO an empty set  
      
        FOR each i FROM zero TO three  
            FOR each j FROM i PLUS one TO three  
                SET dist TO squared_distance with arguments element at position i of points and element at position j of points  
                IF dist EQUALS zero THEN  
                    RETURN false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
      
        IF the LENGTH OF distances EQUALS two THEN  
            RETURN true  
        ELSE  
            RETURN false  
        END IF  
    END FUNCTION  
END CLASS