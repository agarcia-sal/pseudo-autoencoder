CLASS Solution  
    FUNCTION maximumRequests WITH PARAMETERS n requests  
        SET max_requests TO zero  
        SET num_requests TO the LENGTH OF requests  
        FOR each mask FROM zero TO two RAISED TO the POWER OF num_requests MINUS one  
            SET balance TO a list of zeros of LENGTH n  
            SET count TO zero  
            FOR each i FROM zero TO num_requests MINUS one  
                IF the BITWISE AND of mask AND two RAISED TO the POWER OF i IS NOT EQUAL TO zero  
                    SET from_building TO the element at position zero of the element at position i of requests  
                    SET to_building TO the element at position one of the element at position i of requests  
                    DECREMENT the element at position from_building of balance BY one  
                    INCREMENT the element at position to_building of balance BY one  
                    INCREMENT count BY one  
                END IF  
            END FOR  
            IF every element b IN balance IS EQUAL TO zero  
                IF max_requests IS LESS THAN count  
                    SET max_requests TO count  
                END IF  
            END IF  
        END FOR  
        RETURN max_requests  
    END FUNCTION  
END CLASS