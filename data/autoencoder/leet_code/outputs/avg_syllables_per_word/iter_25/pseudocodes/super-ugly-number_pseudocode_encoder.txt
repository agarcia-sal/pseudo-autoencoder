CLASS Solution
    FUNCTION nthSuperUglyNumber WITH PARAMETERS n AND primes
        SET ugly_numbers TO a list containing the number one
        SET heap TO a list of pairs where each pair consists of each prime in primes AND its corresponding index starting from zero
        TRANSFORM heap into a min-heap ordering by the first element of each pair
        SET indices TO a list of zeros with the same length as primes
        WHILE the length of ugly_numbers is less than n
            REMOVE the smallest pair from heap and DECOMPOSE it INTO next_ugly AND prime_index
            IF next_ugly is NOT EQUAL TO the last element in ugly_numbers
                APPEND next_ugly TO ugly_numbers
            END IF
            INCREMENT the element at position prime_index in indices BY one
            SET next_multiple TO the element at position prime_index in primes MULTIPLIED BY the element at position indices at prime_index in ugly_numbers
            ADD the pair consisting of next_multiple AND prime_index INTO heap maintaining min-heap order
        END WHILE
        RETURN the last element in ugly_numbers
    END FUNCTION
END CLASS