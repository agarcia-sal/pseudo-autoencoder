CLASS Solution  
    FUNCTION scheduleCourse WITH PARAMETER courses  
        SORT courses BY the second element of each course representing the last day  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each course consisting of duration and last_day IN courses  
            IF current_end_day PLUS duration IS LESS THAN OR EQUAL TO last_day  
                ADD the negative of duration TO max_heap as a new element in the heap  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap is not empty AND the negative of the first element of max_heap IS GREATER THAN duration  
                INCREMENT current_end_day BY duration PLUS the removal of the first element from max_heap  
                ADD the negative of duration TO max_heap as a new element in the heap  
            END IF  
        END FOR  
        RETURN the number of elements in max_heap  
    END FUNCTION  
END CLASS