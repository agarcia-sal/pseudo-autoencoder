CLASS Solution  
    FUNCTION makesquare WITH PARAMETER matchsticks  
        SET total_length TO the SUM OF all elements IN matchsticks  
        IF the remainder WHEN total_length IS DIVIDED BY four IS NOT equal TO zero  
            RETURN False  
        END IF  
        
        SET side_length TO total_length DIVIDED BY four  
        SORT matchsticks IN DESCENDING ORDER  
        
        FUNCTION can_form_sides WITH PARAMETERS sides AND index  
            IF index IS EQUAL TO the LENGTH OF matchsticks  
                IF for every side IN sides the side IS EQUAL TO side_length  
                    RETURN True  
                ELSE  
                    RETURN False  
                END IF  
            END IF  
            
            FOR each i FROM zero TO three  
                IF the element at position i of sides PLUS the element at position index of matchsticks IS LESS THAN OR EQUAL TO side_length  
                    INCREMENT the element at position i of sides BY the element at position index of matchsticks  
                    IF can_form_sides WITH ARGUMENTS sides AND index PLUS one RETURNS True  
                        RETURN True  
                    END IF  
                    DECREMENT the element at position i of sides BY the element at position index of matchsticks  
                END IF  
                
                IF the element at position i of sides IS EQUAL TO zero  
                    BREAK the FOR loop  
                END IF  
            END FOR  
            
            RETURN False  
        END FUNCTION  
        
        RETURN can_form_sides WITH ARGUMENTS a list containing four zeros AND zero  
    END FUNCTION  
END CLASS