CLASS Solution  
    FUNCTION findPairs(nums AS List OF integers, k AS integer) RETURNS integer  
        IF k LESS THAN zero THEN  
            RETURN zero  
        END IF  
        
        SET num_counts TO an empty mapping from integers to integers  
        FOR each num IN nums  
            IF element at position num IN num_counts EXISTS THEN  
                SET current_count TO element at position num IN num_counts  
            ELSE  
                SET current_count TO zero  
            END IF  
            SET element at position num IN num_counts TO current_count PLUS one  
        END FOR  
        
        SET unique_pairs TO zero  
        FOR each num IN all keys of num_counts  
            IF k EQUALS zero THEN  
                IF element at position num IN num_counts GREATER THAN one THEN  
                    INCREMENT unique_pairs BY one  
                END IF  
            ELSE  
                IF num PLUS k IS A KEY IN num_counts THEN  
                    INCREMENT unique_pairs BY one  
                END IF  
            END IF  
        END FOR  
        
        RETURN unique_pairs  
    END FUNCTION  
END CLASS