CLASS Solution  
    FUNCTION sumScores(s)  
        SET n TO the LENGTH OF s  
        SET lcp TO a list of zeroes with LENGTH n  
        SET l TO zero  
        SET r TO zero  
        FOR i FROM one TO n MINUS one  
            IF i LESS THAN OR EQUAL TO r  
                SET lcp element at position i TO the MINIMUM OF (r MINUS i PLUS one) AND lcp element at position (i MINUS l)  
            END IF  
            WHILE (i PLUS lcp element at position i) LESS THAN n AND the character at position lcp element at position i of s EQUALS the character at position (i PLUS lcp element at position i) of s  
                INCREMENT lcp element at position i BY one  
            END WHILE  
            IF (i PLUS lcp element at position i MINUS one) GREATER THAN r  
                SET l TO i  
                SET r TO (i PLUS lcp element at position i MINUS one)  
            END IF  
        END FOR  
        SET total_score TO the SUM OF all elements in lcp PLUS n  
        RETURN total_score  
    END FUNCTION  
END CLASS