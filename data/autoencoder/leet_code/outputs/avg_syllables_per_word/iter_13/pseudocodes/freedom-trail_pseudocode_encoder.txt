CLASS Solution  
    FUNCTION findRotateSteps(ring, key)  
        CREATE a dictionary named char_positions mapping characters TO list of positions in ring  
        FOR index FROM zero TO LENGTH OF ring MINUS one  
            APPEND index TO the list at character at position index of ring IN char_positions  
        END FOR  
        SET n TO the LENGTH OF ring  
  
        FUNCTION dp(i, prev_pos)  
            IF i EQUALS the LENGTH OF key THEN  
                RETURN zero  
            END IF  
            SET min_steps TO a very large number representing infinity  
            FOR each position IN the list at character at position i of key IN char_positions  
                SET clockwise TO the remainder of position MINUS prev_pos DIVIDED BY n  
                SET anticlockwise TO the remainder of prev_pos MINUS position DIVIDED BY n  
                SET steps TO the smaller value BETWEEN clockwise AND anticlockwise PLUS one PLUS the result of dp called with i PLUS one AND position  
                SET min_steps TO the smaller value BETWEEN min_steps AND steps  
            END FOR  
            RETURN min_steps  
        END FUNCTION  
  
        RETURN the result of calling dp with zero AND zero  
    END FUNCTION  
END CLASS