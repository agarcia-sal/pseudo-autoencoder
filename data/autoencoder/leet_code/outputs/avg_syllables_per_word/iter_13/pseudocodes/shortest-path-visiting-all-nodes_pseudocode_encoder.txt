CLASS Solution  
    FUNCTION shortestPathLength(graph)  
        IF graph EQUALS empty  
            RETURN zero  
        END IF  
        SET n TO the LENGTH OF graph  
        SET queue TO a new double ended queue CONTAINING tuples of each node IN the RANGE FROM zero TO n MINUS one AND the result of one LEFT SHIFTED BY the node  
        SET visited TO a new set CONTAINING the same tuples as queue  
        SET steps TO zero  
        SET all_nodes_visited TO the result of one LEFT SHIFTED BY n MINUS one  
        WHILE queue IS NOT empty  
            FOR each number FROM zero TO the LENGTH OF queue MINUS one  
                REMOVE the element at the FRONT OF queue AND ASSIGN TO current_node AND visited_nodes  
                IF visited_nodes EQUALS all_nodes_visited  
                    RETURN steps  
                END IF  
                FOR each neighbor IN element at position current_node OF graph  
                    SET next_visited_nodes TO visited_nodes BITWISE OR the result of one LEFT SHIFTED BY neighbor  
                    SET next_state TO the tuple of neighbor AND next_visited_nodes  
                    IF next_state IS NOT IN visited  
                        ADD next_state TO visited  
                        APPEND next_state TO queue  
                    END IF  
                END FOR  
            END FOR  
            INCREMENT steps BY one  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS