CLASS Solution  
    FUNCTION isEscapePossible(blocked, source, target)  
        IF blocked IS empty  
            RETURN True  
        END IF  

        SET blocked_set TO create a set containing each element transformed into a tuple of the elements of blocked  
        SET n TO the LENGTH OF blocked  
        SET max_steps TO n MULTIPLIED BY the difference of n MINUS one, DIVIDED BY two  

        FUNCTION bfs(start, end)  
            SET queue TO a double ended queue initialized with a tuple of the elements of start  
            SET visited TO a set initialized with the elements of queue  

            WHILE queue IS NOT empty  
                REMOVE and ASSIGN the first element of queue TO variables x and y  

                IF the LENGTH OF visited GREATER THAN max_steps OR x EQUALS the element at position zero of end AND y EQUALS the element at position one of end  
                    RETURN True  
                END IF  

                FOR each pair dx and dy IN the collection of pairs consisting of zero and one, zero and negative one, one and zero, negative one and zero  
                    SET nx TO x PLUS dx  
                    SET ny TO y PLUS dy  

                    IF nx IS GREATER THAN OR EQUAL TO zero AND nx IS LESS THAN one million AND ny IS GREATER THAN OR EQUAL TO zero AND ny IS LESS THAN one million AND the tuple of nx and ny IS NOT IN blocked_set AND the tuple of nx and ny IS NOT IN visited  
                        ADD the tuple of nx and ny TO visited  
                        ADD the tuple of nx and ny TO the end of queue  
                    END IF  
                END FOR  
            END WHILE  

            RETURN False  
        END FUNCTION  

        RETURN the result of the logical AND of calling bfs with parameters source and target AND calling bfs with parameters target and source  
    END FUNCTION  
END CLASS