CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        SET index TO an empty mapping from integer to integer  
        FOR each position i FROM zero TO the LENGTH OF arr MINUS one  
            SET element x TO the element at position i of arr  
            SET mapping of element x TO position i IN index  
        END FOR  
        SET dp TO an empty mapping from pair of integers to integer  
        SET max_length TO zero  
        FOR each position k FROM zero TO the LENGTH OF arr MINUS one  
            FOR each position j FROM zero TO k MINUS one  
                SET difference TO the element at position k of arr MINUS the element at position j of arr  
                SET i TO the position found by GETTING difference FROM index OR minus one if not found  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j THEN  
                    SET previous_length TO the value obtained by GETTING pair of i and j FROM dp OR two if not found  
                    SET the value at pair of j and k IN dp TO previous_length PLUS one  
                    IF the value at pair of j and k in dp IS GREATER THAN max_length THEN  
                        SET max_length TO the value at pair of j and k in dp  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        IF max_length IS GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS