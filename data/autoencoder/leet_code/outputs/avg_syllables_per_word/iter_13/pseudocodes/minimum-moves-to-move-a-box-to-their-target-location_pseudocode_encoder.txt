CLASS Solution  
    FUNCTION minPushBox(grid)  
        SET directions TO list of tuples containing minus one and zero, one and zero, zero and minus one, zero and one  
        FOR index i FROM zero TO the LENGTH OF grid MINUS one  
            FOR index j FROM zero TO the LENGTH OF the element at position zero of grid MINUS one  
                IF element at position i and j of grid EQUALS the character S  
                    SET player_start TO tuple containing i and j  
                ELSE IF element at position i and j of grid EQUALS the character B  
                    SET box_start TO tuple containing i and j  
                ELSE IF element at position i and j of grid EQUALS the character T  
                    SET target TO tuple containing i and j  
                END IF  
            END FOR  
        END FOR  
        INITIALIZE queue AS a deque containing a tuple of player_start, box_start, and zero  
        INITIALIZE visited AS an empty set  
        ADD tuple of player_start and box_start TO visited  
        WHILE queue is not empty  
            REMOVE and ASSIGN leftmost element of queue TO player_pos, box_pos, and push_count  
            IF box_pos EQUALS target  
                RETURN push_count  
            END IF  
            FOR each tuple dx and dy IN directions  
                SET new_player_pos TO tuple containing element at position zero of player_pos PLUS dx AND element at position one of player_pos PLUS dy  
                IF the result of calling is_valid_position with new_player_pos and grid IS true  
                    IF new_player_pos EQUALS box_pos  
                        SET new_box_pos TO tuple containing element at position zero of box_pos PLUS dx AND element at position one of box_pos PLUS dy  
                        IF the result of calling is_valid_position with new_box_pos and grid IS true AND the tuple of new_player_pos and new_box_pos IS NOT IN visited  
                            ADD tuple of new_player_pos and new_box_pos TO visited  
                            APPEND tuple of new_player_pos, new_box_pos, and push_count PLUS one TO queue  
                        END IF  
                    ELSE  
                        IF tuple of new_player_pos and box_pos IS NOT IN visited  
                            ADD tuple of new_player_pos and box_pos TO visited  
                            APPEND tuple of new_player_pos, box_pos, and push_count TO queue  
                        END IF  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        RETURN minus one  
    END FUNCTION  
  
    FUNCTION is_valid_position(position, grid)  
        SET x TO element at position zero of position  
        SET y TO element at position one of position  
        RETURN the logical conjunction of x IS GREATER THAN OR EQUAL TO zero AND x IS LESS THAN the LENGTH OF grid AND y IS GREATER THAN OR EQUAL TO zero AND y IS LESS THAN the LENGTH OF element at position zero of grid AND element at position x and y of grid IS NOT the character number sign  
    END FUNCTION  
END CLASS