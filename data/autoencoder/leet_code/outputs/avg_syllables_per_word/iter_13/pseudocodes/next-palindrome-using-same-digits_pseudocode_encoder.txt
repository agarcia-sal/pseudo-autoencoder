CLASS Solution  
    FUNCTION nextPalindrome(num)  
        SET n TO the LENGTH OF num  
        SET half TO the SUBSTRING from position zero TO the WHOLE NUMBER RESULT OF n DIVIDED BY two of num  

        SET half_list TO the LIST conversion OF half  
        SET k TO negative one  
        SET l TO negative one  

        FOR i FROM the LENGTH OF half_list MINUS two DOWN TO zero DECREMENT BY one  
            IF the ELEMENT at position i of half_list IS LESS THAN the ELEMENT at position i PLUS one of half_list  
                SET k TO i  
                BREAK the loop  
            END IF  
        END FOR  

        IF k EQUALS negative one  
            RETURN an EMPTY STRING  
        END IF  

        FOR i FROM the LENGTH OF half_list MINUS one DOWN TO k PLUS one DECREMENT BY one  
            IF the ELEMENT at position i of half_list IS GREATER THAN the ELEMENT at position k of half_list  
                SET l TO i  
                BREAK the loop  
            END IF  
        END FOR  

        SET the ELEMENT at position k of half_list TO the ELEMENT at position l of half_list AND SET the ELEMENT at position l of half_list TO the ELEMENT at position k of half_list TO PERFORM a SWAP  
        SET half_list TO the CONCATENATION of the ELEMENTS from position zero TO k PLUS one of half_list AND the SORTED ELEMENTS from position k PLUS one TO the END of half_list  

        SET new_half TO the CONCATENATION of ELEMENTS of half_list as a STRING  

        IF n MODULO two EQUALS zero  
            RETURN the CONCATENATION of new_half AND the REVERSED new_half  
        ELSE  
            RETURN the CONCATENATION of new_half AND the ELEMENT at position the WHOLE NUMBER RESULT OF n DIVIDED BY two of num AND the REVERSED new_half  
        END IF  
    END FUNCTION  
END CLASS