CLASS Solution  
    FUNCTION findAnagrams(s AS string, p AS string) RETURNS list of integers  
        SET length_of_s TO the LENGTH OF s  
        SET length_of_p TO the LENGTH OF p  
        
        IF length_of_p GREATER THAN length_of_s  
            RETURN an EMPTY list  
        END IF  
        
        SET p_character_count TO a COUNTER of characters in p  
        SET s_character_count TO a COUNTER of characters in s from position one TO length_of_p  
        
        SET anagrams TO an EMPTY list  
        
        IF s_character_count EQUALS p_character_count  
            APPEND zero TO anagrams  
        END IF  
        
        FOR index FROM length_of_p TO length_of_s MINUS one  
            INCREMENT the count of character at position index of s BY one IN s_character_count  
            DECREMENT the count of character at position index MINUS length_of_p of s BY one IN s_character_count  
            
            IF the count of character at position index MINUS length_of_p of s EQUALS zero IN s_character_count  
                REMOVE character at position index MINUS length_of_p of s FROM s_character_count  
            END IF  
            
            IF s_character_count EQUALS p_character_count  
                APPEND index MINUS length_of_p PLUS one TO anagrams  
            END IF  
        END FOR  
        
        RETURN anagrams  
    END FUNCTION  
END CLASS