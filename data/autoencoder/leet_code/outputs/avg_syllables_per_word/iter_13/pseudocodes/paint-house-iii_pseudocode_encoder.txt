CLASS Solution  
    FUNCTION minCost(houses, cost, m, n, target)  
        FUNCTION dp(i, prev_color, groups)  
            IF i EQUALS m  
                IF groups EQUALS target  
                    RETURN zero  
                ELSE  
                    RETURN an infinitely large number  
                END IF  
            END IF  
            
            IF element at position i of houses NOT EQUALS zero  
                SET new_groups TO groups PLUS one IF element at position i of houses NOT EQUALS prev_color OTHERWISE groups  
                RETURN the result of FUNCTION dp with parameters i PLUS one, element at position i of houses, new_groups  
            END IF  
            
            SET min_cost TO an infinitely large number  
            FOR color FROM one TO n  
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color OTHERWISE groups  
                SET candidate_cost TO element at position i at position color MINUS one of cost PLUS the result of FUNCTION dp with parameters i PLUS one, color, new_groups  
                SET min_cost TO the smaller value between min_cost AND candidate_cost  
            END FOR  
            
            RETURN min_cost  
        END FUNCTION  
        
        SET result TO the result of FUNCTION dp with parameters zero, zero, zero  
        IF result NOT EQUALS an infinitely large number  
            RETURN result  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
END CLASS