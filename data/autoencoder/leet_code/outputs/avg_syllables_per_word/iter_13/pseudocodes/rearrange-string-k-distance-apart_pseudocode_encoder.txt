CLASS Solution  
    FUNCTION rearrangeString(s AS string, k AS integer) RETURNS string  
        IF k LESS THAN OR EQUAL TO one  
            RETURN s  
        END IF  
        
        SET freq TO the COUNTER OF characters IN s  
        
        SET max_heap TO the LIST OF PAIRS where EACH PAIR CONSISTS OF the NEGATION OF the frequency AND the character FOR EACH character AND frequency IN freq  
        CALL heapify ON max_heap TO ARRANGE AS MAX HEAP  
        
        SET wait_queue TO an EMPTY LIST TO STORE characters PENDING TO BE REINSERTED  
        
        SET result TO an EMPTY LIST TO STORE THE FINAL ORDERED CHARACTERS  
        
        WHILE max_heap IS NOT EMPTY  
            REMOVE THE ITEM WITH THE HIGHEST FREQUENCY FROM max_heap AND ASSIGN TO count AND char  
            APPEND char TO result  
            
            APPEND THE PAIR OF count INCREMENTED BY one AND char TO wait_queue  
            
            IF THE LENGTH OF wait_queue EQUALS k  
                REMOVE THE OLDEST ELEMENT FROM wait_queue AND ASSIGN TO count AND char  
                IF count LESS THAN zero  
                    ADD THE PAIR OF count AND char BACK INTO max_heap USING HEAPPUSH  
                END IF  
            END IF  
        END WHILE  
        
        IF THE LENGTH OF result IS NOT EQUAL TO THE LENGTH OF s  
            RETURN AN EMPTY STRING  
        END IF  
        
        RETURN THE CONCATENATION OF ALL CHARACTERS IN result  
    END FUNCTION  
END CLASS