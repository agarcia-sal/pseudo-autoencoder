CLASS Solution  
    FUNCTION validSquare(p1 AS List OF integers, p2 AS List OF integers, p3 AS List OF integers, p4 AS List OF integers) RETURNS boolean  
        FUNCTION squared_distance(point_one AS List OF integers, point_two AS List OF integers)  
            SET difference_in_first_coordinate TO element at position zero of point_one MINUS element at position zero of point_two  
            SET difference_in_second_coordinate TO element at position one of point_one MINUS element at position one of point_two  
            SET square_of_difference_in_first_coordinate TO difference_in_first_coordinate MULTIPLIED BY difference_in_first_coordinate  
            SET square_of_difference_in_second_coordinate TO difference_in_second_coordinate MULTIPLIED BY difference_in_second_coordinate  
            SET sum_of_squares TO square_of_difference_in_first_coordinate PLUS square_of_difference_in_second_coordinate  
            RETURN sum_of_squares  
        END FUNCTION  
        SET points TO the list consisting of p1 FOLLOWED BY p2 FOLLOWED BY p3 FOLLOWED BY p4  
        SET distances TO an empty set of distance values  
        FOR index_i FROM zero TO three  
            FOR index_j FROM index_i PLUS one TO three  
                SET dist TO the result of squared_distance with parameters element at position index_i of points AND element at position index_j of points  
                IF dist EQUALS zero  
                    RETURN boolean value false  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        IF the size of distances EQUALS two  
            RETURN boolean value true  
        ELSE  
            RETURN boolean value false  
        END IF  
    END FUNCTION  
END CLASS