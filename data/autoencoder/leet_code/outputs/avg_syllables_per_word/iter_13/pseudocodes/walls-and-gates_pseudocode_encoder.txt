CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms IS EMPTY OR element at position zero of rooms IS EMPTY  
            RETURN  
        END IF  

        SET rows TO the LENGTH OF rooms  
        SET cols TO the LENGTH OF element at position zero of rooms  
        INITIALIZE queue AS an empty double ended queue  

        FOR each r FROM zero TO rows MINUS one  
            FOR each c FROM zero TO cols MINUS one  
                IF element at row r and column c of rooms EQUALS zero  
                    APPEND the pair of r and c TO queue  
                END IF  
            END FOR  
        END FOR  

        SET directions TO the collection of pairs zero and one one and zero zero and negative one negative one and zero  

        WHILE queue IS NOT EMPTY  
            REMOVE and RETURN the leftmost element of queue ASSIGN TO r and c  
            FOR each dr and dc IN directions  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                IF nr IS GREATER THAN OR EQUAL TO zero AND nr IS LESS THAN rows AND nc IS GREATER THAN OR EQUAL TO zero AND nc IS LESS THAN cols AND element at row nr and column nc of rooms EQUALS two billion one hundred forty seven million four hundred eighty three thousand six hundred forty seven  
                    SET element at row nr and column nc of rooms TO element at row r and column c of rooms PLUS one  
                    APPEND the pair of nr and nc TO queue  
                END IF  
            END FOR  
        END WHILE  
    END FUNCTION  
END CLASS