CLASS Solution  
    FUNCTION wordBreak(s parameter OF TYPE string, wordDict parameter OF TYPE list of strings) RETURNS list of strings  
        SET wordSet TO a collection of unique elements formed from wordDict  
        SET memo TO an empty dictionary  
        
        FUNCTION backtrack(start parameter OF TYPE integer) RETURNS list of strings  
            IF start IS A KEY IN memo THEN  
                RETURN the value associated with start in memo  
            END IF  
            
            IF start IS EQUAL TO the LENGTH OF s THEN  
                RETURN a list containing the empty string  
            END IF  
            
            SET res TO an empty list  
            FOR each end FROM start PLUS one TO the LENGTH OF s INCLUSIVE  
                SET word TO the substring from position start PLUS one TO position end of s  
                IF word IS AN ELEMENT IN wordSet THEN  
                    FOR each sentence IN the result of calling backtrack with end as argument  
                        IF sentence IS NOT EMPTY THEN  
                            APPEND the concatenation of word FOLLOWED BY a space FOLLOWED BY sentence TO res  
                        ELSE  
                            APPEND word TO res  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
            
            SET the value at key start in memo TO res  
            RETURN res  
        END FUNCTION  
        
        RETURN the result of calling backtrack with zero as argument  
    END FUNCTION  
END CLASS