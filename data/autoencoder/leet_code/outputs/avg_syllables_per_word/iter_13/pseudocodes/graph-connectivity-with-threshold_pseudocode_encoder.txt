CLASS Solution  
    FUNCTION areConnected(n integer, threshold integer, queries list of list of integer) RETURNS list of boolean  
        IF threshold EQUALS zero THEN  
            RETURN list of true with LENGTH OF queries  
        END IF  
        
        SET parent TO list of integers from zero TO n inclusive  
        
        FUNCTION find(x integer) RETURNS integer  
            IF element at position x of parent NOT EQUALS x THEN  
                SET element at position x of parent TO find(element at position x of parent)  
            END IF  
            RETURN element at position x of parent  
        END FUNCTION  
        
        FUNCTION union(x integer, y integer)  
            SET rootX TO find(x)  
            SET rootY TO find(y)  
            IF rootX NOT EQUALS rootY THEN  
                SET element at position rootY of parent TO rootX  
            END IF  
        END FUNCTION  
        
        FOR i FROM threshold PLUS one TO n INCLUSIVE  
            FOR j FROM two TIMES i TO n INCLUSIVE STEP i  
                union(i, j)  
            END FOR  
        END FOR  
        
        SET result TO empty list  
        FOR each pair a and b IN queries  
            APPEND boolean indicating find(a) EQUALS find(b) TO result  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS