CLASS Solution  
    FUNCTION minSwapsCouples WITH parameter row OF TYPE list OF integers  
        CREATE a dictionary named position mapping each person TO their index in row  
        SET swaps TO zero  
        FOR index i FROM zero TO the LENGTH OF row MINUS one STEP two  
            SET correct_pair TO the element at position i of row EXCLUSIVE OR with one  
            IF the element at position i PLUS one of row IS NOT EQUAL TO correct_pair  
                SET swap_index TO the value mapped by correct_pair in position  
                SWAP the element at position i PLUS one of row WITH the element at position swap_index of row  
                UPDATE position mapping for the element now at position swap_index of row TO swap_index  
                UPDATE position mapping for the element now at position i PLUS one of row TO i PLUS one  
                INCREMENT swaps BY one  
            END IF  
        END FOR  
        RETURN swaps  
    END FUNCTION  
END CLASS