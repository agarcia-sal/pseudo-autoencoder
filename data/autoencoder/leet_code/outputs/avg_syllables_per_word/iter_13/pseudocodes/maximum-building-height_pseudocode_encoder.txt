CLASS Solution  
    FUNCTION maxBuilding(n, restrictions)  
        APPEND list consisting of integer one AND integer zero TO restrictions  
        SORT restrictions in ascending order  
        
        FOR index FROM integer one TO LENGTH OF restrictions MINUS integer one  
            SET current_building_index TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET previous_building_index TO element at position index minus one zero of restrictions  
            SET previous_building_height TO element at position index minus one one of restrictions  
            SET element at position index one of restrictions TO the MINIMUM BETWEEN current_building_height AND the SUM of previous_building_height PLUS the DIFFERENCE BETWEEN current_building_index AND previous_building_index  
        END FOR  
        
        FOR index FROM LENGTH OF restrictions MINUS two DOWN TO integer zero  
            SET current_building_index TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET next_building_index TO element at position index plus one zero of restrictions  
            SET next_building_height TO element at position index plus one one of restrictions  
            SET element at position index one of restrictions TO the MINIMUM BETWEEN current_building_height AND the SUM of next_building_height PLUS the DIFFERENCE BETWEEN next_building_index AND current_building_index  
        END FOR  
        
        SET max_height TO integer zero  
        SET previous_building_index TO element at position zero zero of restrictions  
        SET previous_building_height TO element at position zero one of restrictions  
        
        FOR index FROM integer one TO LENGTH OF restrictions MINUS integer one  
            SET current_building_index TO element at position index zero of restrictions  
            SET current_building_height TO element at position index one of restrictions  
            SET possible_max_height TO the INTEGER DIVISION of the SUM of current_building_index MINUS previous_building_index PLUS previous_building_height PLUS current_building_height BY integer two  
            SET max_height TO the MAXIMUM BETWEEN max_height AND possible_max_height  
            SET previous_building_index TO current_building_index  
            SET previous_building_height TO current_building_height  
        END FOR  
        
        SET max_height TO the MAXIMUM BETWEEN max_height AND the SUM of previous_building_height PLUS n MINUS previous_building_index  
        
        RETURN max_height  
    END FUNCTION  
END CLASS