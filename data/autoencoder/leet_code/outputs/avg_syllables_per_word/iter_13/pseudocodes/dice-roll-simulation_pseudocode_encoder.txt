CLASS Solution  
    FUNCTION dieSimulator WITH PARAMETERS n AND rollMax  
        SET MODULO TO one billion PLUS seven  
        SET dp TO a three dimensional list OF zero initialized FOR all i FROM zero TO n inclusive FOR all j FROM zero TO five inclusive FOR all k FROM zero TO maximum value IN rollMax PLUS one  
        FOR each j FROM zero TO five inclusive  
            SET element at position one of element at position j of element at position one of dp TO one  
        END FOR  
        FOR each i FROM two TO n inclusive  
            FOR each j FROM zero TO five inclusive  
                FOR each k FROM one TO element at position j of rollMax inclusive  
                    IF k IS GREATER THAN one  
                        SET element at position k of element at position j of element at position i of dp TO element at position k minus one of element at position j of element at position i minus one of dp  
                    ELSE  
                        SET element at position k of element at position j of element at position i of dp TO the remainder AFTER DIVIDING the SUM OF all elements element at position y of element at position x of element at position i minus one of dp for each x FROM zero TO five inclusive FOR each y FROM one TO element at position x of rollMax inclusive WHEN x IS NOT EQUAL TO j BY modulo MODULO  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN the remainder AFTER DIVIDING the SUM OF all elements element at position k of element at position j of element at position n of dp for each j FROM zero TO five inclusive FOR each k FROM one TO element at position j of rollMax inclusive BY modulo MODULO  
    END FUNCTION  
END CLASS