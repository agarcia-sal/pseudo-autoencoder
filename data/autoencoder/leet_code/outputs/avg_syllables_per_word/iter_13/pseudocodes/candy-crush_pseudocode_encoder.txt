CLASS Solution  
    FUNCTION candyCrush(board)  
        SET R TO the LENGTH OF board  
        SET C TO the LENGTH OF element at position zero of board  
        SET stable TO false  

        WHILE stable DOES NOT HOLD  
            SET stable TO true  
            INITIALIZE to_crush AS an EMPTY set  

            FOR each r FROM zero TO R MINUS one  
                FOR each c FROM zero TO C MINUS three  
                    IF the ABSOLUTE VALUE of element at position r of board at position c EQUALS the ABSOLUTE VALUE of element at position r of board at position c PLUS one AND the ABSOLUTE VALUE of element at position r of board at position c PLUS one EQUALS the ABSOLUTE VALUE of element at position r of board at position c PLUS two AND the ABSOLUTE VALUE of element at position r of board at position c IS NOT EQUAL TO zero  
                        SET stable TO false  
                        ADD the pair of r and c TO to_crush  
                        ADD the pair of r and c PLUS one TO to_crush  
                        ADD the pair of r and c PLUS two TO to_crush  
                    END IF  
                END FOR  
            END FOR  

            FOR each r FROM zero TO R MINUS three  
                FOR each c FROM zero TO C MINUS one  
                    IF the ABSOLUTE VALUE of element at position r of board at position c EQUALS the ABSOLUTE VALUE of element at position r PLUS one of board at position c AND the ABSOLUTE VALUE of element at position r PLUS one of board at position c EQUALS the ABSOLUTE VALUE of element at position r PLUS two of board at position c AND the ABSOLUTE VALUE of element at position r of board at position c IS NOT EQUAL TO zero  
                        SET stable TO false  
                        ADD the pair of r and c TO to_crush  
                        ADD the pair of r PLUS one and c TO to_crush  
                        ADD the pair of r PLUS two and c TO to_crush  
                    END IF  
                END FOR  
            END FOR  

            FOR each pair r and c IN to_crush  
                SET element at position r of board at position c TO zero  
            END FOR  

            FOR each c FROM zero TO C MINUS one  
                SET wr TO R MINUS one  
                FOR each r FROM R MINUS one DOWN TO zero  
                    IF element at position r of board at position c IS NOT EQUAL TO zero  
                        SET element at position wr of board at position c TO element at position r of board at position c  
                        DECREMENT wr BY one  
                    END IF  
                END FOR  
                FOR each wr FROM wr DOWN TO zero  
                    SET element at position wr of board at position c TO zero  
                END FOR  
            END FOR  

        END WHILE  

        RETURN board  
    END FUNCTION  
END CLASS