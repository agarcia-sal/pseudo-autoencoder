CLASS Solution  
    FUNCTION nextGreaterElement(n)  
        SET digits TO list of the characters converted from the number n to string  
        SET length TO the LENGTH OF digits  
        SET i TO length MINUS two  
        WHILE i GREATER THAN OR EQUAL TO zero AND element at position i of digits GREATER THAN OR EQUAL TO element at position i PLUS one of digits HOLDS  
            DECREMENT i BY one  
        END WHILE  
        IF i EQUALS minus one THEN  
            RETURN minus one  
        END IF  
        SET j TO length MINUS one  
        WHILE element at position j of digits LESS THAN OR EQUAL TO element at position i of digits HOLDS  
            DECREMENT j BY one  
        END WHILE  
        SET temporary TO element at position i of digits  
        SET element at position i of digits TO element at position j of digits  
        SET element at position j of digits TO temporary  
        SET suffix TO the SUBLIST OF digits from position i PLUS one TO the END of digits  
        REVERSE suffix  
        SET digits TO the SUBLIST OF digits from position zero TO i PLUS one CONCATENATED WITH suffix  
        SET result TO the integer value obtained by concatenating all elements of digits as strings  
        IF result GREATER THAN two TO THE POWER OF thirty ONE MINUS one THEN  
            RETURN minus one  
        END IF  
        RETURN result  
    END FUNCTION  
END CLASS