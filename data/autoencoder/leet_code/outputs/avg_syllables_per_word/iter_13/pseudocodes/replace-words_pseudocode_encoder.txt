CLASS Solution  
    FUNCTION replaceWords(dictionary AS List OF STRING, sentence AS STRING) AS STRING  
        CALL sort dictionary BY LENGTH OF each root  
        SET words TO the LIST OF WORDS IN sentence  
        FUNCTION replace(word AS STRING) AS STRING  
            FOR each root IN dictionary  
                IF the word STARTS WITH the root THEN  
                    RETURN root  
                END IF  
            END FOR  
            RETURN word  
        END FUNCTION  
        SET replaced_words TO an empty LIST  
        FOR each word IN words  
            APPEND the RESULT OF replace applied to word TO replaced_words  
        END FOR  
        SET replaced_sentence TO the STRING RESULT OF JOINING replaced_words WITH SPACES  
        RETURN replaced_sentence  
    END FUNCTION  
END CLASS