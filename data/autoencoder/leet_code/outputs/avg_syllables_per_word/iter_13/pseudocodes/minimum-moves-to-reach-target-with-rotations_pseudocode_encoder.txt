CLASS Solution  
    FUNCTION minimumMoves(grid)  
        SET n TO the LENGTH OF grid  
        SET queue TO a new double ended queue initialized with the tuple of zero zero zero one zero representing tail row tail column head row head column and the number of steps taken  
        SET visited TO a new set containing the tuple of zero zero zero one representing visited states  

        WHILE queue is not empty  
            REMOVE and RETRIEVE the first element from queue into r1 c1 r2 c2 and steps respectively  

            IF the tuple of r1 c1 r2 c2 EQUALS the tuple of n MINUS one n MINUS two n MINUS one n MINUS one representing the target position  
                RETURN steps  
            END IF  

            IF the sum of c2 PLUS one is LESS THAN n AND the element at position r1 in grid at position c1 PLUS one EQUALS zero AND the element at position r2 in grid at position c2 PLUS one EQUALS zero AND the tuple of r1 c1 PLUS one r2 c2 PLUS one is NOT IN visited  
                ADD the tuple of r1 c1 PLUS one r2 c2 PLUS one TO visited  
                APPEND the tuple of r1 c1 PLUS one r2 c2 PLUS one steps PLUS one TO queue  
            END IF  

            IF the sum of r2 PLUS one is LESS THAN n AND the element at position r1 PLUS one in grid at position c1 EQUALS zero AND the element at position r2 PLUS one in grid at position c2 EQUALS zero AND the tuple of r1 PLUS one c1 r2 PLUS one c2 is NOT IN visited  
                ADD the tuple of r1 PLUS one c1 r2 PLUS one c2 TO visited  
                APPEND the tuple of r1 PLUS one c1 r2 PLUS one c2 steps PLUS one TO queue  
            END IF  

            IF r1 EQUALS r2 AND the sum of r1 PLUS one is LESS THAN n AND the element at position r1 PLUS one in grid at position c1 EQUALS zero AND the element at position r1 PLUS one in grid at position c2 EQUALS zero AND the tuple of r1 c1 r1 PLUS one c1 is NOT IN visited  
                ADD the tuple of r1 c1 r1 PLUS one c1 TO visited  
                APPEND the tuple of r1 c1 r1 PLUS one c1 steps PLUS one TO queue  
            END IF  

            IF c1 EQUALS c2 AND the sum of c1 PLUS one is LESS THAN n AND the element at position r1 in grid at position c1 PLUS one EQUALS zero AND the element at position r2 in grid at position c2 PLUS one EQUALS zero AND the tuple of r1 c1 r1 c1 PLUS one is NOT IN visited  
                ADD the tuple of r1 c1 r1 c1 PLUS one TO visited  
                APPEND the tuple of r1 c1 r1 c1 PLUS one steps PLUS one TO queue  
            END IF  
        END WHILE  

        RETURN negative one  
    END FUNCTION  
END CLASS