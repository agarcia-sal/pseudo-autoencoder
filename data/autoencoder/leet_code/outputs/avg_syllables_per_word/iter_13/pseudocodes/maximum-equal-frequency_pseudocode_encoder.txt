CLASS Solution  
    FUNCTION maxEqualFreq(nums)  
        SET count TO a new empty counter of integers  
        SET freq TO a new empty counter of integers  
        SET max_len TO zero  
        
        FOR each index i and element num IN nums  
            INCREMENT the element num in count BY one  
            
            IF the element num in count IS GREATER THAN one  
                DECREMENT the element at position the element num in count MINUS one in freq BY one  
                IF the element at position the element num in count MINUS one in freq EQUALS zero  
                    REMOVE the element at position the element num in count MINUS one FROM freq  
                END IF  
            END IF  
            
            INCREMENT the element at position the element num in count in freq BY one  
            
            IF the LENGTH OF freq EQUALS one AND (freq CONTAINS key one OR the only value IN freq EQUALS one)  
                SET max_len TO i PLUS one  
            ELSE IF the LENGTH OF freq EQUALS two AND ((freq CONTAINS key one AND the element at position one in freq EQUALS one) OR ((the MAXIMUM key IN freq MINUS the MINIMUM key IN freq) EQUALS one AND the element at position the MAXIMUM key IN freq EQUALS one))  
                SET max_len TO i PLUS one  
            END IF  
        END FOR  
        
        RETURN max_len  
    END FUNCTION  
END CLASS