```
initialize waiting dict with deques for each char in s
for each word in words:
    init iterator it over word
    first = next(it)
    if first in waiting: waiting[first].append(it)

match_count = 0
for c in s:
    current = waiting[c]
    waiting[c] = empty deque
    for it in current:
        nxt = next(it, None)
        if nxt is None:
            match_count += 1
        else if nxt in waiting:
            waiting[nxt].append(it)

return match_count
```