```
init max_len[c] = 0 for c in 'a'..'z'
cur_len = 0
for i in 0 to len(s)-1:
    if i>0 and (ord(s[i]) - ord(s[i-1]) == 1 or (s[i]=='a' and s[i-1]=='z')):
        cur_len += 1
    else:
        cur_len = 1
    max_len[s[i]] = max(max_len[s[i]], cur_len)
return sum of all max_len values
```