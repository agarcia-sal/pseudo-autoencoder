```
init stack = [-1], max_area = 0
append 0 to heights
for i, h in heights:
    while top of stack != -1 and h < heights[top of stack]:
        height = heights[pop stack]
        width = i - top of stack - 1
        max_area = max(max_area, height * width)
    push i to stack
return max_area
```