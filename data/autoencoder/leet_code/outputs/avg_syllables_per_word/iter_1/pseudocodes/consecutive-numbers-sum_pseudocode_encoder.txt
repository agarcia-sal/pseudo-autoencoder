```
set count = 0
for k in 1 to n:
  if (2*n) mod k = 0:
    m = ((2*n / k) - k + 1) / 2
    if m > 0 and m is integer:
      count += 1
return count
```