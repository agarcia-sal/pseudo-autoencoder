```
n = length(nums)
for i in 0 to n-1:
    while nums[i] in [1..n] and nums[nums[i]-1] != nums[i]:
        swap nums[i], nums[nums[i]-1]
for i in 0 to n-1:
    if nums[i] != i+1: return i+1
return n+1
```