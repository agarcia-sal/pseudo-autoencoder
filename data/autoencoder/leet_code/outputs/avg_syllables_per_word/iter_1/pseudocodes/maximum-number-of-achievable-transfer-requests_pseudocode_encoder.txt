```
max_requests ← 0
for mask in [0..2^(len(requests))-1]:
    balance ← [0]*n
    count ← 0
    for i in [0..len(requests)-1]:
        if mask & (1 << i) ≠ 0:
            f, t ← requests[i]
            balance[f] ← balance[f] - 1
            balance[t] ← balance[t] + 1
            count ← count + 1
    if all b = 0 in balance:
        max_requests ← max(max_requests, count)
return max_requests
```