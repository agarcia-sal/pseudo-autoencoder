```
func isScramble(s1, s2):
  if s1 = s2: return True
  if sort(s1) â‰  sort(s2): return False
  for i in 1 to len(s1)-1:
    if isScramble(s1[0:i], s2[0:i]) and isScramble(s1[i:], s2[i:]): return True
    if isScramble(s1[0:i], s2[-i:]) and isScramble(s1[i:], s2[0:-i]): return True
  return False
```