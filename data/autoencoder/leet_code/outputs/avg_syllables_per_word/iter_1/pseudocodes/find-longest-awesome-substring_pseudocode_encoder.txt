```
init prefix_map = {0: -1}
prefix_xor = 0
max_len = 0

for i, c in enumerate(s):
    d = int(c)
    prefix_xor ^= (1 << d)
    
    if prefix_xor in prefix_map:
        max_len = max(max_len, i - prefix_map[prefix_xor])
    
    for j in 0..9:
        flipped = prefix_xor ^ (1 << j)
        if flipped in prefix_map:
            max_len = max(max_len, i - prefix_map[flipped])
    
    if prefix_xor not in prefix_map:
        prefix_map[prefix_xor] = i

return max_len
```