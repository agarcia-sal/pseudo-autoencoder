```
for ob in obstacles:
    i = bisect_right(incr, ob)
    if i == len(incr): incr.append(ob)
    else: incr[i] = ob
    ans.append(i+1)
return ans
```