```
prefix = cumulative sums of stones
dp = prefix[-1]
for i from len(stones)-2 down to 1:
    dp = max(dp, prefix[i] - dp)
return dp
```