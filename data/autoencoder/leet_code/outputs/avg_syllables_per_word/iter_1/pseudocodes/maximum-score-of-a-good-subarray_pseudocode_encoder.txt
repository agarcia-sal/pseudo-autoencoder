```
set l = r = k
set cur_min = nums[k]
set max_score = cur_min

while l > 0 or r < len(nums) - 1:
    if l == 0:
        r += 1
    else if r == len(nums) - 1:
        l -= 1
    else if nums[l-1] >= nums[r+1]:
        l -= 1
    else:
        r += 1

    cur_min = min(cur_min, nums[l], nums[r])
    score = cur_min * (r - l + 1)
    max_score = max(max_score, score)

return max_score
```