```
build graph: for i in [0..n-1] -> []
for u,v,w in flights: graph[u].append((v,w))

init min_heap = [(0, -1, src)]
init min_cost = {src: -1}

while min_heap not empty:
    cost, stops, city = pop min_heap
    if city == dst: return cost
    if stops >= k: continue
    for neighbor, price in graph[city]:
        next_cost = cost + price
        next_stops = stops + 1
        if neighbor not in min_cost or next_stops < min_cost[neighbor] or next_cost < min_heap[0][0]:
            min_cost[neighbor] = next_stops
            push (next_cost, next_stops, neighbor) into min_heap

return -1
```