```
split input by '\n' → lines
stack ← empty list
max_len ← 0

for line in lines:
    depth ← count '\t' in line
    name ← line[depth:]
    while len(stack) > depth: pop stack
    cur_len ← (stack[-1] + len(name) + 1) if stack else len(name)
    if '.' in name: max_len ← max(max_len, cur_len)
    else: stack.append(cur_len)

return max_len
```