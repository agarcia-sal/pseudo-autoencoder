```
dp(l, r) = 0 if l >= r else min over p in [l..r] of (p + max(dp(l, p-1), dp(p+1, r)))
return dp(1, n)
```