```
set MOD = 10^9+7
init dp[n+1][m+1][k+1] = 0
for j in 1..m: dp[1][j][1] = 1
for i in 2..n:
  for j in 1..m:
    for p in 1..k:
      dp[i][j][p] += sum dp[i-1][x][p-1] for x in 1..j-1 (mod MOD)
      dp[i][j][p] += dp[i-1][j][p] * j (mod MOD)
result = sum dp[n][j][k] for j in 1..m (mod MOD)
return result
```