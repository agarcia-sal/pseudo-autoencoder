```
tilingRectangle(n, m):
  min_moves = ∞
  
  backtrack(heights, moves):
    if all h == n in heights: 
      min_moves = min(min_moves, moves)
      return
    if moves ≥ min_moves: return

    min_h = min(heights)
    left = index of min_h in heights
    right = left
    while right < m and heights[right] == min_h: right += 1

    for size in (right - left) down to 1:
      if all heights[left+i]+size ≤ n for i in 0..size-1:
        new_h = heights[:]
        for i in 0..size-1: new_h[left+i] += size
        backtrack(new_h, moves+1)
  
  backtrack([0]*m, 0)
  return min_moves
```