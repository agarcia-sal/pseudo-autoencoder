```
SET DRAW=0, M_WIN=1, C_WIN=2
n = len(graph)

FUNC dfs(turn, m_pos, c_pos) CACHE
    IF turn == 2*n RETURN DRAW
    IF m_pos == 0 RETURN M_WIN
    IF m_pos == c_pos RETURN C_WIN

    player = "mouse" IF turn%2==0 ELSE "cat"

    IF player == "mouse"
        res = C_WIN
        FOR nxt IN graph[m_pos]
            r = dfs(turn+1, nxt, c_pos)
            IF r == M_WIN RETURN M_WIN
            ELSE IF r == DRAW res = DRAW
        RETURN res
    ELSE
        res = M_WIN
        FOR nxt IN graph[c_pos]
            IF nxt == 0 CONTINUE
            r = dfs(turn+1, m_pos, nxt)
            IF r == C_WIN RETURN C_WIN
            ELSE IF r == DRAW res = DRAW
        RETURN res

RETURN dfs(0, 1, 2)
```