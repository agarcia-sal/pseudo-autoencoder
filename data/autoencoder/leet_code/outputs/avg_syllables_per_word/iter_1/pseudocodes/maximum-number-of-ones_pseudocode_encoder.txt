```
freq = array of zeros with length sideLength^2
for i in 0 to width-1:
  for j in 0 to height-1:
    pos = (i % sideLength) * sideLength + (j % sideLength)
    freq[pos] += 1
sort freq descending
return sum of first maxOnes elements in freq
```