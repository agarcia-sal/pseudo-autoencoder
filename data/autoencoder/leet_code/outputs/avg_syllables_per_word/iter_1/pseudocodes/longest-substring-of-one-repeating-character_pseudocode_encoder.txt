```
init intervals by splitting s into consecutive runs: (start, end, char)
longest = max run length in intervals
for char, idx in zip(queryCharacters, queryIndices):
    find interval i where idx in [start, end]
    if idx > start: insert (start, idx-1, old_char) before i; update i-th to (idx, end, old_char)
    if idx < end: insert (idx+1, end, old_char) after i; update i-th to (start, idx, old_char)
    update i-th interval char to new char
    merge intervals with same char adjacent
    longest = max run length in intervals
    append longest to results
return results
```