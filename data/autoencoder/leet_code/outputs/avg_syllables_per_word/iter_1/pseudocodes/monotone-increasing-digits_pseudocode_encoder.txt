``` 
convert n to digits list D
set marker = length of D
for i from end of D to 1:
    if D[i] < D[i-1]:
        decrement D[i-1]
        marker = i
for i from marker to end of D:
    set D[i] = '9'
return int(join D)
```