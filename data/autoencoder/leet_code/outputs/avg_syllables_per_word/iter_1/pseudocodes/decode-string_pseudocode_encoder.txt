```
init stack, a = '', d = ''
for char in s:
  if digit(char): d += char
  elif alpha(char): a += char
  elif char == '[': push(stack, (a, int(d))); a, d = '', ''
  elif char == ']': p, n = pop(stack); a = p + a * n
return a
```