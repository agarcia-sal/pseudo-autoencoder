```
max_end ← max(end | (_, end) in paint)
painted ← array of size max_end+1 filled with -1
worklog ← []

for (start, end) in paint:
    cur ← start
    new ← 0
    while cur < end:
        if painted[cur] = -1:
            painted[cur] ← end
            new ← new + 1
            cur ← cur + 1
        else:
            cur ← painted[cur]
    worklog.append(new)

return worklog
```