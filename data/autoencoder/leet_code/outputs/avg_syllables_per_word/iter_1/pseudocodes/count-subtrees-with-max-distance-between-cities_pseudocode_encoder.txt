```
init graph: map node â†’ neighbors
for (u,v) in edges:
  graph[u] += v; graph[v] += u

func bfs(subtree):
  start = any node in subtree
  Q = [start]; visited = {start}; far_node = start

  while Q not empty:
    node = Q.pop_front()
    for nbr in graph[node]:
      if nbr in subtree & nbr not in visited:
        visited += nbr; Q += nbr; far_node = nbr

  Q = [far_node]; visited = {far_node}; dist = 0
  while Q not empty:
    for node in current Q:
      for nbr in graph[node]:
        if nbr in subtree & nbr not in visited:
          visited += nbr; Q += nbr
    if Q not empty: dist += 1
  return dist

res = [0]*(n-1)
for size in 2..n:
  for subset in combinations(1..n, size):
    visited = {}
    stack = [subset[0]]
    while stack not empty:
      node = stack.pop()
      if node not in visited:
        visited += node
        for nbr in graph[node]:
          if nbr in subset & nbr not in visited:
            stack += nbr
    if visited == set(subset):
      d = bfs(set(subset))
      if d>0: res[d-1] += 1

return res
```