```
convert num to list, n = length of num
while k > 0:
  swapped = false
  for i in 0 to n-2:
    if num[i] > num[i+1]:
      min_digit, min_index = '9', -1
      for j in i to min(i+k, n-1):
        if num[j] < min_digit: min_digit, min_index = num[j], j
      rotate num[i..min_index] to put num[min_index] at i
      k -= min_index - i
      swapped = true
      break
  if not swapped: break
join num and return
```