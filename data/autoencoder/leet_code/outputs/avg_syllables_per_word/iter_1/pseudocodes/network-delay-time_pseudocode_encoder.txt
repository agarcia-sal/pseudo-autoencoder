```
init graph with empty lists for nodes 1 to n
for u,v,w in times: append (v,w) to graph[u]
init dist with inf for nodes 1 to n; dist[k] = 0
min_heap = [(0,k)]
while min_heap not empty:
  cur_d, node = pop min_heap
  if cur_d > dist[node]: continue
  for nbr,w in graph[node]:
    d = cur_d + w
    if d < dist[nbr]:
      dist[nbr] = d
      push (d,nbr) to min_heap
max_t = max(dist values)
return max_t if max_t != inf else -1
```