```
define request_will_be_sent(x, y) as Â¬(y â‰¤ 0.5*x + 7 or y > x or (y > 100 and x < 100))

count â† array[1..120] of 0
for age in ages: count[age] += 1

total â† 0
for x in 1..120:
  for y in 1..120:
    if request_will_be_sent(x,y):
      total += count[x] * (count[y] - (x = y ? 1 : 0))

return total
```