```
n = len(dominoes)
forces = [0]*n

force = 0
for i in 0..n-1:
  force = n if dominoes[i]=='R' else 0 if dominoes[i]=='L' else max(force-1,0)
  forces[i] += force

force = 0
for i in n-1..0 step -1:
  force = n if dominoes[i]=='L' else 0 if dominoes[i]=='R' else max(force-1,0)
  forces[i] -= force

result = map(f -> 'R' if f>0 else 'L' if f<0 else '.', forces)
return join(result)
```