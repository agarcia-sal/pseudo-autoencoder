```
sum_len ← sum(matchsticks)
if sum_len mod 4 ≠ 0 then return False
side_len ← sum_len ÷ 4
sort matchsticks descending

func can_form(sides, i):
  if i = length(matchsticks) then return all sides = side_len
  for j in 0..3:
    if sides[j] + matchsticks[i] ≤ side_len:
      sides[j] += matchsticks[i]
      if can_form(sides, i+1) then return True
      sides[j] -= matchsticks[i]
    if sides[j] = 0 then break
  return False

return can_form([0,0,0,0], 0)
```