```
function myPow(x, n):
    function qpow(a, m):
        ans = 1
        while m > 0:
            if m odd: ans *= a
            a *= a
            m >>= 1
        return ans
    return qpow(x, n) if n >= 0 else 1 / qpow(x, -n)
```