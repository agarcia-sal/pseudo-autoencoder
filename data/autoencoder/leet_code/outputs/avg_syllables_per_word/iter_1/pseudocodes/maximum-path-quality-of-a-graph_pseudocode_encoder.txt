```
build graph from edges
visited ← {0}
max_quality ← 0

function dfs(node, time_left, quality):
    if node = 0: max_quality ← max(max_quality, quality)
    for (nbr, t) in graph[node]:
        if t ≤ time_left:
            if nbr ∉ visited:
                visited.add(nbr)
                dfs(nbr, time_left - t, quality + values[nbr])
                visited.remove(nbr)
            else:
                dfs(nbr, time_left - t, quality)

visited.add(0)
dfs(0, maxTime, values[0])
return max_quality
```