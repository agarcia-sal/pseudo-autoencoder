```
init graph = map from course to list; indegree = array[numCourses] of 0
for course, prereq in prerequisites:
    graph[prereq].append(course); indegree[course] += 1
queue = all courses with indegree=0
while queue not empty:
    cur = queue.pop-left; numCourses -= 1
    for nxt in graph[cur]:
        indegree[nxt] -= 1
        if indegree[nxt] == 0: queue.append(nxt)
return numCourses == 0
```