```
max_xor = 0
for i from 31 down to 0:
    max_xor <<= 1
    candidate = max_xor | 1
    prefixes = {num >> i for num in nums}
    if any((candidate ^ p) in prefixes for p in prefixes):
        max_xor = candidate
return max_xor
```