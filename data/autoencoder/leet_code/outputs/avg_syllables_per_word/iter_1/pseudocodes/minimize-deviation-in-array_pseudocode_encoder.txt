```
for n in nums:
  if odd(n): n *= 2
  min_v = min(min_v, n)
  push(maxh, -n)

min_dev = inf
while even(-maxh[0]):
  x = -pop(maxh)
  min_dev = min(min_dev, x - min_v)
  x //= 2
  min_v = min(min_v, x)
  push(maxh, -x)

min_dev = min(min_dev, -maxh[0] - min_v)
return min_dev
```