```
if nums empty or k=0: return []
deq = empty deque; res = []
for i in 0..len(nums)-1:
    if deq not empty and deq[0] < i-k+1: pop left from deq
    while deq not empty and nums[deq[-1]] < nums[i]: pop right from deq
    append i to deq
    if i >= k-1: append nums[deq[0]] to res
return res
```