```
init visited array of False with length n
max_len = 0
for i in 0 to n-1:
    if visited[i] == False:
        length = 0
        k = i
        while visited[k] == False:
            visited[k] = True
            k = nums[k]
            length += 1
        max_len = max(max_len, length)
return max_len
```