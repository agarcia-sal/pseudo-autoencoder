```
init map = {}
max_len = 0
start = 0
for end, c in enumerate(s):
    if c in map and map[c] >= start: start = map[c] + 1
    map[c] = end
    max_len = max(max_len, end - start + 1)
return max_len
```