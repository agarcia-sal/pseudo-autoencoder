from collections import defaultdict

def min_malware_spread(graph, initial):
    n = len(graph)
    adj = defaultdict(list)
    for i in range(n):
        for j in range(i + 1, n):
            if graph[i][j] == 1:
                adj[i].append(j)
                adj[j].append(i)

    def dfs(node, vis):
        if node in vis:
            return 0
        vis.add(node)
        return 1 + sum(dfs(nb, vis) for nb in adj[node])

    infected = set(initial)
    visited = set()
    component_sizes = []
    component_index = {}

    for node in range(n):
        if node not in visited and node not in infected:
            size = dfs(node, visited)
            component_sizes.append(size)
            idx = len(component_sizes) - 1
            for v in adj[node]:
                component_index[v] = idx

    infected_count = defaultdict(int)
    for node in infected:
        if node in component_index:
            infected_count[component_index[node]] += 1

    max_size = 0
    res = min(initial)
    for node in infected:
        if node in component_index:
            cidx = component_index[node]
            if infected_count[cidx] == 1:
                s = component_sizes[cidx]
                if s > max_size or (s == max_size and node < res):
                    max_size = s
                    res = node
    return res