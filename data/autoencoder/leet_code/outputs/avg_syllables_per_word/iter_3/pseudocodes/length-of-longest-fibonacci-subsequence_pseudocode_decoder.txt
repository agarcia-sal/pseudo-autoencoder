CLASS Solution
    FUNCTION lenLongestFibSubseq(arr)
        SET index TO empty dictionary
        FOR i FROM 0 TO LENGTH OF arr MINUS 1
            SET index[arr[i]] TO i
        SET dp TO empty dictionary
        SET max_length TO 0

        FOR k FROM 0 TO LENGTH OF arr MINUS 1
            FOR j FROM 0 TO k MINUS 1
                SET i TO VALUE FROM index FOR KEY (arr[k] MINUS arr[j]), DEFAULT -1
                IF i GREATER OR EQUAL TO 0 AND i LESS THAN j THEN
                    SET dp[j, k] TO VALUE FROM dp FOR KEY (i, j), DEFAULT 2 PLUS 1
                    IF dp[j, k] GREATER THAN max_length THEN
                        SET max_length TO dp[j, k]
        IF max_length GREATER OR EQUAL TO 3 THEN
            RETURN max_length
        ELSE
            RETURN 0
    END FUNCTION
END CLASS