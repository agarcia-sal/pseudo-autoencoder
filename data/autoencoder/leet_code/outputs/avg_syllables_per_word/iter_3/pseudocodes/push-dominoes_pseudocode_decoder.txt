CLASS Solution
    FUNCTION pushDominoes(dominoes)
        SET n TO LENGTH OF dominoes
        SET forces TO LIST OF 0 WITH SIZE n

        SET force TO 0
        FOR i FROM 0 TO n - 1
            IF dominoes[i] IS 'R' THEN
                SET force TO n
            ELSE IF dominoes[i] IS 'L' THEN
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF (force MINUS 1) AND 0
            END IF
            INCREMENT forces[i] BY force
        END FOR

        SET force TO 0
        FOR i FROM n - 1 DOWNTO 0
            IF dominoes[i] IS 'L' THEN
                SET force TO n
            ELSE IF dominoes[i] IS 'R' THEN
                SET force TO 0
            ELSE
                SET force TO MAXIMUM OF (force MINUS 1) AND 0
            END IF
            DECREMENT forces[i] BY force
        END FOR

        SET result TO EMPTY LIST
        FOR f IN forces
            IF f > 0 THEN
                APPEND 'R' TO result
            ELSE IF f < 0 THEN
                APPEND 'L' TO result
            ELSE
                APPEND '.' TO result
            END IF
        END FOR

        RETURN CONCATENATION OF ELEMENTS IN result
    END FUNCTION
END CLASS