CLASS Solution
    FUNCTION longestWord(words)
        SORT words BY (LENGTH OF word, word) IN ASCENDING ORDER
        SET valid_words TO empty set
        SET longest_word TO empty string
        FOR each word IN words
            IF LENGTH OF word EQUALS 1 OR SUBSTRING OF word EXCLUDING LAST CHARACTER IN valid_words THEN
                ADD word TO valid_words
                IF LENGTH OF word GREATER THAN LENGTH OF longest_word THEN
                    SET longest_word TO word
        RETURN longest_word
    END FUNCTION
END CLASS