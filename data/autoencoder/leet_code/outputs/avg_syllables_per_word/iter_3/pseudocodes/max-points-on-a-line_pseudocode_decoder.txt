CLASS Solution
    FUNCTION maxPoints(points)
        FUNCTION slope(p1, p2)
            IF p1[0] EQUALS p2[0]
                RETURN infinity
            RETURN (p1[1] MINUS p2[1]) DIVIDED BY (p1[0] MINUS p2[0])
        END FUNCTION

        SET max_points TO 0
        FOR i FROM 0 TO LENGTH OF points MINUS 1
            SET slopes TO empty map with default integer values
            FOR j FROM 0 TO LENGTH OF points MINUS 1
                IF i NOT EQUAL TO j
                    SET s TO slope(points[i], points[j])
                    INCREMENT slopes[s] BY 1
                    IF slopes[s] GREATER THAN max_points
                        SET max_points TO slopes[s]
        IF points IS NOT EMPTY
            RETURN max_points PLUS 1
        ELSE
            RETURN 0
    END FUNCTION
END CLASS