CLASS Solution
    FUNCTION openLock(deadends: List of String, target: String) RETURNS Integer
        SET deadends_set TO CONVERT deadends INTO SET
        IF "0000" IN deadends_set THEN
            RETURN -1
        END IF
        IF target EQUALS "0000" THEN
            RETURN 0
        END IF
        SET queue TO NEW deque WITH ELEMENT ("0000", 0)
        SET visited TO SET CONTAINING "0000"
        FUNCTION neighbors(state: String) RETURNS List of String
            SET result TO EMPTY LIST
            FOR i FROM 0 TO 3
                SET digit TO INTEGER VALUE OF state AT POSITION i
                FOR move IN [-1, 1]
                    SET new_digit TO (digit + move) MODULO 10
                    SET new_state TO CONCATENATE state UP TO i, STRING OF new_digit, AND state AFTER i+1
                    APPEND new_state TO result
                END FOR
            END FOR
            RETURN result
        END FUNCTION
        WHILE queue IS NOT EMPTY
            SET current_state, steps TO REMOVE FIRST ELEMENT FROM queue
            FOR neighbor IN neighbors(current_state)
                IF neighbor NOT IN visited AND neighbor NOT IN deadends_set THEN
                    IF neighbor EQUALS target THEN
                        RETURN steps + 1
                    END IF
                    ADD neighbor TO visited
                    APPEND (neighbor, steps + 1) TO queue
                END IF
            END FOR
        END WHILE
        RETURN -1
    END FUNCTION
END CLASS