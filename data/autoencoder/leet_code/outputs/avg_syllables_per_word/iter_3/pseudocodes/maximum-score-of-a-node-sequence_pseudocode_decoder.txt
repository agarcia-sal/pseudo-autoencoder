CLASS Solution
    FUNCTION maximumScore(scores, edges)
        SET graph TO empty map with list default
        FOR each (u, v) IN edges
            APPEND (scores[v], v) TO graph[u]
            APPEND (scores[u], u) TO graph[v]
        FOR each node IN graph
            SET graph[node] TO the three largest elements in graph[node] based on first value
        SET max_score TO -1
        FOR each (u, v) IN edges
            FOR each (score1, x) IN graph[u]
                FOR each (score2, y) IN graph[v]
                    IF x, y, u, v are all distinct
                        SET max_score TO the greater of max_score and (score1 + score2 + scores[u] + scores[v])
        RETURN max_score
    END FUNCTION
END CLASS