CLASS Solution
    FUNCTION smallestGoodBase(n AS string) RETURNS string
        SET n TO integer value of n
        SET max_length TO integer part of log base 2 of n PLUS 1
        
        FOR m FROM max_length DOWNTO 2
            SET k TO integer part of n RAISED TO power (1 DIVIDED BY (m MINUS 1))
            IF k LESS THAN 2 THEN
                CONTINUE TO next iteration
            END IF
            
            SET num TO (k RAISED TO power m MINUS 1) DIVIDED BY (k MINUS 1)
            
            IF num EQUALS n THEN
                RETURN string value of k
            END IF
        END FOR
        
        RETURN string value of (n MINUS 1)
    END FUNCTION
END CLASS