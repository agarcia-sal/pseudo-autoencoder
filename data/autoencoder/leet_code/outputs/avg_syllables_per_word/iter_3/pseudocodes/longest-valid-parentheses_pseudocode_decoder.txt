CLASS Solution
    FUNCTION longestValidParentheses(s)
        SET stack TO list containing -1
        SET max_length TO 0
        FOR each index i AND character char IN s
            IF char EQUALS '('
                APPEND i TO stack
            ELSE
                REMOVE last element FROM stack
                IF stack IS empty
                    APPEND i TO stack
                ELSE
                    SET current_length TO i MINUS last element IN stack
                    SET max_length TO maximum OF max_length AND current_length
        RETURN max_length
    END FUNCTION
END CLASS