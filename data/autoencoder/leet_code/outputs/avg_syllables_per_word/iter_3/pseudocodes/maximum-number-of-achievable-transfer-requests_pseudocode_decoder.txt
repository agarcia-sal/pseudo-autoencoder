```
CLASS Solution
    FUNCTION maximumRequests(n, requests)
        SET max_requests TO 0
        SET num_requests TO LENGTH OF requests

        FOR mask FROM 0 TO (1 SHIFTED LEFT BY num_requests) MINUS 1
            SET balance TO LIST OF ZEROES WITH LENGTH n
            SET count TO 0

            FOR i FROM 0 TO num_requests MINUS 1
                IF mask HAS BIT i SET
                    SET from_building, to_building TO requests AT INDEX i
                    DECREMENT balance AT from_building BY 1
                    INCREMENT balance AT to_building BY 1
                    INCREMENT count BY 1
                END IF
            END FOR

            IF ALL ELEMENTS IN balance ARE ZERO
                SET max_requests TO MAXIMUM OF max_requests AND count
            END IF
        END FOR

        RETURN max_requests
    END FUNCTION
END CLASS
```