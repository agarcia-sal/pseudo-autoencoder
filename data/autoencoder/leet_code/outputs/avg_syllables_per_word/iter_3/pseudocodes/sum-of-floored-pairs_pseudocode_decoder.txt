```
CLASS Solution
    FUNCTION sumOfFlooredPairs(nums: List[int]) RETURNS int
        SET MOD TO 10^9 + 7
        SET max_num TO maximum value in nums
        SET count TO a map with keys as numbers in nums and values as their frequencies
        SET prefix_sum TO list of zeros with length max_num + 1
        
        FOR each num IN keys of count
            INCREMENT prefix_sum at index num BY count at num
        
        FOR i FROM 1 TO max_num
            INCREMENT prefix_sum at index i BY prefix_sum at index i - 1
        
        SET result TO 0
        
        FOR each num IN keys of count
            FOR multiple FROM 1 TO max_num DIVIDED BY num
                SET start TO num MULTIPLIED BY multiple
                SET end TO minimum of (num MULTIPLIED BY (multiple + 1) MINUS 1) AND max_num
                SET multiples_count TO prefix_sum at end MINUS prefix_sum at start MINUS 1
                INCREMENT result BY multiples_count MULTIPLIED BY multiple MULTIPLIED BY count at num
                SET result TO result MODULO MOD
        
        RETURN result
    END FUNCTION
END CLASS
```