CLASS Solution
    FUNCTION shoppingOffers(price, special, needs)
        SET special TO list of offers FROM special WHERE
            sum of offer items EXCLUDING last element IS GREATER THAN 0 AND
            last element of offer IS LESS THAN sum of corresponding price times offer items EXCLUDING last element

        FUNCTION dfs(needs)
            SET min_cost TO sum of corresponding price times needs
            FOR each offer IN special
                SET new_needs TO list of needs minus corresponding offer items EXCLUDING last element
                IF all elements in new_needs ARE GREATER THAN OR EQUAL TO 0
                    SET min_cost TO minimum of min_cost AND offer last element PLUS dfs(tuple of new_needs)
            RETURN min_cost
        END FUNCTION

        RETURN dfs(tuple of needs)
    END FUNCTION
END CLASS