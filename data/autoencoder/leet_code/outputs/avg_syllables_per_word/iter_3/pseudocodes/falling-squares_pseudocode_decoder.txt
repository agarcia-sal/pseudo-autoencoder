CLASS Solution
    FUNCTION fallingSquares(positions)
        SET max_heights TO empty list
        SET intervals TO empty list
        SET current_max_height TO 0
        FOR each position IN positions
            SET left TO first element of position
            SET side_length TO second element of position
            SET right TO left PLUS side_length MINUS 1
            SET height TO side_length
            FOR each interval_left, interval_right, interval_height IN intervals
                IF left IS LESS THAN OR EQUAL TO interval_right AND right IS GREATER THAN OR EQUAL TO interval_left
                    SET height TO maximum of height AND side_length PLUS interval_height
            APPEND (left, right, height) TO intervals
            SET current_max_height TO maximum of current_max_height AND height
            APPEND current_max_height TO max_heights
        RETURN max_heights
    END FUNCTION
END CLASS