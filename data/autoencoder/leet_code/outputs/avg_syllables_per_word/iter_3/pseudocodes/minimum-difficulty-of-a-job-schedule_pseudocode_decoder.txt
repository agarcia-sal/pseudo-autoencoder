CLASS Solution
    FUNCTION minDifficulty(jobDifficulty, d)
        SET n TO LENGTH OF jobDifficulty
        IF n < d THEN
            RETURN -1
        END IF

        FUNCTION dp(i, d) WITH MEMOIZATION
            IF d = 1 THEN
                RETURN MAXIMUM OF jobDifficulty FROM INDEX i TO END
            END IF

            SET min_difficulty TO infinity
            SET current_max TO 0
            FOR j FROM i TO n MINUS d DO
                SET current_max TO MAXIMUM OF current_max AND jobDifficulty[j]
                SET min_difficulty TO MINIMUM OF min_difficulty AND current_max PLUS dp(j PLUS 1, d MINUS 1)
            END FOR

            RETURN min_difficulty
        END FUNCTION

        RETURN dp(0, d)
END CLASS