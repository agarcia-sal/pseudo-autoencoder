CLASS Solution
    FUNCTION rearrangeString(s, k)
        IF k <= 1 THEN
            RETURN s
        END IF

        SET freq TO frequency count of characters in s

        SET max_heap TO list of pairs (negative count, character) from freq
        CONVERT max_heap into a heap structure

        SET wait_queue TO empty list
        SET result TO empty list

        WHILE max_heap is not empty DO
            SET count, char TO remove the element with highest priority from max_heap
            APPEND char TO result

            APPEND (count + 1, char) TO wait_queue

            IF LENGTH OF wait_queue EQUALS k THEN
                SET count, char TO remove first element from wait_queue
                IF count < 0 THEN
                    ADD (count, char) TO max_heap
                END IF
            END IF
        END WHILE

        IF LENGTH OF result NOT EQUALS LENGTH OF s THEN
            RETURN empty string
        END IF

        RETURN concatenation of all characters in result
    END FUNCTION
END CLASS