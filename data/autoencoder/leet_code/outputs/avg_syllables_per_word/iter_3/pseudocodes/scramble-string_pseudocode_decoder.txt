CLASS Solution
    FUNCTION isScramble(s1, s2)
        IF s1 EQUALS s2 THEN
            RETURN True
        IF SORTED s1 NOT EQUALS SORTED s2 THEN
            RETURN False
        SET n TO LENGTH OF s1
        FOR i FROM 1 TO n MINUS 1
            IF isScramble(SUBSTRING s1 FROM 0 TO i) AND isScramble(SUBSTRING s2 FROM 0 TO i) THEN
                RETURN True
            IF isScramble(SUBSTRING s1 FROM 0 TO i) AND isScramble(SUBSTRING s2 FROM LENGTH OF s2 MINUS i TO END) THEN
                RETURN True
        RETURN False
    END FUNCTION
END CLASS