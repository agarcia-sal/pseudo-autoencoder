CLASS Solution
    FUNCTION partition(s)
        FUNCTION is_palindrome(sub)
            RETURN sub IS EQUAL TO sub REVERSED
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF start IS EQUAL TO LENGTH OF s THEN
                APPEND path TO result
                RETURN
            END IF
            FOR end FROM start + 1 TO LENGTH OF s + 1
                IF is_palindrome(SUBSTRING s FROM start TO end) THEN
                    CALL backtrack(end, path APPENDED WITH SUBSTRING s FROM start TO end)
                END IF
            END FOR
        END FUNCTION

        SET result TO EMPTY LIST
        CALL backtrack(0, EMPTY LIST)
        RETURN result
    END FUNCTION
END CLASS