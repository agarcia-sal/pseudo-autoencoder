CLASS Solution
    FUNCTION findDiagonalOrder(mat)
        IF mat IS EMPTY OR mat[0] IS EMPTY
            RETURN empty list
        SET m TO LENGTH OF mat
        SET n TO LENGTH OF mat[0]
        SET result TO empty list
        SET r TO 0
        SET c TO 0
        SET direction TO 1
        
        FOR i FROM 0 TO m * n - 1
            APPEND mat[r][c] TO result
            IF direction IS 1
                SET new_r TO r - 1
                SET new_c TO c + 1
            ELSE
                SET new_r TO r + 1
                SET new_c TO c - 1
            
            IF new_r < 0 OR new_r == m OR new_c < 0 OR new_c == n
                IF direction IS 1
                    IF new_c == n
                        SET new_r TO r + 1
                        SET new_c TO c
                    ELSE
                        SET new_r TO 0
                        SET new_c TO c + 1
                ELSE
                    IF new_r == m
                        SET new_r TO r
                        SET new_c TO c + 1
                    ELSE
                        SET new_r TO r + 1
                        SET new_c TO 0
                SET direction TO -direction
            
            SET r TO new_r
            SET c TO new_c
        
        RETURN result
    END FUNCTION
END CLASS