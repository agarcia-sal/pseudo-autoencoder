CLASS Solution
    FUNCTION minCost(grid: List of List of Integer) RETURNS Integer
        SET m TO LENGTH OF grid
        SET n TO LENGTH OF grid[0]
        SET directions TO LIST OF (0, 1), (0, -1), (1, 0), (-1, 0)
        SET costs TO a 2D list of size m by n FILLED WITH infinity
        SET costs[0][0] TO 0

        INITIALIZE priority queue pq WITH (0, 0, 0)
        INITIALIZE visited AS empty set

        WHILE pq IS NOT empty
            EXTRACT (cost, i, j) FROM pq

            IF (i, j) IS IN visited
                CONTINUE

            ADD (i, j) TO visited

            IF i EQUALS m - 1 AND j EQUALS n - 1
                RETURN cost

            FOR EACH index k AND (di, dj) IN directions
                SET ni TO i PLUS di
                SET nj TO j PLUS dj
                IF ni IS AT LEAST 0 AND LESS THAN m AND nj IS AT LEAST 0 AND LESS THAN n
                    SET new_cost TO cost PLUS (1 IF k + 1 IS NOT EQUAL TO grid[i][j] ELSE 0)
                    IF new_cost LESS THAN costs[ni][nj]
                        SET costs[ni][nj] TO new_cost
                        ADD (new_cost, ni, nj) TO pq

        RETURN -1
    END FUNCTION
END CLASS