CLASS Solution
    FUNCTION replaceWords(dictionary: List of String, sentence: String) RETURNS String
        SORT dictionary BY length ascending
        SET words TO SPLIT sentence BY spaces
        
        FUNCTION replace(word: String) RETURNS String
            FOR each root IN dictionary
                IF word STARTS WITH root THEN
                    RETURN root
            END FOR
            RETURN word
        END FUNCTION
        
        SET replaced_words TO EMPTY LIST
        FOR each word IN words
            APPEND replace(word) TO replaced_words
        END FOR
        
        RETURN JOIN replaced_words WITH spaces
    END FUNCTION
END CLASS