CLASS Solution
    FUNCTION largestOverlap(img1, img2)
        SET n TO LENGTH OF img1
        SET points1 TO EMPTY LIST
        SET points2 TO EMPTY LIST
        FOR i FROM 0 TO n MINUS 1
            FOR j FROM 0 TO n MINUS 1
                IF img1[i][j] EQUALS 1
                    APPEND (i, j) TO points1
                END IF
                IF img2[i][j] EQUALS 1
                    APPEND (i, j) TO points2
                END IF
            END FOR
        END FOR
        
        SET overlap_count TO AN EMPTY MAP WITH DEFAULT VALUE 0
        
        FOR EACH (x1, y1) IN points1
            FOR EACH (x2, y2) IN points2
                SET dx TO x2 MINUS x1
                SET dy TO y2 MINUS y1
                INCREMENT overlap_count[(dx, dy)] BY 1
            END FOR
        END FOR
        
        SET max_overlap TO MAXIMUM VALUE IN overlap_count OR 0 IF EMPTY
        RETURN max_overlap
    END FUNCTION
END CLASS