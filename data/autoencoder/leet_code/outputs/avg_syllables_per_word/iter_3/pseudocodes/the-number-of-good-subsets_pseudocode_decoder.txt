CLASS Solution
    FUNCTION numberOfGoodSubsets(nums)
        SET count TO frequency count of elements in nums
        SET dp TO list of size 2^10 filled with 0
        SET dp[0] TO 1
        
        FOR each num IN count
            IF num EQUALS 1 THEN
                SET dp[0] TO dp[0] MULTIPLIED BY 2 RAISED TO count[1], MODULO MOD
                CONTINUE
            END IF
            
            IF num NOT IN prime_factors THEN
                CONTINUE
            END IF
            
            SET factors TO prime_factors[num]
            SET mask TO 0
            FOR each prime IN factors
                SET mask TO mask OR (1 LEFT SHIFT (prime MINUS 1))
            END FOR
            
            FOR m FROM (2^10 MINUS 1) DOWN TO 0
                IF (m AND mask) EQUALS 0 THEN
                    SET dp[m OR mask] TO (dp[m OR mask] PLUS dp[m] MULTIPLIED BY count[num]) MODULO MOD
                END IF
            END FOR
        END FOR
        
        SET result TO sum of dp elements from index 1 to end, MODULO MOD
        RETURN result
    END FUNCTION
END CLASS