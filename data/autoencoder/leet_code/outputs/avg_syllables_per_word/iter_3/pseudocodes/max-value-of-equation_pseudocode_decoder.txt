CLASS Solution
    FUNCTION findMaxValueOfEquation(points, k)
        SET max_value TO negative infinity
        INITIALIZE deque_ AS empty double-ended queue
        
        FOR each (xj, yj) IN points
            WHILE deque_ IS NOT empty AND xj MINUS deque_.front's second element GREATER THAN k
                REMOVE front element FROM deque_
            
            IF deque_ IS NOT empty
                SET max_value TO maximum of max_value AND (yj PLUS xj PLUS deque_.front's first element)
            
            WHILE deque_ IS NOT empty AND (yj MINUS xj) GREATER THAN OR EQUAL TO deque_.back's first element
                REMOVE back element FROM deque_
            
            ADD (yj MINUS xj, xj) TO back of deque_
        
        RETURN max_value
    END FUNCTION
END CLASS