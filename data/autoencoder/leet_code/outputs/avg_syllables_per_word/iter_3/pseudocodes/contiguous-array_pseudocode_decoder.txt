CLASS Solution
    FUNCTION findMaxLength(nums)
        SET prefix_sum_index TO a dictionary with key 0 and value -1
        SET max_length TO 0
        SET count TO 0
        FOR each index i AND element num IN nums
            IF num EQUALS 1
                INCREMENT count BY 1
            ELSE
                DECREMENT count BY 1
            END IF
            IF count EXISTS IN prefix_sum_index
                SET max_length TO the greater of max_length AND (i MINUS prefix_sum_index[count])
            ELSE
                SET prefix_sum_index[count] TO i
            END IF
        END FOR
        RETURN max_length
    END FUNCTION
END CLASS