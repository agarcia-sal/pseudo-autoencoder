```
CLASS Solution
    FUNCTION topKFrequent(nums, k)
        SET frequency_map TO empty map with default integer zero
        FOR each num IN nums
            INCREMENT frequency_map[num] BY 1
        SET max_frequency TO maximum value IN frequency_map
        SET buckets TO list of empty lists with length max_frequency plus one
        FOR each num, freq IN items of frequency_map
            APPEND num TO buckets[freq]
        SET result TO empty list
        FOR freq FROM max_frequency DOWN TO 1
            IF LENGTH OF buckets[freq] GREATER THAN 0
                EXTEND result BY buckets[freq]
                IF LENGTH OF result GREATER THAN OR EQUAL TO k
                    RETURN first k elements of result
        RETURN result
```