CLASS Solution
    FUNCTION canIWin(maxChoosableInteger, desiredTotal)
        IF (maxChoosableInteger * (maxChoosableInteger + 1)) DIVIDED BY 2 < desiredTotal THEN
            RETURN False
        END IF
        
        IF desiredTotal <= 0 THEN
            RETURN True
        END IF
        
        SET memo TO empty dictionary
        
        FUNCTION can_win(current_total, used_numbers)
            IF (current_total, used_numbers) IN memo THEN
                RETURN memo[(current_total, used_numbers)]
            END IF
            
            FOR number FROM 1 TO maxChoosableInteger
                IF bit corresponding to number IS NOT set in used_numbers THEN
                    IF current_total + number >= desiredTotal OR NOT can_win(current_total + number, used_numbers with bit number set) THEN
                        SET memo[(current_total, used_numbers)] TO True
                        RETURN True
                    END IF
                END IF
            END FOR
            
            SET memo[(current_total, used_numbers)] TO False
            RETURN False
        END FUNCTION
        
        RETURN can_win(0, 0)
    END FUNCTION
END CLASS