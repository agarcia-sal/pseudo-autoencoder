```
CLASS Solution
    FUNCTION updateMatrix(mat)
        IF mat IS EMPTY OR mat[0] IS EMPTY THEN
            RETURN mat
        END IF
        
        SET rows TO LENGTH OF mat
        SET cols TO LENGTH OF mat[0]
        SET dist TO 2D LIST OF SIZE rows BY cols FILLED WITH INFINITY
        SET queue TO EMPTY DEQUE
        
        FOR r FROM 0 TO rows MINUS 1
            FOR c FROM 0 TO cols MINUS 1
                IF mat[r][c] EQUALS 0 THEN
                    SET dist[r][c] TO 0
                    APPEND (r, c) TO queue
                END IF
            END FOR
        END FOR
        
        SET directions TO LIST OF TUPLES: (-1, 0), (1, 0), (0, -1), (0, 1)
        
        WHILE queue IS NOT EMPTY
            SET r, c TO REMOVE FIRST ELEMENT FROM queue
            FOR EACH (dr, dc) IN directions
                SET nr TO r PLUS dr
                SET nc TO c PLUS dc
                IF nr IS BETWEEN 0 AND rows MINUS 1 AND nc IS BETWEEN 0 AND cols MINUS 1 THEN
                    IF dist[nr][nc] IS GREATER THAN dist[r][c] PLUS 1 THEN
                        SET dist[nr][nc] TO dist[r][c] PLUS 1
                        APPEND (nr, nc) TO queue
                    END IF
                END IF
            END FOR
        END WHILE
        
        RETURN dist
    END FUNCTION
END CLASS
```