CLASS Solution
    FUNCTION crackSafe(n, k)
        SET visited TO empty set
        SET sequence TO empty list

        FUNCTION dfs(node)
            FOR i FROM 0 TO k - 1
                SET edge TO node CONCATENATED WITH string representation of i
                IF edge NOT IN visited THEN
                    ADD edge TO visited
                    CALL dfs WITH argument edge SUBSTRING FROM index 1 TO end
                    APPEND string representation of i TO sequence
                END IF
            END FOR
        END FUNCTION

        SET start_node TO string of '0' REPEATED (n - 1) TIMES
        CALL dfs WITH argument start_node

        RETURN concatenation of sequence reversed FOLLOWED BY start_node
    END FUNCTION
END CLASS