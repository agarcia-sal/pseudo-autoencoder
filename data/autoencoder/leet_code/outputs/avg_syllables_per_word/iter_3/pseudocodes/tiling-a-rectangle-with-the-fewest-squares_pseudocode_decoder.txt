CLASS Solution
    FUNCTION tilingRectangle(n, m)
        FUNCTION backtrack(heights, moves)
            IF all heights EQUAL n THEN
                SET min_moves TO minimum of min_moves AND moves
                RETURN
            END IF

            IF moves GREATER THAN OR EQUAL TO min_moves THEN
                RETURN
            END IF

            SET min_height TO minimum value in heights
            SET left TO index of min_height in heights
            SET right TO left
            WHILE right LESS THAN m AND heights[right] EQUAL min_height
                INCREMENT right BY 1
            END WHILE

            FOR size FROM (right MINUS left) DOWNTO 1
                IF for all i FROM 0 TO size MINUS 1, heights[left PLUS i] PLUS size LESS THAN OR EQUAL TO n THEN
                    SET new_heights TO COPY OF heights
                    FOR i FROM 0 TO size MINUS 1
                        INCREMENT new_heights[left PLUS i] BY size
                    END FOR
                    CALL backtrack(new_heights, moves PLUS 1)
                END IF
            END FOR
        END FUNCTION

        SET min_moves TO infinity
        CALL backtrack(list of zeros with length m, 0)
        RETURN min_moves
    END FUNCTION
END CLASS