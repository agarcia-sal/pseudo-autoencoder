CLASS Solution
    FUNCTION swimInWater(grid)
        SET n TO LENGTH OF grid
        CREATE empty set visited
        CREATE min_heap WITH ELEMENT (grid[0][0], 0, 0)
        ADD (0, 0) TO visited
        
        SET directions TO LIST OF (0, 1), (1, 0), (0, -1), (-1, 0)
        
        WHILE min_heap IS NOT EMPTY
            REMOVE smallest element FROM min_heap INTO (t, i, j)
            IF i EQUALS n MINUS 1 AND j EQUALS n MINUS 1
                RETURN t
            
            FOR EACH (di, dj) IN directions
                SET ni TO i PLUS di
                SET nj TO j PLUS dj
                IF ni IS BETWEEN 0 AND n MINUS 1 AND nj IS BETWEEN 0 AND n MINUS 1 AND (ni, nj) NOT IN visited
                    ADD (ni, nj) TO visited
                    ADD (MAXIMUM OF t AND grid[ni][nj], ni, nj) TO min_heap
        
        RETURN -1
    END FUNCTION
END CLASS