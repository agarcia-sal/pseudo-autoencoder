CLASS Solution
    FUNCTION getLengthOfOptimalCompression(s, k)
        FUNCTION dp(i, k, prev_char, prev_count)
            IF k < 0 THEN
                RETURN infinity
            IF i EQUALS LENGTH OF s THEN
                RETURN 0
            
            IF CHARACTER AT s[i] EQUALS prev_char THEN
                IF prev_count EQUALS 1 OR prev_count EQUALS 9 OR prev_count EQUALS 99 THEN
                    SET increment TO 1
                ELSE
                    SET increment TO 0
                RETURN increment PLUS dp(i + 1, k, prev_char, prev_count + 1)
            ELSE
                SET keep TO 1 PLUS dp(i + 1, k, s[i], 1)
                SET delete TO dp(i + 1, k - 1, prev_char, prev_count)
                RETURN MINIMUM OF keep AND delete
        END FUNCTION
        
        RETURN dp(0, k, empty string, 0)
    END FUNCTION
END CLASS