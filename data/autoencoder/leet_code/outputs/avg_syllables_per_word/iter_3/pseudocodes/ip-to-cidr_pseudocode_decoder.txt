CLASS Solution
    FUNCTION ipToCIDR(ip, n)
        FUNCTION ip_to_int(ip)
            SET parts TO list of integers from splitting ip by '.'
            SET res TO 0
            FOR each part IN parts
                SET res TO res shifted left by 8 bits plus part
            RETURN res
        END FUNCTION

        FUNCTION int_to_ip(num)
            SET segments TO empty list
            FOR i FROM 3 DOWNTO 0
                APPEND string of (num shifted right by 8 times i bits MODULO 256) TO segments
            RETURN segments joined by '.'
        END FUNCTION

        FUNCTION largest_cidr_size(start, n)
            IF start BITWISE AND 1 IS 1
                RETURN 1
            SET x TO 1
            WHILE x LESS THAN OR EQUAL TO n AND (start BITWISE AND (x MINUS 1)) EQUALS 0
                SET x TO x shifted left by 1 bit
            RETURN x shifted right by 1 bit
        END FUNCTION

        SET result TO empty list
        SET start_ip TO ip_to_int(ip)

        WHILE n GREATER THAN 0
            SET size TO largest_cidr_size(start_ip, n)
            SET prefix_length TO 32 MINUS (bit length of size MINUS 1)
            APPEND concatenation of int_to_ip(start_ip), '/', and prefix_length TO result
            SET start_ip TO start_ip PLUS size
            SET n TO n MINUS size
        
        RETURN result
    END FUNCTION
END CLASS