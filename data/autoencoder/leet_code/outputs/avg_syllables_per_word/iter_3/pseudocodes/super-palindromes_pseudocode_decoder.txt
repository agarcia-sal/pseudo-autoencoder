CLASS Solution
    FUNCTION superpalindromesInRange(left, right)
        FUNCTION is_palindrome(num)
            RETURN str(num) EQUALS REVERSE OF str(num)
        END FUNCTION

        FUNCTION generate_palindromes(limit)
            SET palindromes TO empty list
            FOR i FROM 1 TO 99999
                SET s TO str(i)
                APPEND integer value OF (s CONCATENATED WITH REVERSE OF s EXCLUDING LAST CHARACTER) TO palindromes
                APPEND integer value OF (s CONCATENATED WITH REVERSE OF s) TO palindromes
            END FOR
            RETURN all elements p IN palindromes WHERE p IS LESS THAN OR EQUAL TO limit
        END FUNCTION

        SET left TO integer value OF left
        SET right TO integer value OF right
        SET limit TO integer value OF (square root OF right) PLUS 1
        SET palindromes TO generate_palindromes(limit)

        SET count TO 0
        FOR each p IN palindromes
            SET square TO p MULTIPLIED BY p
            IF square IS GREATER THAN OR EQUAL TO left AND square IS LESS THAN OR EQUAL TO right AND is_palindrome(square) IS TRUE
                INCREMENT count BY 1
            END IF
        END FOR

        RETURN count
    END FUNCTION
END CLASS