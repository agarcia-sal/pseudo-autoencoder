CLASS Solution
    FUNCTION loudAndRich(richer: List of List of Integer, quiet: List of Integer) RETURNS List of Integer
        CREATE graph AS mapping from Integer to List of Integer DEFAULT empty list
        FOR each pair (a, b) IN richer
            APPEND a TO graph[b]
        SET n TO LENGTH OF quiet
        SET answer TO list of size n FILLED WITH -1

        FUNCTION dfs(person: Integer) RETURNS Integer
            IF answer[person] EQUALS -1 THEN
                SET answer[person] TO person
                FOR each neighbor IN graph[person]
                    SET candidate TO dfs(neighbor)
                    IF quiet[candidate] LESS THAN quiet[answer[person]] THEN
                        SET answer[person] TO candidate
            RETURN answer[person]
        END FUNCTION

        FOR i FROM 0 TO n MINUS 1
            CALL dfs(i)
        RETURN answer
    END FUNCTION
END CLASS