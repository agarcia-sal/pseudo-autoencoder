```
CLASS Solution
    FUNCTION maximalPathQuality(values: List[int], edges: List[List[int]], maxTime: int) -> int
        SET graph TO a default dictionary of list
        FOR each (u, v, time) IN edges
            APPEND (v, time) TO graph[u]
            APPEND (u, time) TO graph[v]

        SET visited TO an empty set
        SET max_quality TO 0

        FUNCTION dfs(node, current_time, current_quality)
            IF node EQUALS 0 THEN
                SET max_quality TO the maximum of max_quality and current_quality
            END IF

            FOR each (neighbor, time) IN graph[node]
                IF time LESS THAN OR EQUAL TO current_time THEN
                    IF neighbor NOT IN visited THEN
                        ADD neighbor TO visited
                        CALL dfs(neighbor, current_time MINUS time, current_quality PLUS values[neighbor])
                        REMOVE neighbor FROM visited
                    ELSE
                        CALL dfs(neighbor, current_time MINUS time, current_quality)
                    END IF
                END IF
            END FOR
        END FUNCTION

        ADD 0 TO visited
        CALL dfs(0, maxTime, values[0])

        RETURN max_quality
    END FUNCTION
END CLASS
```