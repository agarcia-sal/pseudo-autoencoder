CLASS Solution
    FUNCTION maximumANDSum(nums, numSlots)
        FUNCTION dp(index, slots)
            IF index EQUALS LENGTH OF nums THEN
                RETURN 0
            END IF
            
            SET max_and_sum TO 0
            SET slots_list TO CONVERT slots TO LIST
            
            FOR i FROM 0 TO numSlots - 1
                IF slots_list[i] LESS THAN 2 THEN
                    INCREMENT slots_list[i] BY 1
                    SET and_sum TO BITWISE AND OF nums[index] AND (i + 1) PLUS dp(index + 1, CONVERT slots_list TO TUPLE)
                    IF and_sum GREATER THAN max_and_sum THEN
                        SET max_and_sum TO and_sum
                    END IF
                    DECREMENT slots_list[i] BY 1
                END IF
            END FOR
            
            RETURN max_and_sum
        END FUNCTION
        
        SET initial_slots TO TUPLE OF numSlots ZEROS
        RETURN dp(0, initial_slots)
    END FUNCTION
END CLASS