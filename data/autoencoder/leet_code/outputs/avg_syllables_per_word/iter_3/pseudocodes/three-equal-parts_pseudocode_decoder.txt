CLASS Solution
    FUNCTION threeEqualParts(arr: List of Integer) RETURNS List of Integer
        SET total_ones TO sum of elements in arr
        
        IF total_ones EQUALS 0 THEN
            RETURN [0, 2]
        END IF
        
        IF total_ones MODULO 3 NOT EQUALS 0 THEN
            RETURN [-1, -1]
        END IF
        
        SET part_ones TO total_ones DIVIDED BY 3
        
        SET first_part_index TO 0
        SET count_ones TO 0
        FOR i FROM 0 TO LENGTH OF arr MINUS 1
            IF arr[i] EQUALS 1 THEN
                INCREMENT count_ones BY 1
                IF count_ones EQUALS 1 THEN
                    SET first_part_index TO i
                END IF
                IF count_ones EQUALS part_ones THEN
                    BREAK LOOP
                END IF
            END IF
        END FOR
        
        SET second_part_index TO 0
        SET count_ones TO 0
        FOR i FROM 0 TO LENGTH OF arr MINUS 1
            IF arr[i] EQUALS 1 THEN
                INCREMENT count_ones BY 1
                IF count_ones EQUALS part_ones + 1 THEN
                    SET second_part_index TO i
                    BREAK LOOP
                END IF
            END IF
        END FOR
        
        SET third_part_index TO 0
        SET count_ones TO 0
        FOR i FROM 0 TO LENGTH OF arr MINUS 1
            IF arr[i] EQUALS 1 THEN
                INCREMENT count_ones BY 1
                IF count_ones EQUALS (2 * part_ones) + 1 THEN
                    SET third_part_index TO i
                    BREAK LOOP
                END IF
            END IF
        END FOR
        
        SET n TO LENGTH OF arr MINUS third_part_index
        
        IF first_part_index + n LESS THAN OR EQUAL LENGTH OF arr AND
           second_part_index + n LESS THAN OR EQUAL LENGTH OF arr AND
           SUBLIST arr FROM first_part_index TO first_part_index + n MINUS 1 EQUALS
           SUBLIST arr FROM second_part_index TO second_part_index + n MINUS 1 AND
           SUBLIST arr FROM second_part_index TO second_part_index + n MINUS 1 EQUALS
           SUBLIST arr FROM third_part_index TO END THEN
            RETURN [first_part_index + n - 1, second_part_index + n]
        END IF
        
        RETURN [-1, -1]
    END FUNCTION
END CLASS