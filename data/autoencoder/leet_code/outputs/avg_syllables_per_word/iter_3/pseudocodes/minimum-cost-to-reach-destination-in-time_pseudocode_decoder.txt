```
CLASS Solution
    FUNCTION minCost(maxTime, edges, passingFees)
        SET n TO LENGTH OF passingFees
        SET graph TO LIST OF n EMPTY LISTS
        FOR each (x, y, time) IN edges
            APPEND (y, time) TO graph[x]
            APPEND (x, time) TO graph[y]

        SET pq TO LIST CONTAINING (passingFees[0], 0, 0)
        SET visited_time TO LIST OF n ELEMENTS SET TO infinity
        SET visited_time[0] TO 0

        WHILE pq IS NOT EMPTY
            EXTRACT (current_cost, current_city, current_time) FROM pq BY REMOVING THE SMALLEST ELEMENT

            IF current_city EQUALS n MINUS 1
                RETURN current_cost

            FOR each (neighbor, travel_time) IN graph[current_city]
                SET new_time TO current_time PLUS travel_time
                SET new_cost TO current_cost PLUS passingFees[neighbor]

                IF new_time LESS THAN OR EQUAL TO maxTime AND (new_time LESS THAN visited_time[neighbor] OR new_cost LESS THAN current_cost)
                    SET visited_time[neighbor] TO new_time
                    INSERT (new_cost, neighbor, new_time) INTO pq

        RETURN -1
```