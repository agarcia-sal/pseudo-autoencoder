CLASS Solution
    FUNCTION minimumTime(n, relations, time)
        SET graph TO empty mapping with default list
        FOR each pair (prevCourse, nextCourse) IN relations
            APPEND prevCourse TO graph[nextCourse]
        END FOR

        SET memo TO list of size (n + 1) filled with -1

        FUNCTION dfs(course)
            IF memo[course] IS NOT -1
                RETURN memo[course]
            END IF

            SET max_prerequisite_time TO 0
            FOR each prevCourse IN graph[course]
                SET max_prerequisite_time TO maximum of max_prerequisite_time AND dfs(prevCourse)
            END FOR

            SET memo[course] TO max_prerequisite_time PLUS time at index (course - 1)
            RETURN memo[course]
        END FUNCTION

        SET total_minimum_time TO 0
        FOR course FROM 1 TO n
            SET total_minimum_time TO maximum of total_minimum_time AND dfs(course)
        END FOR

        RETURN total_minimum_time
    END FUNCTION
END CLASS