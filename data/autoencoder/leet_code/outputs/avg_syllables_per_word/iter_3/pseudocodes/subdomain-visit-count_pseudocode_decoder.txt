CLASS Solution
    FUNCTION subdomainVisits(cpdomains)
        SET domain_count TO empty dictionary with default value 0
        FOR each cpdomain IN cpdomains
            SPLIT cpdomain INTO count_string AND domain_string BY space
            SET count TO integer value of count_string
            SPLIT domain_string INTO subdomains BY '.'
            FOR i FROM 0 TO LENGTH OF subdomains MINUS 1
                SET subdomain TO JOIN subdomains FROM index i TO END WITH '.'
                INCREMENT domain_count[subdomain] BY count
        SET result TO empty list
        FOR each domain, count IN domain_count items
            APPEND string of count CONCATENATED WITH space CONCATENATED WITH domain TO result
        RETURN result
    END FUNCTION
END CLASS