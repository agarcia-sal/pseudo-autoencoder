CLASS Solution
    FUNCTION minTaps(n, ranges)
        SET max_range TO list of zeros with length n + 1

        FOR i FROM 0 TO n
            IF ranges[i] > 0
                SET left TO maximum of 0 and (i MINUS ranges[i])
                SET right TO minimum of n and (i PLUS ranges[i])
                SET max_range[left] TO maximum of max_range[left] and right

        SET taps TO 0
        SET current_end TO 0
        SET farthest TO 0

        FOR i FROM 0 TO n
            IF i GREATER THAN farthest
                RETURN -1
            IF i GREATER THAN current_end
                INCREMENT taps BY 1
                SET current_end TO farthest
            SET farthest TO maximum of farthest and max_range[i]

        RETURN taps
    END FUNCTION
END CLASS