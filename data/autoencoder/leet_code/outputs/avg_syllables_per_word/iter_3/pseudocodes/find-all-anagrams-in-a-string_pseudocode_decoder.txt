CLASS Solution
    FUNCTION findAnagrams(s, p)
        SET len_s TO LENGTH OF s
        SET len_p TO LENGTH OF p
        
        IF len_p > len_s
            RETURN EMPTY LIST
        
        SET p_count TO COUNTER OF CHARACTERS IN p
        SET s_count TO COUNTER OF CHARACTERS IN FIRST len_p CHARACTERS OF s
        
        SET anagrams TO EMPTY LIST
        
        IF s_count EQUALS p_count
            APPEND 0 TO anagrams
        
        FOR i FROM len_p TO len_s MINUS 1
            INCREMENT COUNT OF s[i] IN s_count BY 1
            DECREMENT COUNT OF s[i MINUS len_p] IN s_count BY 1
            
            IF COUNT OF s[i MINUS len_p] IN s_count EQUALS 0
                REMOVE s[i MINUS len_p] FROM s_count
            
            IF s_count EQUALS p_count
                APPEND (i MINUS len_p PLUS 1) TO anagrams
        
        RETURN anagrams
    END FUNCTION
END CLASS