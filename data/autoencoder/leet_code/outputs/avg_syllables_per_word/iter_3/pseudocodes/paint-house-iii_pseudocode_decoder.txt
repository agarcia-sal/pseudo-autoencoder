CLASS Solution
    FUNCTION minCost(houses, cost, m, n, target)
        DEFINE dp(i, prev_color, groups) WITH CACHE
            IF i EQUALS m
                IF groups EQUALS target
                    RETURN 0
                ELSE
                    RETURN infinity
            END IF

            IF houses[i] NOT EQUALS 0
                SET new_groups TO groups
                IF houses[i] NOT EQUALS prev_color
                    INCREMENT new_groups BY 1
                RETURN dp(i + 1, houses[i], new_groups)
            END IF

            SET min_cost TO infinity
            FOR color FROM 1 TO n
                SET new_groups TO groups
                IF color NOT EQUALS prev_color
                    INCREMENT new_groups BY 1
                SET current_cost TO cost[i][color - 1] PLUS dp(i + 1, color, new_groups)
                IF current_cost LESS THAN min_cost
                    SET min_cost TO current_cost
            RETURN min_cost
        END FUNCTION

        SET result TO dp(0, 0, 0)
        IF result EQUALS infinity
            RETURN -1
        ELSE
            RETURN result
    END FUNCTION
END CLASS