CLASS Solution
    FUNCTION knightProbability(n, k, row, column)
        SET moves TO [(-2, -1), (-2, 1), (-1, -2), (-1, 2), (1, -2), (1, 2), (2, -1), (2, 1)]

        SET dp TO a 2D list of size n by n with all values 0
        SET dp[row][column] TO 1

        FOR move_index FROM 1 TO k
            SET new_dp TO a 2D list of size n by n with all values 0

            FOR r FROM 0 TO n - 1
                FOR c FROM 0 TO n - 1
                    IF dp[r][c] EQUALS 0 THEN
                        CONTINUE
                    FOR each (dr, dc) IN moves
                        SET nr TO r + dr
                        SET nc TO c + dc
                        IF nr GREATER OR EQUAL TO 0 AND nr LESS THAN n AND nc GREATER OR EQUAL TO 0 AND nc LESS THAN n THEN
                            INCREMENT new_dp[nr][nc] BY dp[r][c] DIVIDED BY 8

            SET dp TO new_dp

        SET total_probability TO 0
        FOR each row_list IN dp
            INCREMENT total_probability BY SUM OF row_list

        RETURN total_probability
    END FUNCTION
END CLASS