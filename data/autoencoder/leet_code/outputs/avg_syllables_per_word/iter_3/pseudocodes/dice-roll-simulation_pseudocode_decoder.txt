CLASS Solution
    FUNCTION dieSimulator(n: int, rollMax: List[int]) RETURNS int
        SET MOD TO 10^9 + 7
        SET dp TO three-dimensional list of size (n+1) by 6 by (max of rollMax + 1) filled with 0
        
        FOR j FROM 0 TO 5
            SET dp[1][j][1] TO 1
        
        FOR i FROM 2 TO n
            FOR j FROM 0 TO 5
                FOR k FROM 1 TO rollMax[j]
                    IF k > 1 THEN
                        SET dp[i][j][k] TO dp[i-1][j][k-1]
                    ELSE
                        SET total TO 0
                        FOR x FROM 0 TO 5
                            IF x != j THEN
                                FOR y FROM 1 TO rollMax[x]
                                    SET total TO total + dp[i-1][x][y]
                        SET dp[i][j][k] TO total MODULO MOD
        
        SET result TO 0
        FOR j FROM 0 TO 5
            FOR k FROM 1 TO rollMax[j]
                SET result TO result + dp[n][j][k]
        
        RETURN result MODULO MOD
    END FUNCTION
END CLASS