CLASS Solution
    FUNCTION numMusicPlaylists(n, goal, k)
        SET MOD TO 10^9 + 7
        INITIALIZE dp AS 2D list WITH dimensions (goal + 1) BY (n + 1) FILLED WITH 0
        SET dp[0][0] TO 1

        FOR i FROM 1 TO goal
            FOR j FROM 1 TO n
                SET dp[i][j] TO dp[i][j] PLUS dp[i - 1][j - 1] MULTIPLIED BY (n MINUS (j MINUS 1))
                SET dp[i][j] TO dp[i][j] MODULO MOD

                IF j GREATER THAN k THEN
                    SET dp[i][j] TO dp[i][j] PLUS dp[i - 1][j] MULTIPLIED BY (j MINUS k)
                    SET dp[i][j] TO dp[i][j] MODULO MOD
                END IF
            END FOR
        END FOR

        RETURN dp[goal][n]
    END FUNCTION
END CLASS