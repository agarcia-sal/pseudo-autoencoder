CLASS Solution
    FUNCTION scheduleCourse(courses: List of List of int) RETURNS int
        SORT courses BY their second element in ascending order
        SET max_heap TO empty list
        SET current_end_day TO 0

        FOR EACH duration, last_day IN courses
            IF current_end_day + duration <= last_day THEN
                PUSH negative duration INTO max_heap
                INCREMENT current_end_day BY duration
            ELSE
                IF max_heap IS NOT empty AND negative of max_heap's first element > duration THEN
                    INCREMENT current_end_day BY duration + POP from max_heap
                    PUSH negative duration INTO max_heap
        RETURN LENGTH OF max_heap
    END FUNCTION
END CLASS