CLASS Solution
    FUNCTION convertArray(nums)
        FUNCTION min_operations_to_non_decreasing(nums)
            SET max_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF max_heap IS NOT empty AND NEGATIVE OF max_heap FIRST ELEMENT > num THEN
                    INCREMENT operations BY (NEGATIVE OF REMOVE FIRST ELEMENT FROM max_heap) MINUS num
                    ADD NEGATIVE OF num TO max_heap
                END IF
                ADD NEGATIVE OF num TO max_heap
            END FOR
            RETURN operations
        END FUNCTION

        FUNCTION min_operations_to_non_increasing(nums)
            SET min_heap TO empty list
            SET operations TO 0
            FOR each num IN nums
                IF min_heap IS NOT empty AND min_heap FIRST ELEMENT < num THEN
                    INCREMENT operations BY num MINUS REMOVE FIRST ELEMENT FROM min_heap
                    ADD num TO min_heap
                END IF
                ADD num TO min_heap
            END FOR
            RETURN operations
        END FUNCTION

        RETURN MINIMUM OF min_operations_to_non_decreasing(nums) AND min_operations_to_non_increasing(nums)
    END FUNCTION
END CLASS