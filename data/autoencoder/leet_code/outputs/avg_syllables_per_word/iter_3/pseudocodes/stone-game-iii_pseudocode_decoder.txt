CLASS Solution
    FUNCTION stoneGameIII(stoneValue)
        SET n TO LENGTH OF stoneValue
        SET dp TO LIST OF ZEROS WITH SIZE n + 1

        FOR i FROM n - 1 DOWNTO 0
            SET dp[i] TO stoneValue[i] MINUS dp[i + 1]
            IF i + 2 LESS THAN OR EQUAL TO n
                SET dp[i] TO MAXIMUM OF dp[i] AND (stoneValue[i] PLUS stoneValue[i + 1] MINUS dp[i + 2])
            IF i + 3 LESS THAN OR EQUAL TO n
                SET dp[i] TO MAXIMUM OF dp[i] AND (stoneValue[i] PLUS stoneValue[i + 1] PLUS stoneValue[i + 2] MINUS dp[i + 3])

        IF dp[0] GREATER THAN 0
            RETURN "Alice"
        ELSE IF dp[0] LESS THAN 0
            RETURN "Bob"
        ELSE
            RETURN "Tie"
    END FUNCTION
END CLASS