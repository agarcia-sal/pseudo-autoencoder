CLASS Solution
    FUNCTION maxHeight(cuboids)
        FOR each cuboid IN cuboids
            SORT dimensions of cuboid
        SORT cuboids lexicographically
        SET n TO LENGTH OF cuboids
        SET dp TO list of zeros with length n
        FOR i FROM 0 TO n - 1
            SET dp[i] TO cuboids[i][2]
            FOR j FROM 0 TO i - 1
                IF cuboids[j][0] <= cuboids[i][0] AND cuboids[j][1] <= cuboids[i][1] AND cuboids[j][2] <= cuboids[i][2]
                    SET dp[i] TO MAXIMUM OF dp[i] AND dp[j] + cuboids[i][2]
        RETURN MAXIMUM VALUE IN dp
    END FUNCTION
END CLASS