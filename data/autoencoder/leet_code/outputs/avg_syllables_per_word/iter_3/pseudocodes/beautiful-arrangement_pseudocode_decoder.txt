CLASS Solution
    FUNCTION countArrangement(n)
        FUNCTION backtrack(used, index)
            IF index EQUALS n PLUS 1
                RETURN 1
            SET count TO 0
            FOR i FROM 1 TO n
                IF used[i] IS False AND (i MODULO index EQUALS 0 OR index MODULO i EQUALS 0)
                    SET used[i] TO True
                    INCREMENT count BY backtrack(used, index PLUS 1)
                    SET used[i] TO False
            RETURN count
        END FUNCTION

        SET used TO LIST OF False VALUES LENGTH n PLUS 1
        RETURN backtrack(used, 1)
    END FUNCTION
END CLASS