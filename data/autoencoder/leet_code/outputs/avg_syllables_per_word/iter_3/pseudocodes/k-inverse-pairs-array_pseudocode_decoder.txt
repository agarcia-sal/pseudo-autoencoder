CLASS Solution
    FUNCTION kInversePairs(n, k)
        SET MOD TO 1000000007
        INITIALIZE dp AS list of lists with dimensions (n + 1) by (k + 1), FILLED WITH 0
        SET dp[0][0] TO 1

        FOR i FROM 1 TO n
            SET prefix_sum TO 0
            FOR j FROM 0 TO k
                SET prefix_sum TO (prefix_sum + dp[i - 1][j]) MODULO MOD
                IF j >= i THEN
                    SET prefix_sum TO (prefix_sum - dp[i - 1][j - i] + MOD) MODULO MOD
                END IF
                SET dp[i][j] TO prefix_sum
            END FOR
        END FOR

        RETURN dp[n][k]
    END FUNCTION
END CLASS