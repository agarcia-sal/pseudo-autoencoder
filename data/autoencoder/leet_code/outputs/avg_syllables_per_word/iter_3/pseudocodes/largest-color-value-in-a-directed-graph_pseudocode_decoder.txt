```
CLASS Solution
    FUNCTION largestPathValue(colors, edges)
        SET n TO LENGTH OF colors
        SET graph TO defaultdict(list)
        SET in_degree TO list of zeroes with length n

        FOR each (u, v) IN edges
            APPEND v TO graph[u]
            INCREMENT in_degree[v] BY 1

        SET queue TO deque containing all indices i FROM 0 TO n-1 WHERE in_degree[i] IS 0
        SET dp TO two-dimensional list of zeroes with dimensions n by 26
        SET visited TO 0
        SET max_color_value TO 0

        WHILE queue IS NOT empty
            SET node TO POP LEFT from queue
            INCREMENT dp[node][ASCII value of colors[node] MINUS ASCII value of 'a'] BY 1
            SET max_color_value TO MAXIMUM of max_color_value AND dp[node][ASCII value of colors[node] MINUS ASCII value of 'a']
            INCREMENT visited BY 1

            FOR each neighbor IN graph[node]
                FOR c FROM 0 TO 25
                    SET dp[neighbor][c] TO MAXIMUM of dp[neighbor][c] AND dp[node][c]
                DECREMENT in_degree[neighbor] BY 1
                IF in_degree[neighbor] IS 0
                    APPEND neighbor TO queue

        IF visited IS EQUAL TO n
            RETURN max_color_value
        ELSE
            RETURN -1
    END FUNCTION
END CLASS
```