CLASS Solution  
    FUNCTION largestSumOfAverages(nums, k)  
        SET n TO the LENGTH OF nums  
        SET prefix_sum TO a list of zeros with LENGTH n PLUS one  
        FOR index FROM zero TO n MINUS one  
            SET element at position index PLUS one of prefix_sum TO element at position index of prefix_sum PLUS element at position index of nums  
        END FOR  
        
        FUNCTION average(i, j)  
            RETURN element at position j PLUS one of prefix_sum MINUS element at position i of prefix_sum DIVIDED BY j MINUS i PLUS one  
        END FUNCTION  
        
        SET dp TO a two-dimensional list with n PLUS one rows and k PLUS one columns filled with zeros  
        
        FOR index FROM zero TO n MINUS one  
            SET element at position index and position one of dp TO average(index, n MINUS one)  
        END FOR  
        
        FOR index FROM n MINUS one DOWN TO zero  
            FOR partitions FROM two TO k  
                FOR split_pos FROM index PLUS one TO n MINUS one  
                    SET dp at position index and partitions TO the maximum of current dp at position index and partitions AND dp at position split_pos and partitions MINUS one PLUS average(index, split_pos MINUS one)  
                END FOR  
            END FOR  
        END FOR  
        
        RETURN dp at position zero and position k  
    END FUNCTION  
END CLASS