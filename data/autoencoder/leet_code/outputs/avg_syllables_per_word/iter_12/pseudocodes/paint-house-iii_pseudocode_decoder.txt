CLASS Solution
    FUNCTION minCost(houses, cost, m, n, target)
        FUNCTION dp(i, prev_color, groups)
            IF i EQUALS m THEN
                IF groups EQUALS target THEN
                    RETURN zero
                ELSE
                    RETURN infinity
                END IF
            END IF

            IF element at position i of houses NOT EQUALS zero THEN
                SET new_groups TO groups PLUS (one IF element at position i of houses NOT EQUALS prev_color ELSE zero)
                RETURN CALL dp WITH i PLUS one, element at position i of houses, new_groups
            END IF

            SET min_cost TO infinity
            FOR color FROM one TO n DO
                SET new_groups TO groups PLUS (one IF color NOT EQUALS prev_color ELSE zero)
                SET candidate_cost TO element at position i of cost AT position color MINUS one PLUS CALL dp WITH i PLUS one, color, new_groups
                SET min_cost TO the lesser BETWEEN min_cost AND candidate_cost
            END FOR

            RETURN min_cost
        END FUNCTION

        SET result TO CALL dp WITH zero, zero, zero
        IF result NOT EQUALS infinity THEN
            RETURN result
        ELSE
            RETURN minus one
        END IF
    END FUNCTION
END CLASS