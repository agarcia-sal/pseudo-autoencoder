CLASS Solution  
    FUNCTION maskPII(s)  
        IF s CONTAINS the character at symbol  
            SET local AND domain TO the result of splitting s BY the character at symbol  
            SET masked_local TO the first character of local CONCATENATED WITH five times the character asterisk CONCATENATED WITH the last character of local  
            RETURN the result of concatenating the lowercase form of masked_local, the character at symbol, and the lowercase form of domain  
        ELSE  
            SET digits TO the result of joining each character IN s WHERE the character IS a digit  
            SET local_number TO the concatenation of three asterisks, a hyphen, three asterisks, a hyphen, and the last four characters of digits  
            IF the length of digits EQUALS ten  
                RETURN local_number  
            ELSE  
                SET country_code_length TO the length of digits MINUS ten  
                SET country_code TO the concatenation of the plus character, country_code_length times the character asterisk, and a hyphen  
                RETURN the concatenation of country_code and local_number  
            END IF  
        END IF  
    END FUNCTION  
END CLASS