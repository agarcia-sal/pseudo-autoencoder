CLASS Solution  
    FUNCTION minPushBox(grid)  
        SET directions TO list of elements: element with first value minus one and second value zero, element with first value one and second value zero, element with first value zero and second value minus one, element with first value zero and second value one  
          
        FOR index i FROM zero TO length of grid MINUS one  
            FOR index j FROM zero TO length of element at position zero of grid MINUS one  
                IF element at position i of grid at position j EQUALS character S  
                    SET player_start TO pair of values i and j  
                ELSE IF element at position i of grid at position j EQUALS character B  
                    SET box_start TO pair of values i and j  
                ELSE IF element at position i of grid at position j EQUALS character T  
                    SET target TO pair of values i and j  
                END IF  
            END FOR  
        END FOR  
          
        SET queue TO a new double ended queue initialized with single element tuple containing player_start, box_start, zero  
        SET visited TO a new empty collection of unique elements  
        ADD tuple containing player_start and box_start TO visited  
          
        WHILE queue is not empty  
            REMOVE first element FROM queue and SET player_pos, box_pos, push_count TO its values  
              
            IF box_pos EQUALS target  
                RETURN push_count  
            END IF  
              
            FOR each pair dx, dy IN directions  
                SET new_player_pos TO pair of element at position zero of player_pos PLUS dx, element at position one of player_pos PLUS dy  
                  
                IF call to is_valid_position with arguments new_player_pos and grid  
                    IF new_player_pos EQUALS box_pos  
                        SET new_box_pos TO pair of element at position zero of box_pos PLUS dx, element at position one of box_pos PLUS dy  
                          
                        IF call to is_valid_position with arguments new_box_pos and grid AND tuple containing new_player_pos and new_box_pos NOT IN visited  
                            ADD tuple containing new_player_pos and new_box_pos TO visited  
                            APPEND tuple containing new_player_pos, new_box_pos, push_count PLUS one TO queue  
                        END IF  
                    ELSE  
                        IF tuple containing new_player_pos and box_pos NOT IN visited  
                            ADD tuple containing new_player_pos and box_pos TO visited  
                            APPEND tuple containing new_player_pos, box_pos, push_count TO queue  
                        END IF  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
          
        RETURN minus one  
    END FUNCTION  
      
    FUNCTION is_valid_position(position, grid)  
        SET x TO element at position zero of position  
        SET y TO element at position one of position  
        RETURN x GREATER THAN OR EQUAL TO zero AND x LESS THAN length of grid AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN length of element at position zero of grid AND element at position x of grid at position y NOT EQUALS character HASH  
    END FUNCTION  
END CLASS