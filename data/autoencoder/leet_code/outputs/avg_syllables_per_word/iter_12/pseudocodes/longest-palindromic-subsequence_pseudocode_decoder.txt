CLASS Solution  
    FUNCTION longestPalindromeSubseq(s)  
        SET n TO the LENGTH OF s  
        CALL create_2D_array WITH n TO INITIALIZE dp AS 2D ARRAY OF ZEROES  
        
        FOR i FROM zero TO n MINUS one  
            SET element at position i of dp at position i TO one  
        END FOR  
        
        FOR length FROM two TO n  
            FOR i FROM zero TO n MINUS length  
                SET j TO i PLUS length MINUS one  
                IF character at position i of s EQUALS character at position j of s  
                    SET element at position i of dp at position j TO element at position i PLUS one of dp at position j MINUS one PLUS two  
                ELSE  
                    SET element at position i of dp at position j TO the GREATER OF element at position i PLUS one of dp at position j AND element at position i of dp at position j MINUS one  
                END IF  
            END FOR  
        END FOR  
        
        RETURN element at position zero of dp at position n MINUS one  
    END FUNCTION  

    FUNCTION create_2D_array(n)  
        INITIALIZE dp AS list  
        FOR i FROM zero TO n MINUS one  
            INITIALIZE row AS list OF zeroes OF LENGTH n  
            APPEND row TO dp  
        END FOR  
        RETURN dp  
    END FUNCTION  
END CLASS