CLASS Solution  
    FUNCTION knightProbability(n, k, row, column)  
        SET moves TO list containing tuples of values: minus two and minus one, minus two and one, minus one and minus two, minus one and two, one and minus two, one and two, two and minus one, two and one  
        
        CALL initialize_dp_table WITH n  
        SET dp TO returned value  
        SET element at position row of dp at position column TO one  
        
        FOR each move_count FROM one TO k  
            CALL initialize_dp_table WITH n  
            SET new_dp TO returned value  
            
            FOR each r FROM zero TO n MINUS one  
                FOR each c FROM zero TO n MINUS one  
                    IF element at position r of dp at position c EQUALS zero  
                        CONTINUE to next iteration of inner loop  
                    END IF  
                    FOR each move IN moves  
                        SET dr TO first element of move  
                        SET dc TO second element of move  
                        SET nr TO r PLUS dr  
                        SET nc TO c PLUS dc  
                        IF nr IS GREATER THAN OR EQUAL TO zero AND nr IS LESS THAN n AND nc IS GREATER THAN OR EQUAL TO zero AND nc IS LESS THAN n  
                            SET element at position nr of new_dp at position nc TO element at position nr of new_dp at position nc PLUS element at position r of dp at position c DIVIDED BY eight  
                        END IF  
                    END FOR  
                END FOR  
            END FOR  
            
            SET dp TO new_dp  
        END FOR  
        
        SET total_probability TO zero  
        FOR each dp_row IN dp  
            FOR each probability_value IN dp_row  
                INCREMENT total_probability BY probability_value  
            END FOR  
        END FOR  
        
        RETURN total_probability  
    END FUNCTION  

    FUNCTION initialize_dp_table(n)  
        CREATE a two-dimensional list with n rows and n columns filled with zero  
        RETURN the created two-dimensional list  
    END FUNCTION  
END CLASS