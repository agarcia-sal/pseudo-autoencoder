CLASS Solution  
    FUNCTION nearestPalindromic(n)  
        SET length TO the LENGTH OF n  
        IF length EQUALS one  
            RETURN the STRING FORM of the INTEGER FORM of n MINUS one  
        END IF  
        
        SET candidates TO an EMPTY SET  
        
        APPEND ten RAISED TO length PLUS one TO candidates  
        APPEND ten RAISED TO length MINUS one MINUS one TO candidates  
        
        SET prefix TO the INTEGER FORM of the SUBSTRING of n from position zero TO the INTEGER DIVISION of (length PLUS one) BY two  
        
        FOR i FROM negative one TO one  
            SET new_prefix TO the STRING FORM of prefix PLUS i  
            IF length MODULO two EQUALS zero  
                SET candidate TO the CONCATENATION of new_prefix AND the REVERSE OF new_prefix  
            ELSE  
                SET candidate TO the CONCATENATION of new_prefix AND the REVERSE OF the SUBSTRING of new_prefix from the PENULTIMATE CHARACTER TO the FIRST CHARACTER  
            END IF  
            APPEND the INTEGER FORM of candidate TO candidates  
        END FOR  
        
        SET original_number TO the INTEGER FORM of n  
        REMOVE original_number FROM candidates  
        
        SET closest TO the ELEMENT IN candidates WITH the MINIMUM VALUE OF the TUPLE of (the ABSOLUTE VALUE OF the ELEMENT MINUS original_number, the ELEMENT ITSELF)  
        
        RETURN the STRING FORM of closest  
    END FUNCTION  
END CLASS