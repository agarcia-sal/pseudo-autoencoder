CLASS Solution  
    FUNCTION maxStudents(seats)  
        SET m TO the LENGTH OF seats  
        SET n TO the LENGTH OF the element at position zero of seats  
        
        SET broken TO a list of zero repeated m times  
        FOR index i FROM zero TO m MINUS one  
            FOR index j FROM zero TO n MINUS one  
                IF the element at position j of the element at position i of seats EQUALS the character hash  
                    SET the element at position i of broken TO the element at position i of broken OR BITWISE LEFT SHIFT of one BY j  
                END IF  
            END FOR  
        END FOR  
        
        FUNCTION is_valid(arrangement)  
            RETURN the BITWISE AND of arrangement AND BITWISE RIGHT SHIFT of arrangement BY one EQUALS zero  
        END FUNCTION  
        
        SET dp TO a list of empty dictionaries repeated m times  
        
        FOR arrangement FROM zero TO BITWISE LEFT SHIFT of one BY n MINUS one  
            IF is_valid(arrangement) AND the BITWISE AND of arrangement AND the element at position zero of broken EQUALS zero  
                SET the value of dp at position zero with key arrangement TO the COUNT OF ONES IN arrangement  
            END IF  
        END FOR  
        
        FOR index i FROM one TO m MINUS one  
            FOR arrangement FROM zero TO BITWISE LEFT SHIFT of one BY n MINUS one  
                IF is_valid(arrangement) AND the BITWISE AND of arrangement AND the element at position i of broken EQUALS zero  
                    SET max_students TO zero  
                    FOR each prev_arrangement IN the keys of dp at position i MINUS one  
                        IF the BITWISE AND of arrangement AND the BITWISE RIGHT SHIFT of prev_arrangement BY one EQUALS zero  
                         AND the BITWISE AND of arrangement AND the BITWISE LEFT SHIFT of prev_arrangement BY one EQUALS zero  
                            IF the value of dp at position i MINUS one with key prev_arrangement GREATER THAN max_students  
                                SET max_students TO the value of dp at position i MINUS one with key prev_arrangement  
                            END IF  
                        END IF  
                    END FOR  
                    SET the value of dp at position i with key arrangement TO max_students PLUS the COUNT OF ONES IN arrangement  
                END IF  
            END FOR  
        END FOR  
        
        IF the element at position m MINUS one of dp IS NOT empty  
            RETURN the maximum value among all values in the element at position m MINUS one of dp  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS