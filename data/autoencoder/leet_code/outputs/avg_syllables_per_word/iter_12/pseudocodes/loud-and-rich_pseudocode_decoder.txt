CLASS Solution  
    FUNCTION loudAndRich(richer, quiet)  
        CALL initializeGraph WITH graph AS DEFAULT DICTIONARY OF LIST  
        FOR each pair a AND b IN richer  
            APPEND a TO graph AT position b  
        END FOR  
        
        SET n TO the LENGTH OF quiet  
        SET answer TO a LIST OF n ELEMENTS EACH SET TO NEGATIVE ONE  
        
        FUNCTION dfs(person)  
            IF answer AT position person EQUALS NEGATIVE ONE  
                SET answer AT position person TO person  
                FOR each neighbor IN graph AT position person  
                    SET candidate TO CALL dfs WITH neighbor  
                    IF quiet AT position candidate LESS THAN quiet AT position answer AT position person  
                        SET answer AT position person TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN answer AT position person  
        END FUNCTION  
        
        FOR i FROM ZERO TO n MINUS ONE  
            CALL dfs WITH i  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS