CLASS Solution  
    FUNCTION smallestSubsequence(s, k, letter, repetition)  
        SET letter_count TO zero  
        FOR each character IN s  
            IF character EQUALS letter  
                INCREMENT letter_count BY one  
            END IF  
        END FOR  
        
        SET stack TO empty list  
        
        FOR index FROM zero TO length of s MINUS one  
            SET char TO element at position index of s  
            
            WHILE stack IS NOT empty AND char IS LESS THAN last element of stack AND length of s MINUS index PLUS length of stack MINUS one IS GREATER THAN OR EQUAL TO k  
                IF last element of stack EQUALS letter  
                    IF letter_count IS GREATER THAN repetition  
                        INCREMENT repetition BY one  
                        REMOVE last element FROM stack  
                    ELSE  
                        BREAK  
                    END IF  
                ELSE  
                    REMOVE last element FROM stack  
                END IF  
            END WHILE  
            
            IF length of stack IS LESS THAN k  
                IF char EQUALS letter  
                    APPEND char TO stack  
                    DECREMENT repetition BY one  
                ELSE IF k MINUS length of stack IS GREATER THAN repetition  
                    APPEND char TO stack  
                END IF  
                IF char EQUALS letter  
                    DECREMENT letter_count BY one  
                END IF  
            END IF  
        END FOR  
        
        WHILE length of stack IS LESS THAN k  
            APPEND letter TO stack  
        END WHILE  
        
        RETURN concatenation of all elements in stack  
    END FUNCTION  
END CLASS