CLASS Solution
    FUNCTION expressiveWords(s, words)
        FUNCTION compress(word)
            IF word EQUALS empty string
                RETURN empty list
            END IF
            SET count TO one
            SET compressed TO empty list
            FOR index FROM one TO the LENGTH OF word MINUS one
                IF element at position index of word EQUALS element at position index MINUS one of word
                    INCREMENT count BY one
                ELSE
                    APPEND pair of element at position index MINUS one of word AND count TO compressed
                    SET count TO one
                END IF
            END FOR
            APPEND pair of last element of word AND count TO compressed
            RETURN compressed
        END FUNCTION

        FUNCTION is_stretchy(s_compressed, word_compressed)
            IF the LENGTH OF s_compressed NOT EQUALS the LENGTH OF word_compressed
                RETURN False
            END IF
            FOR each pair (sc, sc_count) in s_compressed AND each pair (wc, wc_count) in word_compressed simultaneously
                IF sc NOT EQUALS wc
                    RETURN False
                END IF
                IF sc_count NOT EQUALS wc_count AND (sc_count LESS THAN three OR sc_count LESS THAN wc_count)
                    RETURN False
                END IF
            END FOR
            RETURN True
        END FUNCTION

        SET s_compressed TO compress of s
        SET stretchy_count TO zero
        FOR each word IN words
            SET word_compressed TO compress of word
            IF is_stretchy of s_compressed AND word_compressed
                INCREMENT stretchy_count BY one
            END IF
        END FOR
        RETURN stretchy_count
    END FUNCTION
END CLASS