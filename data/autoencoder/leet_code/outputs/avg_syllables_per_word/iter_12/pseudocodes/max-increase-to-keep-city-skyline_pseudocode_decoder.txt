CLASS Solution
    FUNCTION maxIncreaseKeepingSkyline(grid)
        SET n TO the LENGTH OF grid
        SET row_maxes TO an empty list
        FOR each row IN grid
            SET max_value TO the HIGHEST value IN row
            APPEND max_value TO row_maxes
        END FOR
        SET col_maxes TO an empty list
        FOR each column IN the TRANSPOSE OF grid
            SET max_value TO the HIGHEST value IN column
            APPEND max_value TO col_maxes
        END FOR
        SET total_increase TO zero
        FOR i FROM zero TO n MINUS one
            FOR j FROM zero TO n MINUS one
                SET max_height TO the SMALLER OF the element at position i of row_maxes AND the element at position j of col_maxes
                SET difference TO max_height MINUS the element at row i position j of grid
                IF difference IS GREATER THAN zero
                    INCREMENT total_increase BY difference
                END IF
            END FOR
        END FOR
        RETURN total_increase
    END FUNCTION
END CLASS