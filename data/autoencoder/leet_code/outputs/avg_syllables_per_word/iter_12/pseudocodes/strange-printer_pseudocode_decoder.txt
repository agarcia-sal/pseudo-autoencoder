CLASS Solution
    FUNCTION strangePrinter(s)
        FUNCTION dp(i, j, memo)
            IF i GREATER THAN j
                RETURN zero
            END IF
            IF the pair of i and j IS IN memo
                RETURN the value stored in memo at the pair of i and j
            END IF

            SET result TO the value returned by dp with parameters i, j MINUS one, and memo PLUS one

            FOR k FROM i TO j MINUS one
                IF the element at position k of s EQUALS the element at position j of s
                    SET candidate TO the sum of dp with parameters i, k MINUS one, and memo PLUS dp with parameters k, j MINUS one, and memo
                    IF candidate LESS THAN result
                        SET result TO candidate
                    END IF
                END IF
            END FOR

            STORE result IN memo at the pair of i and j
            RETURN result
        END FUNCTION

        RETURN the value returned by dp with parameters zero, the length of s MINUS one, and an empty map
    END FUNCTION
END CLASS