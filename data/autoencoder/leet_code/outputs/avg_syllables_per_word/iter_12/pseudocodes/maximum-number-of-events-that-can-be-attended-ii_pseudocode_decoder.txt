CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY the value at position one of each event in ascending order  
        SET n TO the LENGTH OF events  
        SET dp TO a list containing n PLUS one elements, each element being a list containing k PLUS one zeros  
        FOR i FROM one TO n  
            SET start TO the element at position zero of the event at position i MINUS one of events  
            SET end TO the element at position one of the event at position i MINUS one of events  
            SET value TO the element at position two of the event at position i MINUS one of events  
            SET j TO the position found by locating start in events based on the value at position one using a binary search method  
            FOR l FROM one TO k  
                SET dp at position i and l TO the greater of dp at position i MINUS one and l AND dp at position j and l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN dp at position n and k  
    END FUNCTION  
END CLASS