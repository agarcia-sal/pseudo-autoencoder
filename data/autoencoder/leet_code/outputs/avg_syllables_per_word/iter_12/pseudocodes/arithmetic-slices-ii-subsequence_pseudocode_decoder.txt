CLASS Solution
    FUNCTION numberOfArithmeticSlices(nums)
        SET n TO the LENGTH OF nums
        IF n LESS THAN 3
            RETURN zero
        END IF

        SET dp TO a LIST of EMPTY DEFAULT DICTIONARY OF integer SIZE n
        SET total_count TO zero

        FOR i FROM zero TO n MINUS one
            FOR j FROM zero TO i MINUS one
                SET d TO element at position i of nums MINUS element at position j of nums

                IF d EXISTS AS A KEY IN dp AT POSITION j
                    INCREMENT the VALUE AT dp POSITION i WITH KEY d BY the VALUE AT dp POSITION j WITH KEY d PLUS one
                    INCREMENT total_count BY the VALUE AT dp POSITION j WITH KEY d
                ELSE
                    INCREMENT the VALUE AT dp POSITION i WITH KEY d BY one
                END IF
            END FOR
        END FOR

        RETURN total_count
    END FUNCTION
END CLASS