CLASS Solution
    FUNCTION kMirror(k, n)
        FUNCTION is_palindrome(s)
            RETURN s EQUALS the REVERSE OF s
        END FUNCTION

        FUNCTION to_base_k(num, k)
            IF num EQUALS zero
                RETURN string representing zero
            END IF
            SET digits TO an empty list
            WHILE num IS NOT zero
                APPEND the remainder of num DIVIDED BY k AS integer TO digits
                SET num TO the integer division of num BY k
            END WHILE
            RETURN the concatenation of the string forms of digits in REVERSE ORDER
        END FUNCTION

        FUNCTION generate_palindromes(length)
            IF length EQUALS one
                FOR i FROM one TO nine
                    YIELD the string form of i
                END FOR
            ELSE
                SET start TO ten RAISED TO the INTEGER division of length MINUS one BY two
                SET end TO ten RAISED TO the INTEGER division of length PLUS one BY two
                FOR half FROM start TO one LESS THAN end
                    SET half_str TO string form of half
                    IF length MODULO two EQUALS zero
                        SET full TO half_str CONCATENATED WITH the REVERSE OF half_str
                    ELSE
                        SET full TO half_str CONCATENATED WITH half_str EXCLUDING last character in REVERSE ORDER
                    END IF
                    YIELD full
                END FOR
            END IF
        END FUNCTION

        SET k_mirror_numbers TO an empty list
        SET length TO one
        WHILE the LENGTH OF k_mirror_numbers IS LESS THAN n
            FOR pal IN generate_palindromes(length)
                SET num TO the integer form of pal
                IF is_palindrome(to_base_k(num, k))
                    APPEND num TO k_mirror_numbers
                    IF the LENGTH OF k_mirror_numbers EQUALS n
                        BREAK from FOR loop
                    END IF
                END IF
            END FOR
            INCREMENT length BY one
        END WHILE

        RETURN the SUM OF k_mirror_numbers
    END FUNCTION
END CLASS