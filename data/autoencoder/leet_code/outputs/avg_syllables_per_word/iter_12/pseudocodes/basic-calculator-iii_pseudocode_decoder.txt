CLASS Solution  
    FUNCTION calculate(s)  
        FUNCTION helper(s)  
            SET stack TO empty list  
            SET num TO zero  
            SET sign TO plus sign  
            WHILE the LENGTH OF s GREATER THAN zero  
                SET char TO the first element of s  
                REMOVE first element FROM s  
                IF char is a digit THEN  
                    SET num TO num MULTIPLIED BY ten PLUS the integer value of char  
                END IF  
                IF char EQUALS opening parenthesis THEN  
                    SET num TO the result of helper called with s  
                END IF  
                IF char EQUALS plus sign OR char EQUALS minus sign OR char EQUALS multiplication sign OR char EQUALS division sign OR char EQUALS opening parenthesis OR char EQUALS closing parenthesis OR the LENGTH OF s EQUALS zero THEN  
                    IF sign EQUALS plus sign THEN  
                        APPEND num TO stack  
                    ELSE IF sign EQUALS minus sign THEN  
                        APPEND the negation of num TO stack  
                    ELSE IF sign EQUALS multiplication sign THEN  
                        SET the last element of stack TO the last element of stack MULTIPLIED BY num  
                    ELSE IF sign EQUALS division sign THEN  
                        SET the last element of stack TO the integer truncation towards zero of the last element of stack DIVIDED BY num  
                    END IF  
                    SET sign TO char  
                    SET num TO zero  
                END IF  
                IF char EQUALS closing parenthesis THEN  
                    BREAK the WHILE loop  
                END IF  
            END WHILE  
            RETURN the sum of all elements in stack  
        END FUNCTION  
        SET s TO the list of characters from the original string s  
        RETURN the result of helper called with s  
    END FUNCTION  
END CLASS