CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO empty list  
        FOR each offer IN special  
            IF sum of elements except last element of offer GREATER THAN zero AND last element of offer LESS THAN sum of element-wise multiplication of price and elements except last element of offer  
                APPEND offer TO special  
            END IF  
        END FOR  
        
        FUNCTION dfs(needs)  
            SET min_cost TO sum of element-wise multiplication of price and needs  
            FOR each offer IN special  
                SET new_needs TO empty list  
                FOR each n, o IN pairs of needs and elements except last element of offer  
                    APPEND n MINUS o TO new_needs  
                END FOR  
                IF all elements of new_needs GREATER THAN OR EQUAL TO zero  
                    SET min_cost TO minimum of min_cost AND last element of offer PLUS dfs(tuple of new_needs)  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs(tuple of needs)  
END CLASS