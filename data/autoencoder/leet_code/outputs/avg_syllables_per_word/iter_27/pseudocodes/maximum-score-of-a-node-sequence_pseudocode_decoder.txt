CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO an empty mapping with default value as empty list  
        FOR each pair u and v IN edges  
            APPEND a pair of element at position v of scores AND v TO the list at key u in graph  
            APPEND a pair of element at position u of scores AND u TO the list at key v in graph  
        END FOR  
        
        FOR each node IN keys of graph  
            SET the list at key node in graph TO the list of the three largest elements from the existing list at key node in graph by comparing the first element of each pair  
        END FOR  
        
        SET max_score TO negative one  
        
        FOR each pair u and v IN edges  
            FOR each pair score1 and x IN the list at key u in graph  
                FOR each pair score2 and y IN the list at key v in graph  
                    IF the size of the set consisting of elements x and y and u and v EQUALS four  
                        SET candidate_score TO score1 PLUS score2 PLUS element at position u of scores PLUS element at position v of scores  
                        IF candidate_score GREATER THAN max_score  
                            SET max_score TO candidate_score  
                        END IF  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        
        RETURN max_score  
    END FUNCTION  
END CLASS