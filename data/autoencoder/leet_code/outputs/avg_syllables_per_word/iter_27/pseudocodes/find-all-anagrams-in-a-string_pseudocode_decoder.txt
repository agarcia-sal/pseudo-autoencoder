CLASS Solution  
    FUNCTION findAnagrams WITH PARAMETERS s p  
        SET length_of_s TO the LENGTH OF s  
        SET length_of_p TO the LENGTH OF p  
        IF length_of_p GREATER THAN length_of_s  
            RETURN an EMPTY list  
        END IF  
        SET p_count TO the COUNT OF EACH character IN p  
        SET s_count TO the COUNT OF EACH character IN the SUBSTRING from position ZERO TO position length_of_p MINUS ONE OF s  
        SET anagrams TO an EMPTY list  
        IF the VALUE OF s_count EQUALS the VALUE OF p_count  
            APPEND zero TO anagrams  
        END IF  
        FOR i FROM length_of_p TO length_of_s MINUS ONE  
            INCREMENT the COUNT OF the element at position i OF s IN s_count BY one  
            DECREMENT the COUNT OF the element at position i MINUS length_of_p OF s IN s_count BY one  
            IF the COUNT OF the element at position i MINUS length_of_p OF s IN s_count EQUALS zero  
                REMOVE the element at position i MINUS length_of_p OF s FROM s_count  
            END IF  
            IF the VALUE OF s_count EQUALS the VALUE OF p_count  
                APPEND i MINUS length_of_p PLUS one TO anagrams  
            END IF  
        END FOR  
        RETURN anagrams  
    END FUNCTION  
END CLASS