CLASS Solution  
    FUNCTION minCost(grid)  
        SET m TO the LENGTH OF grid  
        SET n TO the LENGTH OF element at position zero of grid  
        SET directions TO list containing the elements zero one zero MINUS one zero MINUS one zero  
        SET costs TO list containing m elements each being a list containing n elements each set TO infinite  
        SET element at position zero of element at position zero of costs TO zero  
        SET pq TO list containing a tuple of zero zero zero  
        SET visited TO empty set  
        WHILE pq is not empty  
            REMOVE and RETURN the element with the smallest first value from pq and ASSIGN it TO cost i j  
            IF the tuple i j is an element of visited  
                CONTINUE to next iteration  
            END IF  
            ADD the tuple i j TO visited  
            IF i EQUALS m MINUS one AND j EQUALS n MINUS one  
                RETURN cost  
            END IF  
            FOR each k and tuple di dj IN directions with index  
                SET ni TO i PLUS di  
                SET nj TO j PLUS dj  
                IF ni GREATER THAN OR EQUAL TO zero AND ni LESS THAN m AND nj GREATER THAN OR EQUAL TO zero AND nj LESS THAN n  
                    IF k PLUS one NOT EQUALS element at position i of element at position j of grid  
                        SET new_cost TO cost PLUS one  
                    ELSE  
                        SET new_cost TO cost  
                    END IF  
                    IF new_cost LESS THAN element at position ni of element at position nj of costs  
                        SET element at position ni of element at position nj of costs TO new_cost  
                        ADD the tuple new_cost ni nj TO pq maintaining the smallest first value order  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        RETURN negative one  
    END FUNCTION  
END CLASS