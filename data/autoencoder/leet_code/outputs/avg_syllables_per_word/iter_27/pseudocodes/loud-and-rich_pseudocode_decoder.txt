CLASS Solution  
    FUNCTION loudAndRich WITH PARAMETERS richer quiet  
        SET graph TO a mapping from keys to empty lists  
        FOR each a AND b IN richer  
            APPEND a TO the list associated with key b in graph  
        END FOR  
  
        SET n TO the count of elements in quiet  
        SET answer TO a list of length n with each element set to negative one  
  
        FUNCTION dfs WITH PARAMETER person  
            IF element at position person of answer EQUALS negative one  
                SET element at position person of answer TO person  
                FOR each neighbor IN element at position person of graph  
                    SET candidate TO the result of dfs applied to neighbor  
                    IF element at position candidate of quiet LESS THAN element at position element at position person of answer of quiet  
                        SET element at position person of answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN element at position person of answer  
        END FUNCTION  
  
        FOR i FROM zero TO n MINUS one  
            CALL dfs WITH i  
        END FOR  
  
        RETURN answer  
    END FUNCTION  
END CLASS