CLASS Solution  
    FUNCTION lenLongestFibSubseq(arr)  
        CREATE a mapping named index from element to its position in arr using enumeration of arr  
        CREATE an empty dictionary named dp  
        SET max_length TO zero  
        FOR k FROM zero TO the LENGTH OF arr MINUS one  
            FOR j FROM zero TO k MINUS one  
                SET difference TO element at position k of arr MINUS element at position j of arr  
                SET i TO the value in index for difference or minus one if difference not in index  
                IF i IS GREATER THAN OR EQUAL TO zero AND i IS LESS THAN j THEN  
                    SET dp at pair j and k TO the value in dp at pair i and j or two if not present PLUS one  
                    IF dp at pair j and k IS GREATER THAN max_length THEN  
                        SET max_length TO dp at pair j and k  
                    END IF  
                END IF  
            END FOR  
        END FOR  
        IF max_length IS GREATER THAN OR EQUAL TO three THEN  
            RETURN max_length  
        ELSE  
            RETURN zero  
        END IF  
    END FUNCTION  
END CLASS