CLASS Solution  
    FUNCTION scheduleCourse(courses)  
        SORT courses BY the value at position two in each course element IN ascending order  
        SET max_heap TO an empty list  
        SET current_end_day TO zero  
        FOR each element CONTAINING duration AND last_day IN courses  
            IF the sum of current_end_day PLUS duration IS LESS THAN OR EQUAL TO last_day THEN  
                INSERT the negative value of duration INTO max_heap USING heap insertion  
                INCREMENT current_end_day BY duration  
            ELSE IF max_heap IS NOT empty AND the negative value at position zero of max_heap IS GREATER THAN duration THEN  
                INCREMENT current_end_day BY the sum of duration PLUS the result of removing the smallest element from max_heap  
                INSERT the negative value of duration INTO max_heap USING heap insertion  
            END IF  
        END FOR  
        RETURN the number of elements in max_heap  
    END FUNCTION  
END CLASS