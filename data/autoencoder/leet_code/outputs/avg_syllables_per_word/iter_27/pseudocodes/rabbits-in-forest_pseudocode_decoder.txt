CLASS Solution  
    FUNCTION numRabbits(answers)  
        SET answer_counts TO a map from each unique element in answers to the count of its occurrences  
        SET total_rabbits TO zero  
        FOR each answer IN the keys of answer_counts  
            SET count TO the value associated with answer in answer_counts  
            SET group_size TO answer PLUS one  
            SET groups TO the integer division of count PLUS answer BY group_size  
            INCREMENT total_rabbits BY groups MULTIPLIED BY group_size  
        END FOR  
        RETURN total_rabbits  
    END FUNCTION  
END CLASS