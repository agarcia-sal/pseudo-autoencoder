CLASS Solution  
    FUNCTION minimumMoves(grid)  
        SET n TO the LENGTH OF grid  
        ASSIGN reference TO a new double-ended queue initialized with a tuple containing zero zero zero one zero representing the first tail row first tail column first head row first head column steps variables  
        ASSIGN reference TO a new set initialized with a tuple containing zero zero zero one representing visited states  

        WHILE the queue holds elements  
            EXTRACT and REMOVE the first element of the queue into variables r1 c1 r2 c2 steps  
            
            IF r1 EQUALS the LENGTH OF grid MINUS one AND c1 EQUALS the LENGTH OF grid MINUS two AND r2 EQUALS the LENGTH OF grid MINUS one AND c2 EQUALS the LENGTH OF grid MINUS one THEN  
                RETURN steps  
            END IF  
            
            IF c2 PLUS one LESS THAN n AND element at position r1 of grid at position c1 PLUS one EQUALS zero AND element at position r2 of grid at position c2 PLUS one EQUALS zero AND the tuple containing r1 c1 PLUS one r2 c2 PLUS one NOT IN visited THEN  
                ADD the tuple containing r1 c1 PLUS one r2 c2 PLUS one TO visited  
                APPEND the tuple containing r1 c1 PLUS one r2 c2 PLUS one steps PLUS one TO the queue  
            END IF  
            
            IF r2 PLUS one LESS THAN n AND element at position r1 PLUS one of grid at position c1 EQUALS zero AND element at position r2 PLUS one of grid at position c2 EQUALS zero AND the tuple containing r1 PLUS one c1 r2 PLUS one c2 NOT IN visited THEN  
                ADD the tuple containing r1 PLUS one c1 r2 PLUS one c2 TO visited  
                APPEND the tuple containing r1 PLUS one c1 r2 PLUS one c2 steps PLUS one TO the queue  
            END IF  
            
            IF r1 EQUALS r2 AND r1 PLUS one LESS THAN n AND element at position r1 PLUS one of grid at position c1 EQUALS zero AND element at position r1 PLUS one of grid at position c2 EQUALS zero AND the tuple containing r1 c1 r1 PLUS one c1 NOT IN visited THEN  
                ADD the tuple containing r1 c1 r1 PLUS one c1 TO visited  
                APPEND the tuple containing r1 c1 r1 PLUS one c1 steps PLUS one TO the queue  
            END IF  
            
            IF c1 EQUALS c2 AND c1 PLUS one LESS THAN n AND element at position r1 of grid at position c1 PLUS one EQUALS zero AND element at position r2 of grid at position c2 PLUS one EQUALS zero AND the tuple containing r1 c1 r1 c1 PLUS one NOT IN visited THEN  
                ADD the tuple containing r1 c1 r1 c1 PLUS one TO visited  
                APPEND the tuple containing r1 c1 r1 c1 PLUS one steps PLUS one TO the queue  
            END IF  
        END WHILE  
        
        RETURN negative one  
    END FUNCTION  
END CLASS