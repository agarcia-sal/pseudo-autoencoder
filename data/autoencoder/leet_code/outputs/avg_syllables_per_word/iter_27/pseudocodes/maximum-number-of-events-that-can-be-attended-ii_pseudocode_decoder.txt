CLASS Solution  
    FUNCTION maxValue(events parameter, k parameter)  
        CALL sort the list events by the value of the second element in each event  
        SET n TO the length of events  
        SET dp TO a list containing n PLUS one elements each of which is a list containing k PLUS one zeros  
        FOR i FROM one TO n  
            ASSIGN the first element of the event at position i MINUS one in events TO start  
            ASSIGN the second element of the event at position i MINUS one in events TO end  
            ASSIGN the third element of the event at position i MINUS one in events TO value  
            CALL find the leftmost position j in events where events at position j have the second element GREATER THAN OR EQUAL TO start  
            FOR l FROM one TO k  
                SET the element at position l of the element at position i in dp TO the maximum of the element at position l of the element at position i MINUS one in dp AND the sum of the element at position l MINUS one of the element at position j in dp PLUS value  
            END FOR  
        END FOR  
        RETURN the element at position k of the element at position n in dp  
    END FUNCTION  
END CLASS