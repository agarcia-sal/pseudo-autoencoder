CLASS Solution  
    FUNCTION createSortedArray(instructions)  
        SET MOD TO one billion PLUS one  
        SET MAX TO the maximum element in instructions PLUS one  
        SET bit TO list of zeros with length MAX  

        FUNCTION update(idx val)  
            WHILE idx LESS THAN MAX holds  
                INCREMENT element at position idx of bit BY val  
                INCREMENT idx BY the value of idx AND negative idx  
            END WHILE  
        END FUNCTION  

        FUNCTION query(idx)  
            SET total TO zero  
            WHILE idx GREATER THAN zero holds  
                INCREMENT total BY element at position idx of bit  
                DECREMENT idx BY the value of idx AND negative idx  
            END WHILE  
            RETURN total  
        END FUNCTION  

        SET total_cost TO zero  
        FOR each i num IN enumeration of instructions  
            SET less_than TO query of the value of num MINUS one  
            SET greater_than TO i MINUS query of the value of num  
            SET cost TO the minimum of less_than AND greater_than  
            SET total_cost TO the remainder of total_cost PLUS cost DIVIDED BY MOD  
            CALL update with arguments num AND one  
        END FOR  

        RETURN total_cost  
    END FUNCTION  
END CLASS