CLASS Solution  
    FUNCTION atMostNGivenDigitSet(digits parameter, n parameter) RETURNS integer  
        FUNCTION count_numbers_with_length(length parameter) RETURNS integer  
            RETURN the LENGTH OF digits parameter RAISED TO THE POWER OF length parameter  
        END FUNCTION  
      
        FUNCTION count_numbers_up_to_n(n parameter) RETURNS integer  
            SET string_n TO the string representation OF n parameter  
            SET length TO the LENGTH OF string_n  
            SET count TO zero  
          
            FOR l FROM one TO the value of length MINUS one  
                INCREMENT count BY the RESULT OF count_numbers_with_length WITH l AS argument  
            END FOR  
          
            FOR i FROM zero TO the value of length MINUS one  
                SET current_digit TO the integer value OF the element at position i OF string_n  
                FOR each digit IN digits parameter  
                    SET digit_value TO the integer value OF digit  
                    IF digit_value LESS THAN current_digit THEN  
                        INCREMENT count BY the RESULT OF count_numbers_with_length WITH the value of length MINUS i MINUS one AS argument  
                    ELSE IF digit_value EQUALS current_digit THEN  
                        IF i EQUALS the value of length MINUS one THEN  
                            INCREMENT count BY one  
                        END IF  
                    ELSE  
                        BREAK the inner loop  
                    END IF  
                END FOR  
            END FOR  
          
            RETURN count  
        END FUNCTION  
      
        RETURN the RESULT OF count_numbers_up_to_n WITH n parameter AS argument  
    END FUNCTION  
END CLASS