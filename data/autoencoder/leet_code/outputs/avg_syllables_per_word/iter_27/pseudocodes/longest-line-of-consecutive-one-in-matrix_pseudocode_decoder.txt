CLASS Solution  
    FUNCTION longestLine(mat)  
        IF mat EQUALS false OR element at position zero of mat EQUALS false  
            RETURN zero  
        END IF  
        SET m TO the LENGTH OF mat  
        SET n TO the LENGTH OF element at position zero of mat  
        SET directions TO a list containing tuples of zero and one one and zero one and one one and MINUS one  
        SET max_length TO zero  
        FUNCTION check(x, y, dx, dy)  
            SET length TO zero  
            WHILE x GREATER THAN OR EQUAL TO zero AND x LESS THAN m AND y GREATER THAN OR EQUAL TO zero AND y LESS THAN n AND element at position x of mat at position y EQUALS one  
                INCREMENT length BY one  
                SET x TO x PLUS dx  
                SET y TO y PLUS dy  
            END WHILE  
            RETURN length  
        END FUNCTION  
        FOR i FROM zero TO m MINUS one  
            FOR j FROM zero TO n MINUS one  
                IF element at position i of mat at position j EQUALS one  
                    FOR each pair dx and dy IN directions  
                        IF i MINUS dx LESS THAN zero OR j MINUS dy LESS THAN zero OR j MINUS dy GREATER THAN OR EQUAL TO n OR element at position i MINUS dx of mat at position j MINUS dy EQUALS zero  
                            SET max_length TO max_length GREATER THAN check with parameters i j dx dy IF max_length GREATER THAN check RETURN max_length ELSE RETURN check  
                        END IF  
                    END FOR  
                END IF  
            END FOR  
        END FOR  
        RETURN max_length  
    END FUNCTION  
END CLASS