CLASS Solution  
    FUNCTION nthSuperUglyNumber(n, primes)  
        SET ugly_numbers TO list containing only the integer one  
        SET heap TO empty list  
        FOR each index i and prime p IN enumeration of primes  
            APPEND tuple of prime p and index i TO heap  
        END FOR  
        CALL function heapify WITH argument heap  
        SET indices TO list of zeros with the length equal to the length of primes  
        WHILE the LENGTH OF ugly_numbers LESS THAN n  
            CALL function heappop WITH argument heap ASSIGNING RESULT TO next_ugly AND prime_index  
            IF next_ugly NOT EQUALS element at position negative one of ugly_numbers  
                APPEND next_ugly TO ugly_numbers  
            END IF  
            INCREMENT element at position prime_index of indices BY one  
            SET next_multiple TO element at position prime_index of primes MULTIPLIED BY element at position element at position prime_index of indices of ugly_numbers  
            CALL function heappush WITH arguments heap AND tuple of next_multiple AND prime_index  
        END WHILE  
        RETURN element at position negative one of ugly_numbers  
    END FUNCTION  
END CLASS