CLASS Solution  
    FUNCTION solve(nums parameter of type list of integers queries parameter of type list of list of integers) RETURNS list of integers  
        SET MOD TO one billion PLUS seven  
        SET n TO the LENGTH OF nums  
        SET max_y TO the HIGHEST value of position two element FROM each query IN queries  
        CREATE prefix_sums AS a list of lists each containing zeros with length n and total count max_y PLUS one  
        
        FOR y FROM one TO max_y  
            FOR i FROM n MINUS one DOWN TO zero  
                IF the sum of i PLUS y IS LESS THAN the LENGTH OF nums  
                    SET element at position i OF element at position y OF prefix_sums TO the value at position i OF nums PLUS the element at position i PLUS y OF element at position y OF prefix_sums  
                ELSE  
                    SET element at position i OF element at position y OF prefix_sums TO the value at position i OF nums  
                END IF  
            END FOR  
        END FOR  
        
        CREATE answer AS an empty list  
        FOR each query consisting of x AND y IN queries  
            APPEND the remainder of the division of element at position x OF element at position y OF prefix_sums BY MOD TO answer  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS