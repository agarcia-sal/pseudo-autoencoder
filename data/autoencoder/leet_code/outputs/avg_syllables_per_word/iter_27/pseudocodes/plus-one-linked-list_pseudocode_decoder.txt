CLASS ListNode  
    FUNCTION __init__ with parameters val AND next  
        SET val ATTRIBUTE TO val  
        SET next ATTRIBUTE TO next  
    END FUNCTION  
END CLASS  

FUNCTION list_node with parameter values_list  
    IF values_list EQUALS empty  
        RETURN no value  
    END IF  
    SET head TO new ListNode object with element at position one of values_list  
    SET pointer TO head  
    FOR each value IN elements from position two TO the end OF values_list  
        SET node TO new ListNode object with value  
        SET next ATTRIBUTE of pointer TO node  
        SET pointer TO node  
    END FOR  
    RETURN head  
END FUNCTION  

FUNCTION is_same_list with parameters pointer_one AND pointer_two  
    IF pointer_one EQUALS no value AND pointer_two EQUALS no value  
        RETURN true  
    END IF  
    IF pointer_one EQUALS no value OR pointer_two EQUALS no value  
        RETURN false  
    END IF  
    RETURN whether val ATTRIBUTE of pointer_one EQUALS val ATTRIBUTE of pointer_two AND the result of is_same_list called with next ATTRIBUTE of pointer_one AND next ATTRIBUTE of pointer_two  
END FUNCTION  

CLASS Solution  
    FUNCTION plusOne with parameter head  
        FUNCTION reverseList with parameter node  
            SET previous_node TO no value  
            WHILE node holds a value  
                SET next_node TO next ATTRIBUTE of node  
                SET next ATTRIBUTE of node TO previous_node  
                SET previous_node TO node  
                SET node TO next_node  
            END WHILE  
            RETURN previous_node  
        END FUNCTION  
        
        SET reversed_head TO result of reverseList called with head  
        SET carry TO one  
        SET current TO reversed_head  
        
        WHILE current holds a value AND carry EQUALS one  
            SET val ATTRIBUTE of current TO val ATTRIBUTE of current PLUS carry  
            SET carry TO val ATTRIBUTE of current DIVIDED BY ten  
            SET val ATTRIBUTE of current TO val ATTRIBUTE of current MODULO ten  
            
            IF next ATTRIBUTE of current EQUALS no value AND carry EQUALS one  
                SET next ATTRIBUTE of current TO new ListNode object with carry  
                SET carry TO zero  
            END IF  
            
            SET previous_node TO current  
            SET current TO next ATTRIBUTE of current  
        END WHILE  
        
        RETURN result of reverseList called with reversed_head  
    END FUNCTION  
END CLASS