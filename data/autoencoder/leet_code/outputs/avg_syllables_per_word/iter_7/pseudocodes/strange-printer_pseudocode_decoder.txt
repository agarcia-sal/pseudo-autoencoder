CLASS Solution  
    FUNCTION strangePrinter(s)  
        FUNCTION dp(i, j, memo)  
            IF i GREATER THAN j  
                RETURN 0  
            IF memo CONTAINS KEY (i, j)  
                RETURN memo VALUE AT (i, j)  
            SET result TO dp(i, j MINUS 1, memo) PLUS 1  
            FOR k FROM i TO j MINUS 1  
                IF CHARACTER AT s POSITION k EQUALS CHARACTER AT s POSITION j  
                    SET temp_result TO dp(i, k MINUS 1, memo) PLUS dp(k, j MINUS 1, memo)  
                    IF temp_result LESS THAN result  
                        SET result TO temp_result  
            SET memo VALUE AT (i, j) TO result  
            RETURN result  
        END FUNCTION  
        RETURN dp(0, LENGTH OF s MINUS 1, EMPTY DICTIONARY)  
    END FUNCTION  
END CLASS