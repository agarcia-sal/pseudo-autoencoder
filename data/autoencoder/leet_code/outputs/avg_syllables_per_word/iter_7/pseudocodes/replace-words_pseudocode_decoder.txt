CLASS Solution  
    FUNCTION replaceWords(dictionary, sentence)  
        SORT dictionary BY LENGTH OF each root  
        SET words TO SPLIT sentence INTO list of words  
  
        FUNCTION replace(word)  
            FOR each root IN dictionary  
                IF word STARTS WITH root  
                    RETURN root  
            RETURN word  
        END FUNCTION  
  
        SET replaced_words TO EMPTY LIST  
        FOR each word IN words  
            APPEND replace(word) TO replaced_words  
        END FOR  
  
        RETURN JOIN replaced_words INTO string separated by spaces  
    END FUNCTION  
END CLASS