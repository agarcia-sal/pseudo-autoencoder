CLASS Solution  
    FUNCTION findNumberOfLIS(nums)  
        IF nums IS empty  
            RETURN 0  
        END IF  

        SET n TO LENGTH OF nums  
        SET lengths TO list of size n with all elements 1  
        SET counts TO list of size n with all elements 1  

        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO i MINUS 1  
                IF nums AT i IS GREATER THAN nums AT j  
                    IF lengths AT j PLUS 1 IS GREATER THAN lengths AT i  
                        SET lengths AT i TO lengths AT j PLUS 1  
                        SET counts AT i TO counts AT j  
                    ELSE IF lengths AT j PLUS 1 IS EQUAL TO lengths AT i  
                        INCREMENT counts AT i BY counts AT j  
                    END IF  
                END IF  
            END FOR  
        END FOR  

        SET longest TO MAXIMUM VALUE IN lengths  
        SET result TO 0  
        FOR i FROM 0 TO n MINUS 1  
            IF lengths AT i IS EQUAL TO longest  
                INCREMENT result BY counts AT i  
            END IF  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS