CLASS Solution  
    FUNCTION numberOfGoodSubsets(nums)  
        SET count TO frequency count of elements in nums  
        SET dp TO list of zeroes with length equal to 2 raised to power 10  
        SET dp at index 0 TO 1  
        
        FOR each num IN count keys  
            IF num EQUALS 1 THEN  
                SET dp at index 0 TO dp at index 0 MULTIPLIED BY 2 raised to power count at num, MODULO MOD  
                CONTINUE to next iteration  
            END IF  
            
            IF num NOT IN prime_factors THEN  
                CONTINUE to next iteration  
            END IF  
            
            SET factors TO prime_factors at num  
            SET mask TO 0  
            
            FOR each prime IN factors  
                SET mask TO mask OR 1 shifted left by (prime MINUS 1) places  
            END FOR  
            
            FOR m FROM (2 raised to power 10 MINUS 1) DOWN TO 0  
                IF bitwise AND of m and mask EQUALS 0 THEN  
                    SET dp at index (m OR mask) TO (dp at index (m OR mask) PLUS dp at index m MULTIPLIED BY count at num) MODULO MOD  
                END IF  
            END FOR  
        END FOR  
        
        SET result TO sum of dp elements from index 1 to end, MODULO MOD  
        RETURN result  
    END FUNCTION  
END CLASS