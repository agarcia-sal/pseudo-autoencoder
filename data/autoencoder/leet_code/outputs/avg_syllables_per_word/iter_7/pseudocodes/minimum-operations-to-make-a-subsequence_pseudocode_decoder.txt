CLASS Solution  
    FUNCTION minOperations(target, arr)  
        SET index_map TO EMPTY MAP  
        FOR index AND value IN ENUMERATE target  
            SET index_map[value] TO index  
        SET transformed_arr TO EMPTY LIST  
        FOR each value IN arr  
            IF value IS IN index_map  
                APPEND index_map[value] TO transformed_arr  
        SET lis TO EMPTY LIST  
        FOR each num IN transformed_arr  
            SET pos TO POSITION TO INSERT num IN lis TO KEEP lis SORTED IN NON-DECREASING ORDER  
            IF pos EQUALS LENGTH OF lis  
                APPEND num TO lis  
            ELSE  
                SET lis[pos] TO num  
        SET lcs_length TO LENGTH OF lis  
        RETURN LENGTH OF target MINUS lcs_length  
    END FUNCTION  
END CLASS