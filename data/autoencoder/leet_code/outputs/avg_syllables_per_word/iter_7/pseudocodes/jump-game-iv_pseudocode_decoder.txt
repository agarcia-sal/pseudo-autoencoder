CLASS Solution  
    FUNCTION minJumps(arr)  
        SET n TO LENGTH OF arr  
        IF n EQUALS 1  
            RETURN 0  
        END IF  
        
        SET value_indices TO new mapping from values to list of indices  
        FOR each index i AND value IN arr  
            APPEND i TO value_indices[value]  
        END FOR  
        
        SET queue TO new deque initialized with pair (0, 0) representing current_index and steps  
        SET visited TO new set containing 0  
        
        WHILE queue IS NOT empty  
            REMOVE front element FROM queue AND UNPACK TO current_index AND steps  
            
            IF current_index EQUALS n MINUS 1  
                RETURN steps  
            END IF  
            
            SET next_indices TO list containing current_index PLUS 1, current_index MINUS 1, and all indices FROM value_indices[arr[current_index]]  
            
            FOR each next_index IN next_indices  
                IF next_index IS GREATER THAN OR EQUAL TO 0 AND LESS THAN n AND next_index NOT IN visited  
                    ADD next_index TO visited  
                    APPEND pair (next_index, steps PLUS 1) TO queue  
                END IF  
            END FOR  
            
            SET value_indices[arr[current_index]] TO empty list  
        END WHILE  
        
        RETURN -1  
    END FUNCTION  
END CLASS