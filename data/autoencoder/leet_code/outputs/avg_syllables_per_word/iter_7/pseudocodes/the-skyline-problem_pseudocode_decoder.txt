CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each left, right, height IN buildings  
            APPEND (left, negative height, right) TO events  
            APPEND (right, zero, zero) TO events  
  
        SORT events BY x coordinate and height  
  
        SET result TO list containing [0, 0]  
        SET max_heap TO list containing (zero, positive infinity)  
  
        FOR each x, negH, r IN events  
            WHILE the smallest right edge in max_heap is less than or equal to x  
                REMOVE the building from max_heap  
  
            IF negH is not zero  
                ADD (negH, r) TO max_heap  
  
            IF height at last key point in result is not equal to negative of negH at top of max_heap  
                APPEND [x, negative of height at top of max_heap] TO result  
  
        IF first element in result is [0, 0]  
            REMOVE first element from result  
  
        RETURN result  
    END FUNCTION  
END CLASS