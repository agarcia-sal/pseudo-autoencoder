CLASS Solution  
    FUNCTION catMouseGame(graph)  
        SET DRAW TO 0  
        SET MOUSE_WIN TO 1  
        SET CAT_WIN TO 2  
        SET n TO LENGTH OF graph  
        
        FUNCTION dfs(turn, mouse_pos, cat_pos)  
            IF turn IS EQUAL TO 2 MULTIPLIED BY n  
                RETURN DRAW  
            IF mouse_pos IS EQUAL TO 0  
                RETURN MOUSE_WIN  
            IF mouse_pos IS EQUAL TO cat_pos  
                RETURN CAT_WIN  
            
            IF turn MODULO 2 IS EQUAL TO 0  
                SET current_player TO "mouse"  
            ELSE  
                SET current_player TO "cat"  
            
            IF current_player IS "mouse"  
                SET result TO CAT_WIN  
                FOR each next_pos IN graph AT mouse_pos  
                    SET next_result TO dfs(turn PLUS 1, next_pos, cat_pos)  
                    IF next_result IS EQUAL TO MOUSE_WIN  
                        RETURN MOUSE_WIN  
                    ELSE IF next_result IS EQUAL TO DRAW  
                        SET result TO DRAW  
                RETURN result  
            ELSE  
                SET result TO MOUSE_WIN  
                FOR each next_pos IN graph AT cat_pos  
                    IF next_pos IS EQUAL TO 0  
                        CONTINUE  
                    SET next_result TO dfs(turn PLUS 1, mouse_pos, next_pos)  
                    IF next_result IS EQUAL TO CAT_WIN  
                        RETURN CAT_WIN  
                    ELSE IF next_result IS EQUAL TO DRAW  
                        SET result TO DRAW  
                RETURN result  
        
        RETURN dfs(0, 1, 2)  
    END FUNCTION  
END CLASS