CLASS Solution  
    FUNCTION createSortedArray(instructions)  
        SET MOD TO 10 TO THE POWER OF 9 PLUS 7  
        SET MAX TO maximum value in instructions PLUS 1  
        SET bit TO list of zeros WITH LENGTH MAX  

        FUNCTION update(idx, val)  
            WHILE idx LESS THAN MAX  
                INCREMENT bit AT idx BY val  
                INCREMENT idx BY idx BITWISE AND NEGATIVE idx  
            END WHILE  
        END FUNCTION  

        FUNCTION query(idx)  
            SET total TO 0  
            WHILE idx GREATER THAN 0  
                INCREMENT total BY bit AT idx  
                DECREMENT idx BY idx BITWISE AND NEGATIVE idx  
            END WHILE  
            RETURN total  
        END FUNCTION  

        SET total_cost TO 0  
        FOR i, num IN enumerated instructions  
            SET less_than TO query(num MINUS 1)  
            SET greater_than TO i MINUS query(num)  
            SET cost TO minimum OF less_than AND greater_than  
            SET total_cost TO (total_cost PLUS cost) MODULO MOD  
            CALL update(num, 1)  
        END FOR  

        RETURN total_cost  
    END FUNCTION  
END CLASS