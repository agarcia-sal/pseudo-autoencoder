CLASS Solution  
    FUNCTION findPairs(nums, k)  
        IF k LESS THAN 0 THEN  
            RETURN 0  
        END IF  
        
        SET num_counts TO empty dictionary  
        FOR each num IN nums  
            SET count TO value of num in num_counts OR 0 if not present  
            INCREMENT count BY 1  
            SET num_counts[num] TO count  
        END FOR  
        
        SET unique_pairs TO 0  
        FOR each num IN keys of num_counts  
            IF k EQUAL TO 0 THEN  
                IF value of num_counts at num GREATER THAN 1 THEN  
                    INCREMENT unique_pairs BY 1  
                END IF  
            ELSE  
                IF num plus k IS A KEY IN num_counts THEN  
                    INCREMENT unique_pairs BY 1  
                END IF  
            END IF  
        END FOR  
        
        RETURN unique_pairs  
    END FUNCTION  
END CLASS