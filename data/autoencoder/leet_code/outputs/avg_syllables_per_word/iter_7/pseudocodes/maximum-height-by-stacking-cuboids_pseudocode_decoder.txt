CLASS Solution  
    FUNCTION maxHeight(cuboids)  
        FOR each cuboid IN cuboids  
            SORT dimensions of cuboid  
        SORT cuboids lexicographically  
        SET n TO LENGTH OF cuboids  
        INITIALIZE dp AS list of zeros with length n  
        FOR i FROM 0 TO n MINUS 1  
            SET dp[i] TO third dimension of cuboids at i  
            FOR j FROM 0 TO i MINUS 1  
                IF first dimension of cuboids at j LESS THAN OR EQUAL TO first dimension of cuboids at i  
                   AND second dimension of cuboids at j LESS THAN OR EQUAL TO second dimension of cuboids at i  
                   AND third dimension of cuboids at j LESS THAN OR EQUAL TO third dimension of cuboids at i THEN  
                    SET dp[i] TO maximum BETWEEN dp[i] AND dp[j] PLUS third dimension of cuboids at i  
        RETURN maximum value IN dp  
    END FUNCTION  
END CLASS