CLASS Solution  
    FUNCTION numMusicPlaylists(n, goal, k)  
        SET MOD TO 10 to the power of 9 plus 7  
        
        INITIALIZE dp AS two-dimensional list with dimensions goal plus 1 by n plus 1 filled with 0  
        SET dp at position 0, 0 TO 1  
        
        FOR i FROM 1 TO goal INCLUSIVE  
            FOR j FROM 1 TO n INCLUSIVE  
                SET dp at i, j TO dp at i minus 1, j minus 1 MULTIPLIED BY n MINUS j plus 1  
                SET dp at i, j TO dp at i, j MODULO MOD  
                
                IF j GREATER THAN k THEN  
                    INCREMENT dp at i, j BY dp at i minus 1, j MULTIPLIED BY j MINUS k  
                    SET dp at i, j TO dp at i, j MODULO MOD  
                END IF  
            END FOR  
        END FOR  
        
        RETURN dp at goal, n  
    END FUNCTION  
END CLASS