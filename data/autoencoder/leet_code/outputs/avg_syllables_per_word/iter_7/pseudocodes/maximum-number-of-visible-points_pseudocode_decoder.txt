CLASS Solution  
    FUNCTION visiblePoints(points, angle, location)  
        SET angles TO empty list  
        SET extra_points TO 0  
        
        FOR each x, y IN points  
            IF x EQUALS location AT index 0 AND y EQUALS location AT index 1  
                INCREMENT extra_points BY 1  
                CONTINUE to next iteration  
            END IF  
            SET angle_rad TO arctangent of (y MINUS location AT index 1, x MINUS location AT index 0)  
            SET angle_deg TO angle_rad converted to degrees  
            APPEND angle_deg TO angles  
        END FOR  
        
        SORT angles IN ascending order  
        
        SET extended_angles TO angles concatenated with each element in angles incremented BY 360  
        
        SET max_visible TO 0  
        SET left TO 0  
        
        FOR right FROM 0 TO LENGTH OF extended_angles MINUS 1  
            WHILE extended_angles AT right MINUS extended_angles AT left GREATER THAN angle  
                INCREMENT left BY 1  
            END WHILE  
            SET max_visible TO maximum OF max_visible AND (right MINUS left PLUS 1)  
        END FOR  
        
        RETURN max_visible PLUS extra_points  
    END FUNCTION  
END CLASS