CLASS Solution  
    FUNCTION countComponents(n, edges)  
        SET graph TO dictionary mapping each integer from 0 to n minus 1 TO empty list  
        FOR each pair (a, b) IN edges  
            APPEND b TO graph at key a  
            APPEND a TO graph at key b  
        SET visited TO empty set  
          
        FUNCTION dfs(node)  
            IF node IS IN visited THEN  
                RETURN  
            ADD node TO visited  
            FOR each neighbor IN graph at key node  
                CALL dfs(neighbor)  
            END FOR  
        END FUNCTION  
          
        SET components TO 0  
        FOR node FROM 0 TO n minus 1  
            IF node NOT IN visited THEN  
                CALL dfs(node)  
                INCREMENT components BY 1  
            END IF  
        END FOR  
          
        RETURN components  
    END FUNCTION  
END CLASS