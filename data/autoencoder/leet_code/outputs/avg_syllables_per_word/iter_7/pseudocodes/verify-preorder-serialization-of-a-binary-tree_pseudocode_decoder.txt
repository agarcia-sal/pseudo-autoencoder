CLASS Solution  
    FUNCTION isValidSerialization(preorder)  
        SET nodes TO the list obtained by splitting preorder by commas  
        SET slots TO 1  
        FOR each node IN nodes  
            IF slots EQUALS 0 THEN  
                RETURN False  
            DECREMENT slots BY 1  
            IF node IS NOT '#' THEN  
                INCREMENT slots BY 2  
        RETURN slots EQUALS 0  
    END FUNCTION  
END CLASS