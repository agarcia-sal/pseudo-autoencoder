CLASS Solution  
    FUNCTION minimumMoves(grid)  
        SET n TO LENGTH OF grid  
        SET queue TO new deque containing tuple (0, 0, 0, 1, 0)  
        SET visited TO new set containing tuple (0, 0, 0, 1)  

        WHILE queue is not empty  
            SET r1, c1, r2, c2, steps TO REMOVE first element from queue  

            IF r1 EQUALS n MINUS 1 AND c1 EQUALS n MINUS 2 AND r2 EQUALS n MINUS 1 AND c2 EQUALS n MINUS 1  
                RETURN steps  
            END IF  

            IF c2 PLUS 1 LESS THAN n AND grid AT r1 AND c1 PLUS 1 EQUALS 0 AND grid AT r2 AND c2 PLUS 1 EQUALS 0 AND tuple (r1, c1 PLUS 1, r2, c2 PLUS 1) NOT IN visited  
                ADD tuple (r1, c1 PLUS 1, r2, c2 PLUS 1) TO visited  
                APPEND tuple (r1, c1 PLUS 1, r2, c2 PLUS 1, steps PLUS 1) TO queue  
            END IF  

            IF r2 PLUS 1 LESS THAN n AND grid AT r1 PLUS 1 AND c1 EQUALS 0 AND grid AT r2 PLUS 1 AND c2 EQUALS 0 AND tuple (r1 PLUS 1, c1, r2 PLUS 1, c2) NOT IN visited  
                ADD tuple (r1 PLUS 1, c1, r2 PLUS 1, c2) TO visited  
                APPEND tuple (r1 PLUS 1, c1, r2 PLUS 1, c2, steps PLUS 1) TO queue  
            END IF  

            IF r1 EQUALS r2 AND r1 PLUS 1 LESS THAN n AND grid AT r1 PLUS 1 AND c1 EQUALS 0 AND grid AT r1 PLUS 1 AND c2 EQUALS 0 AND tuple (r1, c1, r1 PLUS 1, c1) NOT IN visited  
                ADD tuple (r1, c1, r1 PLUS 1, c1) TO visited  
                APPEND tuple (r1, c1, r1 PLUS 1, c1, steps PLUS 1) TO queue  
            END IF  

            IF c1 EQUALS c2 AND c1 PLUS 1 LESS THAN n AND grid AT r1 AND c1 PLUS 1 EQUALS 0 AND grid AT r2 AND c2 PLUS 1 EQUALS 0 AND tuple (r1, c1, r1, c1 PLUS 1) NOT IN visited  
                ADD tuple (r1, c1, r1, c1 PLUS 1) TO visited  
                APPEND tuple (r1, c1, r1, c1 PLUS 1, steps PLUS 1) TO queue  
            END IF  
        END WHILE  

        RETURN -1  
    END FUNCTION  
END CLASS