CLASS Solution  
    FUNCTION maxPoints(points)  
        FUNCTION slope(p1, p2)  
            IF p1 AT INDEX 0 EQUALS p2 AT INDEX 0 THEN  
                RETURN infinity  
            ELSE  
                RETURN difference BETWEEN p1 AT INDEX 1 AND p2 AT INDEX 1 DIVIDED BY difference BETWEEN p1 AT INDEX 0 AND p2 AT INDEX 0  
            END IF  
        END FUNCTION  
        
        SET max_points TO 0  
        
        FOR each index i FROM 0 TO LENGTH OF points MINUS 1  
            SET slopes TO new mapping with default integer 0  
            FOR each index j FROM 0 TO LENGTH OF points MINUS 1  
                IF i IS NOT EQUAL TO j THEN  
                    SET s TO slope OF points AT i AND points AT j  
                    INCREMENT slopes AT s BY 1  
                    SET max_points TO greater value BETWEEN max_points AND slopes AT s  
                END IF  
            END FOR  
        END FOR  
        
        IF points IS NOT EMPTY THEN  
            RETURN max_points PLUS 1  
        ELSE  
            RETURN 0  
        END IF  
    END FUNCTION  
END CLASS