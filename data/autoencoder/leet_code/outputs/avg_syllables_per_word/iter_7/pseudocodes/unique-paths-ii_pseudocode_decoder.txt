CLASS Solution  
    FUNCTION uniquePathsWithObstacles(obstacleGrid)  
        IF obstacleGrid IS EMPTY OR obstacleGrid AT 0 AT 0 EQUALS 1 THEN  
            RETURN 0  
        END IF  
        
        SET m TO LENGTH OF obstacleGrid  
        SET n TO LENGTH OF obstacleGrid AT 0  
        SET dp TO 2D LIST OF SIZE m BY n FILLED WITH 0  
        
        SET dp AT 0 AT 0 TO 1  
        
        FOR j FROM 1 TO n MINUS 1  
            IF obstacleGrid AT 0 AT j EQUALS 0 THEN  
                SET dp AT 0 AT j TO dp AT 0 AT j MINUS 1  
            END IF  
        END FOR  
        
        FOR i FROM 1 TO m MINUS 1  
            IF obstacleGrid AT i AT 0 EQUALS 0 THEN  
                SET dp AT i AT 0 TO dp AT i MINUS 1 AT 0  
            END IF  
        END FOR  
        
        FOR i FROM 1 TO m MINUS 1  
            FOR j FROM 1 TO n MINUS 1  
                IF obstacleGrid AT i AT j EQUALS 0 THEN  
                    SET dp AT i AT j TO dp AT i MINUS 1 AT j PLUS dp AT i AT j MINUS 1  
                END IF  
            END FOR  
        END FOR  
        
        RETURN dp AT m MINUS 1 AT n MINUS 1  
    END FUNCTION  
END CLASS