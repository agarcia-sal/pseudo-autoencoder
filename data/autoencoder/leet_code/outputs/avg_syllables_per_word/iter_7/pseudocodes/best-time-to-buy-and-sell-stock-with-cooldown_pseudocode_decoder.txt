CLASS Solution  
    FUNCTION maxProfit(prices)  
        IF prices IS empty  
            RETURN 0  
        END IF  

        SET n TO LENGTH OF prices  
        IF n EQUALS 1  
            RETURN 0  
        END IF  

        SET hold TO negative infinity  
        SET sold TO 0  
        SET rest TO 0  

        FOR each price IN prices  
            SET new_hold TO maximum OF hold AND rest MINUS price  
            SET new_sold TO hold PLUS price  
            SET new_rest TO maximum OF rest AND sold  

            SET hold TO new_hold  
            SET sold TO new_sold  
            SET rest TO new_rest  
        END FOR  

        RETURN maximum OF sold AND rest  
    END FUNCTION  
END CLASS