CLASS Solution  
    FUNCTION rotatedDigits(n)  
        SET change_digits TO set containing '2', '5', '6', '9'  
        SET same_digits TO set containing '0', '1', '8'  

        FUNCTION is_good_number(num)  
            SET num_str TO string representation of num  
            IF all digits in num_str belong to the union of change_digits and same_digits THEN  
                RETURN whether any digit in num_str belongs to change_digits  
            ELSE  
                RETURN False  
            END IF  
        END FUNCTION  

        SET good_count TO 0  
        FOR i FROM 1 TO n DO  
            IF is_good_number(i) THEN  
                INCREMENT good_count BY 1  
            END IF  
        END FOR  

        RETURN good_count  
    END FUNCTION  
END CLASS