CLASS Solution  
    FUNCTION wallsAndGates(rooms)  
        IF rooms IS EMPTY OR rooms[0] IS EMPTY THEN  
            RETURN  
        END IF  
        
        SET rows TO LENGTH OF rooms  
        SET cols TO LENGTH OF rooms[0]  
        INITIALIZE queue AS new deque  
        
        FOR r FROM 0 TO rows MINUS 1 DO  
            FOR c FROM 0 TO cols MINUS 1 DO  
                IF rooms[r][c] EQUALS 0 THEN  
                    APPEND tuple (r, c) TO queue  
                END IF  
            END FOR  
        END FOR  
        
        SET directions TO list of tuples (0, 1), (1, 0), (0, -1), (-1, 0)  
        
        WHILE queue IS NOT EMPTY DO  
            SET (r, c) TO REMOVE FIRST ELEMENT FROM queue  
            FOR EACH (dr, dc) IN directions DO  
                SET nr TO r PLUS dr  
                SET nc TO c PLUS dc  
                IF nr GREATER THAN OR EQUAL TO 0 AND nr LESS THAN rows AND nc GREATER THAN OR EQUAL TO 0 AND nc LESS THAN cols AND rooms[nr][nc] EQUALS 2147483647 THEN  
                    SET rooms[nr][nc] TO rooms[r][c] PLUS 1  
                    APPEND tuple (nr, nc) TO queue  
                END IF  
            END FOR  
        END WHILE  
    END FUNCTION  
END CLASS