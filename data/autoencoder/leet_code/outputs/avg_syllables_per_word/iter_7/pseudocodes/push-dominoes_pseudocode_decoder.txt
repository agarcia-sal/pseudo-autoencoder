CLASS Solution  
    FUNCTION pushDominoes(dominoes)  
        SET n TO LENGTH OF dominoes  
        SET forces TO LIST OF ZEROS WITH LENGTH n

        SET force TO 0  
        FOR i FROM 0 TO n MINUS 1  
            IF dominoes AT i EQUALS 'R' THEN  
                SET force TO n  
            ELSE IF dominoes AT i EQUALS 'L' THEN  
                SET force TO 0  
            ELSE  
                SET force TO MAXIMUM OF force MINUS 1 AND 0  
            SET forces AT i TO forces AT i PLUS force

        SET force TO 0  
        FOR i FROM n MINUS 1 DOWN TO 0  
            IF dominoes AT i EQUALS 'L' THEN  
                SET force TO n  
            ELSE IF dominoes AT i EQUALS 'R' THEN  
                SET force TO 0  
            ELSE  
                SET force TO MAXIMUM OF force MINUS 1 AND 0  
            SET forces AT i TO forces AT i MINUS force

        SET result TO EMPTY LIST  
        FOR each f IN forces  
            IF f GREATER THAN 0 THEN  
                APPEND 'R' TO result  
            ELSE IF f LESS THAN 0 THEN  
                APPEND 'L' TO result  
            ELSE  
                APPEND '.' TO result

        RETURN CONCATENATION OF ELEMENTS IN result  
    END FUNCTION  
END CLASS