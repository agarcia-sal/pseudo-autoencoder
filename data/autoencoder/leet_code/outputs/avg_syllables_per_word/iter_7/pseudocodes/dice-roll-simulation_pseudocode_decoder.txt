CLASS Solution  
    FUNCTION dieSimulator(n, rollMax)  
        SET MOD TO one billion plus seven  
        
        FUNCTION create_dp_matrix(n, rollMax)  
            SET max_roll TO maximum value in rollMax  
            CREATE 3D list dp WITH DIMENSIONS (n plus one) BY 6 BY (max_roll plus one) FILLED WITH zero  
            RETURN dp  
        END FUNCTION  
        
        SET dp TO create_dp_matrix(n, rollMax)  
        
        FOR j FROM zero TO five  
            SET dp at index [1][j][1] TO one  
        
        FOR i FROM two TO n  
            FOR j FROM zero TO five  
                FOR k FROM one TO rollMax at index j  
                    IF k GREATER THAN one THEN  
                        SET dp at index [i][j][k] TO dp at index [i minus one][j][k minus one]  
                    ELSE  
                        SET total TO zero  
                        FOR x FROM zero TO five  
                            IF x NOT EQUAL TO j THEN  
                                FOR y FROM one TO rollMax at index x  
                                    INCREMENT total BY dp at index [i minus one][x][y]  
                        SET dp at index [i][j][k] TO total MODULO MOD  
        
        SET result TO zero  
        FOR j FROM zero TO five  
            FOR k FROM one TO rollMax at index j  
                INCREMENT result BY dp at index [n][j][k]  
        
        RETURN result MODULO MOD  
    END FUNCTION  
END CLASS