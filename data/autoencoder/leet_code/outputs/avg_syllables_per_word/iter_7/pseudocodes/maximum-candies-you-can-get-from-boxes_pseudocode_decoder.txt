CLASS Solution  
    FUNCTION maxCandies(status, candies, keys, containedBoxes, initialBoxes)  
        SET boxes_we_have TO a set containing initialBoxes  
        SET keys_we_have TO an empty set  
        SET total_candies TO 0  
          
        SET progress_made TO True  
          
        WHILE progress_made  
            SET progress_made TO False  
            FOR each box IN a list conversion of boxes_we_have  
                IF status value at box EQUALS 1 OR box IN keys_we_have THEN  
                    INCREMENT total_candies BY candies value at box  
                    ADD keys found in keys value at box TO keys_we_have  
                    ADD boxes found in containedBoxes value at box TO boxes_we_have  
                    REMOVE box FROM boxes_we_have  
                    SET progress_made TO True  
        RETURN total_candies  
    END FUNCTION  
END CLASS