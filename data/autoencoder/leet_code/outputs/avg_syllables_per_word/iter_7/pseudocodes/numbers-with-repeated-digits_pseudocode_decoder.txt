CLASS Solution  
    FUNCTION numDupDigitsAtMostN(n)  
        FUNCTION count_unique_digits(x)  
            SET s TO string representation of x  
            SET length TO length of s  
            SET count TO sum of 9 multiplied by permutation of 9 and i minus 1 for each i from 1 up to length minus 1  
            SET seen TO empty set  
            FOR each index i and digit character digit IN s  
                FOR each number d FROM (1 if i equals 0 otherwise 0) UP TO digit converted to integer minus 1  
                    IF d NOT IN seen  
                        INCREMENT count BY permutation of (9 minus i) and (length minus i minus 1)  
                IF digit converted to integer IN seen  
                    BREAK loop  
                ADD digit converted to integer TO seen  
            IF loop did not break  
                INCREMENT count BY 1  
            RETURN count  
        END FUNCTION  
        RETURN n MINUS count_unique_digits(n)  
    END FUNCTION  
  
    FUNCTION perm(m, n)  
        IF n EQUALS 0  
            RETURN 1  
        SET result TO 1  
        FOR each i FROM 0 UP TO n minus 1  
            SET result TO result multiplied by (m minus i)  
        RETURN result  
    END FUNCTION  
END CLASS