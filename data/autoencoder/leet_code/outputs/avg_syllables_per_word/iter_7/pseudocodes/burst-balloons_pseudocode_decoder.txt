CLASS Solution  
    FUNCTION maxCoins(nums)  
        SET nums TO [1] APPENDED BY nums APPENDED BY [1]  
        SET n TO LENGTH OF nums  
        
        SET dp TO TWO-DIMENSIONAL LIST OF SIZE n BY n FILLED WITH 0  
        
        FOR length FROM 2 TO n MINUS 1  
            FOR i FROM 0 TO n MINUS length MINUS 1  
                SET j TO i PLUS length  
                FOR k FROM i PLUS 1 TO j MINUS 1  
                    SET coins TO nums AT i MULTIPLIED BY nums AT k MULTIPLIED BY nums AT j PLUS dp AT i AND k PLUS dp AT k AND j  
                    SET dp AT i AND j TO MAXIMUM OF dp AT i AND j AND coins  
        RETURN dp AT 0 AND n MINUS 1  
    END FUNCTION  
END CLASS