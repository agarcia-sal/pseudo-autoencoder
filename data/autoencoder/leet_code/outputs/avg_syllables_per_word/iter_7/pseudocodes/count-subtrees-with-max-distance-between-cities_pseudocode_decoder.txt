CLASS Solution  
    FUNCTION countSubgraphsForEachDiameter(n, edges)  
        SET graph TO empty map from integer to list  
        FOR i FROM 1 TO n  
            SET graph[i] TO empty list  
          
        FOR each pair u, v IN edges  
            APPEND v TO graph[u]  
            APPEND u TO graph[v]  
          
        FUNCTION bfs(subtree)  
            SET start TO an arbitrary element from subtree  
            SET queue TO a new queue containing start  
            SET visited TO a new set containing start  
            SET farthest_node TO start  
          
            WHILE queue is not empty  
                SET node TO dequeue from queue  
                FOR each neighbor IN graph[node]  
                    IF neighbor is in subtree AND neighbor not in visited  
                        ADD neighbor TO visited  
                        ENQUEUE neighbor TO queue  
                        SET farthest_node TO neighbor  
          
            SET queue TO a new queue containing farthest_node  
            SET visited TO a new set containing farthest_node  
            SET max_distance TO 0  
          
            WHILE queue is not empty  
                SET size TO length of queue  
                FOR counter FROM 1 TO size  
                    SET node TO dequeue from queue  
                    FOR each neighbor IN graph[node]  
                        IF neighbor in subtree AND neighbor not in visited  
                            ADD neighbor TO visited  
                            ENQUEUE neighbor TO queue  
                IF queue is not empty  
                    INCREMENT max_distance BY 1  
          
            RETURN max_distance  
        END FUNCTION  
          
        SET result TO list of zeros with length n minus 1  
          
        FOR size FROM 2 TO n  
            FOR each subset IN all combinations of range from 1 TO n of length size  
                SET visited TO empty set  
                SET stack TO list containing first element of subset  
                WHILE stack is not empty  
                    SET node TO pop from stack  
                    IF node not in visited  
                        ADD node TO visited  
                        FOR each neighbor IN graph[node]  
                            IF neighbor in subset AND neighbor not in visited  
                                APPEND neighbor TO stack  
                IF visited equals set of subset  
                    SET diameter TO bfs(set of subset)  
                    IF diameter GREATER THAN 0  
                        INCREMENT result at index diameter minus 1 BY 1  
          
        RETURN result  
    END FUNCTION  
END CLASS