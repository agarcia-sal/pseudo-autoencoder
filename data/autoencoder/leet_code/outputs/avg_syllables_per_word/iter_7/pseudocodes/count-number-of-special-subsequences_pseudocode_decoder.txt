CLASS Solution  
    FUNCTION countSpecialSubsequences(nums)  
        SET MOD TO 10 RAISED TO THE POWER OF 9 PLUS 7  
        SET dp TO list of three zeros representing counts of special subsequences ending with 0, 1, and 2 respectively  
  
        FOR each num IN nums  
            IF num EQUALS 0 THEN  
                SET dp at position 0 TO (twice dp at position 0 plus 1) MODULO MOD  
            ELSE IF num EQUALS 1 THEN  
                SET dp at position 1 TO (twice dp at position 1 plus dp at position 0) MODULO MOD  
            ELSE IF num EQUALS 2 THEN  
                SET dp at position 2 TO (twice dp at position 2 plus dp at position 1) MODULO MOD  
  
        RETURN dp at position 2  
    END FUNCTION  
END CLASS