CLASS Solution  
    FUNCTION deleteAndEarn(nums)  
        SET count TO occurrence mapping of elements in nums  
        SET unique_nums TO sorted list of keys in count  
        
        INITIALIZE dp AS list of zeros with length LENGTH OF unique_nums PLUS 1  
        
        SET dp AT position 1 TO unique_nums AT position 0 MULTIPLIED BY count OF unique_nums AT position 0  
        
        FOR i FROM 2 TO LENGTH OF unique_nums PLUS 1 INCLUSIVE  
            SET num TO unique_nums AT position i MINUS 1  
            IF num IS EQUAL TO unique_nums AT position i MINUS 2 PLUS 1 THEN  
                SET dp AT position i TO MAXIMUM OF dp AT position i MINUS 1 AND dp AT position i MINUS 2 PLUS num MULTIPLIED BY count AT num  
            ELSE  
                SET dp AT position i TO dp AT position i MINUS 1 PLUS num MULTIPLIED BY count AT num  
        END FOR  
        
        RETURN dp AT last position  
    END FUNCTION  
END CLASS