CLASS Solution  
    FUNCTION shortestPathLength(graph)  
        IF graph is empty THEN  
            RETURN 0  
        END IF  
        
        SET n TO length of graph  
        SET queue TO new deque containing pairs of each node and bitmask with that node visited  
        SET visited TO set containing each state from queue  
        
        SET steps TO 0  
        SET all_nodes_visited TO bitmask with all n nodes visited  
        
        WHILE queue is not empty DO  
            FOR each element in queue length DO  
                REMOVE first element from queue and SET TO current_node and visited_nodes  
                
                IF visited_nodes equals all_nodes_visited THEN  
                    RETURN steps  
                END IF  
                
                FOR each neighbor IN graph at current_node DO  
                    SET next_visited_nodes TO visited_nodes OR bitmask with neighbor visited  
                    SET next_state TO pair of neighbor and next_visited_nodes  
                    
                    IF next_state not in visited THEN  
                        ADD next_state TO visited  
                        APPEND next_state TO queue  
                    END IF  
                END FOR  
            END FOR  
            
            INCREMENT steps BY 1  
        END WHILE  
        
        RETURN -1  
    END FUNCTION  
END CLASS