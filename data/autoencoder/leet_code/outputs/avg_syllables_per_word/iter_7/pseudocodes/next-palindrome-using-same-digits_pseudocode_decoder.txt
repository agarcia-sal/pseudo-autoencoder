CLASS Solution  
    FUNCTION nextPalindrome(num)  
        SET n TO LENGTH OF num  
        SET half TO SUBSTRING OF num FROM START TO n DIVIDED BY 2  
        
        SET half_list TO LIST OF CHARACTERS IN half  
        SET k TO -1  
        SET l TO -1  
        
        FOR i FROM LENGTH OF half_list MINUS 2 DOWNTO 0  
            IF half_list AT i IS LESS THAN half_list AT i PLUS 1  
                SET k TO i  
                BREAK LOOP  
        
        IF k EQUALS -1  
            RETURN EMPTY STRING  
        
        FOR i FROM LENGTH OF half_list MINUS 1 DOWNTO k PLUS 1  
            IF half_list AT i IS GREATER THAN half_list AT k  
                SET l TO i  
                BREAK LOOP  
        
        SWAP half_list AT k WITH half_list AT l  
        SET half_list TO CONCATENATION OF half_list UP TO k PLUS 1 AND SORTED SUBLIST OF half_list FROM k PLUS 1 TO END  
        
        SET new_half TO CONCATENATION OF CHARACTERS IN half_list  
        
        IF n MODULO 2 EQUALS 0  
            RETURN new_half CONCATENATED WITH REVERSE OF new_half  
        ELSE  
            RETURN new_half CONCATENATED WITH CHARACTER AT num AT n DIVIDED BY 2 CONCATENATED WITH REVERSE OF new_half  
    END FUNCTION  
END CLASS