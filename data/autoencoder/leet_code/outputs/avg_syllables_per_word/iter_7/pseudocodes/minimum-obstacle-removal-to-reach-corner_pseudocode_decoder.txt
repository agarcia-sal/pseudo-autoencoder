CLASS Solution  
    FUNCTION minimumObstacles(grid)  
        SET m TO LENGTH OF grid  
        SET n TO LENGTH OF FIRST ELEMENT OF grid  
        SET directions TO LIST OF (0, 1), (1, 0), (0, -1), (-1, 0)  
        SET min_heap TO LIST CONTAINING (0, 0, 0)  # cost, x, y  
        SET visited TO SET CONTAINING (0, 0)  
        
        WHILE min_heap IS NOT EMPTY  
            REMOVE AND RETURN THE SMALLEST ELEMENT FROM min_heap AS cost, x, y  
            
            IF (x, y) IS EQUAL TO (m MINUS 1, n MINUS 1)  
                RETURN cost  
            
            FOR EACH dx, dy IN directions  
                SET nx TO x PLUS dx  
                SET ny TO y PLUS dy  
                IF nx IS GREATER THAN OR EQUAL TO 0 AND nx IS LESS THAN m AND ny IS GREATER THAN OR EQUAL TO 0 AND ny IS LESS THAN n AND (nx, ny) IS NOT IN visited  
                    ADD (nx, ny) TO visited  
                    SET new_cost TO cost PLUS VALUE AT grid AT POSITION nx, ny  
                    ADD (new_cost, nx, ny) TO min_heap  
        
        RETURN MINUS 1  
    END FUNCTION  
END CLASS