CLASS Solution  
    FUNCTION strongPasswordChecker(password)  
        SET n TO LENGTH OF password  
        
        SET has_lower TO WHETHER ANY character IN password IS lowercase  
        SET has_upper TO WHETHER ANY character IN password IS uppercase  
        SET has_digit TO WHETHER ANY character IN password IS digit  
        
        SET missing_types TO 3 MINUS (has_lower PLUS has_upper PLUS has_digit)  
        
        SET replace TO 0  
        SET one TO 0  
        SET two TO 0  
        SET i TO 2  
        WHILE i LESS THAN n  
            IF character AT password[i] EQUALS character AT password[i MINUS 1] AND character AT password[i] EQUALS character AT password[i MINUS 2]  
                SET length TO 2  
                WHILE i LESS THAN n AND character AT password[i] EQUALS character AT password[i MINUS 1]  
                    INCREMENT length BY 1  
                    INCREMENT i BY 1  
                INCREMENT replace BY length DIVIDED BY 3  
                IF length MODULO 3 EQUALS 0  
                    INCREMENT one BY 1  
                ELSE IF length MODULO 3 EQUALS 1  
                    INCREMENT two BY 1  
            ELSE  
                INCREMENT i BY 1  
        
        IF n LESS THAN 6  
            RETURN THE GREATER OF missing_types AND (6 MINUS n)  
        ELSE IF n LESS THAN OR EQUAL TO 20  
            RETURN THE GREATER OF missing_types AND replace  
        ELSE  
            SET delete TO n MINUS 20  
            
            DECREMENT replace BY THE SMALLER OF delete AND one  
            DECREMENT replace BY (THE SMALLER OF THE GREATER OF (delete MINUS one) AND 0 AND two MULTIPLIED BY 2) DIVIDED BY 2  
            DECREMENT replace BY THE GREATER OF (delete MINUS one MINUS two MULTIPLIED BY 2) AND 0 DIVIDED BY 3  
            
            RETURN delete PLUS THE GREATER OF missing_types AND replace  
    END FUNCTION  
END CLASS