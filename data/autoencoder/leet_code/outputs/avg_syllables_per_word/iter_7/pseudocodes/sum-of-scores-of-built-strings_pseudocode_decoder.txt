CLASS Solution  
    FUNCTION sumScores(s)  
        SET n TO LENGTH OF s  
        SET lcp TO LIST OF n ZEROS  

        SET l TO 0  
        SET r TO 0  
        FOR i FROM 1 TO n MINUS 1  
            IF i IS LESS THAN OR EQUAL TO r THEN  
                SET lcp AT i TO MINIMUM OF (r MINUS i PLUS 1) AND lcp AT (i MINUS l)  
            END IF  
            WHILE i PLUS lcp AT i IS LESS THAN n AND CHARACTER AT lcp AT i OF s IS EQUAL TO CHARACTER AT (i PLUS lcp AT i) OF s  
                INCREMENT lcp AT i BY 1  
            END WHILE  
            IF i PLUS lcp AT i MINUS 1 IS GREATER THAN r THEN  
                SET l TO i  
                SET r TO i PLUS lcp AT i MINUS 1  
            END IF  
        END FOR  

        RETURN SUM OF ALL VALUES IN lcp PLUS n  
    END FUNCTION  
END CLASS