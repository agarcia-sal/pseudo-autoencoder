CLASS Solution  
    FUNCTION maxNiceDivisors(primeFactors)  
        SET MOD TO 10 raised to the power of 9 plus 7  
        
        IF primeFactors LESS THAN OR EQUAL TO 3 THEN  
            RETURN primeFactors  
        END IF  
        
        SET num_threes TO primeFactors DIVIDED BY 3  
        SET remainder TO primeFactors MODULO 3  
        
        IF remainder EQUALS 0 THEN  
            RETURN 3 raised to the power of num_threes MODULO MOD  
        ELSE IF remainder EQUALS 1 THEN  
            RETURN (3 raised to the power of (num_threes MINUS 1) MODULO MOD) MULTIPLIED BY 4 MODULO MOD  
        ELSE  
            RETURN (3 raised to the power of num_threes MODULO MOD) MULTIPLIED BY 2 MODULO MOD  
        END IF  
    END FUNCTION  
END CLASS