CLASS Solution  
    FUNCTION isScramble(s1, s2)  
        IF s1 EQUALS s2 THEN  
            RETURN True  
        END IF  
        
        IF sorted characters of s1 NOT EQUAL TO sorted characters of s2 THEN  
            RETURN False  
        END IF  
        
        SET n TO length of s1  
        FOR i FROM 1 TO n MINUS 1 DO  
            IF isScramble(substring of s1 FROM start TO i) AND isScramble(substring of s2 FROM start TO i) THEN  
                IF isScramble(substring of s1 FROM start TO i, substring of s2 FROM start TO i) AND isScramble(substring of s1 FROM i TO end, substring of s2 FROM i TO end) THEN  
                    RETURN True  
                END IF  
            END IF  
            IF isScramble(substring of s1 FROM start TO i, substring of s2 FROM end MINUS i TO end) AND isScramble(substring of s1 FROM i TO end, substring of s2 FROM start TO end MINUS i) THEN  
                RETURN True  
            END IF  
        END FOR  
        
        RETURN False  
    END FUNCTION  
END CLASS