CLASS Solution  
    FUNCTION largestIsland(grid)  
        IF grid IS EMPTY OR grid AT 0 IS EMPTY THEN  
            RETURN 0  
        END IF  
        
        SET n TO LENGTH OF grid  
        SET directions TO LIST OF (0, 1), (1, 0), (0, -1), (-1, 0)  
        
        FUNCTION is_valid(x, y)  
            RETURN x IS GREATER THAN OR EQUAL TO 0 AND x IS LESS THAN n AND y IS GREATER THAN OR EQUAL TO 0 AND y IS LESS THAN n  
        END FUNCTION  
        
        FUNCTION dfs(x, y, index)  
            SET area TO 1  
            SET grid AT x AT y TO index  
            FOR EACH dx, dy IN directions  
                SET nx TO x PLUS dx  
                SET ny TO y PLUS dy  
                IF is_valid(nx, ny) AND grid AT nx AT ny EQUALS 1 THEN  
                    SET area TO area PLUS dfs(nx, ny, index)  
                END IF  
            END FOR  
            RETURN area  
        END FUNCTION  
        
        SET island_areas TO EMPTY MAP  
        SET index TO 2  
        
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF grid AT i AT j EQUALS 1 THEN  
                    SET island_areas AT index TO dfs(i, j, index)  
                    INCREMENT index BY 1  
                END IF  
            END FOR  
        END FOR  
        
        IF island_areas IS EMPTY THEN  
            RETURN 1  
        END IF  
        
        SET max_island_size TO MAXIMUM VALUE IN island_areas  
        
        FOR i FROM 0 TO n MINUS 1  
            FOR j FROM 0 TO n MINUS 1  
                IF grid AT i AT j EQUALS 0 THEN  
                    SET neighbors TO EMPTY SET  
                    FOR EACH dx, dy IN directions  
                        SET nx TO i PLUS dx  
                        SET ny TO j PLUS dy  
                        IF is_valid(nx, ny) AND grid AT nx AT ny IS GREATER THAN 1 THEN  
                            ADD grid AT nx AT ny TO neighbors  
                        END IF  
                    END FOR  
                    SET current_island_size TO 1 PLUS SUM OF island_areas AT each index IN neighbors  
                    SET max_island_size TO GREATER OF max_island_size AND current_island_size  
                END IF  
            END FOR  
        END FOR  
        
        RETURN max_island_size  
    END FUNCTION  
END CLASS