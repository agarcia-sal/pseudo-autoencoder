CLASS Solution  
    FUNCTION maxProduct(nums)  
        IF nums IS EMPTY  
            RETURN 0  
        
        SET max_product TO FIRST ELEMENT OF nums  
        SET min_product TO FIRST ELEMENT OF nums  
        SET result TO FIRST ELEMENT OF nums  
        
        FOR each num IN nums STARTING FROM SECOND ELEMENT  
            IF num IS LESS THAN 0  
                SET temp TO max_product  
                SET max_product TO min_product  
                SET min_product TO temp  
            END IF  
            
            SET max_product TO GREATER OF num AND max_product MULTIPLIED BY num  
            SET min_product TO LESSER OF num AND min_product MULTIPLIED BY num  
            
            SET result TO GREATER OF result AND max_product  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS