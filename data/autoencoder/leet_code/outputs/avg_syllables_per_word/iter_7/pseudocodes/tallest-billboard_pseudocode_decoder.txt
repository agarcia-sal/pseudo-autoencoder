CLASS Solution  
    FUNCTION tallestBillboard(rods)  
        SET dp TO dictionary with key 0 and value 0  
        
        FOR each rod IN rods  
            SET new_dp TO copy of dp  
            FOR each difference d and height y IN dp  
                SET new_height_taller TO maximum of new_dp at key d plus rod OR y  
                SET new_dp at key d plus rod TO new_height_taller  
                
                SET new_difference TO absolute value of d minus rod  
                SET new_height_shorter TO maximum of new_dp at key new_difference OR y plus minimum of d and rod  
                SET new_dp at key new_difference TO new_height_shorter  
            END FOR  
            SET dp TO new_dp  
        END FOR  
        
        RETURN dp at key 0  
    END FUNCTION  
END CLASS