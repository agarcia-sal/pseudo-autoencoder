CLASS Solution  
    FUNCTION shoppingOffers(price, special, needs)  
        SET special TO list of offers from special where  
            sum of all items except last in offer is greater than 0 AND  
            last item in offer is less than sum of price multiplied by corresponding quantity in offer except last item  
        
        FUNCTION dfs(needs)  
            SET min_cost TO sum of each price multiplied by corresponding need in needs  
            
            FOR each offer IN special  
                SET new_needs TO list of each need minus corresponding quantity in offer except last item  
                IF all values in new_needs are greater than or equal to zero THEN  
                    SET min_cost TO minimum of min_cost and last item in offer plus dfs of new_needs converted to tuple  
            RETURN min_cost  
        END FUNCTION  
        
        RETURN dfs of needs converted to tuple  
    END FUNCTION  
END CLASS