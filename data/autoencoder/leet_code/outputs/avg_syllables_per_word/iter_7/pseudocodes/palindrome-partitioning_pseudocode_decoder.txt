CLASS Solution  
    FUNCTION partition(s)  
        FUNCTION is_palindrome(sub)  
            RETURN sub IS EQUAL TO sub REVERSED  
        END FUNCTION  
  
        FUNCTION backtrack(start, path)  
            IF start IS EQUAL TO LENGTH OF s THEN  
                APPEND path TO result  
                RETURN  
            END IF  
  
            FOR end FROM start PLUS 1 TO LENGTH OF s PLUS 1 EXCLUSIVE DO  
                IF is_palindrome(s SUBSTRING FROM start TO end) THEN  
                    CALL backtrack WITH end AND path APPENDED WITH s SUBSTRING FROM start TO end  
                END IF  
            END FOR  
        END FUNCTION  
  
        SET result TO EMPTY LIST  
        CALL backtrack WITH 0 AND EMPTY LIST  
        RETURN result  
    END FUNCTION  
END CLASS