CLASS Solution  
    FUNCTION parseBoolExpr(expression)  
        SET stk TO empty list  
        FOR each c IN expression  
            IF c IN 'tf!&|'  
                APPEND c TO stk  
            ELSE IF c EQUALS ')'  
                SET t TO 0  
                SET f TO 0  
                WHILE last element of stk IN 'tf'  
                    INCREMENT t BY 1 IF last element of stk EQUALS 't'  
                    INCREMENT f BY 1 IF last element of stk EQUALS 'f'  
                    REMOVE last element FROM stk  
                SET op TO last element of stk  
                REMOVE last element FROM stk  
                IF op EQUALS '!'  
                    SET c TO 't' IF f EQUALS 0 ELSE 'f'  
                ELSE IF op EQUALS '&'  
                    SET c TO 'f' IF f GREATER THAN 0 ELSE 't'  
                ELSE IF op EQUALS '|'  
                    SET c TO 't' IF t GREATER THAN 0 ELSE 'f'  
                APPEND c TO stk  
        RETURN first element of stk EQUALS 't'  
    END FUNCTION  
END CLASS