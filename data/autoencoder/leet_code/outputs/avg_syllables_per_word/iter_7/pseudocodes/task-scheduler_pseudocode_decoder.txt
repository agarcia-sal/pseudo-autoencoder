CLASS Solution  
    FUNCTION leastInterval(tasks, n)  
        SET task_counts TO count frequencies of each element in tasks  
        SET max_heap TO list of negative values of task_counts  
        TRANSFORM max_heap INTO a heap structure  
        
        SET time TO 0  
        SET queue TO empty list representing cooling down tasks with their ready time and count  
        
        WHILE max_heap is not empty OR queue is not empty  
            WHILE queue is not empty AND the first element's time equals time  
                REMOVE the first element from queue and SET its count  
                IF count is less than zero  
                    ADD count back into max_heap as a heap element  
            
            IF max_heap is not empty  
                REMOVE the root element from max_heap and SET it as count  
                INCREMENT count BY 1  // reflects decrementing task frequency as count is negative  
                IF count is less than zero  
                    APPEND (time plus n plus 1, count) TO queue  
            
            INCREMENT time BY 1  
        
        RETURN time  
    END FUNCTION  
END CLASS