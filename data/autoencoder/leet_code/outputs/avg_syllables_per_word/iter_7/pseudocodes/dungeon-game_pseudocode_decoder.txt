CLASS Solution  
    FUNCTION calculateMinimumHP(dungeon)  
        SET m TO LENGTH OF dungeon  
        SET n TO LENGTH OF dungeon AT INDEX 0  
        SET dp TO 2D list with dimensions (m PLUS 1) by (n PLUS 1) FILLED WITH infinity  
        SET dp AT INDEX m AND n MINUS 1 TO 1  
        SET dp AT INDEX m MINUS 1 AND n TO 1  
        
        FOR i FROM m MINUS 1 DOWN TO 0  
            FOR j FROM n MINUS 1 DOWN TO 0  
                SET min_health TO MINIMUM OF dp AT INDEX i PLUS 1 AND j, dp AT INDEX i AND j PLUS 1 MINUS dungeon AT INDEX i AND j  
                SET dp AT INDEX i AND j TO THE GREATER OF min_health AND 1  
        
        RETURN dp AT INDEX 0 AND 0  
    END FUNCTION  
END CLASS