CLASS Solution  
    FUNCTION frogPosition(n, edges, t, target)  
        IF n EQUALS 1  
            RETURN 1.0  
        
        SET graph TO new mapping from node TO list of connected nodes  
        FOR each edge (u, v) IN edges  
            APPEND v TO graph[u]  
            APPEND u TO graph[v]  
        
        SET queue TO new double-ended queue containing tuple (1, 1.0, 0)  
        SET visited TO new set containing 1  
        
        WHILE queue IS NOT empty  
            SET current_node, current_probability, current_time TO REMOVE first element FROM queue  
            
            IF current_time EQUALS t OR (current_node NOT EQUAL TO 1 AND LENGTH OF graph[current_node] EQUALS 1)  
                IF current_node EQUALS target  
                    RETURN current_probability  
                ELSE  
                    CONTINUE TO next iteration  
            
            IF current_node EQUALS 1  
                SET possible_moves TO LENGTH OF graph[current_node]  
            ELSE  
                SET possible_moves TO LENGTH OF graph[current_node] MINUS 1  
            
            FOR each neighbor IN graph[current_node]  
                IF neighbor NOT IN visited  
                    ADD neighbor TO visited  
                    APPEND tuple (neighbor, current_probability DIVIDED BY possible_moves, current_time PLUS 1) TO queue  
        
        RETURN 0.0  
    END FUNCTION  
END CLASS