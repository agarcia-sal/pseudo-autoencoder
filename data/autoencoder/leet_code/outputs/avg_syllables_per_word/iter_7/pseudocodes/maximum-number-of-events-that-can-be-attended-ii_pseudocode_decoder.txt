CLASS Solution  
    FUNCTION maxValue(events, k)  
        SORT events BY their end day  
        SET n TO LENGTH OF events  
        INITIALIZE dp AS two-dimensional list of size (n plus 1) BY (k plus 1) WITH zeros  
        
        FOR i FROM 1 TO n DO  
            SET start, end, value TO events AT position (i minus 1)  
            SET j TO index of the latest event that ends before start USING binary search on events BY their end day  
            
            FOR l FROM 1 TO k DO  
                SET dp at position [i][l] TO the maximum of dp at position [i minus 1][l] AND dp at position [j][l minus 1] PLUS value  
        
        RETURN dp at position [n][k]  
    END FUNCTION  
END CLASS