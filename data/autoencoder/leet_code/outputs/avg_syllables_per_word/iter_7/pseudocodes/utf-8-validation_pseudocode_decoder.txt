CLASS Solution  
    FUNCTION validUtf8(data)  
        FUNCTION get_byte_count(byte)  
            IF leading bit of byte IS zero  
                RETURN 1  
            ELSE IF leading three bits of byte ARE pattern for two-byte character  
                RETURN 2  
            ELSE IF leading four bits of byte ARE pattern for three-byte character  
                RETURN 3  
            ELSE IF leading five bits of byte ARE pattern for four-byte character  
                RETURN 4  
            ELSE  
                RETURN -1  
        END FUNCTION  
        
        SET i TO 0  
        WHILE i IS LESS THAN LENGTH OF data  
            SET byte_count TO get_byte_count(data AT index i)  
            IF byte_count IS EQUAL TO -1  
                RETURN False  
            IF i PLUS byte_count IS GREATER THAN LENGTH OF data  
                RETURN False  
            FOR j FROM i PLUS 1 TO i PLUS byte_count MINUS 1  
                IF leading two bits of data AT index j ARE NOT equal to pattern indicating continuation byte  
                    RETURN False  
            INCREMENT i BY byte_count  
        END WHILE  
        RETURN True  
    END FUNCTION  
END CLASS