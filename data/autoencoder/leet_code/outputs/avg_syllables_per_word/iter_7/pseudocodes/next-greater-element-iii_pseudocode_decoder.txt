CLASS Solution  
    FUNCTION nextGreaterElement(n)  
        SET digits TO list of characters in string representation of n  
        SET length TO length of digits  
        
        SET i TO length MINUS 2  
        WHILE i IS GREATER THAN OR EQUAL TO 0 AND digits at i IS GREATER THAN OR EQUAL TO digits at i PLUS 1  
            DECREMENT i BY 1  
        
        IF i IS EQUAL TO -1  
            RETURN -1  
        
        SET j TO length MINUS 1  
        WHILE digits at j IS LESS THAN OR EQUAL TO digits at i  
            DECREMENT j BY 1  
        
        SWAP digits at i WITH digits at j  
        
        SET digits TO concatenation of digits from start TO i PLUS 1 AND reverse of digits from i PLUS 1 TO end  
        
        SET result TO integer formed by joining digits  
        
        IF result IS GREATER THAN 2 RAISED TO 31 MINUS 1  
            RETURN -1  
        
        RETURN result  
    END FUNCTION  
END CLASS