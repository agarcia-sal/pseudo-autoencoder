CLASS Solution  
    FUNCTION removeDuplicateLetters(s)  
        SET last_occurrence TO dictionary mapping each character in s to its last index in s  
        SET stack TO empty list  
        SET in_stack TO empty set  
        
        FOR each index idx and character char IN s  
            IF char IS IN in_stack  
                CONTINUE to next iteration  
            
            WHILE stack is not empty AND char is less than last character in stack AND idx is less than last_occurrence of last character in stack  
                SET removed_char TO last character removed from stack  
                REMOVE removed_char FROM in_stack  
            
            APPEND char TO stack  
            ADD char TO in_stack  
        
        RETURN concatenation of characters in stack  
    END FUNCTION  
END CLASS