CLASS Solution  
    FUNCTION largestRectangleArea(heights)  
        SET stack TO a list containing only minus one  
        SET max_area TO zero  
        APPEND zero TO heights  
        
        FOR each index i AND each height h IN heights  
            WHILE the last element of stack NOT EQUALS minus one AND h LESS THAN the element of heights AT the last element of stack  
                SET height TO the element of heights AT the result of removing the last element of stack  
                SET width TO i MINUS the last element of stack MINUS one  
                SET max_area TO the greater value BETWEEN max_area AND height MULTIPLIED BY width  
            END WHILE  
            APPEND i TO stack  
        END FOR  
        
        RETURN max_area  
    END FUNCTION  
END CLASS