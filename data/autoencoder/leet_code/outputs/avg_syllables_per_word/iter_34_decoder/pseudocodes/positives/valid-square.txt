CLASS Solution  
    FUNCTION validSquare(p1 p2 p3 p4)  
        FUNCTION squared_distance(point1 point2)  
            SET difference_along_x TO element at position zero of point1 MINUS element at position zero of point2  
            SET difference_along_y TO element at position one of point1 MINUS element at position one of point2  
            SET square_of_difference_along_x TO difference_along_x MULTIPLIED BY difference_along_x  
            SET square_of_difference_along_y TO difference_along_y MULTIPLIED BY difference_along_y  
            SET result TO square_of_difference_along_x PLUS square_of_difference_along_y  
            RETURN result  
        END FUNCTION  
        SET points TO list containing p1 p2 p3 p4  
        SET distances TO empty set  
        FOR index i FROM zero TO three  
            FOR index j FROM i PLUS one TO three  
                SET dist TO squared_distance of element at position i of points and element at position j of points  
                IF dist EQUALS zero  
                    RETURN False  
                END IF  
                ADD dist TO distances  
            END FOR  
        END FOR  
        IF LENGTH OF distances EQUALS two  
            RETURN True  
        ELSE  
            RETURN False  
        END IF  
    END FUNCTION  
END CLASS