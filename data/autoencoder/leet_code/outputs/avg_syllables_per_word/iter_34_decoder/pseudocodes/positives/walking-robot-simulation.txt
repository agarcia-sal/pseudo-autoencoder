CLASS Solution  
    FUNCTION robotSim(commands, obstacles)  
        SET directions TO list of pairs of integers representing north as zero one east as one zero south as zero negative one west as negative one zero  
        SET x TO zero  
        SET y TO zero  
        SET dir_index TO zero  
        SET obstacles_set TO set of tuples created by converting each element of obstacles list to a tuple  
        SET max_distance TO zero  
        FOR each command IN commands  
            IF command EQUALS negative two  
                SET dir_index TO remainder of dir_index MINUS one DIVIDED BY four  
            ELSE IF command EQUALS negative one  
                SET dir_index TO remainder of dir_index PLUS one DIVIDED BY four  
            ELSE  
                SET dx TO element at position dir_index of directions list at position zero  
                SET dy TO element at position dir_index of directions list at position one  
                FOR step_count FROM one TO command  
                    SET next_x TO x PLUS dx  
                    SET next_y TO y PLUS dy  
                    IF tuple consisting of next_x and next_y IS IN obstacles_set  
                        BREAK  
                    END IF  
                    SET x TO next_x  
                    SET y TO next_y  
                END FOR  
                SET distance_squared TO x MULTIPLIED BY x PLUS y MULTIPLIED BY y  
                IF distance_squared GREATER THAN max_distance  
                    SET max_distance TO distance_squared  
                END IF  
            END IF  
        END FOR  
        RETURN max_distance  
    END FUNCTION  
END CLASS