CLASS Solution
    FUNCTION splitArraySameAverage(nums)
        SET n TO the LENGTH OF nums
        SET total_sum TO the SUM OF all elements IN nums

        IF n EQUALS one
            RETURN False
        END IF

        SET dp TO auxiliary FUNCTION initializeSetList WITH parameters n DIVIDED BY two PLUS one

        CALL auxiliary FUNCTION addZeroToSet AT dp POSITION zero

        FOR each num IN nums
            FOR size FROM n DIVIDED BY two DOWN TO one
                FOR each s IN dp ELEMENT at position size MINUS one
                    SET new_sum TO s PLUS num

                    IF new_sum MULTIPLIED BY n EQUALS size MULTIPLIED BY total_sum
                        RETURN True
                    END IF

                    CALL auxiliary FUNCTION addSumToSet AT dp ELEMENT at position size WITH new_sum
                END FOR
            END FOR
        END FOR

        RETURN False
    END FUNCTION
END CLASS