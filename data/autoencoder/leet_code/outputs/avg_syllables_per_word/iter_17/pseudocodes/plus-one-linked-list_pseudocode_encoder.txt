CLASS ListNode
    FUNCTION __init__(val EQUALS zero, next EQUALS None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values)
    IF values IS EMPTY
        RETURN None
    END IF
    SET head TO CALL ListNode WITH element at position zero of values
    SET p TO head
    FOR each val IN the substring of values from position one TO the end
        SET node TO CALL ListNode WITH val
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1, p2)
    IF p1 IS None AND p2 IS None
        RETURN True
    END IF
    IF p1 IS None OR p2 IS None
        RETURN False
    END IF
    RETURN the value of p1 EQUALS the value of p2 AND CALL is_same_list WITH the element at position next of p1, the element at position next of p2
END FUNCTION

CLASS Solution
    FUNCTION plusOne(head)
        FUNCTION reverseList(node)
            SET prev TO None
            WHILE node IS NOT None
                SET next_node TO the element at position next of node
                SET the element at position next of node TO prev
                SET prev TO node
                SET node TO next_node
            END WHILE
            RETURN prev
        END FUNCTION

        SET reversed_head TO CALL reverseList WITH head
        SET carry TO one
        SET current TO reversed_head

        WHILE current IS NOT None AND carry IS NOT zero
            SET the value of current TO the value of current PLUS carry
            SET carry TO the value of current DIVIDED BY ten
            SET the value of current TO the value of current MODULO ten

            IF the element at position next of current IS None AND carry IS NOT zero
                SET the element at position next of current TO CALL ListNode WITH carry
                SET carry TO zero
            END IF

            SET prev TO current
            SET current TO the element at position next of current
        END WHILE

        RETURN CALL reverseList WITH reversed_head
    END FUNCTION
END CLASS