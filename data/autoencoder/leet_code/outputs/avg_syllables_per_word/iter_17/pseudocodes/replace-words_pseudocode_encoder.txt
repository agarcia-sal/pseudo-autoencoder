CLASS Solution
    FUNCTION replaceWords(dictionary, sentence)
        CALL dictionary SORTED BY LENGTH OF element

        SET words TO CALL sentence SPLIT INTO WORDS

        FUNCTION replace(word)
            FOR each root IN dictionary
                IF word STARTS WITH root
                    RETURN root
                END IF
            END FOR
            RETURN word
        END FUNCTION

        SET replaced_words TO EMPTY LIST
        FOR each word IN words
            APPEND CALL replace WITH argument word TO replaced_words
        END FOR

        RETURN CALL replaced_words JOINED INTO STRING WITH SPACES
    END FUNCTION
END CLASS