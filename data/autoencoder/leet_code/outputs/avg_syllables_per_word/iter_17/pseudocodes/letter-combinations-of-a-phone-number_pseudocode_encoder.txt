CLASS Solution
    FUNCTION letterCombinations(digits)
        IF digits IS EQUALS empty string
            RETURN empty list
        END IF
        SET phone_map TO auxiliary FUNCTION generate_phone_map
        FUNCTION backtrack(combination, next_digits)
            IF the LENGTH OF next_digits IS EQUALS zero
                APPEND combination TO output
            ELSE
                FOR each letter IN the string element at position zero of the value at key element at position zero of next_digits in phone_map
                    CALL backtrack WITH parameters combination PLUS letter AND the substring from position one TO end of next_digits
                END FOR
            END IF
        END FUNCTION
        SET output TO empty list
        CALL backtrack WITH parameters empty string AND digits
        RETURN output
    END FUNCTION
END CLASS

FUNCTION generate_phone_map
    RETURN mapping FROM
        digit two TO string abc
        digit three TO string def
        digit four TO string ghi
        digit five TO string jkl
        digit six TO string mno
        digit seven TO string pqrs
        digit eight TO string tuv
        digit nine TO string wxyz
END FUNCTION