CLASS Solution
    FUNCTION largestRectangleArea(heights)
        SET stack TO a list containing negative one
        SET max_area TO zero
        CALL append zero TO list heights
        FOR each index and height IN enumeration of list heights
            WHILE the element at position negative one of stack not EQUALS negative one AND height LESS THAN the element at position element at position negative one of stack of list heights
                SET height_value TO the element at position stack POPPED from list heights
                SET width_value TO index MINUS the element at position negative one of stack MINUS one
                SET max_area TO the greater value BETWEEN max_area AND height_value MULTIPLIED BY width_value
            END WHILE
            CALL append index TO stack
        END FOR
        RETURN max_area
    END FUNCTION
END CLASS