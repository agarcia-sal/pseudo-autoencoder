CLASS ListNode
    FUNCTION __init__(self, val EQUALS zero, next EQUALS None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values_list)
    IF values_list IS empty
        RETURN None
    END IF
    SET head TO CALL ListNode WITH element at position zero of values_list
    SET pointer TO head
    FOR each value IN elements from position one TO the end of values_list
        SET node TO CALL ListNode WITH value
        SET pointer.next TO node
        SET pointer TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(pointer_one, pointer_two)
    IF pointer_one IS None AND pointer_two IS None
        RETURN True
    END IF
    IF pointer_one IS None OR pointer_two IS None
        RETURN False
    END IF
    RETURN pointer_one.val EQUALS pointer_two.val AND CALL is_same_list WITH pointer_one.next AND pointer_two.next
END FUNCTION

CLASS Solution
    FUNCTION partition(head_node, x_value)
        SET less_head TO CALL ListNode WITH zero
        SET greater_head TO CALL ListNode WITH zero

        SET less TO less_head
        SET greater TO greater_head

        SET current TO head_node
        WHILE current IS NOT None
            IF current.val LESS THAN x_value
                SET less.next TO current
                SET less TO less.next
            ELSE
                SET greater.next TO current
                SET greater TO greater.next
            END IF
            SET current TO current.next
        END WHILE

        SET less.next TO greater_head.next
        SET greater.next TO None

        RETURN less_head.next
    END FUNCTION
END CLASS