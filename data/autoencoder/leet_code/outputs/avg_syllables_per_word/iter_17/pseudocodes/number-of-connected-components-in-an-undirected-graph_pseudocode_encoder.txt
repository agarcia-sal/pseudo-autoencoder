CLASS Solution
    FUNCTION countComponents(n, edges)
        SET graph TO CALL createGraph WITH parameters n and edges
        SET visited TO CALL createVisitedSet WITH no parameters

        FUNCTION dfs(node)
            IF node IS IN visited
                RETURN
            END IF
            ADD node TO visited
            FOR each neighbor IN element at position node OF graph
                CALL dfs WITH parameter neighbor
            END FOR
        END FUNCTION

        SET components TO zero
        FOR node FROM zero TO n MINUS one
            IF node IS NOT IN visited
                CALL dfs WITH parameter node
                INCREMENT components BY one
            END IF
        END FOR

        RETURN components
    END FUNCTION
END CLASS

FUNCTION createGraph(n, edges)
    SET graph TO empty mapping from zero TO n MINUS one each mapped TO empty list
    FOR each pair a and b IN edges
        APPEND b TO element at position a OF graph
        APPEND a TO element at position b OF graph
    END FOR
    RETURN graph
END FUNCTION

FUNCTION createVisitedSet()
    RETURN empty set
END FUNCTION