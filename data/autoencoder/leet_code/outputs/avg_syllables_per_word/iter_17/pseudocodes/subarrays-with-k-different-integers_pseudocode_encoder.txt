CLASS Solution
    FUNCTION subarraysWithKDistinct(list_of_numbers, k)
        FUNCTION atMostKDistinct(t)
            SET count_dictionary TO CALL defaultdict WITH parameter integer
            SET left_pointer TO zero
            SET result_accumulator TO zero
            FOR right_pointer FROM zero TO the LENGTH OF list_of_numbers MINUS one
                INCREMENT element at position right_pointer of list_of_numbers IN count_dictionary BY one
                WHILE the LENGTH OF count_dictionary IS GREATER THAN t holds
                    DECREMENT element at position left_pointer of list_of_numbers IN count_dictionary BY one
                    IF element at position left_pointer of list_of_numbers IN count_dictionary EQUALS zero
                        CALL Remove element at position left_pointer of list_of_numbers FROM count_dictionary
                    END IF
                    INCREMENT left_pointer BY one
                END WHILE
                INCREMENT result_accumulator BY right_pointer MINUS left_pointer PLUS one
            END FOR
            RETURN result_accumulator
        END FUNCTION
        
        RETURN the CALL to atMostKDistinct WITH parameter k MINUS the CALL to atMostKDistinct WITH parameter k MINUS one
    END FUNCTION
END CLASS