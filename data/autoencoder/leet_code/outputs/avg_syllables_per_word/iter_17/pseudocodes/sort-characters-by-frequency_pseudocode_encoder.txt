CLASS Solution
    FUNCTION frequencySort(string s)
        CALL FUNCTION Counter WITH parameter s RETURNING frequency_map

        CALL FUNCTION sorted WITH parameters
            ELEMENTS AS keys OF frequency_map
            KEY FUNCTION AS lambda character RETURNS frequency_map ELEMENT AT position character
            REVERSE ORDER AS true
        RETURNING sorted_characters

        CALL FUNCTION join WITH parameter
            FOR each character IN sorted_characters
                character MULTIPLIED BY frequency_map ELEMENT AT position character
            END FOR
        RETURNING result_string

        RETURN result_string
    END FUNCTION
END CLASS