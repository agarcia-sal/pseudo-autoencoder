CLASS Solution
    FUNCTION smallestSubsequence(input_string, k, letter, repetition)
        SET letter_count TO the NUMBER OF OCCURRENCES OF letter IN input_string
        SET stack TO an EMPTY LIST
        FOR index FROM zero TO the LENGTH OF input_string MINUS one
            SET char TO the element at position index of input_string
            WHILE stack IS NOT EMPTY AND char IS LESS THAN the element at position LENGTH OF stack MINUS one of stack AND the LENGTH OF input_string MINUS index PLUS the LENGTH OF stack MINUS one IS GREATER THAN OR EQUAL TO k
                IF the element at position LENGTH OF stack MINUS one of stack IS EQUALS letter
                    IF letter_count IS GREATER THAN repetition
                        INCREMENT repetition BY one
                        REMOVE the element at position LENGTH OF stack MINUS one FROM stack
                    ELSE
                        BREAK
                    END IF
                ELSE
                    REMOVE the element at position LENGTH OF stack MINUS one FROM stack
                END IF
            END WHILE
            IF the LENGTH OF stack IS LESS THAN k
                IF char IS EQUALS letter
                    APPEND char TO stack
                    DECREMENT repetition BY one
                ELSE IF k MINUS the LENGTH OF stack IS GREATER THAN repetition
                    APPEND char TO stack
                END IF
                IF char IS EQUALS letter
                    DECREMENT letter_count BY one
                END IF
            END IF
        END FOR
        WHILE the LENGTH OF stack IS LESS THAN k
            APPEND letter TO stack
        END WHILE
        RETURN the JOINED ELEMENTS OF stack
    END FUNCTION
END CLASS