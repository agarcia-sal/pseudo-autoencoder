CLASS Solution
    FUNCTION leastInterval(tasks, n)
        SET task_counts TO CALL Counter WITH tasks
        SET max_heap TO the LIST OF negative value OF each count IN the VALUES OF task_counts
        CALL heapify WITH max_heap
        SET time TO zero
        SET queue TO an empty LIST
        WHILE max_heap IS NOT empty OR queue IS NOT empty
            WHILE queue IS NOT empty AND element at position zero OF the first element of queue EQUALS time
                REMOVE element at position zero FROM queue AND ASSIGN TO current_element
                ASSIGN count TO element at position one OF current_element
                IF count LESS THAN zero
                    CALL heappush WITH max_heap AND count
                END IF
            END WHILE
            IF max_heap IS NOT empty
                ASSIGN count TO the result OF heappop WITH max_heap
                SET count TO count PLUS one
                IF count LESS THAN zero
                    APPEND a TUPLE OF time PLUS n PLUS one AND count TO queue
                END IF
            END IF
            INCREMENT time BY one
        END WHILE
        RETURN time
    END FUNCTION
END CLASS