CLASS Solution
    FUNCTION subsetsWithDup(list_of_numbers)
        CALL sort ON list_of_numbers
        SET result_list TO empty list
        SET current_subset TO empty list
        
        FUNCTION dfs(index)
            IF index IS GREATER THAN OR EQUAL TO the LENGTH OF list_of_numbers
                APPEND a COPY OF current_subset TO result_list
                RETURN
            END IF
            
            APPEND element at position index of list_of_numbers TO current_subset
            CALL dfs WITH parameter index PLUS one
            
            REMOVE last element FROM current_subset
            WHILE index PLUS one IS LESS THAN the LENGTH OF list_of_numbers AND element at position index of list_of_numbers EQUALS element at position index PLUS one of list_of_numbers
                INCREMENT index BY one
            END WHILE
            CALL dfs WITH parameter index PLUS one
        END FUNCTION
        
        CALL dfs WITH parameter zero
        RETURN result_list
    END FUNCTION
END CLASS