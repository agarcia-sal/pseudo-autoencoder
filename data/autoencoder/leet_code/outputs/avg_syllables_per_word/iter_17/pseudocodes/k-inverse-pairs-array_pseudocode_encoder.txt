CLASS Solution
    FUNCTION kInversePairs(n, k)
        SET MOD TO one billion PLUS seven
        SET dp TO CALL initializeDP WITH n AND k
        SET element at position zero of list at position zero of dp TO one
        FOR i FROM one TO n
            SET prefix_sum TO zero
            FOR j FROM zero TO k
                SET prefix_sum TO prefix_sum PLUS element at position j of list at position i minus one of dp MODULO MOD
                IF j GREATER THAN OR EQUAL TO i
                    SET prefix_sum TO prefix_sum MINUS element at position j minus i of list at position i minus one of dp PLUS MOD MODULO MOD
                END IF
                SET element at position j of list at position i of dp TO prefix_sum
            END FOR
        END FOR
        RETURN element at position k of list at position n of dp
    END FUNCTION

    FUNCTION initializeDP(n, k)
        CREATE a list named dp with n PLUS one elements
        FOR each index_i FROM zero TO n
            SET element at position index_i of dp TO a list of k PLUS one zeros
        END FOR
        RETURN dp
    END FUNCTION
END CLASS