CLASS Solution
    FUNCTION sumScores(s)
        SET n TO the LENGTH OF s
        SET lcp TO a LIST OF zero of size n
        SET l TO zero
        SET r TO zero
        FOR i FROM one TO n MINUS one
            IF i IS LESS THAN OR EQUAL TO r
                SET element at position i of lcp TO the MINIMUM OF r MINUS i PLUS one AND element at position i MINUS l of lcp
            END IF
            WHILE i PLUS element at position i of lcp IS LESS THAN n AND character at position element at position i of lcp of s EQUALS character at position i PLUS element at position i of lcp of s
                INCREMENT element at position i of lcp BY one
            END WHILE
            IF i PLUS element at position i of lcp MINUS one IS GREATER THAN r
                SET l TO i
                SET r TO i PLUS element at position i of lcp MINUS one
            END IF
        END FOR
        RETURN the SUM OF all elements of lcp PLUS n
    END FUNCTION
END CLASS