CLASS ListNode
    FUNCTION __init__(val zero, next POINTER TO None)
        SET self.val TO val
        SET self.next TO next
    END FUNCTION
END CLASS

FUNCTION list_node(values_list)
    IF values_list IS empty
        RETURN None
    END IF
    SET head TO CALL ListNode WITH element at position one of values_list
    SET p TO head
    FOR each val IN the SUBLIST OF values_list FROM position two TO the END
        SET node TO CALL ListNode WITH val
        SET p.next TO node
        SET p TO node
    END FOR
    RETURN head
END FUNCTION

FUNCTION is_same_list(p1 POINTER TO ListNode, p2 POINTER TO ListNode)
    IF p1 IS None AND p2 IS None
        RETURN True
    END IF
    IF p1 IS None OR p2 IS None
        RETURN False
    END IF
    RETURN self_val EQUALS p2_val AND CALL is_same_list WITH p1.next AND p2.next
END FUNCTION

CLASS Solution
    FUNCTION reverseBetween(head POINTER TO ListNode, left INTEGER, right INTEGER)
        IF head IS None OR left EQUALS right
            RETURN head
        END IF
        SET dummy TO CALL ListNode WITH zero
        SET dummy.next TO head
        SET prev TO dummy
        FOR count FROM one TO left MINUS one
            SET prev TO prev.next
        END FOR
        SET current TO prev.next
        FOR count FROM one TO right MINUS left
            SET next_node TO current.next
            SET current.next TO next_node.next
            SET next_node.next TO prev.next
            SET prev.next TO next_node
        END FOR
        RETURN dummy.next
    END FUNCTION
END CLASS