CLASS Solution
    FUNCTION canVisitAllRooms(rooms)
        SET visited TO auxiliary FUNCTION InitializeVisitedSet
        SET stack TO auxiliary FUNCTION InitializeStackWith zero

        WHILE stack IS NOT empty
            SET current_room TO auxiliary FUNCTION RemoveLastElementFrom stack
            CALL auxiliary FUNCTION AddElementToSet WITH visited AND current_room

            FOR each key IN element at position current_room of rooms
                IF key IS NOT IN visited
                    CALL auxiliary FUNCTION AddElementToList WITH stack AND key
                END IF
            END FOR
        END WHILE

        RETURN the LENGTH OF visited EQUALS the LENGTH OF rooms
    END FUNCTION
END CLASS