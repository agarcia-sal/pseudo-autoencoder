CLASS Solution
    FUNCTION minWastedSpace(packages AS list_of_integers, boxes AS list_of_list_of_integers) RETURNS integer
        SET MOD TO ten TO THE POWER OF nine PLUS one
        CALL sort ON packages
        SET n TO the LENGTH OF packages
        
        CALL initializePrefixSum WITH n RETURNS prefix_sum
        
        FOR index FROM zero TO n MINUS one
            SET element at position index PLUS one OF prefix_sum TO element at position index OF prefix_sum PLUS element at position index OF packages
        END FOR
        
        SET min_wasted_space TO positive_infinity
        
        FOR each box IN boxes
            CALL sort ON box
            IF element at last position OF box LESS THAN element at last position OF packages
                CONTINUE to next box
            END IF
            
            SET total_wasted TO zero
            SET last_index TO zero
            
            FOR each box_size IN box
                SET index TO last_index
                WHILE index LESS THAN n AND element at position index OF packages LESS THAN OR EQUAL TO box_size
                    INCREMENT index BY one
                END WHILE
                
                IF index GREATER THAN last_index
                    SET total_wasted TO total_wasted PLUS (index MINUS last_index) MULTIPLIED BY box_size MINUS (element at position index OF prefix_sum MINUS element at position last_index OF prefix_sum)
                    SET last_index TO index
                END IF
            END FOR
            
            IF last_index EQUALS n
                SET min_wasted_space TO the MINIMUM OF min_wasted_space AND total_wasted
            END IF
        END FOR
        
        IF min_wasted_space NOT EQUALS positive_infinity
            RETURN min_wasted_space MODULO MOD
        ELSE
            RETURN negative_one
        END IF
    END FUNCTION
    
    FUNCTION initializePrefixSum(length AS integer) RETURNS list_of_integers
        RETURN list of zeros WITH length length PLUS one
    END FUNCTION
END CLASS