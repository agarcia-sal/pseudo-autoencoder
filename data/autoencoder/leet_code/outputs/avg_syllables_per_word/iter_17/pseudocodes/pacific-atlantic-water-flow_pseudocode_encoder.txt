CLASS Solution
    FUNCTION pacificAtlantic(heights)
        FUNCTION bfs(queue, visited)
            WHILE queue is not empty holds
                FOR iterator FROM zero TO the LENGTH OF queue MINUS one
                    SET i, j TO the element at position zero and the element at position one of dequeued element FROM queue
                    FOR each pair a, b IN the list containing zero and minus one, zero and one, one and zero, minus one and zero
                        SET x TO i PLUS a
                        SET y TO j PLUS b
                        IF x IS GREATER THAN OR EQUAL TO zero AND x IS LESS THAN m AND y IS GREATER THAN OR EQUAL TO zero AND y IS LESS THAN n AND the pair x, y IS NOT IN visited AND element at position x of heights at position y IS GREATER THAN OR EQUAL TO element at position i of heights at position j THEN
                            ADD the pair x, y TO visited
                            APPEND the pair x, y TO queue
                        END IF
                    END FOR
                END FOR
            END WHILE
        END FUNCTION

        SET m TO the LENGTH OF heights
        SET n TO the LENGTH OF the element at position zero of heights
        INITIALIZE visited set named vis1
        INITIALIZE visited set named vis2
        INITIALIZE empty deque named q1
        INITIALIZE empty deque named q2

        FOR i FROM zero TO m MINUS one
            FOR j FROM zero TO n MINUS one
                IF i EQUALS zero OR j EQUALS zero THEN
                    ADD the pair i, j TO vis1
                    APPEND the pair i, j TO q1
                END IF
                IF i EQUALS m MINUS one OR j EQUALS n MINUS one THEN
                    ADD the pair i, j TO vis2
                    APPEND the pair i, j TO q2
                END IF
            END FOR
        END FOR

        CALL bfs WITH q1 AND vis1
        CALL bfs WITH q2 AND vis2

        INITIALIZE result list to empty
        FOR i FROM zero TO m MINUS one
            FOR j FROM zero TO n MINUS one
                IF the pair i, j IS IN vis1 AND the pair i, j IS IN vis2 THEN
                    APPEND the pair i, j TO result list
                END IF
            END FOR
        END FOR

        RETURN result list
    END FUNCTION
END CLASS