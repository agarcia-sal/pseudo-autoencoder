CLASS Solution
    FUNCTION countSubstrings(string s)
        FUNCTION expand_around_center(integer left, integer right)
            SET count TO zero
            WHILE left IS GREATER THAN OR EQUAL TO zero AND right IS LESS THAN the LENGTH OF string s AND element at position left of string s EQUALS element at position right of string s
                INCREMENT count BY one
                DECREMENT left BY one
                INCREMENT right BY one
            END WHILE
            RETURN count
        END FUNCTION

        SET total_palindromes TO zero
        FOR index i FROM zero TO the LENGTH OF string s MINUS one
            INCREMENT total_palindromes BY CALL expand_around_center WITH parameters i AND i
            INCREMENT total_palindromes BY CALL expand_around_center WITH parameters i AND i PLUS one
        END FOR
        RETURN total_palindromes
    END FUNCTION
END CLASS