CLASS Solution
    FUNCTION movesToStamp(stamp, target)
        SET m TO the LENGTH OF stamp
        SET n TO the LENGTH OF target
        SET indeg TO a list of m repeated (n MINUS m PLUS one) times
        ASSIGN q TO a new deque
        SET g TO a list of empty lists repeated n times
        FOR i FROM zero TO n MINUS m
            FOR j FROM zero TO m MINUS one
                IF the element at position j of stamp EQUALS the element at position i PLUS j of target
                    DECREMENT element at position i of indeg BY one
                    IF element at position i of indeg EQUALS zero
                        APPEND i TO q
                    END IF
                ELSE
                    APPEND i TO the element at position i PLUS j of g
                END IF
            END FOR
        END FOR
        SET ans TO an empty list
        SET vis TO a list of False repeated n times
        WHILE q is not empty
            SET i TO the element dequeued from q
            APPEND i TO ans
            FOR j FROM zero TO m MINUS one
                IF the element at position i PLUS j of vis IS False
                    SET the element at position i PLUS j of vis TO True
                    FOR each k IN the element at position i PLUS j of g
                        DECREMENT element at position k of indeg BY one
                        IF element at position k of indeg EQUALS zero
                            APPEND k TO q
                        END IF
                    END FOR
                END IF
            END FOR
        END WHILE
        IF all elements of vis ARE True
            RETURN ans REVERSED
        ELSE
            RETURN an empty list
        END IF
    END FUNCTION
END CLASS