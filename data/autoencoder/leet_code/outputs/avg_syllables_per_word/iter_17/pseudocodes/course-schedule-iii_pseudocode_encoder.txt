CLASS Solution
    FUNCTION scheduleCourse(courses LIST OF LIST OF INTEGER)
        CALL sort ON courses WITH key AS function TAKING parameter x RETURNING element at position one OF x
        
        SET max_heap TO empty list
        SET current_end_day TO zero
        
        FOR each duration AND last_day IN courses
            IF current_end_day PLUS duration LESS THAN OR EQUAL TO last_day
                CALL heap push ON max_heap WITH negative duration
                INCREMENT current_end_day BY duration
            ELSE IF max_heap IS NOT empty AND negative element at position zero OF max_heap GREATER THAN duration
                INCREMENT current_end_day BY duration PLUS CALL heap pop ON max_heap
                CALL heap push ON max_heap WITH negative duration
            END IF
        END FOR
        
        RETURN the LENGTH OF max_heap
    END FUNCTION
END CLASS