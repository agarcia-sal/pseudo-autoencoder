CLASS Solution
    FUNCTION numSquares(n)
        SET dp TO a list containing the value of positive infinity repeated FROM zero TO n
        SET element at position zero of dp TO zero
        SET squares TO an empty list
        SET i TO one
        WHILE the value of i MULTIPLIED BY the value of i IS LESS THAN OR EQUAL TO n holds
            APPEND the value of i MULTIPLIED BY the value of i TO squares
            INCREMENT i BY one
        END WHILE
        FOR i FROM one TO n
            FOR each square IN squares
                IF i IS LESS THAN square
                    BREAK the inner loop
                END IF
                SET element at position i of dp TO the lesser value BETWEEN element at position i of dp AND element at position the value of i MINUS square of dp PLUS one
            END FOR
        END FOR
        RETURN element at position n of dp
    END FUNCTION
END CLASS