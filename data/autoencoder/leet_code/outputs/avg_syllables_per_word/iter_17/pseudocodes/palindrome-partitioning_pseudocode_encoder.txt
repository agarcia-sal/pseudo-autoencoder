CLASS Solution
    FUNCTION partition(s)
        FUNCTION is_palindrome(sub)
            RETURN sub EQUALS substring from the last position TO first position WITH step minus one OF sub
        END FUNCTION

        FUNCTION backtrack(start, path)
            IF start EQUALS the LENGTH OF s
                APPEND path TO result
                RETURN
            END IF
            FOR end_index FROM start PLUS one TO the LENGTH OF s PLUS one
                IF is_palindrome(substring from position start TO position end_index MINUS one of s)
                    CALL backtrack WITH parameters end_index AND path PLUS list containing substring from position start TO position end_index MINUS one of s
                END IF
            END FOR
        END FUNCTION

        SET result TO empty list
        CALL backtrack WITH parameters zero AND empty list
        RETURN result
    END FUNCTION
END CLASS