CLASS Solution
    FUNCTION visiblePoints(points, angle, location)
        SET angles TO empty list
        SET extra_points TO zero

        FOR each point IN points
            SET x TO element at position zero of point
            SET y TO element at position one of point
            IF x EQUALS element at position zero of location AND y EQUALS element at position one of location
                INCREMENT extra_points BY one
                CONTINUE TO next iteration of FOR
            END IF
            CALL CalculateAngleDegrees WITH parameters y MINUS element at position one of location AND x MINUS element at position zero of location AND ASSIGN TO angle_deg
            APPEND angle_deg TO angles
        END FOR

        CALL SortList WITH angles AND ASSIGN TO angles

        SET duplicated_angles TO empty list
        FOR each a IN angles
            APPEND a PLUS three hundred sixty TO duplicated_angles
        END FOR
        SET angles TO angles CONCATENATED WITH duplicated_angles

        SET max_visible TO zero
        SET left TO zero

        FOR right FROM zero TO LENGTH OF angles MINUS one
            WHILE element at position right of angles MINUS element at position left of angles GREATER THAN angle
                INCREMENT left BY one
            END WHILE
            SET current_visible TO right MINUS left PLUS one
            IF current_visible GREATER THAN max_visible
                SET max_visible TO current_visible
            END IF
        END FOR

        RETURN max_visible PLUS extra_points
    END FUNCTION

    FUNCTION CalculateAngleDegrees(delta_y, delta_x)
        RETURN the result of converting the arctangent of delta_y DIVIDED BY delta_x TO degrees
    END FUNCTION

    FUNCTION SortList(list_to_sort)
        RETURN the sorted version of list_to_sort
    END FUNCTION
END CLASS