CLASS Solution
    FUNCTION findAllPeople(n, meetings, firstPerson)
        SET know_secret TO a set containing zero and firstPerson
        CALL sort_meetings_by_time WITH meetings
        
        SET i TO zero
        WHILE i LESS THAN the LENGTH OF meetings holds
            SET current_time TO the element at position two of element at position i of meetings
            
            CALL create_graph_for_current_time WITH meetings, current_time, i RETURNING graph AND updated i
            
            CALL spread_secret_bfs WITH graph, know_secret
            
        END WHILE
        
        RETURN the LIST of know_secret
    END FUNCTION

    FUNCTION sort_meetings_by_time(meetings)
        CALL meetings sort WITH key as function returning element at position two of input
    END FUNCTION

    FUNCTION create_graph_for_current_time(meetings, current_time, start_index)
        CALL initialize graph AS a default dictionary of lists
        SET index TO start_index
        WHILE index LESS THAN the LENGTH OF meetings AND the element at position two of element at position index of meetings EQUALS current_time holds
            SET x TO the element at position zero of element at position index of meetings
            SET y TO the element at position one of element at position index of meetings
            
            APPEND y TO the list at key x of graph
            APPEND x TO the list at key y of graph
            
            INCREMENT index BY one
        END WHILE
        
        RETURN graph, index
    END FUNCTION

    FUNCTION spread_secret_bfs(graph, know_secret)
        CALL initialize queue AS a deque containing each person IN know_secret IF person EXISTS AS key IN graph
        CALL initialize visited AS an empty set
        
        WHILE the queue is not empty holds
            CALL dequeue person FROM the left of queue
            IF person EXISTS IN visited THEN
                CONTINUE to next iteration
            END IF
            ADD person TO visited
            ADD person TO know_secret
            FOR each neighbor IN the list at key person of graph
                IF neighbor NOT EXISTS IN visited THEN
                    CALL enqueue neighbor TO the right of queue
                END IF
            END FOR
        END WHILE
    END FUNCTION
END CLASS