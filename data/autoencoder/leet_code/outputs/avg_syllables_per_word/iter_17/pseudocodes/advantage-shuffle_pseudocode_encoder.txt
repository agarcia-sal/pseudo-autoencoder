CLASS Solution
    FUNCTION advantageCount(nums1, nums2)
        CALL nums1 SORT
        SET nums2_with_indices TO CALL CreateValueIndexPairs WITH nums2
        SET sorted_nums2_with_indices TO CALL SortPairsDescending WITH nums2_with_indices
        SET result TO CALL InitializeListWithZeros WITH the LENGTH OF nums1
        SET left TO zero
        SET right TO the LENGTH OF nums1 MINUS one
        FOR each pair IN sorted_nums2_with_indices
            SET value TO element at position one of pair
            SET index TO element at position two of pair
            IF element at position right of nums1 IS GREATER THAN value
                SET element at position index of result TO element at position right of nums1
                DECREMENT right BY one
            ELSE
                SET element at position index of result TO element at position left of nums1
                INCREMENT left BY one
            END IF
        END FOR
        RETURN result
    END FUNCTION
END CLASS