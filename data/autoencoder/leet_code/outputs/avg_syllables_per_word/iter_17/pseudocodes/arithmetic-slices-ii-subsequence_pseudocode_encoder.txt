CLASS Solution
    FUNCTION numberOfArithmeticSlices(nums)
        SET n TO the LENGTH OF nums
        IF n LESS THAN three
            RETURN zero
        END IF

        CALL initialize_dp WITH n TO SET dp

        SET total_count TO zero

        FOR i FROM zero TO n MINUS one
            FOR j FROM zero TO i MINUS one
                CALL calculate_difference WITH element at position i of nums AND element at position j of nums TO SET d

                IF d IS IN element at position j of dp
                    INCREMENT element at position i of dp at key d BY element at position j of dp at key d PLUS one
                    INCREMENT total_count BY element at position j of dp at key d
                ELSE
                    INCREMENT element at position i of dp at key d BY one
                END IF
            END FOR
        END FOR

        RETURN total_count
    END FUNCTION

    FUNCTION initialize_dp(n)
        ABSTRACT FUNCTION TO CREATE a list of n elements each being a new default dictionary of integers
    END FUNCTION

    FUNCTION calculate_difference(value_one, value_two)
        ABSTRACT FUNCTION TO RETURN value_one MINUS value_two
    END FUNCTION
END CLASS