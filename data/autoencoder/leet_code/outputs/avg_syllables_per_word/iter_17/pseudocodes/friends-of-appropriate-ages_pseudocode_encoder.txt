CLASS Solution
    FUNCTION numFriendRequests(list_of_ages)
        FUNCTION request_will_be_sent(age_x, age_y)
            RETURN NOT (age_y LESS THAN OR EQUAL TO half MULTIPLIED BY age_x PLUS seven OR age_y GREATER THAN age_x OR age_y GREATER THAN one hundred AND age_x LESS THAN one hundred)
        END FUNCTION

        SET count TO result of FUNCTION count_ages WITH parameter list_of_ages
        SET total_requests TO zero

        FOR age_x FROM one TO one hundred twenty
            FOR age_y FROM one TO one hundred twenty
                IF request_will_be_sent WITH age_x AND age_y HOLDS
                    INCREMENT total_requests BY element at position age_x of count MULTIPLIED BY (element at position age_y of count MINUS one IF age_x EQUALS age_y ELSE zero)
                END IF
            END FOR
        END FOR

        RETURN total_requests
    END FUNCTION

    FUNCTION count_ages(list_of_ages)
        SET count TO empty list WITH one hundred twenty one zeros
        FOR each age IN list_of_ages
            INCREMENT element at position age of count BY one
        END FOR
        RETURN count
    END FUNCTION
END CLASS