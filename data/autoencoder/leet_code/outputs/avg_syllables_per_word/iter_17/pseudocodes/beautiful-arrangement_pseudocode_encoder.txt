CLASS Solution
    FUNCTION countArrangement(n)
        FUNCTION backtrack(used_list, current_index)
            IF current_index EQUALS n PLUS one THEN
                RETURN one
            END IF
            SET count TO zero
            FOR i FROM one TO n
                IF element at position i of used_list EQUALS False AND 
                   (i MODULO current_index EQUALS zero OR current_index MODULO i EQUALS zero) THEN
                    SET element at position i of used_list TO True
                    INCREMENT count BY CALL backtrack WITH used_list AND current_index PLUS one
                    SET element at position i of used_list TO False
                END IF
            END FOR
            RETURN count
        END FUNCTION

        SET used_list TO auxiliary FUNCTION InitializeBooleanList WITH n PLUS one
        RETURN CALL backtrack WITH used_list AND one
    END FUNCTION
END CLASS