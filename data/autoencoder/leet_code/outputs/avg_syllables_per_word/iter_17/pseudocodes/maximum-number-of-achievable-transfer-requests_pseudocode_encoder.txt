CLASS Solution
    FUNCTION maximumRequests(n, requests)
        SET max_requests TO zero
        SET num_requests TO the LENGTH OF requests
        FOR mask FROM zero TO two RAISED TO THE POWER OF num_requests MINUS one
            SET balance TO a LIST OF zero WITH LENGTH n
            SET count TO zero
            FOR i FROM zero TO num_requests MINUS one
                IF element at position i OF mask BITWISE AND one LEFT SHIFTED BY i IS NOT EQUALS TO zero
                    SET from_building TO element at position zero OF element at position i OF requests
                    SET to_building TO element at position one OF element at position i OF requests
                    DECREMENT element at position from_building OF balance BY one
                    INCREMENT element at position to_building OF balance BY one
                    INCREMENT count BY one
                END IF
            END FOR
            IF all elements IN balance ARE EQUALS TO zero
                IF count IS GREATER THAN max_requests
                    SET max_requests TO count
                END IF
            END IF
        END FOR
        RETURN max_requests
    END FUNCTION
END CLASS