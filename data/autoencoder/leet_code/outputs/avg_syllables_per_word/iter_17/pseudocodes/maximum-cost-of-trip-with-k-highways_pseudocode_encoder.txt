CLASS Solution
    FUNCTION maximumCost(n, highways, k)
        FUNCTION dfs(city, visited, cost, highways_used)
            IF highways_used EQUALS k
                SET max_cost TO THE GREATER OF max_cost AND cost
                RETURN
            END IF
            
            FOR each pair_of_neighbor_and_toll IN element at position city of graph
                SET neighbor TO element at position zero of pair_of_neighbor_and_toll
                SET toll TO element at position one of pair_of_neighbor_and_toll
                IF neighbor IS NOT IN visited
                    ADD neighbor TO visited
                    CALL dfs WITH parameters neighbor, visited, cost PLUS toll, highways_used PLUS one
                    REMOVE neighbor FROM visited
                END IF
            END FOR
        END FUNCTION
        
        SET graph TO CALL CreateDefaultDictionaryWithEmptyList
        FOR each triple_of_city1_city2_and_toll IN highways
            SET city1 TO element at position zero of triple_of_city1_city2_and_toll
            SET city2 TO element at position one of triple_of_city1_city2_and_toll
            SET toll TO element at position two of triple_of_city1_city2_and_toll
            APPEND pair of city2 AND toll TO element at position city1 of graph
            APPEND pair of city1 AND toll TO element at position city2 of graph
        END FOR
        
        SET max_cost TO negative one
        FOR start_city FROM zero TO n MINUS one
            SET visited TO CALL CreateSetWithElement start_city
            CALL dfs WITH parameters start_city, visited, zero, zero
        END FOR
        RETURN max_cost
    END FUNCTION
END CLASS