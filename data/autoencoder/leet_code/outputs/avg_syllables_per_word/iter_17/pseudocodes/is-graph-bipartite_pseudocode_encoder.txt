CLASS Solution
    FUNCTION isBipartite(graph)
        SET number_of_nodes TO the LENGTH OF graph
        SET color_list TO a list of zero REPEATED number_of_nodes TIMES

        FUNCTION dfs(node, color_value)
            SET element at position node of color_list TO color_value
            FOR each neighbor IN element at position node of graph
                IF element at position neighbor of color_list EQUALS color_value
                    RETURN False
                END IF
                IF element at position neighbor of color_list EQUALS zero
                    IF NOT CALL dfs WITH parameters neighbor AND negative color_value
                        RETURN False
                    END IF
                END IF
            END FOR
            RETURN True
        END FUNCTION

        FOR index FROM zero TO number_of_nodes MINUS one
            IF element at position index of color_list EQUALS zero
                IF NOT CALL dfs WITH parameters index AND one
                    RETURN False
                END IF
            END IF
        END FOR

        RETURN True
    END FUNCTION
END CLASS