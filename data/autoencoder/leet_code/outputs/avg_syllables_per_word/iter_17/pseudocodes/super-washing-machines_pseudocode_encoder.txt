CLASS Solution
    FUNCTION findMinMoves(machines)
        SET total_dresses TO the SUM OF all elements IN machines
        SET n TO the LENGTH OF machines
        
        IF total_dresses MODULO n IS NOT EQUALS TO zero
            RETURN negative one
        END IF
        
        SET target TO total_dresses DIVIDED BY n
        SET left_sum TO zero
        SET max_moves TO zero
        
        FOR index FROM zero TO n MINUS one
            SET left_excess TO left_sum MINUS target MULTIPLIED BY index
            SET right_excess TO total_dresses MINUS left_sum MINUS element at position index of machines MINUS target MULTIPLIED BY n MINUS index MINUS one
            
            SET current_moves TO the MAXIMUM OF the ABSOLUTE VALUE OF left_excess AND the ABSOLUTE VALUE OF right_excess AND element at position index of machines MINUS target
            SET max_moves TO the MAXIMUM OF max_moves AND current_moves
            
            INCREMENT left_sum BY element at position index of machines
        END FOR
        
        RETURN max_moves
    END FUNCTION
END CLASS