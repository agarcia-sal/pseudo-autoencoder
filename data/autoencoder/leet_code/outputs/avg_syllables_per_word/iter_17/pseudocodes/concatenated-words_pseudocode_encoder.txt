CLASS Trie
    FUNCTION __init__()
        SET children TO a list of None repeated twenty six times
        SET is_end TO False
    END FUNCTION

    FUNCTION insert(w)
        ASSIGN node TO self
        FOR each character IN w
            SET idx TO the Unicode code point of character MINUS the Unicode code point of letter a
            IF element at position idx of node children IS None
                SET element at position idx of node children TO a new Trie object
            END IF
            ASSIGN node TO element at position idx of node children
        END FOR
        SET node is_end TO True
    END FUNCTION
END CLASS

CLASS Solution
    FUNCTION findAllConcatenatedWordsInADict(words)
        FUNCTION dfs(w, start)
            IF start EQUALS the LENGTH OF w
                RETURN True
            END IF
            ASSIGN node TO trie
            FOR i FROM start TO the LENGTH OF w MINUS one
                SET idx TO the Unicode code point of element at position i of w MINUS the Unicode code point of letter a
                IF element at position idx of node children IS None
                    RETURN False
                END IF
                ASSIGN node TO element at position idx of node children
                IF node is_end IS True AND CALL dfs WITH parameters w AND i PLUS one
                    RETURN True
                END IF
            END FOR
            RETURN False
        END FUNCTION

        ASSIGN trie TO a new Trie object
        SET ans TO an empty list
        SORT words by the LENGTH OF each element in ascending order
        FOR each w IN words
            IF w is not empty
                IF CALL dfs WITH parameters w AND zero
                    APPEND w TO ans
                ELSE
                    CALL insert ON trie WITH parameter w
                END IF
            END IF
        END FOR
        RETURN ans
    END FUNCTION
END CLASS