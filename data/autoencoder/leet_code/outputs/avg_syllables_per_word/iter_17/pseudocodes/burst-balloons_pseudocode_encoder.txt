CLASS Solution
    FUNCTION maxCoins(nums)
        SET nums TO concatenate one PLUS nums PLUS one
        SET n TO the LENGTH OF nums
        SET dp TO CALL CreateTwoDimensionalList WITH parameters zero AND n
        FOR length FROM two TO n MINUS one
            FOR i FROM zero TO n MINUS length MINUS one
                SET j TO i PLUS length
                FOR k FROM i PLUS one TO j MINUS one
                    SET coins TO element at position i of nums MULTIPLIED BY element at position k of nums MULTIPLIED BY element at position j of nums PLUS element at position i of dp AT position k PLUS element at position k of dp AT position j
                    SET element at position i of dp AT position j TO the MAXIMUM OF element at position i of dp AT position j AND coins
                END FOR
            END FOR
        END FOR
        RETURN element at position zero of dp AT position n MINUS one
    END FUNCTION
END CLASS