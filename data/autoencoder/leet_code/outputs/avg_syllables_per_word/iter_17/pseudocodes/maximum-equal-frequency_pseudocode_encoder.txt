CLASS Solution
    FUNCTION maxEqualFreq(list_of_numbers)
        SET count TO CALL Counter WITH no parameters
        SET freq TO CALL Counter WITH no parameters
        SET max_len TO zero

        FOR each index, number IN the ENUMERATED list_of_numbers
            INCREMENT the element at position number of count BY one

            IF the element at position number of count IS GREATER THAN one
                DECREMENT the element at position count at number MINUS one of freq BY one
                IF the element at position count at number MINUS one of freq EQUALS zero
                    CALL REMOVE element at position count at number MINUS one FROM freq
                END IF
            END IF

            INCREMENT the element at position count at number of freq BY one

            IF the LENGTH OF freq EQUALS one AND (one IS IN freq OR the element at position zero of the list conversion of the VALUES OF freq EQUALS one)
                SET max_len TO index PLUS one
            ELSE IF the LENGTH OF freq EQUALS two AND ((one IS IN freq AND the element at position one of freq EQUALS one) OR (the MAXIMUM KEY OF freq MINUS the MINIMUM KEY OF freq EQUALS one AND the element at position the MAXIMUM KEY OF freq of freq EQUALS one))
                SET max_len TO index PLUS one
            END IF
        END FOR

        RETURN max_len
    END FUNCTION
END CLASS