CLASS Solution
    FUNCTION minTaps(n, ranges)
        CALL initialize_max_range WITH n, RETURNING max_range
        FOR index FROM zero TO n
            IF element at position index of ranges IS GREATER THAN zero
                SET left TO the MAXIMUM OF zero AND index MINUS element at position index of ranges
                SET right TO the MINIMUM OF n AND index PLUS element at position index of ranges
                SET element at position left of max_range TO the MAXIMUM OF element at position left of max_range AND right
            END IF
        END FOR
        SET taps TO zero
        SET current_end TO zero
        SET farthest TO zero
        FOR index FROM zero TO n
            IF index IS GREATER THAN farthest
                RETURN negative one
            END IF
            IF index IS GREATER THAN current_end
                INCREMENT taps BY one
                SET current_end TO farthest
            END IF
            SET farthest TO the MAXIMUM OF farthest AND element at position index of max_range
        END FOR
        RETURN taps
    END FUNCTION

    FUNCTION initialize_max_range WITH n
        CREATE max_range AS list with n PLUS one elements each set TO zero
        RETURN max_range
    END FUNCTION
END CLASS