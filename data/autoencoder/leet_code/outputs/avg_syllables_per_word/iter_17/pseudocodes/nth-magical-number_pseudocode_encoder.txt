CLASS Solution
    FUNCTION nthMagicalNumber(n_integer, a_integer, b_integer)
        SET MODULO_CONSTANT TO one billion PLUS seven
        
        FUNCTION gcd(x_integer, y_integer)
            WHILE y_integer IS NOT zero
                SET temporary TO y_integer
                SET y_integer TO x_integer MODULO y_integer
                SET x_integer TO temporary
            END WHILE
            RETURN x_integer
        END FUNCTION
        
        FUNCTION lcm(x_integer, y_integer)
            RETURN x_integer MULTIPLIED BY y_integer DIVIDED BY CALL gcd WITH x_integer AND y_integer
        END FUNCTION
        
        SET LCM_VALUE TO CALL lcm WITH a_integer AND b_integer
        
        SET left_bound TO one
        SET right_bound TO n_integer MULTIPLIED BY THE MINIMUM OF a_integer AND b_integer
        
        WHILE left_bound IS LESS THAN right_bound
            SET middle_point TO (left_bound PLUS right_bound) DIVIDED BY two
            SET count_of_magical_numbers TO middle_point DIVIDED BY a_integer PLUS middle_point DIVIDED BY b_integer MINUS middle_point DIVIDED BY LCM_VALUE
            
            IF count_of_magical_numbers IS LESS THAN n_integer
                SET left_bound TO middle_point PLUS one
            ELSE
                SET right_bound TO middle_point
            END IF
        END WHILE
        
        RETURN left_bound MODULO MODULO_CONSTANT
    END FUNCTION
END CLASS