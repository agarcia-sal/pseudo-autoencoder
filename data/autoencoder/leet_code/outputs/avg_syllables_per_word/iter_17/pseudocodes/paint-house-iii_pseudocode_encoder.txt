CLASS Solution
    FUNCTION minCost(houses, cost, m, n, target)
        FUNCTION dp(i, prev_color, groups)
            IF i EQUALS m THEN
                IF groups EQUALS target THEN
                    RETURN zero
                ELSE
                    RETURN positive infinity
                END IF
            END IF

            IF element at position i of houses NOT EQUALS zero THEN
                SET new_groups TO groups PLUS one IF element at position i of houses NOT EQUALS prev_color OTHERWISE zero
                RETURN CALL dp WITH parameters i PLUS one, element at position i of houses, new_groups
            END IF

            SET min_cost TO positive infinity
            FOR color FROM one TO n
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color OTHERWISE zero
                SET candidate_cost TO element at position i of element at position color MINUS one of cost PLUS CALL dp WITH parameters i PLUS one, color, new_groups
                SET min_cost TO minimum OF min_cost AND candidate_cost
            END FOR

            RETURN min_cost
        END FUNCTION

        SET result TO CALL dp WITH parameters zero, zero, zero
        IF result NOT EQUALS positive infinity THEN
            RETURN result
        ELSE
            RETURN negative one
        END IF
    END FUNCTION
END CLASS