CLASS Solution
    FUNCTION maxPoints(points)
        FUNCTION slope(p1, p2)
            IF element at position zero of p1 EQUALS element at position zero of p2
                RETURN infinity
            END IF
            RETURN the DIFFERENCE BETWEEN element at position one of p1 AND element at position one of p2 DIVIDED BY the DIFFERENCE BETWEEN element at position zero of p1 AND element at position zero of p2
        END FUNCTION

        SET max_points TO zero
        FOR index_i FROM zero TO the LENGTH OF points MINUS one
            SET slopes TO CALL defaultdict WITH integer DEFAULT
            FOR index_j FROM zero TO the LENGTH OF points MINUS one
                IF index_i NOT EQUALS index_j
                    SET s TO CALL slope WITH element at position index_i of points AND element at position index_j of points
                    INCREMENT element at key s in slopes BY one
                    SET max_points TO the GREATER OF max_points AND element at key s in slopes
                END IF
            END FOR
        END FOR
        IF the LENGTH OF points GREATER THAN zero
            RETURN max_points PLUS one
        ELSE
            RETURN zero
        END IF
    END FUNCTION
END CLASS