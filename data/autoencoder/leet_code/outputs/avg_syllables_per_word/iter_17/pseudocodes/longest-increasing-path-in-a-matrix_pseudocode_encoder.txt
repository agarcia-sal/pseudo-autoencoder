CLASS Solution
    FUNCTION longestIncreasingPath(matrix)
        IF matrix IS EMPTY OR element at position zero of matrix IS EMPTY
            RETURN zero
        END IF
        SET m TO the LENGTH OF matrix
        SET n TO the LENGTH OF element at position zero of matrix
        SET directions TO a list containing tuple one zero, tuple negative one zero, tuple zero one, tuple zero negative one
        SET dp TO a list of lists with m elements each containing n elements set TO negative one

        FUNCTION dfs(x, y)
            IF element at position x of dp at position y IS NOT EQUAL TO negative one
                RETURN element at position x of dp at position y
            END IF
            SET max_length TO one
            FOR each tuple dx, dy IN directions
                SET nx TO x PLUS dx
                SET ny TO y PLUS dy
                IF nx IS GREATER THAN OR EQUAL TO zero AND nx IS LESS THAN m AND ny IS GREATER THAN OR EQUAL TO zero AND ny IS LESS THAN n AND element at position nx of matrix at position ny IS GREATER THAN element at position x of matrix at position y
                    SET max_length TO the GREATER OF max_length AND one PLUS CALL dfs WITH parameters nx, ny
                END IF
            END FOR
            SET element at position x of dp at position y TO max_length
            RETURN max_length
        END FUNCTION

        SET longest_path TO zero
        FOR i FROM zero TO m MINUS one
            FOR j FROM zero TO n MINUS one
                SET longest_path TO the GREATER OF longest_path AND CALL dfs WITH parameters i, j
            END FOR
        END FOR
        RETURN longest_path
    END FUNCTION
END CLASS