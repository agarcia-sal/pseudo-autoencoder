CLASS Solution
    FUNCTION validTree(number_of_nodes, list_of_edges)
        IF the LENGTH OF list_of_edges NOT EQUALS number_of_nodes MINUS one
            RETURN false
        END IF

        SET adjacency_list TO the RESULT OF create_adjacency_list WITH number_of_nodes AND list_of_edges
        SET visited_nodes TO an EMPTY SET

        FUNCTION dfs(current_node)
            IF current_node IS IN visited_nodes
                RETURN
            END IF
            APPEND current_node TO visited_nodes
            FOR each neighbor IN element at position current_node OF adjacency_list
                CALL dfs WITH neighbor
            END FOR
        END FUNCTION

        CALL dfs WITH zero
        RETURN the LENGTH OF visited_nodes EQUALS number_of_nodes
    END FUNCTION

    FUNCTION create_adjacency_list(number_of_nodes, list_of_edges)
        SET adjacency_list TO an EMPTY MAP FROM integer TO list
        FOR index FROM zero TO number_of_nodes MINUS one
            SET element at position index OF adjacency_list TO an EMPTY LIST
        END FOR
        FOR each pair_of_nodes IN list_of_edges
            SET node_a TO element at position zero OF pair_of_nodes
            SET node_b TO element at position one OF pair_of_nodes
            APPEND node_b TO element at position node_a OF adjacency_list
            APPEND node_a TO element at position node_b OF adjacency_list
        END FOR
        RETURN adjacency_list
    END FUNCTION
END CLASS