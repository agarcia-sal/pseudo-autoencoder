CLASS Solution
    FUNCTION numberOfPatterns(m, n)
        SET jumps TO a MAPPING FROM PAIR OF number TO number CONTAINING
            PAIR one AND three MAPPED TO two
            PAIR one AND seven MAPPED TO four
            PAIR one AND nine MAPPED TO five
            PAIR two AND eight MAPPED TO five
            PAIR three AND one MAPPED TO two
            PAIR three AND seven MAPPED TO five
            PAIR three AND nine MAPPED TO six
            PAIR four AND six MAPPED TO five
            PAIR five AND five MAPPED TO five
            PAIR six AND four MAPPED TO five
            PAIR seven AND one MAPPED TO four
            PAIR seven AND three MAPPED TO five
            PAIR seven AND nine MAPPED TO eight
            PAIR eight AND two MAPPED TO five
            PAIR nine AND one MAPPED TO five
            PAIR nine AND three MAPPED TO six
            PAIR nine AND seven MAPPED TO eight
        
        FUNCTION countPatternsFromDot(current, visited, length)
            IF length EQUALS n
                RETURN one
            END IF
            SET count TO one IF length IS GREATER THAN OR EQUAL TO m OTHERWISE zero
            FOR next_dot FROM one TO nine
                IF element at position next_dot of visited IS false
                    SET jump TO element at key PAIR current AND next_dot OF jumps
                    IF jump IS NOT PRESENT OR element at position jump of visited IS true
                        SET element at position next_dot of visited TO true
                        INCREMENT count BY CALL countPatternsFromDot WITH current AS next_dot parameters visited AND length PLUS one
                        SET element at position next_dot of visited TO false
                    END IF
                END IF
            END FOR
            RETURN count
        END FUNCTION
        
        INITIALIZE visited AS LIST OF boolean values all false WITH length ten
        SET result TO zero
        FOR i FROM one TO nine
            SET element at position i of visited TO true
            INCREMENT result BY CALL countPatternsFromDot WITH current AS i parameters visited AND one
            SET element at position i of visited TO false
        END FOR
        
        RETURN result
    END FUNCTION
END CLASS