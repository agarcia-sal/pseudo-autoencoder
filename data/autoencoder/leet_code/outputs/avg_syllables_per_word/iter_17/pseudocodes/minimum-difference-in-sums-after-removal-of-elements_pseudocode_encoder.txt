CLASS Solution
    FUNCTION minimumDifference(nums)
        SET n TO the LENGTH OF nums DIVIDED BY three

        SET min_heap TO an empty list
        SET min_sums TO a list of zero repeated TWO TIMES n PLUS one TIMES

        FOR index FROM zero TO TWO TIMES n MINUS one
            CALL heap push WITH min_heap AND the NEGATIVE OF element at position index of nums
            IF the LENGTH OF min_heap GREATER THAN n
                CALL heap pop WITH min_heap
            END IF
            IF the LENGTH OF min_heap EQUALS n
                SET element at position index of min_sums TO the NEGATIVE OF the SUM OF min_heap
            END IF
        END FOR

        SET max_heap TO an empty list
        SET max_sums TO a list of zero repeated TWO TIMES n PLUS one TIMES

        FOR index FROM THREE TIMES n MINUS one DOWN TO n
            CALL heap push WITH max_heap AND element at position index of nums
            IF the LENGTH OF max_heap GREATER THAN n
                CALL heap pop WITH max_heap
            END IF
            IF the LENGTH OF max_heap EQUALS n
                SET element at position index of max_sums TO the SUM OF max_heap
            END IF
        END FOR

        SET min_diff TO positive infinity

        FOR index FROM n MINUS one TO TWO Times n MINUS one
            SET min_diff TO the MINIMUM OF min_diff AND element at position index of min_sums MINUS element at position index PLUS one of max_sums
        END FOR

        RETURN min_diff
    END FUNCTION
END CLASS