CLASS Solution  
    FUNCTION findDerangement(n)  
        SET MODULO TO ten RAISED TO THE POWER OF nine PLUS seven  
        
        IF n EQUALS one  
            RETURN zero  
        END IF  
        
        IF n EQUALS two  
            RETURN one  
        END IF  
        
        SET previous_twice TO one  
        SET previous_once TO zero  
        
        FOR integer i FROM three TO n  
            SET current_value TO integer i MINUS one MULTIPLIED BY the SUM OF previous_once AND previous_twice  
            SET current_value TO current_value MODULO MODULO  
            SET previous_twice TO previous_once  
            SET previous_once TO current_value  
        END FOR  
        
        RETURN previous_once  
    END FUNCTION  
END CLASS