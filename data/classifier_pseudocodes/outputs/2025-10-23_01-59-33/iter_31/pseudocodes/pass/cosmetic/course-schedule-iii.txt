CLASS Solution
    FUNCTION scheduleCourse(courses)
        SORT courses BY course[1] IN ascending order
        INITIALIZE priority_queue AS an empty list
        SET accumulated_days TO 0
        
        INDEX idx = 0
        WHILE idx < LENGTH(courses) DO
            SET curr_course TO courses[idx]
            SET curr_duration TO curr_course[0]
            SET deadline TO curr_course[1]

            IF accumulated_days + curr_duration <= deadline THEN
                ADD -curr_duration INTO priority_queue USING heap push
                accumulated_days ← accumulated_days + curr_duration
            ELSE
                IF NOT (LENGTH(priority_queue) = 0) AND (-priority_queue[0]) > curr_duration THEN
                    accumulated_days ← accumulated_days + curr_duration + heap pop FROM priority_queue
                    ADD -curr_duration INTO priority_queue USING heap push
                END IF
            END IF

            idx ← idx + 1
        END WHILE

        RETURN LENGTH(priority_queue)
    END FUNCTION
END CLASS