CLASS Solution  
    FUNCTION frequencySort WITH PARAMETER s  
        DECLARE freqMap AS mapping from character to integer  
        FOR index FROM 0 TO LENGTH(s) - 1 DO  
            SET currentChar TO s[index]  
            IF freqMap DOES NOT CONTAIN currentChar THEN  
                SET freqMap[currentChar] AS 1  
            ELSE  
                SET freqMap[currentChar] TO freqMap[currentChar] + 1  
            END IF  
        END FOR  

        DECLARE charList AS list of characters  
        SET charList TO KEYS OF freqMap  

        DECLARE descSortedChars AS list of characters  
        SET descSortedChars TO SORT charList BY (a, b) → (freqMap[b] - freqMap[a])  

        SET outputString TO EMPTY STRING  
        DECLARE iterator AS integer ← 0  
        WHILE iterator < LENGTH(descSortedChars) DO  
            DECLARE ch AS character ← descSortedChars[iterator]  
            DECLARE count AS integer ← freqMap[ch]  
            DECLARE tempString AS string ← EMPTY STRING  
            FOR repeatIndex FROM 1 TO count DO  
                SET tempString ← tempString + ch  
            END FOR  
            SET outputString ← outputString + tempString  
            SET iterator ← iterator + 1  
        END WHILE  

        RETURN outputString  
    END FUNCTION  
END CLASS