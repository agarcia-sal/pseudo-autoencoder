CLASS Solution
    FUNCTION solveEquation(equation)
        FUNCTION parse_side(side)
            SET delimiter TO '#'
            SET modified_side TO side
            SET modified_side TO REPLACE all occurrences of '+' in modified_side WITH delimiter concatenated with '+'
            SET modified_side TO REPLACE all occurrences of '-' in modified_side WITH delimiter concatenated with '-'
            SET tokens_list TO SPLIT modified_side BY delimiter

            SET coefficient_x TO 0
            SET total_number TO 0

            SET position TO 0
            WHILE position < LENGTH(tokens_list)
                SET element TO tokens_list[position]
                IF element = '' THEN
                    SET position TO position + 1
                    CONTINUE
                END IF

                SET contains_x TO FALSE
                SET char_index TO 0
                WHILE char_index < LENGTH(element)
                    IF element[char_index] = 'x' THEN
                        SET contains_x TO TRUE
                        BREAK
                    END IF
                    SET char_index TO char_index + 1
                END WHILE

                IF contains_x THEN
                    SWITCH element
                        CASE 'x':
                            SET coefficient_x TO coefficient_x + 1
                        CASE '+x':
                            SET coefficient_x TO coefficient_x + 1
                        CASE '-x':
                            SET coefficient_x TO coefficient_x - 1
                        DEFAULT:
                            SET extracted_number TO SUBSTRING(element, 0, LENGTH(element) - 1)
                            SET coefficient_x TO coefficient_x + TO_INTEGER(extracted_number)
                    END SWITCH
                ELSE
                    SET total_number TO total_number + TO_INTEGER(element)
                END IF

                SET position TO position + 1
            END WHILE

            RETURN coefficient_x, total_number
        END FUNCTION

        SET parts TO SPLIT(equation, '=')
        SET left_part TO parts[0]
        SET right_part TO parts[1]

        SET left_coefficient, left_sum TO parse_side(left_part)
        SET right_coefficient, right_sum TO parse_side(right_part)

        SET net_coefficient TO left_coefficient - right_coefficient
        SET net_sum TO right_sum - left_sum

        IF NOT (net_coefficient <> 0) THEN
            IF NOT (net_sum <> 0) THEN
                RETURN "Infinite solutions"
            ELSE
                RETURN "No solution"
            END IF
        ELSE
            RETURN CONCAT("x=", TO_STRING(net_sum DIV net_coefficient))
        END IF
    END FUNCTION
END CLASS