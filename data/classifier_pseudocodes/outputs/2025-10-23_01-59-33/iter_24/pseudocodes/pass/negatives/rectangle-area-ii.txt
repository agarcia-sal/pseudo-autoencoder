CLASS Solution
    FUNCTION rectangleArea(rectangles)
        SET MOD TO one billion PLUS seven

        SET y_coords TO an empty set
        FOR each rectangle IN rectangles
            DESTRUCTURE rectangle INTO x1 y1 x2 y2
            ADD y1 TO y_coords
            ADD y2 TO y_coords
        END FOR

        SET y_coords TO sorted list of y_coords
        SET y_index TO CALL CreateIndexMapping WITH y_coords
        SET count TO CALL InitializeCountList WITH the LENGTH OF y_coords

        SET events TO an empty list
        FOR each rectangle IN rectangles
            DESTRUCTURE rectangle INTO x1 y1 x2 y2
            APPEND tuple of x1 one y1 y2 TO events
            APPEND tuple of x2 negative one y1 y2 TO events
        END FOR

        CALL SortList WITH events

        SET prev_x TO zero
        SET area TO zero

        FOR each event IN events
            DESTRUCTURE event INTO x eventType y1 y2

            SET current_length TO zero
            FOR i FROM one TO the LENGTH OF count MINUS one
                IF element at position i MINUS one of count IS GREATER THAN zero
                    INCREMENT current_length BY element at position i of y_coords MINUS element at position i MINUS one of y_coords
                END IF
            END FOR

            INCREMENT area BY current_length MULTIPLIED BY x MINUS prev_x
            SET area TO area MODULO MOD

            IF eventType EQUALS one
                FOR i FROM element at position y1 of y_index TO element at position y2 MINUS one of y_index
                    INCREMENT element at position i of count BY one
                END FOR
            ELSE
                FOR i FROM element at position y1 of y_index TO element at position y2 MINUS one of y_index
                    DECREMENT element at position i of count BY one
                END FOR
            END IF

            SET prev_x TO x
        END FOR

        RETURN area
    END FUNCTION

    FUNCTION CreateIndexMapping(list_of_values)
        // Helper FUNCTION to create mapping from value to index
    END FUNCTION

    FUNCTION InitializeCountList(length_of_list)
        // Helper FUNCTION to initialize list of zeroes for counts
    END FUNCTION
END CLASS