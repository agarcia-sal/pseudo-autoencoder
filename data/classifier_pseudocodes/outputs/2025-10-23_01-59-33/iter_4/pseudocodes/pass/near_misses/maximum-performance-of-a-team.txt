CLASS Solution  
    FUNCTION maxPerformance(n speed efficiency k)  
        SET combined TO empty list  
        SET idx TO 0  
        WHILE idx LESS THAN n DO  
            SET pair TO (efficiency[idx], speed[idx])  
            APPEND pair TO combined  
            SET idx TO idx + 1  
        END WHILE  

        CALL combined.SORT with comparator (a, b) â†’ a[0] > b[0]  

        SET heap_speeds TO empty list  
        SET total_speed TO 0  
        SET best_perf TO 0  

        SET pos TO 0  
        WHILE pos NOT EQUAL TO LENGTH of combined DO  
            SET current_eff TO combined[pos][0]  
            SET current_speed TO combined[pos][1]  
            CALL heap_speeds.INSERT_HEAP(current_speed)  
            SET total_speed TO total_speed + current_speed  

            IF LENGTH of heap_speeds GREATER THAN k THEN  
                SET removed TO CALL heap_speeds.REMOVE_MIN_HEAP()  
                SET total_speed TO total_speed - removed  
            END IF  

            SET current_perf TO total_speed * current_eff  
            IF best_perf < current_perf THEN  
                SET best_perf TO current_perf  
            END IF  
            SET pos TO pos + 1  
        END WHILE  

        RETURN best_perf MODULO (10 ^ 9 + 1)  
    END FUNCTION  
END CLASS