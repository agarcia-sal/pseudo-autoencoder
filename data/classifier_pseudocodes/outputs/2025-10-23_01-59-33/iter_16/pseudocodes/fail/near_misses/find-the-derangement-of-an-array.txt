CLASS Solution  
    FUNCTION findDerangement(n)  
        DEFINE modulus = 10^9 + 7  
        
        FUNCTION calc(k, val1, val2)  
            IF k > n THEN  
                RETURN val2  
            ELSE  
                SET temp = (k - 1) * (val1 + val2)  
                SET temp = temp MOD modulus  
                RETURN calc(k + 1, val2, temp)  
            END IF  
        END FUNCTION  
        
        IF n == 1 THEN  
            RETURN 0  
        END IF  
        
        IF n == 2 THEN  
            RETURN 1  
        END IF  
        
        RETURN calc(3, 0, 1)  
    END FUNCTION  
END CLASS