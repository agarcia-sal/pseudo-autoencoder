```
set MOD = 10^9+7
init dp[n+1][2][3] = 0
dp[0][0][0] = 1

for i in 1 to n:
  for j in 0 to 1:
    for k in 0 to 2:
      dp[i][j][0] += dp[i-1][j][k] mod MOD           # add 'P'
      if j == 0: dp[i][1][0] += dp[i-1][0][k] mod MOD # add 'A' if none used
      if k < 2: dp[i][j][k+1] += dp[i-1][j][k] mod MOD # add 'L' if < 2 trailing

return sum(dp[n][j][k] for j in 0..1, k in 0..2) mod MOD
```