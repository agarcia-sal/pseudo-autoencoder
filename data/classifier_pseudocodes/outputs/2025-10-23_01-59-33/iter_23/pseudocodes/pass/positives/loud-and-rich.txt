CLASS Solution  
    FUNCTION loudAndRich(richer, quiet)  
        SET graph TO a new default dictionary with list as the default value type  
        FOR each pair of elements named a and b IN the collection richer  
            APPEND element a TO the list associated with key b in graph  
        END FOR  
        
        SET n TO the length of the collection quiet  
        SET answer TO a list of length n filled with minus one values  
        
        FUNCTION dfs(person)  
            IF the element at position person of answer EQUALS minus one THEN  
                SET the element at position person of answer TO person  
                FOR each element neighbor IN the list at key person of graph  
                    SET candidate TO the result of calling dfs with argument neighbor  
                    IF the element at position candidate of quiet LESS THAN the element at position of answer at person of quiet THEN  
                        SET the element at position person of answer TO candidate  
                    END IF  
                END FOR  
            END IF  
            RETURN the element at position person of answer  
        END FUNCTION  
        
        FOR index i FROM zero TO n MINUS one  
            CALL dfs with argument i  
        END FOR  
        
        RETURN answer  
    END FUNCTION  
END CLASS