CLASS Solution  
    FUNCTION secondMinimum(n  
                            edges  
                            time  
                            change)  
        SET adjacencyList AS empty lists for every integer idx IN RANGE 0 TO n INCLUSIVE  
        FOR EACH edgePair IN edges  
            LET x, y BE unwrapped FROM edgePair  
            INSERT y INTO adjacencyList AT position x  
            INSERT x INTO adjacencyList AT position y  
        END FOR  
        
        CREATE deque WITH element (1, 0, 0) AS (node, elapsed, visits)  
        DEFINE times AS list WITH (infinity, infinity) FOR EACH index FROM 0 TO n  
        ASSIGN 0 TO times[1][0]  
        
        WHILE NOT deque IS EMPTY  
            EXTRACT deque's front ELEMENT INTO currentNode, elapsedTime, visitCount  
            
            IF currentNode IS n THEN  
                IF visitCount IS 1 THEN RETURN elapsedTime END IF  
            END IF  
            
            LET phase BE (elapsedTime DIV change) MOD 2  
            IF phase IS 0 THEN  
                ASSIGN elapsedTime + time TO nextElapsed  
            ELSE  
                ASSIGN ((elapsedTime DIV change) + 1) * change + time TO nextElapsed  
            END IF  
            
            FOR adjNode IN adjacencyList[currentNode] DO  
                IF times[adjNode][0] > nextElapsed THEN  
                    ASSIGN times[adjNode][1] TO times[adjNode][0]  
                    ASSIGN nextElapsed TO times[adjNode][0]  
                    PUSH BACK (adjNode, nextElapsed, 0) INTO deque  
                ELSE  
                    IF times[adjNode][0] < nextElapsed AND nextElapsed < times[adjNode][1] THEN  
                        ASSIGN nextElapsed TO times[adjNode][1]  
                        PUSH BACK (adjNode, nextElapsed, 1) INTO deque  
                    END IF  
                END IF  
            END FOR  
        END WHILE  
        
        RETURN -1  
    END FUNCTION  
END CLASS