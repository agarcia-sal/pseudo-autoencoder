```
len = length of n
if len = 1: return str(int(n)-1)

cands = {10^len + 1, 10^(len-1) - 1}

pref = int(n[:(len+1)//2])

for i in [-1,0,1]:
    p = str(pref + i)
    if len % 2 = 0: cand = p + reverse(p)
    else: cand = p + reverse(p[:-1])
    cands.add(int(cand))

cands.discard(int(n))

closest = min(cands, key = (abs(x - int(n)), x))
return str(closest)
```