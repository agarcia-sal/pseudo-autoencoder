CLASS Solution  
    FUNCTION parseBoolExpr(expression)  
        SET stk TO empty list  
        FOR each character c IN expression  
            IF c IS one of 't', 'f', '!', '&', '|'  
                APPEND c TO stk  
            ELSE IF c IS ')'  
                SET t TO 0  
                SET f TO 0  
                WHILE top element of stk IS 't' OR 'f'  
                    IF top element of stk IS 't'  
                        INCREMENT t BY 1  
                    ELSE  
                        INCREMENT f BY 1  
                    REMOVE top element from stk  
                SET op TO REMOVE top element from stk  
                IF op IS '!'  
                    SET c TO 't' IF f IS GREATER THAN 0 OTHERWISE 'f'  
                ELSE IF op IS '&'  
                    SET c TO 'f' IF f IS GREATER THAN 0 OTHERWISE 't'  
                ELSE IF op IS '|'  
                    SET c TO 't' IF t IS GREATER THAN 0 OTHERWISE 'f'  
                APPEND c TO stk  
        RETURN top element of stk IS 't'  
    END FUNCTION  
END CLASS