CLASS Solution
    FUNCTION canCross(stones)
        IF (stones IS empty) OR NOT (LENGTH stones GREATER OR EQUAL 2) THEN
            RETURN False
        END IF

        SET positions TO an empty MAP
        FOR EACH s IN stones
            SET positions[s] TO True
        END FOR

        SET cache TO an empty MAP

        FUNCTION checkReachable(current, step)
            IF current IS stones[ LENGTH stones - 1 ] THEN
                RETURN True
            END IF
            SET key_pair TO (current, step)
            IF key_pair EXISTS IN cache THEN
                RETURN cache[key_pair]
            END IF

            FUNCTION attempts(offsetList)
                IF offsetList IS empty THEN
                    RETURN False
                END IF
                LET offset BE offsetList[0]
                LET remainder BE offsetList[1 to END]
                IF (offset > 0) AND ((current + offset) IN positions) THEN
                    IF checkReachable(current + offset, offset) THEN
                        cache[key_pair] = True
                        RETURN True
                    END IF
                END IF
                RETURN attempts(remainder)
            END FUNCTION

            RETURN attempts([step - 1, step, step + 1])
                OR cache.set(key_pair, False); False
        END FUNCTION

        RETURN checkReachable(stones[0], 0)
    END FUNCTION
END CLASS