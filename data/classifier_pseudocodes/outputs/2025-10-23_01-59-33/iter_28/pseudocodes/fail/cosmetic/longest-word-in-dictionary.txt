CLASS Solution  
    FUNCTION longestWord(words)  
        DEFINE index AS 0  
        SORT words USING a comparator THAT prioritizes shorter LENGTH first, THEN lex ORDER ascending  
        INITIALIZE valid_words AS an empty set  
        INITIALIZE longest_word AS empty string ""  
  
        WHILE index < LENGTH(words)  
            LET candidate_word = words[index]  
            LET candidate_length = LENGTH(candidate_word)  
            LET prefix_word = candidate_word[0 : candidate_length - 1]  
  
            IF NOT (candidate_length ≠ 1 OR prefix_word ∈ valid_words) THEN  
                INCREMENT index BY 1  
                CONTINUE  
            END IF  
  
            ADD candidate_word TO valid_words  
  
            IF LENGTH(longest_word) < candidate_length THEN  
                longest_word ← candidate_word  
            END IF  
  
            index ← index + 1  
        END WHILE  
  
        RETURN longest_word  
    END FUNCTION  
END CLASS