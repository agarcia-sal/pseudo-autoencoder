CLASS Solution  
    FUNCTION sumOfFlooredPairs(nums)  
        SET MOD TO ten raised to the power of nine PLUS one  
        SET max_num TO the maximum element in nums  
        SET count TO a mapping from elements in nums to their frequencies  
        SET prefix_sum TO a list of zeroes with length max_num PLUS one  
        
        FOR each num IN count  
            INCREMENT element at position num of prefix_sum BY the frequency of num in count  
        END FOR  
        
        FOR index FROM one TO max_num  
            INCREMENT element at position index of prefix_sum BY element at position index MINUS one of prefix_sum  
        END FOR  
        
        SET result TO zero  
        
        FOR each num IN count  
            FOR multiple FROM one TO the integer division of max_num BY num  
                SET start TO num MULTIPLIED BY multiple  
                IF num MULTIPLIED BY the sum of multiple PLUS one MINUS one LESS THAN OR EQUAL TO max_num  
                    SET end TO num MULTIPLIED BY multiple PLUS one MINUS one  
                ELSE  
                    SET end TO max_num  
                END IF  
                SET multiples_count TO element at position end of prefix_sum MINUS element at position start MINUS one of prefix_sum  
                INCREMENT result BY multiples_count MULTIPLIED BY multiple MULTIPLIED BY the frequency of num in count  
                SET result TO result MODULO MOD  
            END FOR  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS