CLASS Solution  
    FUNCTION solveEquation(equation)  
        FUNCTION parse_side(side)  
            SET delimiter TO '#'  
            SET replaced_plus TO side with "+" replaced by delimiter & "+"  
            SET replaced_minus TO replaced_plus with "-" replaced by delimiter & "-"  
            SET segments TO list obtained by splitting replaced_minus at delimiter  
            SET sum_x TO 0  
            SET sum_nums TO 0  
            
            FUNCTION analyze_tokens(index)  
                IF index >= length of segments THEN  
                    RETURN sum_x, sum_nums  
                END IF  
                SET current_token TO segments[index]  
                IF current_token = "" THEN  
                    RETURN analyze_tokens(index + 1)  
                END IF  
                SET contains_x TO (position of "x" in current_token) â‰  -1  
                IF contains_x = TRUE THEN  
                    IF current_token = "x" OR current_token = "+" & "x" THEN  
                        SET sum_x TO sum_x + 1  
                    ELSE IF current_token = "-" & "x" THEN  
                        SET sum_x TO sum_x + (-1)  
                    ELSE  
                        SET numeric_part TO current_token with all "x" removed  
                        SET numeric_value TO convert numeric_part to integer  
                        SET sum_x TO sum_x + numeric_value  
                    END IF  
                ELSE  
                    SET numeric_value TO convert current_token to integer  
                    SET sum_nums TO sum_nums + numeric_value  
                END IF  
                RETURN analyze_tokens(index + 1)  
            END FUNCTION  
            
            RETURN analyze_tokens(0)  
        END FUNCTION  
        
        SET sides TO list obtained by splitting equation at "="  
        SET left_side TO sides[0]  
        SET right_side TO sides[1]  
        
        SET left_x, left_num TO parse_side(left_side)  
        SET right_x, right_num TO parse_side(right_side)  
        
        SET coeff_x TO left_x + (-1 * right_x)  
        SET const_val TO right_num + (-1 * left_num)  
        
        IF coeff_x = 0 THEN  
            IF const_val = 0 THEN  
                RETURN "Infinite solutions"  
            ELSE  
                RETURN "No solution"  
            END IF  
        ELSE  
            SET solution_value TO const_val / coeff_x  
            SET solution_int TO integer part of solution_value  
            RETURN "x=" & solution_int  
        END IF  
    END FUNCTION  
END CLASS