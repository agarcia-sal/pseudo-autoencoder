CLASS Solution  
    FUNCTION racecar(target)  
        DECLARE sequence ← new double ended queue containing [(0, 1, 0)]  
        DECLARE visited ← empty set  
        INSERT (0, 1) INTO visited  
        
        LOOP indefinitely  
            IF sequence IS empty THEN BREAK  
            END IF  
            
            POP (current_pos, current_spd, current_steps) FROM the front of sequence  
            
            SWITCH  
                CASE current_pos = target:  
                    RETURN current_steps  
                DEFAULT:  
                    CONTINUE  
            END SWITCH  
            
            SET projected_pos TO current_pos + current_spd  
            SET projected_spd TO current_spd × 2  
            
            IF NOT ((projected_pos, projected_spd) IN visited) AND 0 ≤ projected_pos < (2 × target) THEN  
                INSERT (projected_pos, projected_spd) INTO visited  
                ENQUEUE (projected_pos, projected_spd, current_steps + 1) TO the rear of sequence  
            END IF  
            
            DECLARE alt_spd  
            IF current_spd > 0 THEN  
                alt_spd ← -1  
            ELSE  
                alt_spd ← +1  
            END IF  
            
            IF NOT ((current_pos, alt_spd) IN visited) AND 0 ≤ current_pos < (2 × target) THEN  
                INSERT (current_pos, alt_spd) INTO visited  
                ENQUEUE (current_pos, alt_spd, current_steps + 1) TO the rear of sequence  
            END IF  
        END LOOP  
    END FUNCTION  
END CLASS