CLASS Solution  
    FUNCTION grayCode(n)  
        IF n IS 0 THEN  
            RETURN [0]  
        END IF  
        
        ASSIGN resultList TO grayCode(n - 1)  
        LET bitFlag BE 2 ^ (n - 1) * 1  
        
        DEFINE FUNCTION reverseList(inputList)  
            IF inputList IS EMPTY THEN  
                RETURN []  
            ELSE  
                RETURN reverseList(inputList[1:]) + [inputList[0]]  
            END IF  
        END FUNCTION  
        
        LET reversedResult BE reverseList(resultList)  
        LET extendedList BE []  
        
        FOR each element IN reversedResult DO  
            extendedList = extendedList + [(element BITWISE_OR bitFlag)]  
        END FOR  
        
        RETURN resultList + extendedList  
    END FUNCTION  
END CLASS