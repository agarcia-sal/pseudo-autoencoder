CLASS Solution  
    FUNCTION sumOfDistancesInTree(n parameter, edges parameter)  
        SET graph TO a mapping with default empty list for each key  
        FOR each pair a and b IN edges parameter  
            APPEND element b TO list at key a in graph  
            APPEND element a TO list at key b in graph  
        END FOR  
        
        SET count TO a list of size n parameter with each element set to one  
        SET dist TO a list of size n parameter with each element set to zero  
        
        FUNCTION dfs1(u parameter, p parameter)  
            FOR each element v IN list at key u parameter in graph  
                IF element v NOT EQUALS p parameter THEN  
                    CALL dfs1 WITH arguments v and u parameter  
                    INCREMENT element at position u parameter of count BY element at position v of count  
                    INCREMENT element at position u parameter of dist BY element at position v of dist PLUS element at position v of count  
                END IF  
            END FOR  
        END FUNCTION  
        
        CALL dfs1 WITH arguments zero and minus one  
        
        FUNCTION dfs2(u parameter, p parameter)  
            FOR each element v IN list at key u parameter in graph  
                IF element v NOT EQUALS p parameter THEN  
                    SET element at position v of dist TO element at position u parameter of dist MINUS element at position v of count PLUS n parameter MINUS element at position v of count  
                    CALL dfs2 WITH arguments v and u parameter  
                END IF  
            END FOR  
        END FUNCTION  
        
        CALL dfs2 WITH arguments zero and minus one  
        
        RETURN dist  
    END FUNCTION  
END CLASS