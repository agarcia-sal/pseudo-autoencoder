CLASS Solution  
    FUNCTION stoneGame WITH PARAMETER piles  
        FUNCTION dfs WITH PARAMETERS i j  
            IF i GREATER THAN j THEN  
                RETURN zero  
            END IF  
            RETURN the maximum value BETWEEN element at position i of piles MINUS dfs WITH PARAMETERS i PLUS one AND j AND element at position j of piles MINUS dfs WITH PARAMETERS i AND j MINUS one  
        END FUNCTION  
        RETURN result of dfs WITH PARAMETERS zero AND the LENGTH OF piles MINUS one GREATER THAN zero  
    END FUNCTION  
END CLASS