CLASS Solution  
    FUNCTION maxIncreaseKeepingSkyline(grid)  
        SET n TO the LENGTH OF grid  
        SET row_maxes TO an empty list  
        FOR each row IN grid  
            SET max_value TO the maximum value IN the row  
            APPEND max_value TO row_maxes  
        END FOR  
        SET col_maxes TO an empty list  
        FOR each column AS each element at position index FROM zero TO n MINUS one IN grid  
            SET column_elements TO a list of element at position index FROM each row IN grid  
            SET max_value TO the maximum value IN column_elements  
            APPEND max_value TO col_maxes  
        END FOR  
        SET total_increase TO zero  
        FOR i FROM zero TO n MINUS one  
            FOR j FROM zero TO n MINUS one  
                SET max_height TO the smaller value BETWEEN element at position i OF row_maxes AND element at position j OF col_maxes  
                IF max_height GREATER THAN element at position j OF element at position i OF grid  
                    INCREMENT total_increase BY max_height MINUS element at position j OF element at position i OF grid  
                END IF  
            END FOR  
        END FOR  
        RETURN total_increase  
    END FUNCTION  
END CLASS