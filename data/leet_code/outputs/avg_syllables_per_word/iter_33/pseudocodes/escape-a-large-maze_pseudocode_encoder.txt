CLASS Solution  
    FUNCTION isEscapePossible(blocked, source, target)  
        IF blocked EQUALS an empty collection  
            RETURN True  
        END IF  
        
        SET blocked_set TO an empty set  
        FOR each block IN blocked  
            APPEND an immutable pair constructed from block TO blocked_set  
        END FOR  
        
        SET n TO the LENGTH OF blocked  
        SET max_steps TO n MULTIPLIED BY n MINUS one THEN DIVIDED BY two  
        
        FUNCTION bfs(start, end)  
            SET queue TO a new double ended queue containing an immutable pair constructed from start  
            SET visited TO a new set initialized with the contents of queue  
            
            WHILE queue is not empty  
                SET current_position TO the element removed from the front of queue  
                DESTRUCTURE current_position INTO x and y  
                
                IF the LENGTH OF visited GREATER THAN max_steps OR x EQUALS the element at position zero of end AND y EQUALS the element at position one of end  
                    RETURN True  
                END IF  
                
                FOR each delta_x and delta_y IN the collection of pairs consisting of zero and one zero and negative one one and zero and negative one and zero  
                    SET nx TO x PLUS delta_x  
                    SET ny TO y PLUS delta_y  
                    
                    IF nx GREATER THAN OR EQUAL TO zero AND nx LESS THAN one million AND ny GREATER THAN OR EQUAL TO zero AND ny LESS THAN one million AND an immutable pair constructed from nx and ny NOT IN blocked_set AND an immutable pair constructed from nx and ny NOT IN visited  
                        ADD an immutable pair constructed from nx and ny TO visited  
                        APPEND an immutable pair constructed from nx and ny TO queue  
                    END IF  
                END FOR  
            END WHILE  
            
            RETURN False  
        END FUNCTION  
        
        RETURN the result of calling bfs with source and target AND the result of calling bfs with target and source  
    END FUNCTION  
END CLASS