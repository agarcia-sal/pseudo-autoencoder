CLASS Solution  
    FUNCTION numberOfPatterns(m n)  
        SET jumps TO a collection mapping pairs of start dot and end dot TO an intermediate dot that must be visited when jumping over  
            PAIR start dot one AND end dot three maps TO dot two  
            PAIR start dot one AND end dot seven maps TO dot four  
            PAIR start dot one AND end dot nine maps TO dot five  
            PAIR start dot two AND end dot eight maps TO dot five  
            PAIR start dot three AND end dot one maps TO dot two  
            PAIR start dot three AND end dot seven maps TO dot five  
            PAIR start dot three AND end dot nine maps TO dot six  
            PAIR start dot four AND end dot six maps TO dot five  
            PAIR start dot five AND end dot five maps TO dot five  
            PAIR start dot six AND end dot four maps TO dot five  
            PAIR start dot seven AND end dot one maps TO dot four  
            PAIR start dot seven AND end dot three maps TO dot five  
            PAIR start dot seven AND end dot nine maps TO dot eight  
            PAIR start dot eight AND end dot two maps TO dot five  
            PAIR start dot nine AND end dot one maps TO dot five  
            PAIR start dot nine AND end dot three maps TO dot six  
            PAIR start dot nine AND end dot seven maps TO dot eight  
        
        FUNCTION countPatternsFromDot(current visited length)  
            IF length EQUALS n THEN  
                RETURN one  
            END IF  
            SET count TO one IF length GREATER THAN OR EQUAL TO m OTHERWISE zero  
            FOR each next_dot FROM one TO nine DO  
                IF element at position next_dot of visited IS false THEN  
                    SET jump TO the value mapped by PAIR current AND next_dot in jumps  
                    IF jump IS NOT PRESENT OR element at position jump of visited IS true THEN  
                        SET element at position next_dot of visited TO true  
                        INCREMENT count BY countPatternsFromDot(next_dot visited length PLUS one)  
                        SET element at position next_dot of visited TO false  
                    END IF  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  
        
        SET visited TO a collection of ten elements all set to false  
        SET result TO zero  
        FOR i FROM one TO nine DO  
            SET element at position i of visited TO true  
            INCREMENT result BY countPatternsFromDot(i visited one)  
            SET element at position i of visited TO false  
        END FOR  
        
        RETURN result  
    END FUNCTION  
END CLASS