CLASS Solution  
    FUNCTION maxValue(events parameter AS list of lists of integers, k parameter AS integer) RETURNS integer  
        CALL events TO BE ORDERED BY the end day value of each event  
        SET n TO the length of events  
        SET dp TO a list of n PLUS one elements each containing a list of k PLUS one zeros  
        FOR i FROM one TO n  
            SET start TO the element at position one of the event at position i MINUS one of events  
            SET end TO the element at position two of the event at position i MINUS one of events  
            SET value TO the element at position three of the event at position i MINUS one of events  
            SET j TO the position found by searching in events for the earliest event whose end day is GREATER THAN OR EQUAL TO start  
            FOR l FROM one TO k  
                SET dp at position i at position l TO the maximum of dp at position i MINUS one at position l AND dp at position j at position l MINUS one PLUS value  
            END FOR  
        END FOR  
        RETURN the element at position n at position k of dp  
    END FUNCTION  
END CLASS