CLASS Solution  
    FUNCTION numDecodings(s)  
        SET MOD TO ten MULTIPLIED BY ten MULTIPLIED BY ten MULTIPLIED BY million PLUS seven  
        SET dp TO a list of zeroes with the length EQUAL TO the LENGTH OF s PLUS one  
        SET the element at position zero of dp TO one

        FUNCTION ways_to_decode_single(char)  
            IF char EQUALS the character star THEN  
                RETURN nine  
            ELSE IF char EQUALS the character zero THEN  
                RETURN zero  
            ELSE  
                RETURN one  
            END IF  
        END FUNCTION

        FUNCTION ways_to_decode_pair(char1, char2)  
            IF char1 EQUALS the character star AND char2 EQUALS the character star THEN  
                RETURN fifteen  
            ELSE IF char1 EQUALS the character star THEN  
                IF char2 LESS THAN OR EQUAL TO the character six THEN  
                    RETURN two  
                ELSE  
                    RETURN one  
                END IF  
            ELSE IF char2 EQUALS the character star THEN  
                IF char1 EQUALS the character one THEN  
                    RETURN nine  
                ELSE IF char1 EQUALS the character two THEN  
                    RETURN six  
                ELSE  
                    RETURN zero  
                END IF  
            ELSE  
                SET num TO the integer VALUE OF the concatenation of char1 PLUS char2  
                IF num GREATER THAN OR EQUAL TO ten AND num LESS THAN OR EQUAL TO twenty six THEN  
                    RETURN one  
                ELSE  
                    RETURN zero  
                END IF  
            END IF  
        END FUNCTION

        FOR i FROM one TO the LENGTH OF s  
            SET element at position i of dp TO the element at position i of dp PLUS the element at position i MINUS one of dp MULTIPLIED BY ways_to_decode_single(element at position i MINUS one of s)  
            SET element at position i of dp TO element at position i of dp MODULO MOD
            IF i GREATER THAN one THEN  
                SET element at position i of dp TO element at position i of dp PLUS element at position i MINUS two of dp MULTIPLIED BY ways_to_decode_pair(element at position i MINUS two of s, element at position i MINUS one of s)  
                SET element at position i of dp TO element at position i of dp MODULO MOD  
            END IF  
        END FOR  

        RETURN the element at the last position of dp  
    END FUNCTION  
END CLASS