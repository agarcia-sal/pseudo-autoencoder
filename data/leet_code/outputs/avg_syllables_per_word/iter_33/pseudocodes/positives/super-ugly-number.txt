CLASS Solution  
    FUNCTION nthSuperUglyNumber(n, primes)  
        SET ugly_numbers TO list containing one  
        SET heap TO empty list  
        FOR index FROM zero TO the LENGTH OF primes MINUS one  
            APPEND tuple of element at position index of primes AND index TO heap  
        END FOR  
        APPLY heapify operation TO heap  
        SET indices TO list of zeros with the LENGTH OF primes  
        WHILE the LENGTH OF ugly_numbers LESS THAN n holds  
            EXTRACT the tuple with the smallest first element FROM heap AND STORE first element IN next_ugly AND second element IN prime_index  
            IF next_ugly NOT EQUALS element at the last position of ugly_numbers THEN  
                APPEND next_ugly TO ugly_numbers  
            END IF  
            INCREMENT element at position prime_index of indices BY one  
            SET next_multiple TO element at position prime_index of primes MULTIPLIED BY element at position element at position prime_index of indices of ugly_numbers  
            PUSH tuple of next_multiple AND prime_index INTO heap  
        END WHILE  
        RETURN element at the last position of ugly_numbers  
    END FUNCTION  
END CLASS