CLASS Solution  
    FUNCTION maxProfit(prices)  
        IF prices EQUALS empty collection THEN  
            RETURN zero  
        END IF  
        
        SET n TO the LENGTH OF prices  
        IF n EQUALS one THEN  
            RETURN zero  
        END IF  
        
        SET hold TO negative infinity  
        SET sold TO zero  
        SET rest TO zero  
        
        FOR each price IN prices  
            SET new_hold TO the GREATER VALUE BETWEEN hold AND rest MINUS price  
            SET new_sold TO hold PLUS price  
            SET new_rest TO the GREATER VALUE BETWEEN rest AND sold  
            
            SET hold TO new_hold  
            SET sold TO new_sold  
            SET rest TO new_rest  
        END FOR  
        
        RETURN the GREATER VALUE BETWEEN sold AND rest  
    END FUNCTION  
END CLASS