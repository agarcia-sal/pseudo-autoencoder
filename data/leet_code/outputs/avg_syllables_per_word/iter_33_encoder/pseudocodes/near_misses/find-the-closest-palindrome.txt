CLASS Solution  
    FUNCTION nearestPalindromic WITH PARAMETER n  
        SET length TO the LENGTH OF n  
        IF length EQUALS one  
            SET numeric_value TO the numeric conversion of n  
            SET result_numeric TO numeric_value MINUS one  
            RETURN the string conversion of result_numeric  
        END IF  
        
        SET candidates TO an empty set  
        
        SET candidate_one TO ten RAISED TO THE POWER OF length PLUS one  
        SET candidate_two TO ten RAISED TO THE POWER OF length MINUS one MINUS one  
        ADD candidate_one TO candidates  
        ADD candidate_two TO candidates  
        
        SET prefix TO the numeric conversion of the substring of n FROM position one TO the result of length PLUS one DIVIDED BY two  
        FOR i FROM negative one TO two MINUS one  
            SET new_prefix_numeric TO prefix PLUS i  
            SET new_prefix TO the string conversion of new_prefix_numeric  
            IF length MODULO two EQUALS zero  
                SET reversed_part TO the reverse of new_prefix  
                SET candidate_string TO the concatenation of new_prefix PLUS reversed_part  
            ELSE  
                SET substring_for_reverse TO the substring of new_prefix FROM position one TO the position before the last character in reverse order  
                SET candidate_string TO the concatenation of new_prefix PLUS substring_for_reverse  
            END IF  
            SET candidate_numeric TO the numeric conversion of candidate_string  
            ADD candidate_numeric TO candidates  
        END FOR  
        
        SET original_number TO the numeric conversion of n  
        REMOVE original_number FROM candidates IF it EXISTS  
        
        SET closest TO the element IN candidates THAT HAS the MINIMUM value ACCORDING TO the tuple of the absolute value of element MINUS original_number AND the element ITSELF  
        
        RETURN the string conversion of closest  
    END FUNCTION  
END CLASS