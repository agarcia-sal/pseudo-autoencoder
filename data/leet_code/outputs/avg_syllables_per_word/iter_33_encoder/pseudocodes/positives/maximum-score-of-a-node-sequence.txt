CLASS Solution  
    FUNCTION maximumScore(scores, edges)  
        SET graph TO an empty mapping with default empty list  
        FOR each pair u and v IN edges  
            APPEND pair of element at position v of scores AND v TO the list at key u in graph  
            APPEND pair of element at position u of scores AND u TO the list at key v in graph  
        END FOR  
        FOR each node IN the keys of graph  
            ASSIGN to graph at key node the three elements with the largest first element from graph at key node  
        END FOR  
        SET max_score TO negative one  
        FOR each pair u and v IN edges  
            FOR each pair score1 and x IN graph at key u  
                FOR each pair score2 and y IN graph at key v  
                    IF the size of the set of elements x y u v EQUALS four  
                        SET max_score TO the larger of max_score AND score1 PLUS score2 PLUS element at position u of scores PLUS element at position v of scores  
                    END IF  
                END FOR  
            END FOR  
        END FOR  
        RETURN max_score  
    END FUNCTION  
END CLASS