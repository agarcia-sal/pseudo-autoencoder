CLASS Solution  
    FUNCTION minJumps(arr)  
        SET n TO the LENGTH OF arr  
        IF n EQUALS one  
            RETURN zero  
        END IF  
          
        SET value_indices TO an empty mapping from values to list of positions  
        FOR each position i AND element value IN arr  
            APPEND position i TO the list corresponding to value in value_indices  
        END FOR  
          
        SET queue TO an empty double ended queue  
        APPEND a pair consisting of zero and zero TO queue  
        SET visited TO a set containing zero  
          
        WHILE queue is not empty  
            REMOVE the first element from queue and ASSIGN the first part TO current_index and the second part TO steps  
              
            IF current_index EQUALS n MINUS one  
                RETURN steps  
            END IF  
              
            SET next_indices TO an empty list  
            APPEND the value current_index PLUS one TO next_indices  
            APPEND the value current_index MINUS one TO next_indices  
            APPEND the entire list mapped by the value at position current_index in arr FROM value_indices TO next_indices  
              
            FOR each next_index IN next_indices  
                IF next_index IS GREATER THAN OR EQUAL TO zero AND next_index IS LESS THAN n AND next_index IS NOT IN visited  
                    ADD next_index TO visited  
                    APPEND a pair consisting of next_index and steps PLUS one TO queue  
                END IF  
            END FOR  
              
            SET the list mapped by the value at position current_index in arr FROM value_indices TO an empty list  
        END WHILE  
          
        RETURN negative one  
    END FUNCTION  
END CLASS