CLASS Solution  
    FUNCTION outerTrees(trees)  
        FUNCTION cross(i, j, k)  
            SET a TO element at position i of trees  
            SET b TO element at position j of trees  
            SET c TO element at position k of trees  
            RETURN (the first element of b MINUS the first element of a) MULTIPLIED BY (the second element of c MINUS the second element of b) MINUS (the second element of b MINUS the second element of a) MULTIPLIED BY (the first element of c MINUS the first element of b)  
        END FUNCTION  
  
        SET n TO the LENGTH OF trees  
        IF n LESS THAN four THEN  
            RETURN trees  
        END IF  
  
        SORT trees in ascending order  
        SET vis TO a list of boolean False of length n  
        SET stk TO a list containing zero  
        FOR i FROM one TO n MINUS one  
            WHILE the LENGTH OF stk GREATER THAN one AND cross(element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, i) LESS THAN zero HOLDS  
                SET the element at position LENGTH OF stk MINUS one TO be removed from stk and assign to discarded  
                SET the element at position discarded of vis TO False  
            END WHILE  
            SET the element at position i of vis TO True  
            APPEND i TO stk  
        END FOR  
  
        SET m TO the LENGTH OF stk  
        FOR i FROM n MINUS two DOWN TO zero STEP minus one  
            IF the element at position i of vis EQUALS True THEN  
                CONTINUE to next iteration  
            END IF  
            WHILE the LENGTH OF stk GREATER THAN m AND cross(element at position LENGTH OF stk MINUS two of stk, element at position LENGTH OF stk MINUS one of stk, i) LESS THAN zero HOLDS  
                REMOVE the element at position LENGTH OF stk MINUS one FROM stk  
            END WHILE  
            APPEND i TO stk  
        END FOR  
  
        REMOVE the element at position LENGTH OF stk MINUS one FROM stk  
        SET result TO empty list  
        FOR each index i IN stk  
            APPEND element at position i of trees TO result  
        END FOR  
        RETURN result  
    END FUNCTION  
END CLASS