CLASS Solution  
    FUNCTION maxProfit with parameter prices  
        IF the LENGTH OF prices EQUALS zero THEN  
            RETURN zero  
        END IF  
        SET minimum price one TO positive infinity  
        SET minimum price two TO positive infinity  
        SET maximum profit one TO zero  
        SET maximum profit two TO zero  
        FOR each price IN prices  
            IF price LESS THAN minimum price one THEN  
                SET minimum price one TO price  
            END IF  
            IF price MINUS minimum price one GREATER THAN maximum profit one THEN  
                SET maximum profit one TO price MINUS minimum price one  
            END IF  
            IF price MINUS maximum profit one LESS THAN minimum price two THEN  
                SET minimum price two TO price MINUS maximum profit one  
            END IF  
            IF price MINUS minimum price two GREATER THAN maximum profit two THEN  
                SET maximum profit two TO price MINUS minimum price two  
            END IF  
        END FOR  
        RETURN maximum profit two  
    END FUNCTION  
END CLASS