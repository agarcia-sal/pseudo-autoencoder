CLASS Solution  
    FUNCTION solveNQueens WITH PARAMETER n  
        FUNCTION is_not_under_attack WITH PARAMETERS row col  
            RETURN the negation of the expression that the element at position col of the list cols PLUS the element at position that is the difference of row MINUS col of the list hills PLUS the element at position that is the sum of row PLUS col of the list dales IS NOT EQUALS zero  
        END FUNCTION  
        
        FUNCTION place_queen WITH PARAMETERS row col  
            ADD the tuple consisting of row and col TO the set queens  
            SET the element at position col of the list cols TO one  
            SET the element at position that is the difference of row MINUS col of the list hills TO one  
            SET the element at position that is the sum of row PLUS col of the list dales TO one  
        END FUNCTION  
        
        FUNCTION remove_queen WITH PARAMETERS row col  
            REMOVE the tuple consisting of row and col FROM the set queens  
            SET the element at position col of the list cols TO zero  
            SET the element at position that is the difference of row MINUS col of the list hills TO zero  
            SET the element at position that is the sum of row PLUS col of the list dales TO zero  
        END FUNCTION  
        
        FUNCTION add_solution  
            SET solution TO an empty list  
            FOR each tuple of an unused variable and col IN the collection of elements of the set queens sorted by their first component  
                SET row_string TO the concatenation of the string consisting of a single dot repeated col times PLUS the string consisting of the letter Q PLUS the string consisting of a single dot repeated the difference of n MINUS col MINUS one times  
                APPEND row_string TO the list solution  
            END FOR  
            APPEND the list solution TO the list output  
        END FUNCTION  
        
        FUNCTION backtrack WITH OPTIONAL PARAMETER row DEFAULTING TO zero  
            FOR col FROM zero TO the difference of n MINUS one  
                IF is_not_under_attack WITH ARGUMENTS row col RETURNS true  
                    CALL place_queen WITH ARGUMENTS row col  
                    IF the sum of row PLUS one EQUALS n  
                        CALL add_solution  
                    ELSE  
                        CALL backtrack WITH ARGUMENT the sum of row PLUS one  
                    END IF  
                    CALL remove_queen WITH ARGUMENTS row col  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET cols TO a list of length n with all elements zero  
        SET hills TO a list of length that is the difference of two times n MINUS one with all elements zero  
        SET dales TO a list of length that is the difference of two times n MINUS one with all elements zero  
        SET queens TO an empty set  
        SET output TO an empty list  
        CALL backtrack WITH NO ARGUMENTS  
        RETURN output  
    END FUNCTION  
END CLASS