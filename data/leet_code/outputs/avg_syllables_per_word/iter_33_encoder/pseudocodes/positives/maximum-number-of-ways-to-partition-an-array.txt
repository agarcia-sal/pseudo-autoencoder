CLASS Solution  
    FUNCTION waysToPartition(nums parameter the list of integers k parameter the integer) RETURNS integer  
        SET total_sum TO the sum of all elements in nums  
        SET n TO the length of nums  
        CREATE an empty dictionary left_diff that returns zero for missing keys  
        CREATE an empty dictionary right_diff that returns zero for missing keys  
        SET current_sum TO zero  
        FOR each index i FROM zero TO the number n MINUS one MINUS one  
            INCREMENT current_sum BY the element at position i of nums  
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            INCREMENT the value at key diff of right_diff BY one  
        END FOR  
        SET max_ways TO the value at key zero of right_diff  
        SET current_sum TO zero  
        FOR each index i FROM zero TO the number n MINUS one  
            INCREMENT current_sum BY the element at position i of nums  
            SET diff_change TO k MINUS the element at position i of nums  
            SET new_ways TO the sum of the value at key the negative of diff_change of left_diff AND the value at key diff_change of right_diff  
            IF max_ways LESS THAN new_ways THEN  
                SET max_ways TO new_ways  
            END IF  
            SET diff TO total_sum MINUS two MULTIPLIED BY current_sum  
            DECREMENT the value at key diff of right_diff BY one  
            INCREMENT the value at key diff of left_diff BY one  
        END FOR  
        RETURN max_ways  
    END FUNCTION  
END CLASS