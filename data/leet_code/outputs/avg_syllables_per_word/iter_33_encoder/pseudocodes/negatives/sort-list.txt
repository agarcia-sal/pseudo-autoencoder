CLASS ListNode  
    FUNCTION __init__(self, val EQUALS zero, next EQUALS None)  
        SET self.val TO val  
        SET self.next TO next  
    END FUNCTION  
END CLASS  

FUNCTION list_node(values)  
    IF the collection values IS empty  
        RETURN None  
    END IF  
    SET head TO a new ListNode object initialized with the element at position one of values  
    SET p TO head  
    FOR each val IN the collection values starting from position two to the end  
        SET node TO a new ListNode object initialized with val  
        SET the next element of the object referenced by p TO node  
        ASSIGN p TO node  
    END FOR  
    RETURN head  
END FUNCTION  

FUNCTION is_same_list(p1, p2)  
    IF the object referenced by p1 IS None AND the object referenced by p2 IS None  
        RETURN True  
    END IF  
    IF the object referenced by p1 IS None OR the object referenced by p2 IS None  
        RETURN False  
    END IF  
    RETURN whether the value of the object referenced by p1 EQUALS the value of the object referenced by p2 AND the result of calling is_same_list with the next element of p1 AND the next element of p2  
END FUNCTION  

CLASS Solution  
    FUNCTION sortList(self, head)  
        IF the object referenced by head IS None OR the next element of the object referenced by head IS None  
            RETURN head  
        END IF  

        FUNCTION split(head)  
            SET slow TO head  
            SET fast TO the next element of the object referenced by head  
            WHILE the object referenced by fast IS NOT None AND the next element of the object referenced by fast IS NOT None  
                SET slow TO the next element of the object referenced by slow  
                SET fast TO the next element of the next element of the object referenced by fast  
            END WHILE  
            SET mid TO the next element of the object referenced by slow  
            SET the next element of the object referenced by slow TO None  
            RETURN head AND mid  
        END FUNCTION  

        FUNCTION merge(l1, l2)  
            SET dummy TO a new ListNode object with default initialization  
            SET current TO dummy  
            WHILE the object referenced by l1 IS NOT None AND the object referenced by l2 IS NOT None  
                IF the value of the object referenced by l1 IS LESS THAN the value of the object referenced by l2  
                    SET the next element of the object referenced by current TO the object referenced by l1  
                    SET l1 TO the next element of the object referenced by l1  
                ELSE  
                    SET the next element of the object referenced by current TO the object referenced by l2  
                    SET l2 TO the next element of the object referenced by l2  
                END IF  
                SET current TO the next element of the object referenced by current  
            END WHILE  
            SET the next element of the object referenced by current TO the object referenced by l1 OR the object referenced by l2 whichever IS NOT None  
            RETURN the next element of the object referenced by dummy  
        END FUNCTION  

        SET left AND right TO the result of calling split with head  
        SET left TO the result of calling sortList on self with left  
        SET right TO the result of calling sortList on self with right  

        RETURN the result of calling merge with left AND right  
    END FUNCTION  
END CLASS