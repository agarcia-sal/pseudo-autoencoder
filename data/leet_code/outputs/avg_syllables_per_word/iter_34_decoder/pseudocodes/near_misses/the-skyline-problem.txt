CLASS Solution  
    FUNCTION getSkyline(buildings)  
        SET events TO empty list  
        FOR each building IN buildings  
            LET left BE element at position one of building  
            LET right BE element at position two of building  
            LET height BE element at position three of building  
            APPEND a tuple of left AND the negative value of height AND right TO events  
            APPEND a tuple of right AND zero AND zero TO events  
        END FOR  
        SORT events IN ascending order by first element THEN second element THEN third element  
        SET result TO a list containing one element which is a list of zero AND zero  
        SET max_heap TO a list containing one element which is a tuple of zero AND positive infinity  
        FOR each event IN events  
            LET x BE the first element of event  
            LET negH BE the second element of event  
            LET r BE the third element of event  
            WHILE the second element of the first tuple in max_heap IS LESS THAN OR EQUAL TO x  
                REMOVE the first element from max_heap using the heap pop operation  
            END WHILE  
            IF negH IS NOT EQUALS TO zero  
                ADD a tuple of negH AND r to max_heap using the heap push operation  
            END IF  
            IF the second element of the last element in result IS NOT EQUALS TO the negative of the first element of the first tuple in max_heap  
                APPEND a list containing x AND the negative of the first element of the first tuple in max_heap TO result  
            END IF  
        END FOR  
        IF the first element of result IS a list of zero AND zero  
            REMOVE the first element from result  
        END IF  
        RETURN result  
    END FUNCTION  
END CLASS