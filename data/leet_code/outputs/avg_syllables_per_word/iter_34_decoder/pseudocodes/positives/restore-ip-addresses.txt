CLASS Solution  
    FUNCTION restoreIpAddresses(s)  
        FUNCTION is_valid(segment)  
            RETURN the LENGTH OF segment EQUALS one OR (the element at position one of segment NOT EQUALS zero AND the number represented by segment LESS THAN OR EQUAL TO two hundred and fifty five)  
        END FUNCTION  
        
        FUNCTION backtrack(start, path)  
            IF the LENGTH OF path EQUALS four THEN  
                IF start EQUALS the LENGTH OF s THEN  
                    APPEND the concatenation of elements in path separated by the word dot TO result  
                END IF  
                RETURN  
            END IF  
            FOR length FROM one TO three  
                IF start PLUS length LESS THAN OR EQUAL TO the LENGTH OF s THEN  
                    SET segment TO the substring of s from position start TO the position start PLUS length MINUS one  
                    IF is_valid(segment) THEN  
                        CALL backtrack WITH start PLUS length AND path PLUS list containing segment  
                    END IF  
                END IF  
            END FOR  
        END FUNCTION  
        
        SET result TO empty list  
        CALL backtrack WITH zero AND empty list  
        RETURN result  
    END FUNCTION  
END CLASS