CLASS Solution  
    FUNCTION minCost WITH parameters houses cost m n target  
        FUNCTION dp WITH parameters i prev_color groups  
            IF i EQUALS m  
                IF groups EQUALS target  
                    RETURN zero  
                ELSE  
                    RETURN infinity  
                END IF  
            END IF  
              
            IF element at position i of houses NOT EQUALS zero  
                SET new_groups TO groups PLUS one IF element at position i of houses NOT EQUALS prev_color ELSE zero  
                RETURN result of dp WITH i PLUS one prev_color replaced by element at position i of houses and new_groups  
            END IF  
              
            SET min_cost TO infinity  
            FOR color FROM one TO n  
                SET new_groups TO groups PLUS one IF color NOT EQUALS prev_color ELSE zero  
                SET current_cost TO element at position i at position color MINUS one of cost PLUS result of dp WITH i PLUS one color and new_groups  
                IF current_cost LESS THAN min_cost  
                    SET min_cost TO current_cost  
                END IF  
            END FOR  
            RETURN min_cost  
        END FUNCTION  
          
        SET result TO result of dp WITH zero zero zero  
        IF result NOT EQUALS infinity  
            RETURN result  
        ELSE  
            RETURN negative one  
        END IF  
    END FUNCTION  
END CLASS