CLASS Solution  
    FUNCTION isEscapePossible(blocked, source, target)  
        IF blocked EQUALS empty THEN  
            RETURN True  
        END IF  

        SET blocked_set TO set of tuples converted from each block in blocked  
        SET n TO the LENGTH OF blocked  
        SET max_steps TO n MULTIPLIED BY n MINUS one DIVIDED BY two  

        FUNCTION bfs(start, end)  
            SET queue TO a double ended queue initialized with the tuple converted from start  
            SET visited TO a set initialized with the elements of queue  

            WHILE the LENGTH OF queue GREATER THAN zero  
                SET x, y TO the elements taken from the left end of queue  

                IF the LENGTH OF visited GREATER THAN max_steps OR x EQUALS the element at position zero of end AND y EQUALS the element at position one of end THEN  
                    RETURN True  
                END IF  

                FOR each pair dx, dy IN the list containing the pairs zero and one zero and zero and minus one and one and zero and minus one and zero  
                    SET nx TO x PLUS dx  
                    SET ny TO y PLUS dy  

                    IF nx GREATER THAN OR EQUAL TO zero AND nx LESS THAN ten TO THE POWER OF six AND ny GREATER THAN OR EQUAL TO zero AND ny LESS THAN ten TO THE POWER OF six AND the tuple nx and ny NOT IN blocked_set AND the tuple nx and ny NOT IN visited THEN  
                        ADD the tuple nx and ny TO visited  
                        APPEND the tuple nx and ny TO queue  
                    END IF  
                END FOR  
            END WHILE  

            RETURN False  
        END FUNCTION  

        RETURN the result of bfs with arguments source and target AND the result of bfs with arguments target and source  
    END FUNCTION  
END CLASS