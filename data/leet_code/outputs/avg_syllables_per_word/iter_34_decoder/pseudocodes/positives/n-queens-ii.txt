CLASS Solution  
    FUNCTION totalNQueens WITH PARAMETER n  
        FUNCTION is_not_under_attack WITH PARAMETERS row col  
            RETURN NOT the sum of element at position col of cols PLUS element at position computed by row MINUS col of hills PLUS element at position computed by row PLUS col of dales EQUALS zero  
        END FUNCTION  
        FUNCTION place_queen WITH PARAMETERS row col  
            SET element at position col of cols TO one  
            SET element at position computed by row MINUS col of hills TO one  
            SET element at position computed by row PLUS col of dales TO one  
        END FUNCTION  
        FUNCTION remove_queen WITH PARAMETERS row col  
            SET element at position col of cols TO zero  
            SET element at position computed by row MINUS col of hills TO zero  
            SET element at position computed by row PLUS col of dales TO zero  
        END FUNCTION  
        FUNCTION backtrack WITH PARAMETERS row initialized to zero count initialized to zero  
            FOR col FROM zero TO n MINUS one  
                IF is_not_under_attack WITH ARGUMENTS row col EQUALS true  
                    CALL place_queen WITH ARGUMENTS row col  
                    IF the sum of row PLUS one EQUALS n  
                        INCREMENT count BY one  
                    ELSE  
                        SET count TO the result of calling backtrack WITH ARGUMENTS the sum of row PLUS one count  
                    END IF  
                    CALL remove_queen WITH ARGUMENTS row col  
                END IF  
            END FOR  
            RETURN count  
        END FUNCTION  
        SET cols TO a list containing zero repeated n times  
        SET hills TO a list containing zero repeated the result of two MULTIPLIED BY n MINUS one times  
        SET dales TO a list containing zero repeated the result of two MULTIPLIED BY n MINUS one times  
        RETURN the result of calling backtrack with no arguments  
    END FUNCTION  
END CLASS